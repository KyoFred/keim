{"version":3,"file":"main.js","mappings":"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;;;;;;;ACpCnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/eo-client/about-state/about-state.component.html","./src/app/eo-client/about-state/about-state.component.ts","./src/app/eo-client/dashboard/dashboard.component.ts","./src/app/eo-client/dashboard/dashboard.component.html","./src/app/eo-client/dashboard/widgets/iframe-widget/iframe-setup/iframe-setup.component.ts","./src/app/eo-client/dashboard/widgets/iframe-widget/iframe-setup/iframe-setup.component.html","./src/app/eo-client/dashboard/widgets/iframe-widget/iframe-widget.component.html","./src/app/eo-client/dashboard/widgets/iframe-widget/iframe-widget.component.ts","./src/app/eo-client/dashboard/widgets/info-inbox-widget/info-inbox-setup/info-inbox-setup.component.ts","./src/app/eo-client/dashboard/widgets/info-inbox-widget/info-inbox-setup/info-inbox-setup.component.html","./src/app/eo-client/dashboard/widgets/info-inbox-widget/info-inbox-widget.component.ts","./src/app/eo-client/dashboard/widgets/info-inbox-widget/info-inbox-widget.component.html","./src/app/eo-client/dashboard/widgets/info-intray-widget/info-intray-setup/info-intray-setup.component.ts","./src/app/eo-client/dashboard/widgets/info-intray-widget/info-intray-setup/info-intray-setup.component.html","./src/app/eo-client/dashboard/widgets/info-intray-widget/info-intray-widget.component.ts","./src/app/eo-client/dashboard/widgets/info-intray-widget/info-intray-widget.component.html","./src/app/eo-client/dashboard/widgets/last-edited-widget/last-edited-and-created.component.ts","./src/app/eo-client/dashboard/widgets/last-edited-widget/last-edited-and-created.component.html","./src/app/eo-client/dashboard/widgets/search-widget/search-widget.component.ts","./src/app/eo-client/dashboard/widgets/search-widget/search-widget.component.html","./src/app/eo-client/eo-client-routing.module.ts","./src/app/eo-client/eo-client.module.ts","./src/app/eo-client/favorite-state/favorite-state.component.ts","./src/app/eo-client/favorite-state/favorite-state.component.html","./src/app/eo-client/inbox-state/inbox-state-routing.module.ts","./src/app/eo-client/inbox-state/inbox-state.module.ts","./src/app/eo-client/inbox-state/inbox-state/inbox-state.component.ts","./src/app/eo-client/inbox-state/inbox-state/inbox-state.component.html","./src/app/eo-client/inbox-state/inbox-state/inbox.types.enum.ts","./src/app/eo-client/index.ts","./src/app/eo-client/login/login.component.ts","./src/app/eo-client/login/login.component.html","./src/app/eo-client/notifications-state/notifications-state.component.ts","./src/app/eo-client/notifications-state/notifications-state.component.html","./src/app/eo-client/object-state/object-state-routing.module.ts","./src/app/eo-client/object-state/object-state-service/object-state.service.ts","./src/app/eo-client/object-state/object-state.module.ts","./src/app/eo-client/object-state/object-state/object-state.component.ts","./src/app/eo-client/object-state/object-state/object-state.component.html","./src/app/eo-client/prepare-state/prepare-state-routing.module.ts","./src/app/eo-client/prepare-state/prepare-state.module.ts","./src/app/eo-client/prepare-state/prepare-state/prepare-state.component.ts","./src/app/eo-client/prepare-state/prepare-state/prepare-state.component.html","./src/app/eo-client/process-state/process-state.component.ts","./src/app/eo-client/process-state/process-state.component.html","./src/app/eo-client/recyclebin-state/recyclebin-state.component.ts","./src/app/eo-client/recyclebin-state/recyclebin-state.component.html","./src/app/eo-client/result-state/result-state.component.ts","./src/app/eo-client/result-state/result-state.component.html","./src/app/eo-client/settings/agent-lock-settings.enum.ts","./src/app/eo-client/settings/settings.component.ts","./src/app/eo-client/settings/settings.component.html","./src/app/eo-client/stored-queries-state/stored-queries-state.component.ts","./src/app/eo-client/stored-queries-state/stored-queries-state.component.html","./src/app/eo-client/version-state/version-state.component.ts","./src/app/eo-client/version-state/version-state.component.html","./src/app/eo-framework-core/agent/agent.service.ts","./src/app/eo-framework-core/api/grid.service.ts","./src/app/eo-framework-core/api/plugins.service.ts","./src/app/eo-framework-core/empty-state/empty-state.service.ts","./src/app/eo-framework-core/eo-framework-core.module.ts","./src/app/eo-framework-core/error-handler/error-handler.service.ts","./src/app/eo-framework-core/error-handler/error-keys.ts","./src/app/eo-framework-core/index.ts","./src/app/eo-framework-core/layout/layout.service.ts","./src/app/eo-framework-core/location/location.service.ts","./src/app/eo-framework-core/pending-changes/pending-changes-guard.service.ts","./src/app/eo-framework-core/pending-changes/pending-changes.service.ts","./src/app/eo-framework-core/pipes/filesize.pipe.ts","./src/app/eo-framework-core/pipes/keys.pipe.ts","./src/app/eo-framework-core/pipes/locale-date.pipe.ts","./src/app/eo-framework-core/pipes/locale-number.pipe.ts","./src/app/eo-framework-core/pipes/pipes.module.ts","./src/app/eo-framework-core/pipes/safe-html.pipe.ts","./src/app/eo-framework-core/references/reference.service.ts","./src/app/eo-framework-core/route-guards/auth/auth-guard.service.ts","./src/app/eo-framework-core/route-guards/capabilities/capabilities-guard.service.ts","./src/app/eo-framework-core/search/app-search.service.ts","./src/app/eo-framework-core/selection/selection.service.ts","./src/app/eo-framework-core/title/page-title.service.ts","./src/app/eo-framework/accordion/accordion.module.ts","./src/app/eo-framework/accordion/index.ts","./src/app/eo-framework/accordion/simple-accordion/simple-accordion.component.ts","./src/app/eo-framework/accordion/simple-accordion/simple-accordion.component.html","./src/app/eo-framework/actions/action-menu/action-component-anchor/action-component-anchor.directive.ts","./src/app/eo-framework/actions/action-menu/action-menu.component.ts","./src/app/eo-framework/actions/action-menu/action-menu.component.html","./src/app/eo-framework/actions/action-service/action.service.ts","./src/app/eo-framework/actions/action-target.ts","./src/app/eo-framework/actions/action.module.ts","./src/app/eo-framework/actions/actions/add-resubmission-action/add-resubmission-action.ts","./src/app/eo-framework/actions/actions/add-resubmission-action/add-resubmission/add-resubmission.component.ts","./src/app/eo-framework/actions/actions/add-resubmission-action/add-resubmission/add-resubmission.component.html","./src/app/eo-framework/actions/actions/add-subscription-action/add-subscription-action.ts","./src/app/eo-framework/actions/actions/add-subscription-action/add-subscription/add-subscription.component.ts","./src/app/eo-framework/actions/actions/add-subscription-action/add-subscription/add-subscription.component.html","./src/app/eo-framework/actions/actions/cancel-signing-action/cancel-signing-action.ts","./src/app/eo-framework/actions/actions/cancel-signing-action/cancel-signing/cancel-signing.component.ts","./src/app/eo-framework/actions/actions/cancel-signing-action/cancel-signing/cancel-signing.component.html","./src/app/eo-framework/actions/actions/clipboard/clipboard-action.ts","./src/app/eo-framework/actions/actions/clipboard/clipboard-object-action/clipboard-object-action.component.ts","./src/app/eo-framework/actions/actions/clipboard/clipboard-object-action/clipboard-object-action.component.html","./src/app/eo-framework/actions/actions/copy-action/copy-action.ts","./src/app/eo-framework/actions/actions/custom-actions/custom-actions.component.ts","./src/app/eo-framework/actions/actions/cut-action/cut-action.ts","./src/app/eo-framework/actions/actions/delete-action/delete-action.ts","./src/app/eo-framework/actions/actions/delete-action/delete-prepared-action.ts","./src/app/eo-framework/actions/actions/delete-action/delete/delete.component.ts","./src/app/eo-framework/actions/actions/delete-action/delete/delete.component.html","./src/app/eo-framework/actions/actions/delete-content-action/delete-content-action.ts","./src/app/eo-framework/actions/actions/delete-content-action/delete-content/delete-content.component.ts","./src/app/eo-framework/actions/actions/delete-content-action/delete-content/delete-content.component.html","./src/app/eo-framework/actions/actions/download-action/download-action.ts","./src/app/eo-framework/actions/actions/download-action/download-object-action/download-object-action.component.ts","./src/app/eo-framework/actions/actions/download-action/download-object-action/download-object-action.component.html","./src/app/eo-framework/actions/actions/email/email-action.ts","./src/app/eo-framework/actions/actions/email/email/email.component.ts","./src/app/eo-framework/actions/actions/email/email/email.component.html","./src/app/eo-framework/actions/actions/favorite-action/favorite-action.ts","./src/app/eo-framework/actions/actions/finalize/definalize-action.ts","./src/app/eo-framework/actions/actions/finalize/finalize-action.ts","./src/app/eo-framework/actions/actions/finalize/finalize-object-action/finalize-object-action.component.ts","./src/app/eo-framework/actions/actions/finalize/finalize-object-action/finalize-object-action.component.html","./src/app/eo-framework/actions/actions/open-context-action/open-context-action.ts","./src/app/eo-framework/actions/actions/open-document-action/open-document-action.component.ts","./src/app/eo-framework/actions/actions/open-document-action/open-document-action.component.html","./src/app/eo-framework/actions/actions/open-document-action/open-document-action.ts","./src/app/eo-framework/actions/actions/open-versions-action/open-versions-action.ts","./src/app/eo-framework/actions/actions/remove-subscription-action/remove-subscription-action.ts","./src/app/eo-framework/actions/actions/restore-version-action/restore-version-action.ts","./src/app/eo-framework/actions/actions/share-object-action/share-object-action.ts","./src/app/eo-framework/actions/actions/share-object-action/share-object/share-object.component.ts","./src/app/eo-framework/actions/actions/share-object-action/share-object/share-object.component.html","./src/app/eo-framework/actions/actions/signature-action/signature-action.component.ts","./src/app/eo-framework/actions/actions/signature-action/signature/signature.component.ts","./src/app/eo-framework/actions/actions/signature-action/signature/signature.component.html","./src/app/eo-framework/actions/actions/unlock-action/unlock-action.ts","./src/app/eo-framework/actions/actions/update-resubmission-action/update-resubmission-action.ts","./src/app/eo-framework/actions/actions/workflow-action/simple-workflow-action.component.ts","./src/app/eo-framework/actions/actions/workflow-action/workflow-action.component.ts","./src/app/eo-framework/actions/actions/workflow-action/workflow/workflow.component.ts","./src/app/eo-framework/actions/actions/workflow-action/workflow/workflow.component.html","./src/app/eo-framework/actions/index.ts","./src/app/eo-framework/actions/selection-range.enum.ts","./src/app/eo-framework/animations/animations.ts","./src/app/eo-framework/app-shell/app-bar/app-add/app-add-dialog/app-add-dialog.component.ts","./src/app/eo-framework/app-shell/app-bar/app-add/app-add-dialog/app-add-dialog.component.html","./src/app/eo-framework/app-shell/app-bar/app-add/app-add.component.ts","./src/app/eo-framework/app-shell/app-bar/app-add/app-add.component.html","./src/app/eo-framework/app-shell/app-bar/app-bar.component.ts","./src/app/eo-framework/app-shell/app-bar/app-bar.component.html","./src/app/eo-framework/app-shell/app-bar/app-process/app-process.component.ts","./src/app/eo-framework/app-shell/app-bar/app-process/app-process.component.html","./src/app/eo-framework/app-shell/app-bar/app-search/app-search.component.ts","./src/app/eo-framework/app-shell/app-bar/app-search/app-search.component.html","./src/app/eo-framework/app-shell/app-bar/app-search/app-search.interface.ts","./src/app/eo-framework/app-shell/app-bar/context-search/context-search.component.ts","./src/app/eo-framework/app-shell/app-bar/context-search/context-search.component.html","./src/app/eo-framework/app-shell/app-bar/side-bar/side-bar.component.ts","./src/app/eo-framework/app-shell/app-bar/side-bar/side-bar.component.html","./src/app/eo-framework/app-shell/app-shell-routing.module.ts","./src/app/eo-framework/app-shell/app-shell.module.ts","./src/app/eo-framework/app-shell/index.ts","./src/app/eo-framework/cta/component/cta.component.ts","./src/app/eo-framework/cta/component/cta.component.html","./src/app/eo-framework/cta/cta.module.ts","./src/app/eo-framework/cta/index.ts","./src/app/eo-framework/eo-framework.module.ts","./src/app/eo-framework/error/error.module.ts","./src/app/eo-framework/error/error404/error404.component.ts","./src/app/eo-framework/error/error404/error404.component.html","./src/app/eo-framework/error/index.ts","./src/app/eo-framework/error/not-found/not-found.component.ts","./src/app/eo-framework/form-elements/checkbox/checkbox.component.ts","./src/app/eo-framework/form-elements/checkbox/checkbox.component.html","./src/app/eo-framework/form-elements/codesystem/codesystem.component.ts","./src/app/eo-framework/form-elements/codesystem/codesystem.component.html","./src/app/eo-framework/form-elements/date/date.component.ts","./src/app/eo-framework/form-elements/date/date.component.html","./src/app/eo-framework/form-elements/date/year-range/year-range.directive.ts","./src/app/eo-framework/form-elements/datetime-range/datetime-range.component.ts","./src/app/eo-framework/form-elements/datetime-range/datetime-range.component.html","./src/app/eo-framework/form-elements/dynamic-list/dynamic-list.component.ts","./src/app/eo-framework/form-elements/dynamic-list/dynamic-list.component.html","./src/app/eo-framework/form-elements/form-elements.module.ts","./src/app/eo-framework/form-elements/form-input/form-input.component.ts","./src/app/eo-framework/form-elements/form-input/form-input.component.html","./src/app/eo-framework/form-elements/form-input/input-focus/input-focus.directive.ts","./src/app/eo-framework/form-elements/id-reference/animation/reference-finder.animation.ts","./src/app/eo-framework/form-elements/id-reference/id-reference.component.ts","./src/app/eo-framework/form-elements/id-reference/id-reference.component.html","./src/app/eo-framework/form-elements/id-reference/reference-finder-entry/reference-finder-entry.component.ts","./src/app/eo-framework/form-elements/id-reference/reference-finder-entry/reference-finder-entry.component.html","./src/app/eo-framework/form-elements/id-reference/reference-finder/reference-finder.component.ts","./src/app/eo-framework/form-elements/id-reference/reference-finder/reference-finder.component.html","./src/app/eo-framework/form-elements/id-reference/service/reference-finder.service.ts","./src/app/eo-framework/form-elements/index.ts","./src/app/eo-framework/form-elements/number-range/number-range.component.ts","./src/app/eo-framework/form-elements/number-range/number-range.component.html","./src/app/eo-framework/form-elements/number/number.component.ts","./src/app/eo-framework/form-elements/number/number.component.html","./src/app/eo-framework/form-elements/organization/organization.component.ts","./src/app/eo-framework/form-elements/organization/organization.component.html","./src/app/eo-framework/form-elements/password/password.component.html","./src/app/eo-framework/form-elements/password/password.component.ts","./src/app/eo-framework/form-elements/reference/reference.component.ts","./src/app/eo-framework/form-elements/reference/reference.component.html","./src/app/eo-framework/form-elements/string/string.component.ts","./src/app/eo-framework/form-elements/string/string.component.html","./src/app/eo-framework/frame/frame.component.ts","./src/app/eo-framework/frame/frame.component.html","./src/app/eo-framework/grid/column-configurator/column-configurator.component.ts","./src/app/eo-framework/grid/column-configurator/column-configurator.component.html","./src/app/eo-framework/grid/extensions/custom-sort/custom-sort.component.ts","./src/app/eo-framework/grid/extensions/custom-sort/custom-sort.component.html","./src/app/eo-framework/grid/extensions/empty/empty.component.ts","./src/app/eo-framework/grid/extensions/empty/empty.component.html","./src/app/eo-framework/grid/extensions/filter/abstract-filter.component.ts","./src/app/eo-framework/grid/extensions/filter/custom/custom-filter.component.ts","./src/app/eo-framework/grid/extensions/filter/custom/custom-filter.component.html","./src/app/eo-framework/grid/extensions/filter/setFilters/set-filter.component.ts","./src/app/eo-framework/grid/extensions/filter/setFilters/set-filter.component.html","./src/app/eo-framework/grid/extensions/filter/text/text-filter.component.ts","./src/app/eo-framework/grid/extensions/filter/text/text-filter.component.html","./src/app/eo-framework/grid/extensions/pagination/pagination.component.ts","./src/app/eo-framework/grid/extensions/pagination/pagination.component.html","./src/app/eo-framework/grid/extensions/quick-filter/quick-filter.component.ts","./src/app/eo-framework/grid/extensions/reset-filter/reset-filter.component.html","./src/app/eo-framework/grid/extensions/reset-filter/reset-filter.component.ts","./src/app/eo-framework/grid/extensions/services/list-settings.service.ts","./src/app/eo-framework/grid/extensions/total-count/total-count.component.ts","./src/app/eo-framework/grid/extensions/total-count/total-count.component.html","./src/app/eo-framework/grid/filters/codesystem-filter.component.ts","./src/app/eo-framework/grid/filters/datetime-filter.component.ts","./src/app/eo-framework/grid/filters/dynamic-list-filter.component.ts","./src/app/eo-framework/grid/filters/filesize-filter.component.ts","./src/app/eo-framework/grid/filters/list-filter.component.ts","./src/app/eo-framework/grid/filters/organization-filter.component.ts","./src/app/eo-framework/grid/grid-filter.model.ts","./src/app/eo-framework/grid/grid.component.ts","./src/app/eo-framework/grid/grid.component.html","./src/app/eo-framework/grid/grid.module.ts","./src/app/eo-framework/grid/index.ts","./src/app/eo-framework/grid/row-grouping/group-stage.ts","./src/app/eo-framework/grid/row-grouping/row-grouping.module.ts","./src/app/eo-framework/inbox-details/duetimeInfo/duetimeInfo.component.html","./src/app/eo-framework/inbox-details/duetimeInfo/duetimeInfo.component.ts","./src/app/eo-framework/inbox-details/inbox-details.component.ts","./src/app/eo-framework/inbox-details/inbox-details.component.html","./src/app/eo-framework/index.ts","./src/app/eo-framework/list-container/index.ts","./src/app/eo-framework/list-container/list-container.component.ts","./src/app/eo-framework/list-container/list-container.component.html","./src/app/eo-framework/list-container/list-container.module.ts","./src/app/eo-framework/media/content-preview.service.ts","./src/app/eo-framework/media/index.ts","./src/app/eo-framework/media/media.component.ts","./src/app/eo-framework/media/media.component.html","./src/app/eo-framework/media/media.module.ts","./src/app/eo-framework/object-details/edit-icon/edit-icon.component.ts","./src/app/eo-framework/object-details/edit-icon/edit-icon.component.html","./src/app/eo-framework/object-details/favorite-icon/favorite-icon.component.ts","./src/app/eo-framework/object-details/favorite-icon/favorite-icon.component.html","./src/app/eo-framework/object-details/index.ts","./src/app/eo-framework/object-details/object-details.component.ts","./src/app/eo-framework/object-details/object-details.component.html","./src/app/eo-framework/object-details/object-details.module.ts","./src/app/eo-framework/object-details/object-history/history-filter/history-filter-pipe/history-filter.pipe.ts","./src/app/eo-framework/object-details/object-history/history-filter/history-filter.component.ts","./src/app/eo-framework/object-details/object-history/history-filter/history-filter.component.html","./src/app/eo-framework/object-details/object-history/object-history.component.ts","./src/app/eo-framework/object-details/object-history/object-history.component.html","./src/app/eo-framework/object-details/object-links/object-links.component.ts","./src/app/eo-framework/object-details/object-links/object-links.component.html","./src/app/eo-framework/object-form/index.ts","./src/app/eo-framework/object-form/object-form-edit/object-form-edit.component.ts","./src/app/eo-framework/object-form/object-form-edit/object-form-edit.component.html","./src/app/eo-framework/object-form/object-form-helper.service.ts","./src/app/eo-framework/object-form/object-form.module.ts","./src/app/eo-framework/object-form/object-form/form-element-table/form-element-table.component.ts","./src/app/eo-framework/object-form/object-form/form-element-table/form-element-table.component.html","./src/app/eo-framework/object-form/object-form/form-element-table/row-edit/row-edit.component.ts","./src/app/eo-framework/object-form/object-form/form-element-table/row-edit/row-edit.component.html","./src/app/eo-framework/object-form/object-form/form-element/form-element-template.directive.ts","./src/app/eo-framework/object-form/object-form/form-element/form-element.component.ts","./src/app/eo-framework/object-form/object-form/form-element/form-element.component.html","./src/app/eo-framework/object-form/object-form/form-validation/form-validation.ts","./src/app/eo-framework/object-form/object-form/object-form-control-wrapper.ts","./src/app/eo-framework/object-form/object-form/object-form-control.ts","./src/app/eo-framework/object-form/object-form/object-form-group.model.ts","./src/app/eo-framework/object-form/object-form/object-form-group/object-form-group.component.html","./src/app/eo-framework/object-form/object-form/object-form-group/object-form-group.component.ts","./src/app/eo-framework/object-form/object-form/object-form-script/object-form-script.service.ts","./src/app/eo-framework/object-form/object-form/object-form-script/object-form-scripting-scope.ts","./src/app/eo-framework/object-form/object-form/object-form.component.ts","./src/app/eo-framework/object-form/object-form/object-form.component.html","./src/app/eo-framework/object-state-details/object-state-details.component.ts","./src/app/eo-framework/object-state-details/object-state-details.component.html","./src/app/eo-framework/plugins/index.ts","./src/app/eo-framework/plugins/plugin.component.ts","./src/app/eo-framework/plugins/plugin.directive.ts","./src/app/eo-framework/plugins/plugin.service.ts","./src/app/eo-framework/plugins/plugins.module.ts","./src/app/eo-framework/prepare-details/prepare-content-exists-info/prepare-content-exists-info.component.html","./src/app/eo-framework/prepare-details/prepare-content-exists-info/prepare-content-exists-info.component.ts","./src/app/eo-framework/prepare-details/prepare-details.component.ts","./src/app/eo-framework/prepare-details/prepare-details.component.html","./src/app/eo-framework/process-form/process-form.component.ts","./src/app/eo-framework/process-form/process-form.component.html","./src/app/eo-framework/process-form/process-form.module.ts","./src/app/eo-framework/process/details/process-details.component.ts","./src/app/eo-framework/process/details/process-details.component.html","./src/app/eo-framework/process/history/process-history.component.html","./src/app/eo-framework/process/history/process-history.component.ts","./src/app/eo-framework/process/process-file/process-file.component.ts","./src/app/eo-framework/process/process-file/process-file.component.html","./src/app/eo-framework/quick-search/index.ts","./src/app/eo-framework/quick-search/quick-search.module.ts","./src/app/eo-framework/quick-search/quick-search/quick-search.component.ts","./src/app/eo-framework/quick-search/quick-search/quick-search.component.html","./src/app/eo-framework/recyclebin-details/recyclebin-details.component.ts","./src/app/eo-framework/recyclebin-details/recyclebin-details.component.html","./src/app/eo-framework/result-list/index.ts","./src/app/eo-framework/result-list/result-list.component.ts","./src/app/eo-framework/result-list/result-list.component.html","./src/app/eo-framework/result-list/result-list.module.ts","./src/app/eo-framework/settings/change-password/change-password-form/change-password-form.component.ts","./src/app/eo-framework/settings/change-password/change-password-form/change-password-form.component.html","./src/app/eo-framework/settings/index.ts","./src/app/eo-framework/settings/permissions/permissions.component.html","./src/app/eo-framework/settings/permissions/permissions.component.ts","./src/app/eo-framework/settings/settings.module.ts","./src/app/eo-framework/shortcuts/global-shortcuts/global-shortcuts-section/global-shortcuts-section.component.ts","./src/app/eo-framework/shortcuts/global-shortcuts/global-shortcuts-section/global-shortcuts-section.component.html","./src/app/eo-framework/shortcuts/global-shortcuts/global-shortcuts.component.ts","./src/app/eo-framework/shortcuts/global-shortcuts/global-shortcuts.component.html","./src/app/eo-framework/shortcuts/index.ts","./src/app/eo-framework/shortcuts/shortcut.interface.ts","./src/app/eo-framework/shortcuts/shortcuts.directive.ts","./src/app/eo-framework/shortcuts/shortcuts.module.ts","./src/app/eo-framework/shortcuts/shortcuts.service.ts","./src/app/eo-framework/stored-query/index.ts","./src/app/eo-framework/stored-query/stored-query-details/dynamic-property-switch/dynamic-property-switch.component.ts","./src/app/eo-framework/stored-query/stored-query-details/dynamic-property-switch/dynamic-property-switch.component.html","./src/app/eo-framework/stored-query/stored-query-details/stored-query-details.component.ts","./src/app/eo-framework/stored-query/stored-query-details/stored-query-details.component.html","./src/app/eo-framework/stored-query/stored-query-type-filter.enum.ts","./src/app/eo-framework/stored-query/stored-query.module.ts","./src/app/eo-framework/stored-query/stored-query/stored-query.component.ts","./src/app/eo-framework/stored-query/stored-query/stored-query.component.html","./src/app/eo-framework/tree/index.ts","./src/app/eo-framework/tree/tree-node/tree-node.component.ts","./src/app/eo-framework/tree/tree-node/tree-node.component.html","./src/app/eo-framework/tree/tree.component.ts","./src/app/eo-framework/tree/tree.component.html","./src/app/eo-framework/tree/tree.module.ts","./src/app/eo-framework/ui/animations/panel-loading.animation.ts","./src/app/eo-framework/ui/clipboard/clipboard.component.ts","./src/app/eo-framework/ui/clipboard/clipboard.component.html","./src/app/eo-framework/ui/eo-dialog/eo-dialog.component.ts","./src/app/eo-framework/ui/eo-dialog/eo-dialog.component.html","./src/app/eo-framework/ui/eo-icon/eo-icon.component.ts","./src/app/eo-framework/ui/error-message/error-message.component.html","./src/app/eo-framework/ui/error-message/error-message.component.ts","./src/app/eo-framework/ui/index.ts","./src/app/eo-framework/ui/indexdata-summary/indexdata-summary-entry/indexdata-summary-entry.component.ts","./src/app/eo-framework/ui/indexdata-summary/indexdata-summary-entry/indexdata-summary-entry.component.html","./src/app/eo-framework/ui/indexdata-summary/indexdata-summary.component.ts","./src/app/eo-framework/ui/indexdata-summary/indexdata-summary.component.html","./src/app/eo-framework/ui/loading-spinner/loading-spinner.component.ts","./src/app/eo-framework/ui/outside-click/outside-click.directive.ts","./src/app/eo-framework/ui/overlay/overlay.component.html","./src/app/eo-framework/ui/overlay/overlay.component.ts","./src/app/eo-framework/ui/query-scope-select/query-scope-select.component.ts","./src/app/eo-framework/ui/query-scope-select/query-scope-select.component.html","./src/app/eo-framework/ui/router-link/router-link.directive.ts","./src/app/eo-framework/ui/rtl-aware/rtl-aware.directive.ts","./src/app/eo-framework/ui/signature-tab/signature-tab.component.html","./src/app/eo-framework/ui/signature-tab/signature-tab.component.ts","./src/app/eo-framework/ui/ui.module.ts","./src/app/eo-framework/ui/user-avatar/user-avatar.component.ts","./src/app/eo-framework/upload-overlay/upload-overlay-guard.service.ts","./src/app/eo-framework/upload-overlay/upload-overlay.component.ts","./src/app/eo-framework/upload-overlay/upload-overlay.component.html","./src/app/eo-framework/util/directive/prevent-double-click.directive.ts","./src/app/eo-framework/util/directive/trap-focus.directive.ts","./src/app/eo-framework/util/index.ts","./src/app/eo-framework/util/services/utilities.service.ts","./src/app/eo-framework/util/sortable/order-by.pipe.ts","./src/app/eo-framework/util/util.module.ts","./src/environments/environment.ts","./src/main.ts","./node_modules/moment/locale/ sync ^\\.\\/.*$"],"sourcesContent":["import {AfterViewInit, Component} from '@angular/core';\nimport {Config} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements AfterViewInit {\n\n  constructor(private config: Config) {\n  }\n\n  ngAfterViewInit() {\n    let favIcon: HTMLLinkElement = document.querySelector('#favIcon');\n    favIcon.href = this.config.getRaw('favicon');\n  }\n}\n","<eo-frame></eo-frame>\n","import {BrowserModule} from '@angular/platform-browser';\nimport {NoopAnimationsModule} from '@angular/platform-browser/animations';\nimport {NgModule} from '@angular/core';\nimport {AppComponent} from './app.component';\nimport {EoCoreModule} from '@eo-sdk/core';\nimport {EoClientModule} from './eo-client';\nimport {EoFrameworkCoreModule} from './eo-framework-core';\nimport {ToastrModule} from 'ngx-toastr';\nimport {environment} from '../environments/environment';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    NoopAnimationsModule,\n    // temporary: extra import to provide ToastrService in production mode (https://github.com/scttcper/ngx-toastr/issues/549)\n    ToastrModule.forRoot(),\n    EoCoreModule.forRoot({environment: environment}),\n    EoFrameworkCoreModule.forRoot(),\n    EoClientModule.forRoot()\n  ],\n  providers: [],\n  bootstrap: [\n    AppComponent\n  ]\n})\nexport class AppModule {\n}\n","<div class=\"eo-about-state\">\n\n  <div class=\"about\">\n    <div class=\"header\" [style.background-image]=\"backgroundImage\">\n      <img [src]=\"headerLogo\"/>\n    </div>\n\n    <div class=\"body\">\n      <div class=\"claim\" translate>eo.help.about.claim</div>\n\n      <div class=\"wrap\">\n        <table>\n          <tbody>\n          <tr>\n            <th translate>eo.help.about.component.label</th>\n            <td>{{ctrl.componentName}}</td>\n          </tr>\n          <tr>\n            <th translate>eo.help.about.component.version.label</th>\n            <td>{{ctrl.componentVersion}}</td>\n          </tr>\n          <tr>\n            <th translate>eo.help.about.product.label</th>\n            <td>{{ ctrl.productName }}</td>\n          </tr>\n          <tr>\n            <th translate>eo.help.about.product.version.label</th>\n            <td>{{ ctrl.productVersion }}</td>\n          </tr>\n          <tr>\n            <th translate>eo.help.about.producer.label</th>\n            <td translate>eo.help.about.producer.text</td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n\n\n      <h2 translate>eo.help.license.title</h2>\n      <p translate>eo.help.license.intro</p>\n      <div class=\"showLic\" (click)=\"licenseShow = !licenseShow\">\n        <span class=\"toggle\"><span translate>eo.help.license.title</span><span class=\"toggle-indicator\">{{licenseShow ? '-' : '+'}}</span></span></div>\n      <div class=\"licenses\" *ngIf=\"licenseShow\">\n        <div class=\"lib\" *ngFor=\"let lib of __libraries__; trackBy: trackByFn\">\n          <div class=\"name\">{{lib.name}}</div>\n          <div class=\"lic\" *ngIf=\"licenses[lib.license]\">\n            <a href=\"{{licenses[lib.license].url}}\" target=\"_blank\" *ngIf=\"licenses[lib.license].url\">{{licenses[lib.license].label}}</a>\n            <span *ngIf=\"!licenses[lib.license].url\">{{licenses[lib.license].label}}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n","import {Component} from '@angular/core';\nimport {UserService, Config, BackendService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-about-state',\n  templateUrl: './about-state.component.html',\n  styleUrls: ['./about-state.component.scss']\n})\nexport class AboutStateComponent {\n\n  backgroundImage: string;\n  headerLogo: string;\n  licenseShow: boolean;\n  __libraries__ = [{\"name\":\"@ag-grid-community/angular\",\"version\":\"22.1.2\",\"license\":\"MIT\"},{\"name\":\"@ag-grid-community/client-side-row-model\",\"version\":\"22.1.1\",\"license\":\"MIT\"},{\"name\":\"@ag-grid-community/core\",\"version\":\"22.1.1\",\"license\":\"MIT\"},{\"name\":\"@ag-grid-community/csv-export\",\"version\":\"22.1.1\",\"license\":\"MIT\"},{\"name\":\"@angular/animations\",\"version\":\"15.2.2\",\"license\":\"MIT\"},{\"name\":\"@angular/cdk\",\"version\":\"15.2.2\",\"license\":\"MIT\"},{\"name\":\"@angular/common\",\"version\":\"15.2.2\",\"license\":\"MIT\"},{\"name\":\"@angular/compiler\",\"version\":\"15.2.2\",\"license\":\"MIT\"},{\"name\":\"@angular/core\",\"version\":\"15.2.2\",\"license\":\"MIT\"},{\"name\":\"@angular/forms\",\"version\":\"15.2.2\",\"license\":\"MIT\"},{\"name\":\"@angular/platform-browser\",\"version\":\"15.2.2\",\"license\":\"MIT\"},{\"name\":\"@angular/platform-browser-dynamic\",\"version\":\"15.2.2\",\"license\":\"MIT\"},{\"name\":\"@angular/router\",\"version\":\"15.2.2\",\"license\":\"MIT\"},{\"name\":\"@eo-sdk/core\",\"version\":\"10.2.2\",\"license\":\"MIT\"},{\"name\":\"@ngneat/until-destroy\",\"version\":\"10.0.0\",\"license\":\"MIT\"},{\"name\":\"@ngx-pwa/local-storage\",\"version\":\"15.0.0\",\"license\":\"MIT\"},{\"name\":\"@ngx-translate/core\",\"version\":\"14.0.0\",\"license\":\"MIT\"},{\"name\":\"@types/lodash\",\"version\":\"4.14.88\",\"license\":\"MIT\"},{\"name\":\"@yuuvis/components\",\"version\":\"0.0.55\",\"license\":\"MIT\"},{\"name\":\"@yuuvis/widget-grid\",\"version\":\"0.4.6\",\"license\":\"MIT\"},{\"name\":\"core-js\",\"version\":\"2.6.12\",\"license\":\"MIT\"},{\"name\":\"file-saver\",\"version\":\"2.0.5\",\"license\":\"MIT\"},{\"name\":\"font-awesome\",\"version\":\"4.7.0\",\"license\":\"(OFL-1.1 AND MIT)\"},{\"name\":\"moment\",\"version\":\"2.29.4\",\"license\":\"MIT\"},{\"name\":\"ngx-toastr\",\"version\":\"16.0.2\",\"license\":\"MIT\"},{\"name\":\"rxjs\",\"version\":\"7.5.7\",\"license\":\"Apache-2.0\"},{\"name\":\"tslib\",\"version\":\"2.6.1\",\"license\":\"0BSD\"},{\"name\":\"zone.js\",\"version\":\"0.11.8\",\"license\":\"MIT\"}];\n  userLang: string;\n\n  ctrl = {\n    componentName: 'yuuvis RAD client',\n    componentVersion: '10.2.2',\n    productName: '',\n    productVersion: ''\n  };\n\n  licenses = {\n    'MIT': {\n      'label': 'MIT',\n      'url': 'http://opensource.org/licenses/MIT'\n    },\n    'Apache-2.0': {\n      'label': 'Apache 2.0',\n      'url': 'http://www.apache.org/licenses/LICENSE-2.0'\n    },\n    'BSD-3-Clause-Clear': {\n      'label': 'BSD 3-Clause',\n      'url': 'http://opensource.org/licenses/BSD-3-Clause'\n    },\n    'CC0-1.0': {\n      'label': 'CC0 1.0',\n      'url': 'https://creativecommons.org/publicdomain/zero/1.0/'\n    },\n    '(OFL-1.1 AND MIT)': {\n      'label': 'MIT',\n      'url': 'http://opensource.org/licenses/MIT'\n    },\n    'SILOFL-1.1': {\n      'label': 'SIL Open Font License 1.1',\n      'url': 'http://scripts.sil.org/OFL_web'\n    },\n    'Commercial': {\n      'label': 'Commercial'\n    },\n    'ag-grid': {\n      'label': 'ag-Grid-Enterprise Software Licence Agreement Version 1.7',\n      'url': 'https://github.com/ceolter/ag-grid-enterprise/blob/master/LICENSE.md'\n    },\n    '0BSD': {\n      'label': 'Zero-Clause BSD',\n      'url': 'http://opensource.org/licenses/0BSD'\n    }\n  };\n\n\n  constructor(private backend: BackendService, private userService: UserService, private config: Config) {\n    this.getUserLang();\n    this.backgroundImage = `url(${this.config.getDashboardBackgroundImage()})`;\n    this.headerLogo = this.config.getRaw('about.headerLogo');\n    if (!this.headerLogo) {\n      this.headerLogo = this.config.getRaw('appLogo');\n    }\n\n    this.backend.getJson('/system/info').subscribe(info => {\n      this.ctrl.productName = info.product.name;\n      this.ctrl.productVersion = info.product.productversion;\n    });\n  }\n\n  getUserLang() {\n    this.userService\n      .user$\n      .subscribe(data => this.userLang = data.userSettings.clientlocale);\n  }\n\n  trackByFn(index, item): number {\n    return index;\n  }\n}\n","import {HttpClient} from '@angular/common/http';\nimport {Component, HostListener, OnInit, ViewChild} from '@angular/core';\nimport {NavigationExtras, Router} from '@angular/router';\nimport {\n  Capabilities,\n  CapabilitiesService,\n  Config,\n  EoUser,\n  LocalStorageService,\n  StoredQueriesService,\n  StoredQuery,\n  TranslateService,\n  UserService,\n  Utils\n} from '@eo-sdk/core';\nimport {\n  PictureWidgetComponent,\n  PictureWidgetSetupComponent,\n  TodoWidgetComponent,\n  TodoWidgetSetupComponent,\n  WidgetGridRegistry,\n  WidgetGridWorkspaceConfig,\n  WidgetGridWorkspaceOptions\n} from '@yuuvis/widget-grid';\nimport {switchMap, takeUntil} from 'rxjs/operators';\nimport {PageTitleService} from '../../eo-framework-core';\nimport {listAnimation} from '../../eo-framework';\nimport {QuickSearchResult} from '../../eo-framework';\nimport {QuickSearchComponent} from '../../eo-framework';\nimport {SearchWidgetComponent} from './widgets/search-widget/search-widget.component';\nimport {TreeNode} from '../../eo-framework';\nimport {IframeSetupComponent} from './widgets/iframe-widget/iframe-setup/iframe-setup.component';\nimport {LastEditedAndCreatedComponent} from './widgets/last-edited-widget/last-edited-and-created.component';\nimport {IframeWidgetComponent} from './widgets/iframe-widget/iframe-widget.component';\nimport {InfoIntrayWidgetComponent} from './widgets/info-intray-widget/info-intray-widget.component';\nimport {InfoIntraySetupComponent} from './widgets/info-intray-widget/info-intray-setup/info-intray-setup.component';\nimport {InfoInboxWidgetComponent} from './widgets/info-inbox-widget/info-inbox-widget.component';\nimport {InfoInboxSetupComponent} from './widgets/info-inbox-widget/info-inbox-setup/info-inbox-setup.component';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {AfterViewInit} from '@angular/core';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss'],\n  animations: [\n    listAnimation\n  ]\n})\nexport class DashboardComponent implements OnInit, AfterViewInit {\n\n  workspaceConfig: WidgetGridWorkspaceConfig | undefined;\n  workspaceOptions: WidgetGridWorkspaceOptions = {\n    gridConfig: {\n      rows: 30,\n      newItemWidth: 2,\n      newItemHeight: 5\n    }\n  };\n  savedWorkspace = [];\n  backgroundImage: string;\n  capabilities: Capabilities;\n  storedQueries: StoredQuery[] = [];\n  selectedQuery: StoredQuery;\n  quickSearchResult: QuickSearchResult;\n  tree = {};\n  STORAGE_KEY = 'eo.client.dashboard.currentWorkspace';\n  toolbarVisible: boolean;\n  toolbarIconSrc: string;\n  toolbarIconTooltip: string;\n\n  user: EoUser;\n  @ViewChild('quickSearch') quickSearchEl: QuickSearchComponent;\n\n  @HostListener('window:keyup', ['$event'])\n  onKey(event) {\n    if (event.which === 27) {\n      this.selectStoredQuery(null);\n    }\n  }\n\n  constructor(public userService: UserService,\n    private widgetGridRegistry: WidgetGridRegistry,\n    private titleService: PageTitleService,\n    private router: Router,\n    private http: HttpClient,\n    private config: Config,\n    private storageService: LocalStorageService,\n    public translate: TranslateService,\n    private capabilityService: CapabilitiesService,\n    private storedQueriesService: StoredQueriesService) {\n    this.titleService.setDefaultTitle();\n    this.backgroundImage = `url(${this.config.getDashboardBackgroundImage()})`;\n    this.setWidgetGridLabels();\n  }\n\n  onWorkspacesConfigChange(c: WidgetGridWorkspaceConfig) {\n    this.saveWorkspacesConfig(c);\n  }\n\n  private setWidgetGridLabels() {\n    this.widgetGridRegistry.updateWidgetGridLabels({\n      widgetPickerTitle: this.translate.instant('eo.workspace.widgetGrid.widgetPickerTitle'),\n      addWorkspaceTooltip: this.translate.instant('eo.workspace.widgetGrid.addWorkspace'),\n      noopWidgetLabel: this.translate.instant('eo.workspace.widgetGrid.noopWidgetLabel'),\n      workspacesEmptyMessage: this.translate.instant('eo.workspace.widgetGrid.workspacesEmptyMessage'),\n      newWorkspaceDefaultLabel: this.translate.instant('eo.workspace.widgetGrid.newWorkspaceDefaultLabel'),\n      workspaceRemoveConfirmMessage: this.translate.instant('eo.workspace.widgetGrid.workspaceRemoveConfirmMessage'),\n      workspaceEditDone: this.translate.instant('eo.workspace.widgetGrid.workspaceEditDone'),\n      workspaceEditCancel: this.translate.instant('eo.workspace.widgetGrid.cancel'),\n      save: this.translate.instant('eo.workspace.widgetGrid.save'),\n      cancel: this.translate.instant('eo.workspace.widgetGrid.cancel'),\n      confirm: this.translate.instant('eo.workspace.widgetGrid.confirm'),\n      widgetTodoHeadlineLabel: this.translate.instant('eo.workspace.widgetGrid.widgetTodoHeadlineLabel'),\n      widgetTodoTaskTitleLabel: this.translate.instant('eo.workspace.widgetGrid.widgetTitleLabel')\n    });\n  }\n\n  private registerWidgets() {\n    // register the two \"baked in\" widgets\n    this.widgetGridRegistry.registerGridWidgets([\n      {\n        name: 'yuv.widget.picture',\n        label: this.translate.instant('eo.workspace.widget.picture.label'),\n        setupComponent: PictureWidgetSetupComponent,\n        widgetComponent: PictureWidgetComponent,\n      },\n      {\n        name: 'yuv.widget.todo',\n        label: this.translate.instant('eo.workspace.widgetGrid.widgetTodoHeadlineLabel'),\n        setupComponent: TodoWidgetSetupComponent,\n        widgetComponent: TodoWidgetComponent,\n      },\n      {\n        name: 'yuv.widget.LastEdited',\n        label: this.translate.instant('eo.workspace.widget.lastEditedOrLastCreated.label'),\n        widgetComponent: LastEditedAndCreatedComponent,\n      },\n      {\n        name: 'yuv.widget.iframe',\n        label: this.translate.instant('eo.workspace.widget.iframe.label'),\n        widgetComponent: IframeWidgetComponent,\n        setupComponent: IframeSetupComponent,\n      },\n      {\n        name: 'yuv.widget.infoIntray',\n        label: this.translate.instant('eo.workspace.widget.infoIntray.label'),\n        widgetComponent: InfoIntrayWidgetComponent,\n        setupComponent: InfoIntraySetupComponent\n      },\n      {\n        name: 'yuv.widget.infoInbox',\n        label: this.translate.instant('eo.workspace.widget.infoInbox.label'),\n        widgetComponent: InfoInboxWidgetComponent,\n        setupComponent: InfoInboxSetupComponent\n      },\n      {\n        name: 'yuv.widget.quickSearch',\n        label: this.translate.instant('eo.workspace.widget.quicksearch.label'),\n        widgetComponent: SearchWidgetComponent,\n      },\n\n    ]);\n  }\n\n  selectStoredQuery(q: StoredQuery) {\n    this.selectedQuery = q;\n  }\n\n  // user changed input of quickSearch component\n  onQuickSearchInputChange(term) {\n    this.quickSearchResult = null;\n  }\n\n  // quickSearch component is returning results\n  onQuickSearchResult(result: QuickSearchResult) {\n    this.quickSearchResult = result;\n    Object.keys(this.quickSearchResult.groups).map(key => (this.tree[key] = this.getTreeNodes(key)));\n  }\n\n  onStoredQueryLoaded() {\n    this.selectStoredQuery(null);\n    this.router.navigate([{outlets: {modal: 'search'}}]);\n  }\n\n  onStoredQueryExecute(evt) {\n    this.selectStoredQuery(null);\n    const uriParam = encodeURIComponent(JSON.stringify(evt.queryJson));\n    const uriParamQuery: NavigationExtras = {queryParams: {'query': uriParam}};\n    this.router.navigate(['/result'], uriParamQuery);\n  }\n  getTreeNodes(key): TreeNode[] {\n    return this.quickSearchResult.groups[key].map(group => ({\n      id: group.data.id,\n      name: group.label,\n      selectable: true,\n      data: group.data,\n      badges: [{value: group.count}]\n    }));\n  }\n\n  ngOnInit() {\n    this.loadWorkspacesConfig();\n    this.registerWidgets();\n    this.capabilities = this.capabilityService.getCapabilities();\n    if (this.capabilities.storedqueries) {\n      this.storedQueriesService.getStoredQueries$()\n        .pipe(untilDestroyed(this))\n        .subscribe(queriesSubscription => this.storedQueries = queriesSubscription.queries.filter(q => q.favorite).sort(Utils.sortValues('name')));\n    }\n  }\n\n  ngAfterViewInit() {\n\n    setTimeout(() => {\n      this.toolbarVisible = this.userService.getCurrentUser().userSettings.toolbarVisibility;\n      const toolbar = document.querySelector('.toolbar') as HTMLElement;\n      if (this.toolbarVisible === false) {\n        this.hideToolbar(toolbar);\n      } else {\n        this.showToolbar(toolbar);\n      }\n      const showDashboardButton = document.getElementById('dashboardButton');\n      showDashboardButton.addEventListener('click', () => {\n        this.hideOrShowOnClick(toolbar);\n      });\n    }, 200);\n\n  }\n\n  private hideToolbar(toolbar: HTMLElement) {\n    this.toolbarIconSrc = 'assets/_default/svg/ic_arrow_up.svg';\n    this.toolbarIconTooltip = 'eo.dashboard.button.show.footer.tooltip';\n    toolbar.style.display = 'none';\n    this.toolbarVisible = false;\n  }\n\n  private showToolbar(toolbar: HTMLElement) {\n    this.toolbarIconSrc = 'assets/_default/svg/ic_arrow_down.svg';\n    this.toolbarIconTooltip = 'eo.dashboard.button.hide.footer.tooltip';\n    toolbar.style.display = 'flex';\n    this.toolbarVisible = true;\n  }\n\n  private hideOrShowOnClick(toolbar: HTMLElement) {\n    if (this.toolbarVisible) {\n      this.hideToolbar(toolbar);\n      this.userService.saveToolbarState(this.toolbarVisible).subscribe();\n    } else {\n      this.showToolbar(toolbar);\n      this.userService.saveToolbarState(this.toolbarVisible).subscribe();\n    }\n  }\n\n  private loadWorkspacesConfig() {\n    if (!this.userService.getCurrentUser().userSettings.workspaceOptions || this.userService.getCurrentUser().userSettings.workspaceOptions.workspaces.length === 0) {\n      this.http.get('assets/dashboard.json').subscribe({\n        next: (res: WidgetGridWorkspaceConfig) => {\n          this.workspaceConfig = res;\n          this.workspaceConfig.workspaces[0].label = this.translate.instant(this.workspaceConfig.workspaces[0].label);\n          this.workspaceConfig.workspaces[0].grid.forEach(grid => {\n            if (grid.widgetConfig) {\n              grid.widgetConfig.title = this.translate.instant(grid.widgetConfig.title);\n            }\n          });\n        },\n        error: () => {\n          // no config file found\n        }\n      });\n    } else {\n      this.workspaceConfig = this.userService.getCurrentUser().userSettings.workspaceOptions;\n      const currentWorkspace = this.storageService.getItem(this.STORAGE_KEY);\n      if (currentWorkspace && this.workspaceConfig.workspaces.map((w) => w.id).includes(currentWorkspace)) {\n        this.workspaceConfig.currentWorkspace = currentWorkspace;\n      } else if (!!this.workspaceConfig.workspaces.length) {\n        this.workspaceConfig.currentWorkspace = this.workspaceConfig.workspaces[0].id;\n      }\n    }\n  }\n\n  private saveWorkspacesConfig(c: WidgetGridWorkspaceConfig) {\n    // the selected workspace is saved on the device while the workspaces themselves are stored on the user service\n    if (c) {\n      this.userService.saveChangeWorkspace(c).pipe(switchMap(async () => this.storageService.setItem(this.STORAGE_KEY, c.currentWorkspace))).subscribe()\n    }\n  }\n}\n","<ng-container>\n  <div class=\"fade\"></div>\n  <div class=\"dashboard\" [style.background-image]=\"backgroundImage\">\n    <div class=\"footerButton\">\n      <eo-icon id=\"dashboardButton\" [iconSrc]=\"toolbarIconSrc\" [iconTitle]=\"toolbarIconTooltip | translate\"></eo-icon>\n    </div>\n    <yuv-widget-grid-workspaces *ngIf=\"workspaceConfig\" [workspaceConfig]=\"workspaceConfig\"\n      (configChange)=\"onWorkspacesConfigChange($event)\" [options]=\"workspaceOptions\">\n    </yuv-widget-grid-workspaces>\n  </div>\n</ng-container>","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {IWidgetSetupComponent} from '@yuuvis/widget-grid';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {Iframe} from '../iframe-widget.component';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-iframe-setup',\n  templateUrl: './iframe-setup.component.html',\n  styleUrls: ['./iframe-setup.component.scss']\n})\nexport class IframeSetupComponent implements IWidgetSetupComponent {\n\n  private _widgetConfig: Iframe | undefined;\n  @Output() widgetConfigChange = new EventEmitter<Iframe>();\n\n  pattern = /(http|ftp|https):\\/\\/[\\w-]+(\\.[\\w-]+)+([\\w.,@?^=%&amp;:\\/~+#-]*[\\w@?^=%&amp;\\/~+#-])?/;\n\n  setupForm: FormGroup = this.fb.group({\n    title: ['', [Validators.maxLength(50)]],\n    url: ['', [Validators.required, Validators.pattern(this.pattern)]],\n  });\n  @Input() set widgetConfig(wc: Iframe | undefined) {\n    this._widgetConfig = wc;\n    this.setupForm.patchValue({\n      title: wc ? wc.title : '',\n      url: wc ? wc.url : ''\n    });\n  }\n\n  get widgetConfig() {\n    return this._widgetConfig;\n  }\n\n  constructor(\n    private fb: FormBuilder\n  ) {\n    this.setupForm.valueChanges.pipe(untilDestroyed(this)).subscribe((_) => {\n      this.setWidgetConfig();\n    });\n  }\n\n  private setWidgetConfig() {\n    if (this.setupForm.valid) {\n      this._widgetConfig = {\n        ... this.setupForm.value,\n      };\n      this.widgetConfigChange.emit(this._widgetConfig);\n    }\n  }\n}\n","<div class=\"setup\">\n    <form [formGroup]=\"setupForm\">\n        <eo-form-input [label]=\"'eo.workspace.widget.setup.title' | translate\" [skipToggle]=\"true\">\n            <eo-string formControlName=\"title\"></eo-string>\n        </eo-form-input>\n        <eo-form-input [label]=\"'eo.workspace.widget.iframe.setup.url'| translate\" [required]=\"true\">\n            <eo-string formControlName=\"url\"></eo-string>\n        </eo-form-input>\n        <div class=\"err-msg\" *ngIf=\"(setupForm.get('url').invalid && (setupForm.get('url').dirty || setupForm.get('url').touched)) || (setupForm.get('title').invalid && (setupForm.get('title').dirty || setupForm.get('title').touched))\">\n            <div *ngIf=\"setupForm.get('url').hasError('pattern')\" translate> eo.form.property.string.error.classification.url </div>\n            <div *ngIf=\"setupForm.get('title').hasError('maxlength')\" [translateParams]=\"{maxlength: 50}\" translate>eo.form.property.maxlength</div>\n        </div>\n    </form>\n</div>\n<div class=\"preview\" *ngIf=\"!setupForm.get('url').invalid && !setupForm.get('title').invalid; else tpl\">\n    <eo-iframe-widget [widgetConfig]=\"widgetConfig\"></eo-iframe-widget>\n</div>\n<ng-template #tpl>\n    <div class=\"empty\">\n        <eo-error-message\n          [emptyState]=\"{icon: 'ic_noUrl.svg', text: 'eo.form.property.string.error.classification.url'}\"></eo-error-message>\n      </div>\n</ng-template>\n","\n<header *ngIf=\"widgetConfig?.title\">\n    <a>{{widgetConfig?.title}}</a>\n</header>\n<div class=\"iframe\" *ngIf=\"widgetConfig?.url === '' ; else tpl\">\n</div>\n<ng-template #tpl>\n    <div class=\"container\"  [style.overflow]=\"'hidden'\">\n        <iframe class=\"responsive-iframe\" [src]=\"widgetConfig?.url | safeUrl\" #iframe></iframe>\n    </div>\n</ng-template>\n\n","import {Component, Input, ViewChild} from '@angular/core';\nimport {IWidgetComponent} from '@yuuvis/widget-grid';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { PipeTransform, Pipe } from '@angular/core';\n\n@Pipe({ name: 'safeUrl'})\nexport class SafeUrlPipe implements PipeTransform  {\n  constructor(private sanitized: DomSanitizer) {}\n  transform(value: any) {\n    return this.sanitized.bypassSecurityTrustResourceUrl(value);\n  }\n}\nexport interface Iframe {\n    title: string;\n    url: string;\n}\n@Component({\n  selector: 'eo-iframe-widget',\n  templateUrl: './iframe-widget.component.html',\n  styleUrls: ['./iframe-widget.component.scss']\n})\nexport class IframeWidgetComponent implements IWidgetComponent {\n\n  @ViewChild('iframe', {static: true}) iframe;\n  private _widgetConfig: Iframe | undefined;\n\n  @Input() set widgetConfig(c: Iframe | undefined) {\n    this._widgetConfig = c;\n  }\n  get widgetConfig() {\n    return this._widgetConfig;\n  }\n}\n\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport {UntypedFormBuilder, UntypedFormGroup, Validators} from '@angular/forms';\nimport {TranslateService} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {IWidgetSetupComponent} from '@yuuvis/widget-grid';\nimport {InfoInboxConfig} from '../info-inbox.model';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-info-inbox-setup',\n  templateUrl: './info-inbox-setup.component.html',\n  styleUrls: ['./info-inbox-setup.component.scss'],\n})\nexport class InfoInboxSetupComponent implements IWidgetSetupComponent, OnInit {\n\n  private _widgetConfig: InfoInboxConfig;\n  @Output() widgetConfigChange = new EventEmitter<InfoInboxConfig>();\n\n  setupForm: UntypedFormGroup = this.fb.group({\n    title: [this.translate.instant('eo.dashboard.info.inbox.msg'), [Validators.maxLength(50)]],\n  });\n  @Input() set widgetConfig(wc: InfoInboxConfig) {\n    this._widgetConfig = wc;\n    this.setupForm.patchValue({\n      title: wc ? wc.title : '',\n    });\n  }\n\n  get widgetConfig() {\n    return this._widgetConfig;\n  }\n\n  constructor(\n    private fb: UntypedFormBuilder,\n    private translate: TranslateService\n  ) {\n    this.setupForm.valueChanges.pipe(untilDestroyed(this)).subscribe((_) => {\n      this.setWidgetConfig();\n    });\n  }\n  \n  ngOnInit(): void {\n    this.setWidgetConfig();\n  }\n\n  private setWidgetConfig() {\n    if(this.setupForm.valid){\n      this._widgetConfig = {\n        ... this.setupForm.value,\n      };\n      this.widgetConfigChange.emit(this._widgetConfig);\n    }\n  }\n}\n","<div class=\"setup\">\n    <form [formGroup]=\"setupForm\">\n        <eo-form-input  tabindex=\"0\" [label]=\"'eo.workspace.widget.setup.title' | translate\"  [skipToggle]=\"true\" description=\"eo.dashboard.info.inbox.msg\">\n            <eo-string autocomplete=\"true\" formControlName=\"title\" ></eo-string>\n        </eo-form-input>\n        <div class=\"err-msg\"\n            *ngIf=\"setupForm.get('title').invalid && (setupForm.get('title').dirty || setupForm.get('title').touched)\">\n            <div *ngIf=\"setupForm.get('title').errors\" [translateParams]=\"{maxlength: 50}\" translate>eo.form.property.maxlength</div>\n        </div>\n    </form>\n</div>\n<div class=\"preview\">\n    <eo-info-inbox-widget [widgetConfig]=\"widgetConfig\"></eo-info-inbox-widget>\n</div>","import {Component, Input, OnInit} from '@angular/core';\nimport {IWidgetComponent} from '@yuuvis/widget-grid';\nimport {InboxState, Capabilities, CapabilitiesService, InboxService} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {InfoInboxConfig} from './info-inbox.model';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-info-inbox-widget',\n  templateUrl: './info-inbox-widget.component.html',\n  styleUrls: ['./info-inbox-widget.component.scss']\n})\nexport class InfoInboxWidgetComponent implements IWidgetComponent, OnInit {\n\n  capabilities: Capabilities;\n  inboxState: InboxState;\n  private _widgetConfig: InfoInboxConfig;\n  @Input() set widgetConfig(c: InfoInboxConfig | undefined) {\n    this._widgetConfig = c ;\n  }\n  get widgetConfig() {\n    return this._widgetConfig;\n  }\n\n  constructor(\n    private capabilityService: CapabilitiesService,\n    private inboxService: InboxService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.capabilities = this.capabilityService.getCapabilities();\n    if (this.capabilities.inbox) {\n      this.inboxService.inboxState$\n        .pipe(untilDestroyed(this))\n        .subscribe((inboxState: InboxState) => this.inboxState = inboxState);\n    }\n  }\n}\n","<a class=\"info\" *ngIf=\"capabilities.inbox && inboxState && inboxState.totalmessages > 0\" [routerLink]=\"['/inbox']\">\n    <div>\n        <eo-icon [iconSrc]=\"'assets/_default/svg/ic_inbox.svg'\"></eo-icon>\n        <div class=\"count\">{{inboxState.totalmessages}}</div>\n    </div>\n    <div class=\"msg\">{{widgetConfig?.title}}</div>\n</a>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport {IWidgetSetupComponent} from '@yuuvis/widget-grid';\nimport {UntypedFormBuilder, UntypedFormGroup, Validators} from '@angular/forms';\nimport {Capabilities, CapabilitiesService, PrepareService, TranslateService} from '@eo-sdk/core';\nimport {InfoIntrayConfig} from '../info-intray.model';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\n\n@Component({\n  selector: 'eo-info-intray-setup',\n  templateUrl: './info-intray-setup.component.html',\n  styleUrls: ['./info-intray-setup.component.scss']\n})\n\n@UntilDestroy()\nexport class InfoIntraySetupComponent implements IWidgetSetupComponent, OnInit {\n\n  private _widgetConfig: InfoIntrayConfig;\n  capabilities: Capabilities;\n  preparedItemsCount: number;\n\n  @Output() widgetConfigChange = new EventEmitter<InfoIntrayConfig>();\n\n  setupForm: UntypedFormGroup = this.fb.group({\n    title: [this.translate.instant('eo.dashboard.info.intray.msg'), [Validators.maxLength(50)]],\n  });\n  @Input() set widgetConfig(wc: InfoIntrayConfig) {\n    this._widgetConfig = wc;\n    this.setupForm.patchValue({\n      title: wc ? wc.title : '',\n    });\n  }\n\n  get widgetConfig() {\n    return this._widgetConfig;\n  }\n\n  constructor(\n    private fb: UntypedFormBuilder,\n    private translate: TranslateService,\n    private capabilityService: CapabilitiesService,\n    private prepareService: PrepareService) {\n    this.setupForm.valueChanges.pipe(untilDestroyed(this)).subscribe((_) => {\n      this.setWidgetConfig();\n    });\n  }\n\n  private setWidgetConfig() {\n    if(this.setupForm.valid){\n      this._widgetConfig = {\n        ... this.setupForm.value,\n      };\n      this.widgetConfigChange.emit(this._widgetConfig);\n    }\n  }\n\n  ngOnInit(): void {\n    this.setWidgetConfig();\n    this.capabilities = this.capabilityService.getCapabilities();\n    if (this.capabilities.intray) {\n      this.prepareService.preparedItemCount$\n        .pipe(untilDestroyed(this))\n        .subscribe(count => this.preparedItemsCount = count);\n    }\n  }\n}\n","<div class=\"setup\">\n    <form [formGroup]=\"setupForm\">\n        <eo-form-input  tabindex=\"0\" [label]=\"'eo.workspace.widget.setup.title' | translate\"  [skipToggle]=\"true\" description=\"eo.dashboard.info.intray.msg\">\n            <eo-string autocomplete=\"true\" formControlName=\"title\" ></eo-string>\n        </eo-form-input>\n        <div class=\"err-msg\"\n            *ngIf=\"setupForm.get('title').invalid && (setupForm.get('title').dirty || setupForm.get('title').touched)\">\n            <div *ngIf=\"setupForm.get('title').errors\" [translateParams]=\"{maxlength: 50}\" translate>eo.form.property.maxlength</div>\n        </div>\n    </form>\n</div>\n\n<div class=\"preview\" *ngIf=\"capabilities.intray && preparedItemsCount > 0 ; else tpl\">\n    <eo-info-intray [widgetConfig]=\"widgetConfig\"></eo-info-intray>\n</div>\n\n<ng-template  #tpl>\n    <div class=\"empty\">\n        <eo-error-message\n          [emptyState]=\"{icon: 'ic_prepare.svg', text: 'eo.prepare.list.empty'}\"></eo-error-message>\n      </div>\n</ng-template>\n\n\n","import {Component, Input, OnInit} from '@angular/core';\nimport {IWidgetComponent} from '@yuuvis/widget-grid';\nimport {\n  UserService, Capabilities, CapabilitiesService, PrepareService} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {InfoIntrayConfig} from './info-intray.model';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-info-intray',\n  templateUrl: './info-intray-widget.component.html',\n  styleUrls: ['./info-intray-widget.component.scss']\n})\nexport class InfoIntrayWidgetComponent implements IWidgetComponent, OnInit {\n\n  capabilities: Capabilities;\n  preparedItemsCount: number;\n\n  private _widgetConfig: InfoIntrayConfig;\n  @Input() set widgetConfig(c: InfoIntrayConfig | undefined) {\n    this._widgetConfig = c ;\n  }\n  get widgetConfig() {\n    return this._widgetConfig;\n  }\n\n  constructor(public userService: UserService,\n    private capabilityService: CapabilitiesService,\n    private prepareService: PrepareService,\n  ) {}\n\n  ngOnInit(): void {\n    this.capabilities = this.capabilityService.getCapabilities();\n    if (this.capabilities.intray) {\n      this.prepareService.preparedItemCount$\n        .pipe(untilDestroyed(this))\n        .subscribe(count => this.preparedItemsCount = count);\n    }\n  }\n}\n\n","<a class=\"info\" *ngIf=\"capabilities.intray && preparedItemsCount > 0\" [routerLink]=\"['/prepare']\">\n    <div>\n        <eo-icon [iconSrc]=\"'assets/_default/svg/ic_prepare.svg'\"></eo-icon>\n        <div class=\"count\">{{preparedItemsCount}}</div>\n    </div>\n    <div class=\"msg\">{{widgetConfig?.title}}</div>\n</a>","import {Component, Input, OnInit} from '@angular/core';\nimport {IWidgetComponent} from '@yuuvis/widget-grid';\nimport {\n  UserService,\n  EoUser, SearchService, SystemService\n} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-last-edited-and-created',\n  templateUrl: './last-edited-and-created.component.html',\n  styleUrls: ['./last-edited-and-created.component.scss']\n})\nexport class LastEditedAndCreatedComponent implements IWidgetComponent, OnInit {\n\n  user: EoUser;\n  modifiedByMe = {\n    size: 10,\n    total: 0,\n    lately: []\n  };\n  createdByMe = {\n    size: 10,\n    total: 0,\n    lately: []\n  };\n  @Input()\n  widgetConfig: any;\n\n  constructor(public userService: UserService,\n    private searchService: SearchService,\n    private systemService: SystemService,\n  ) {}\n\n  ngOnInit(): void {\n    this.userService.user$\n      .pipe(untilDestroyed(this))\n      .subscribe(user => {\n        this.user = user;\n        this.getLastModified();\n        this.getLastCreated();\n      });\n  }\n\n  getLastModified() {\n    const q = {\n      filters: {\n        modifier: {\n          o: 'eq',\n          v1: this.user.name\n        }\n      },\n      fields: ['title', 'description', 'modified', 'type'],\n      options: {\n        sort: {\n          modified: {\n            order: 'desc'\n          }\n        }\n      }\n    };\n    this.searchService\n      .executeQuery(q, false, this.modifiedByMe.size)\n      .subscribe(res => {\n        this.modifiedByMe.total = res.hits.total;\n        this.modifiedByMe.lately = res.hits.hits.map(item => {\n          const {id, title, description, type, modified} = item._source;\n          return {\n            id,\n            type: this.systemService.getObjectType(type),\n            title,\n            description,\n            modified,\n          };\n        });\n      });\n  }\n  getLastCreated() {\n    const q = {\n      filters: {\n        creator: {\n          o: 'eq',\n          v1: this.user.name\n        }\n      },\n      fields: ['title', 'description', 'created', 'type'],\n      options: {\n        sort: {\n          created: {\n            order: 'asc'\n          }\n        }\n      }\n    };\n    this.searchService\n      .executeQuery(q, false, this.createdByMe.size)\n      .subscribe(res => {\n        this.createdByMe.total = res.hits.total;\n        this.createdByMe.lately = res.hits.hits.map(item => {\n          const {id, title, description, type, created} = item._source;\n          return {\n            id,\n            type: this.systemService.getObjectType(type),\n            title,\n            description,\n            created\n          };\n        });\n      });\n  }\n}\n","\n  <yvc-tabs *ngIf=\"modifiedByMe?.lately.length || createdByMe?.lately.length\">\n    <ng-template [yvcTab]=\"{id: 'LastEdited', label: 'eo.dashboard.modified.title' | translate}\">\n      <div class=\"lastEdits\" *ngIf=\"modifiedByMe?.lately.length\">\n\n        <div class=\"body\">\n\n          <a class=\"item\" *ngFor=\"let item of modifiedByMe.lately\" [routerLink]=\"['/object/', item.id]\">\n            <eo-icon [objectType]=\"item.type\"></eo-icon>\n            <div>\n              <div class=\"modified\">{{item.modified | localeDate}}</div>\n              <div class=\"title\">{{item.title}}</div>\n              <div class=\"description\">{{item.description}}</div>\n            </div>\n          </a>\n\n        </div>\n      </div>\n    </ng-template>\n    <ng-template [yvcTab]=\"{id: 'LastCreated', label: 'eo.dashboard.created.title' | translate}\">\n      <div class=\"lastEdits\" *ngIf=\"createdByMe?.lately.length\">\n\n        <div class=\"body\">\n\n          <a class=\"item\" *ngFor=\"let item of createdByMe.lately\" [routerLink]=\"['/object/', item.id]\">\n            <eo-icon [objectType]=\"item.type\"></eo-icon>\n            <div>\n              <div class=\"modified\">{{item.created | localeDate}}</div>\n              <div class=\"title\">{{item.title}}</div>\n              <div class=\"description\">{{item.description}}</div>\n            </div>\n          </a>\n\n        </div>\n      </div>\n\n\n    </ng-template>\n  </yvc-tabs>\n","import {TreeNode} from '../../../../eo-framework/tree/tree.component.interface';\nimport {Component, OnInit, ViewChild, HostListener, Input} from '@angular/core';\nimport {Router, NavigationExtras} from '@angular/router';\nimport {PageTitleService} from '../../../../eo-framework-core/title/page-title.service';\nimport {QuickSearchComponent} from '../../../../eo-framework/quick-search/quick-search/quick-search.component';\nimport {QuickSearchResult} from '../../../../eo-framework/quick-search/quick-search/quick-search-result.interface';\nimport {UserService, Capabilities, StoredQuery, EoUser, Config, ObjectType, CapabilitiesService, StoredQueriesService, Utils} from '@eo-sdk/core';\nimport {IWidgetComponent} from '@yuuvis/widget-grid';\nimport {listAnimation} from '../../../../eo-framework/animations/animations';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-search-widget',\n  templateUrl: './search-widget.component.html',\n  styleUrls: ['./search-widget.component.scss'],\n  animations: [\n    listAnimation\n  ]\n})\nexport class SearchWidgetComponent implements OnInit, IWidgetComponent {\n\n  capabilities: Capabilities;\n  storedQueries: StoredQuery[] = [];\n  selectedQuery: StoredQuery;\n  quickSearchResult: QuickSearchResult;\n  selectedQuickSearchResultItem = {\n    index: -1,\n    name: null\n  };\n  tree = {};\n  user: EoUser;\n  backgroundImage: string;\n\n  @ViewChild('quickSearch') quickSearchEl: QuickSearchComponent;\n  @Input()\n  widgetConfig: any;\n\n  @HostListener('window:keyup', ['$event'])\n  onKey(event) {\n    if (event.which === 27) {\n      this.selectStoredQuery(null);\n    }\n  }\n\n  constructor(public userService: UserService,\n    private titleService: PageTitleService,\n    private router: Router,\n    private config: Config,\n    private capabilityService: CapabilitiesService,\n    private storedQueriesService: StoredQueriesService) {\n    this.titleService.setDefaultTitle();\n    this.backgroundImage = `url(${this.config.getDashboardBackgroundImage()})`;\n  }\n  selectStoredQuery(q: StoredQuery) {\n    this.selectedQuery = q;\n  }\n\n  // user changed input of quickSearch component\n  onQuickSearchInputChange(term) {\n    this.quickSearchResult = null;\n  }\n\n  // quickSearch component is returning results\n  onQuickSearchResult(result: QuickSearchResult) {\n    this.quickSearchResult = result;\n    Object.keys(this.quickSearchResult.groups).map(key => (this.tree[key] = this.getTreeNodes(key)));\n  }\n\n  onStoredQueryLoaded() {\n    this.selectStoredQuery(null);\n    this.router.navigate([{outlets: {modal: 'search'}}]);\n  }\n\n  onStoredQueryExecute(evt) {\n    this.selectStoredQuery(null);\n    const uriParam = encodeURIComponent(JSON.stringify(evt.queryJson));\n    const uriParamQuery: NavigationExtras = {queryParams: {'query': uriParam}};\n    this.router.navigate(['/result'], uriParamQuery);\n  }\n\n  executeSearch(objectType?: ObjectType) {\n    this.quickSearchEl.executeSearch(objectType);\n  }\n\n  getTreeNodes(key): TreeNode[] {\n    return this.quickSearchResult.groups[key].map(group => ({\n      id: group.data.id,\n      name: group.label,\n      selectable: true,\n      data: group.data,\n      badges: [{value: group.count}]\n    }));\n  }\n\n  trackByFn(item) {\n    return item.id;\n  }\n\n  ngOnInit() {\n    this.userService.user$\n      .pipe(untilDestroyed(this))\n      .subscribe(user => {\n        this.user = user;\n      });\n    this.capabilities = this.capabilityService.getCapabilities();\n    if (this.capabilities.storedqueries) {\n      this.storedQueriesService.getStoredQueries$()\n        .pipe(untilDestroyed(this))\n        .subscribe(queriesSubscription => this.storedQueries = queriesSubscription.queries.filter(q => q.favorite).sort(Utils.sortValues('name')));\n    }\n  }\n}\n\n\n","<div class=\"db-content\" [ngClass]=\"{centerFocus: (quickSearchResult && quickSearchResult.total > 0) || selectedQuery}\">\n  <div class=\"db-center\">\n    <div class=\"top\">\n      <div class=\"quick-search\" [ngClass]=\"{disabled: selectedQuery}\">\n\n        <div class=\"count\" *ngIf=\"quickSearchResult && quickSearchResult.total !== -1\" (click)=\"executeSearch()\">\n          <div *ngIf=\"quickSearchResult.total\">\n            <span class=\"count-total\">{{quickSearchResult.total | localeDecimal}}</span>\n            <span class=\"label\" translate>eo.quicksearch.hits</span>\n          </div>\n          <span class=\"label\" *ngIf=\"!quickSearchResult.total\" translate>eo.quicksearch.reults.empty</span>\n        </div>\n\n        <div class=\"input\">\n          <eo-quick-search (onResult)=\"onQuickSearchResult($event)\" (onInputChange)=\"onQuickSearchInputChange($event)\"\n            #quickSearch></eo-quick-search>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"bottom\">\n      <div class=\"quick-search-results\" *ngIf=\"quickSearchResult && quickSearchResult.total > 0; else storedqueries\">\n\n        <div class=\"group\" *ngFor=\"let key of quickSearchResult.groups | keys; index as i\">\n          <h2 *ngIf=\"key !== '0'; else maingroup\">{{key}}</h2>\n          <ng-template #maingroup>\n            <h2 translate>eo.quicksearch.result.group.global</h2>\n          </ng-template>\n\n          <eo-tree [tree]=\"tree[key]\" [(ngModel)]=\"selectedQuickSearchResultItem\"\n            (onSelected)=\"executeSearch($event.data)\" (expandedNodesChanged)=\"executeSearch($event.data)\"\n            [selectionKey]=\"'Enter'\">\n          </eo-tree>\n        </div>\n      </div>\n\n      <ng-template #storedqueries>\n\n        <div class=\"stored-queries\" *ngIf=\"capabilities.storedqueries && storedQueries.length\">\n\n          <div class=\"query\" *ngIf=\"selectedQuery; else querylist\">\n            <div>\n              <eo-icon class=\"button\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\"\n                (click)=\"selectStoredQuery(null)\"></eo-icon>\n            </div>\n            <eo-stored-query [query]=\"selectedQuery\" (onQueryLoaded)=\"onStoredQueryLoaded()\"\n              (onQueryExecute)=\"onStoredQueryExecute($event)\"></eo-stored-query>\n          </div>\n\n          <ng-template #querylist>\n            <div class=\"queries\" [@listAnimation]=\"storedQueries.length\">\n              <a class=\"sq lead\" [routerLink]=\"['/stored-queries']\" translate>eo.view.navigation.storedqueries</a>\n\n              <div class=\"sq\" *ngFor=\"let q of storedQueries; trackBy: trackByFn\" (click)=\"selectStoredQuery(q)\"\n                (keyup.enter)=\"selectStoredQuery(q)\" tabindex=\"0\">\n                <eo-icon [iconSrc]=\"'assets/_default/svg/ic_stored_query.svg'\"></eo-icon>\n                <span>{{q.name}}</span>\n              </div>\n            </div>\n          </ng-template>\n        </div>\n      </ng-template>\n    </div>\n  </div>\n</div>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {RouterModule, Routes} from '@angular/router';\nimport {DashboardComponent} from './dashboard/dashboard.component';\nimport {NotFoundComponent} from '../eo-framework/error/not-found/not-found.component';\nimport {SettingsComponent} from './settings/settings.component';\nimport {LoginComponent} from './login/login.component';\nimport {ResultStateComponent} from './result-state/result-state.component';\nimport {FavoriteStateComponent} from './favorite-state/favorite-state.component';\nimport {AboutStateComponent} from './about-state/about-state.component';\nimport {StoredQueriesStateComponent} from './stored-queries-state/stored-queries-state.component';\nimport {ProcessStateComponent} from './process-state/process-state.component';\nimport {NotificationsStateComponent} from './notifications-state/notifications-state.component';\nimport {VersionStateComponent} from './version-state/version-state.component';\nimport {PendingChangesGuard} from '../eo-framework-core/pending-changes/pending-changes-guard.service';\nimport {AuthGuard} from '../eo-framework-core/route-guards/auth/auth-guard.service';\nimport {CapabilitiesGuard} from '../eo-framework-core/route-guards/capabilities/capabilities-guard.service';\nimport {UploadOverlayGuard} from '../eo-framework/upload-overlay/upload-overlay-guard.service';\nimport {RecyclebinStateComponent} from './recyclebin-state/recyclebin-state.component';\n\n// Configure applications main routes (e.g. 404).\n// Child routes will be added by the feature modules link inbox etc.\nconst routes: Routes = [\n  {path: 'dashboard', component: DashboardComponent, canActivate: [AuthGuard, UploadOverlayGuard]},\n  {path: 'enter', component: LoginComponent},\n  {path: 'settings', component: SettingsComponent, canActivate: [AuthGuard, UploadOverlayGuard]},\n  {path: 'result', component: ResultStateComponent, canActivate: [AuthGuard, UploadOverlayGuard], canDeactivate: [PendingChangesGuard]},\n  {path: 'favorites', component: FavoriteStateComponent, canActivate: [AuthGuard, UploadOverlayGuard, CapabilitiesGuard], canDeactivate: [PendingChangesGuard]},\n  {path: 'stored-queries', component: StoredQueriesStateComponent, canActivate: [AuthGuard, UploadOverlayGuard, CapabilitiesGuard], canDeactivate: [PendingChangesGuard]},\n  {path: 'about', component: AboutStateComponent},\n  {path: 'process', component: ProcessStateComponent, canActivate: [AuthGuard, UploadOverlayGuard, CapabilitiesGuard], canDeactivate: [PendingChangesGuard]},\n  {path: 'notifications', component: NotificationsStateComponent, canActivate: [AuthGuard, UploadOverlayGuard, CapabilitiesGuard], canDeactivate: [PendingChangesGuard]},\n  {path: 'recyclebin', component: RecyclebinStateComponent, canActivate: [AuthGuard, UploadOverlayGuard, CapabilitiesGuard], canDeactivate: [PendingChangesGuard]},\n  {path: 'versions/:id', component: VersionStateComponent, canActivate: [AuthGuard, UploadOverlayGuard]},\n  // default route\n  {path: '', redirectTo: 'dashboard', pathMatch: 'full'},\n  // 404 route\n  {path: 'not-found', component: NotFoundComponent},\n  // redirecting route\n  {path: '**', component: NotFoundComponent}\n  // modules that contain own routing like inbox|object will\n  // automatically applied by importing their module in eo-client.module.ts\n];\n\n@NgModule({\n  imports: [CommonModule, RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class EoClientRoutingModule {\n}\n","import {CommonModule} from '@angular/common';\nimport {ModuleWithProviders, NgModule, Optional, SkipSelf} from '@angular/core';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {RouterModule} from '@angular/router';\nimport {YvcMasterDetailsModule} from '@yuuvis/components/master-details';\nimport {YvcSplitViewModule} from '@yuuvis/components/split-view';\n\nimport {EoFrameworkModule} from '../eo-framework/eo-framework.module';\nimport {GridModule} from '../eo-framework/grid/grid.module';\nimport {AboutStateComponent} from './about-state/about-state.component';\nimport {DashboardComponent} from './dashboard/dashboard.component';\nimport {EoClientRoutingModule} from './eo-client-routing.module';\nimport {FavoriteStateComponent} from './favorite-state/favorite-state.component';\nimport {InboxStateModule} from './inbox-state/inbox-state.module';\nimport {LoginComponent} from './login/login.component';\nimport {NotificationsStateComponent} from './notifications-state/notifications-state.component';\nimport {ObjectStateModule} from './object-state/object-state.module';\nimport {PrepareStateModule} from './prepare-state/prepare-state.module';\nimport {ProcessStateComponent} from './process-state/process-state.component';\nimport {ResultStateComponent} from './result-state/result-state.component';\nimport {SettingsComponent} from './settings/settings.component';\nimport {StoredQueriesStateComponent} from './stored-queries-state/stored-queries-state.component';\nimport {VersionStateComponent} from './version-state/version-state.component';\nimport {RecyclebinStateComponent} from './recyclebin-state/recyclebin-state.component';\nimport {YvcDropdownModule} from '@yuuvis/components/dropdown';\nimport {YuvWidgetGridModule} from '@yuuvis/widget-grid';\nimport {HttpClientModule} from '@angular/common/http';\nimport {IframeSetupComponent} from './dashboard/widgets/iframe-widget/iframe-setup/iframe-setup.component';\nimport {InfoInboxSetupComponent} from './dashboard/widgets/info-inbox-widget/info-inbox-setup/info-inbox-setup.component';\nimport {InfoIntraySetupComponent} from './dashboard/widgets/info-intray-widget/info-intray-setup/info-intray-setup.component';\nimport {IframeWidgetComponent, SafeUrlPipe} from './dashboard/widgets/iframe-widget/iframe-widget.component';\nimport {InfoInboxWidgetComponent} from './dashboard/widgets/info-inbox-widget/info-inbox-widget.component';\nimport {InfoIntrayWidgetComponent} from './dashboard/widgets/info-intray-widget/info-intray-widget.component';\nimport {LastEditedAndCreatedComponent} from './dashboard/widgets/last-edited-widget/last-edited-and-created.component';\nimport {SearchWidgetComponent} from './dashboard/widgets/search-widget/search-widget.component';\nimport {YvcTabsModule} from '@yuuvis/components/tabs';\n\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ObjectStateModule,\n    InboxStateModule,\n    PrepareStateModule,\n    EoClientRoutingModule,\n    EoFrameworkModule,\n    GridModule,\n    YvcMasterDetailsModule,\n    YvcTabsModule,\n    YvcSplitViewModule,\n    YvcDropdownModule,\n    YuvWidgetGridModule,\n    HttpClientModule\n  ],\n  declarations: [\n    DashboardComponent,\n    SettingsComponent,\n    LoginComponent,\n    ResultStateComponent,\n    FavoriteStateComponent,\n    NotificationsStateComponent,\n    AboutStateComponent,\n    StoredQueriesStateComponent,\n    ProcessStateComponent,\n    VersionStateComponent,\n    RecyclebinStateComponent,\n    IframeSetupComponent,\n    InfoInboxSetupComponent,\n    InfoIntraySetupComponent,\n    IframeWidgetComponent,\n    InfoInboxWidgetComponent,\n    InfoIntrayWidgetComponent,\n    SearchWidgetComponent,\n    SafeUrlPipe,\n    LastEditedAndCreatedComponent\n  ],\n  exports: [RouterModule, EoFrameworkModule]\n})\nexport class EoClientModule {\n\n  static forRoot(): ModuleWithProviders<EoClientModule> {\n    return {\n      ngModule: EoClientModule\n    };\n  }\n\n  constructor(@Optional() @SkipSelf() parentModule: EoClientModule) {\n    if (parentModule) {\n      throw new Error(\n        'EoClientModule is already loaded. Import it in the AppModule only');\n    }\n  }\n}\n","import {ColDef, GridOptions} from '@ag-grid-community/core';\nimport {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {DmsParams, SystemService, TranslateService, UserService, Utils} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {EmptyState} from '../../eo-framework-core/empty-state/empty-state.interface';\nimport {EmptyStateService} from '../../eo-framework-core/empty-state/empty-state.service';\nimport {PendingChangesComponent} from '../../eo-framework-core/pending-changes/pending-changes-component.interface';\nimport {PendingChangesService} from '../../eo-framework-core/pending-changes/pending-changes.service';\nimport {SelectionService} from '../../eo-framework-core/selection/selection.service';\nimport {PageTitleService} from '../../eo-framework-core/title/page-title.service';\nimport {CustomSortComponent} from '../../eo-framework/grid/extensions/custom-sort/custom-sort.component';\nimport {SetFilterComponent} from '../../eo-framework/grid/extensions/filter/setFilters/set-filter.component';\nimport {ISetFilter} from '../../eo-framework/grid/extensions/filter/setFilters/set-filters.interface';\nimport {GridComponent} from '../../eo-framework/grid/grid.component';\n@UntilDestroy()\n@Component({\n  selector: 'eo-favorite-state',\n  templateUrl: './favorite-state.component.html',\n  styleUrls: ['./favorite-state.component.scss']\n})\nexport class FavoriteStateComponent implements OnInit, PendingChangesComponent, OnDestroy {\n\n  gridOptions: GridOptions;\n  sortFields: ColDef[];\n  typeFilterFields: ISetFilter[];\n  gridData;\n  emptyState: EmptyState = {icon: '', text: '', className: ''};\n  showActionsMenu = true;\n  textFilterParams: any = {};\n\n  @ViewChild('eoGrid') eoGrid: GridComponent;\n\n  constructor(public selection: SelectionService,\n              public translate: TranslateService,\n              private system: SystemService,\n              private empty: EmptyStateService,\n              private pendingChanges: PendingChangesService,\n              private titleService: PageTitleService,\n              private userService: UserService) {\n    this.titleService.setBaseTitle(this.translate.instant('eo.favorites.list.title'));\n  }\n\n  set hasContent(hasContent: boolean) {\n    this.showActionsMenu = hasContent;\n  }\n\n  get hasContent(): boolean {\n    return this.showActionsMenu;\n  }\n\n  hasPendingChanges() {\n    return this.pendingChanges.hasPendingTask();\n  }\n\n  refreshGrid() {\n    this.userService.getFavorites().subscribe();\n  }\n\n  parseDmsParams(data): DmsParams {\n    return data && data.target ? {id: data.target.id, type: data.target.type} : null;\n  }\n\n  typeFilters() {\n    const data = this.gridData;\n    let uniqueByType = SetFilterComponent.uniqBy(data, 'target.type', this.system.getObjectTypes());\n    this.typeFilterFields = uniqueByType.map(t => Object.assign({\n      label: t.label,\n      value: true,\n      filter: (node) => node.data.target.type === t.qname,\n      id: t.qname\n    })).sort(Utils.sortValues('label'));\n  }\n\n  resetFilters() {\n    this.typeFilters();\n  }\n\n  updateGrid(data) {\n    this.emptyState = this.empty.getEmptyState(data ? data.length : -1);\n    if (this.eoGrid && this.eoGrid.isReady) {\n      this.eoGrid.updateRowData(data);\n      return this.resetFilters();\n    }\n\n    this.resetFilters();\n\n    let colDefs: ColDef[] = [\n      {\n        headerName: '',\n        field: '__custom',\n        cellRenderer: this.cellRenderer,\n        filter: false\n      }\n    ];\n\n    this.textFilterParams = {context: {defaultValue: ''}};\n    this.sortFields = [\n      {field: 'created', headerName: this.translate.instant('eo.inbox.sort.date'), sort: ''},\n      {field: 'title', headerName: this.translate.instant('eo.inbox.sort.title'), sort: ''}\n    ];\n\n    const sortColDefs = CustomSortComponent.sortColDefs(this.sortFields);\n\n    this.gridOptions = {\n      context: {count: data.length},\n      rowData: data,\n      columnDefs: colDefs.concat(sortColDefs),\n      rowBuffer: 20,\n      rowHeight: 80\n    };\n  }\n\n  cellRenderer(params) {\n    let icon = params.context.cr.render('type', params, {\n      value: params.data.target.type\n    });\n    let createdTime = params.context.cr.render('dateTime', params, {value: params.data.created});\n\n    return `<div class=\"list-item ${params.data.target.folder ? 'folder' : ''}\" unselectable>\n              ${icon}\n              <div class='content'>\n                <div class='title'>${params.data.title || ''}</div>\n                <div class='description date'>\n                  ${params.data.created ? '<span class=\"period\">' + createdTime + '</span>' : ''}\n                </div>\n              </div>\n              <div class=\"meta\">\n              </div>\n           </div>\n          `;\n  }\n\n  remove() {\n    let focused = this.selection.getFocus();\n    if (focused) {\n      this.userService.removeFavorite(focused.id).subscribe();\n    }\n  }\n\n  ngOnInit() {\n    this.refreshGrid();\n    this.userService.favoritesGridData$\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe(data => {\n        this.gridData = data;\n        this.updateGrid(this.gridData);\n      });\n  }\n\n  ngOnDestroy() {\n    this.selection.clear();\n  }\n}\n","<yvc-split-view [layoutSettingsID]=\"'favorite.state'\">\n\n  <ng-template yvcSplitArea [size]=\"30\">\n    <eo-list-container #eoList [applySelection]=\"{}\" [parseDmsParams]=\"parseDmsParams\">\n      <div class=\"eo-header\">\n        <eo-icon class=\"eo-header-icon\" [iconSrc]=\"'assets/_default/svg/ic_favorite.svg'\"></eo-icon>\n        <div class=\"eo-header-info\">\n          <div class=\"eo-header-title\" translate>eo.favorites.list.title</div>\n        </div>\n        <div class=\"eo-header-actions\">\n          <eo-icon class=\"button refresh-button\" [iconSrc]=\"'assets/_default/svg/ic_refresh.svg'\"\n            (click)=\"cFilter.resetFilter();cSort.reset();refreshGrid()\"\n            [iconTitle]=\"('eo.list.refresh' | translate)\"></eo-icon>\n\n          <eo-overlay #oFilter class=\"overlay-filter\" [iconSrc]=\"'assets/_default/svg/ic_filter.svg'\"\n            [iconTitle]=\"'eo.list.filter' | translate\">\n            <eo-custom-filter #cFilter (change)=\"cFilter.updateGrid(eoList.eoGridSubject, $event)\"\n              (active)=\"oFilter.onActiveChanged($event)\">\n              <eo-text-filter [title]=\"'eo.favorites.filter.title' | translate\" [id]=\"'favorites.text'\"\n                [matchFields]=\"['title']\" [filterParams]=\"textFilterParams\">\n              </eo-text-filter>\n              <eo-set-filter [operator]=\"'OR'\" [id]=\"'favorites.set'\"\n                [title]=\"'eo.favorites.filter.section.objecttype' | translate\"\n                [options]=\"typeFilterFields\"></eo-set-filter>\n            </eo-custom-filter>\n          </eo-overlay>\n\n          <eo-overlay #oSort class=\"overlay-sort\" [iconSrc]=\"'assets/_default/svg/ic_sort.svg'\"\n            [iconTitle]=\"'eo.list.sort' | translate\">\n            <eo-custom-sort #cSort [id]=\"'favorites.sort'\" (change)=\"cSort.updateGrid(eoList.eoGrid, $event)\"\n              (active)=\"oSort.onActiveChanged($event)\" [sortFields]=\"sortFields\"></eo-custom-sort>\n          </eo-overlay>\n\n          <eo-icon class=\"button\" (click)=\"hasContent ? eoList.showActions() : false\"\n            [ngClass]=\"{'disabled': !hasContent, 'actions-button': hasContent}\"\n            [iconTitle]=\"'eo.object.actions.title' | translate\" [iconSrc]=\"'assets/_default/svg/ic_more.svg'\"></eo-icon>\n        </div>\n      </div>\n      <div class=\"eo-body\">\n        <eo-grid #eoGrid *ngIf=\"gridOptions?.rowData\" [gridOptions]=\"gridOptions\" [fullWidth]=\"true\" [showHeader]=\"true\"\n          [showFooter]=\"true\" (eoGridCountChanged)=\"eoList.onCountChanged($event)\"\n          (eoGridContextMenuClick)=\"eoList.onContextMenu($event, 'DMS_OBJECT')\"\n          (eoGridSelectionChanged)=\"eoList.onSelectionChanged($event)\"\n          (eoGridDoubleClick)=\"eoList.onDoubleClick($event)\" (eoGridFocusChanged)=\"eoList.onFocusChanged($event)\">\n\n          <div class=\"header\">\n          </div>\n\n          <div class=\"footer\">\n            <eo-total-count [gridCount]=\"eoList.gridCount\" [outsideGrid]=\"false\" class=\"flex-row\"></eo-total-count>\n          </div>\n\n          <div class=\"empty\">\n            <eo-error-message\n              [emptyState]=\"{icon: 'ic_favorite.svg', text: oFilter.active ? 'eo.no.filter.result' : 'eo.favorites.list.empty'}\"></eo-error-message>\n            <eo-reset-filter [isFilterActive]=\"oFilter.active\"\n              (click)=\"cFilter.resetFilter();cSort.reset();refreshGrid()\"></eo-reset-filter>\n          </div>\n\n        </eo-grid>\n      </div>\n    </eo-list-container>\n  </ng-template>\n\n  <ng-template yvcSplitArea [size]=\"70\">\n    <eo-object-details [applySelection]=\"{}\" [parseDmsParams]=\"parseDmsParams\" [emptyState]=\"emptyState\"\n      [cacheLayout]=\"'favorite.state.object-details'\" (hasContent)=\"hasContent = $event\">\n      <eo-tab-plugin [type]=\"'object-details-tab.favorite'\"></eo-tab-plugin>\n\n      <div class=\"error\" *ngIf=\"gridData?.length && !hasContent\">\n        <button class=\"button\" (click)=\"remove()\" translate>eo.favorite.details.item.gone.remove</button>\n      </div>\n    </eo-object-details>\n  </ng-template>\n</yvc-split-view>","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {InboxStateComponent} from './inbox-state/inbox-state.component';\nimport {PendingChangesGuard} from '../../eo-framework-core/pending-changes/pending-changes-guard.service';\nimport {AuthGuard} from '../../eo-framework-core/route-guards/auth/auth-guard.service';\nimport {CapabilitiesGuard} from '../../eo-framework-core/route-guards/capabilities/capabilities-guard.service';\nimport {UploadOverlayGuard} from '../../eo-framework/upload-overlay/upload-overlay-guard.service';\n\nconst routes: Routes = [\n  {\n    path: 'inbox',\n    component: InboxStateComponent,\n    canActivate: [AuthGuard, UploadOverlayGuard, CapabilitiesGuard], canDeactivate: [PendingChangesGuard]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class InboxStateRoutingModule {\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport {InboxStateRoutingModule} from './inbox-state-routing.module';\nimport {InboxStateComponent} from './inbox-state/inbox-state.component';\nimport {GridModule} from '../../eo-framework/grid/grid.module';\nimport {EoFrameworkModule} from '../../eo-framework/eo-framework.module';\nimport {YvcSplitViewModule} from '@yuuvis/components/split-view';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    InboxStateRoutingModule,\n    GridModule,\n    EoFrameworkModule,\n    YvcSplitViewModule\n  ],\n  declarations: [InboxStateComponent]\n})\nexport class InboxStateModule {\n}\n","import {ColDef, GridOptions} from '@ag-grid-community/core';\nimport {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {EventService, InboxItem, InboxService, InboxState, LocalStorageService, TranslateService} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {EmptyState} from '../../../eo-framework-core/empty-state/empty-state.interface';\nimport {EmptyStateService} from '../../../eo-framework-core/empty-state/empty-state.service';\nimport {PendingChangesComponent} from '../../../eo-framework-core/pending-changes/pending-changes-component.interface';\nimport {PendingChangesService} from '../../../eo-framework-core/pending-changes/pending-changes.service';\nimport {SelectionService} from '../../../eo-framework-core/selection/selection.service';\nimport {PageTitleService} from '../../../eo-framework-core/title/page-title.service';\nimport {CustomSortComponent} from '../../../eo-framework/grid/extensions/custom-sort/custom-sort.component';\nimport {ISetFilter} from '../../../eo-framework/grid/extensions/filter/setFilters/set-filters.interface';\nimport {GridComponent} from '../../../eo-framework/grid/grid.component';\nimport {InboxTypes, InboxTypesFilter} from './inbox.types.enum';\n@UntilDestroy()\n@Component({\n  selector: 'eo-inbox-state',\n  templateUrl: './inbox-state.component.html',\n  styleUrls: ['./inbox-state.component.scss']\n})\nexport class InboxStateComponent implements OnInit, OnDestroy, PendingChangesComponent {\n\n  gridOptions: GridOptions;\n  sortFields: ColDef[];\n  inboxFilterFields: ISetFilter[] = [];\n  typeFilterFields: ISetFilter[] = [];\n  inboxSelectionId = 'inbox';\n  inboxDmsObjectSelectionId = 'inbox_dms';\n  inboxSelection: SelectionService;\n  selectFirst = true;\n  idMatch = true;\n  gridData;\n  defaultFilterParams: any = {};\n  emptyState: EmptyState = {icon: 'ic_no-file.svg', text: '', className: ''};\n  inboxChanged = false;\n  storageKeyLastItemID = 'eo.inbox.lastItemID';\n\n  @ViewChild('eoGrid') eoGrid: GridComponent;\n\n  constructor(public translate: TranslateService,\n    public selection: SelectionService,\n    private titleService: PageTitleService,\n    public inboxService: InboxService,\n    private pendingChanges: PendingChangesService,\n    private empty: EmptyStateService,\n    private eventService: EventService,\n    private route: ActivatedRoute,\n    private storageService: LocalStorageService) {\n    this.titleService.setBaseTitle(this.translate.instant('eo.inbox.list.title'));\n    //secondary selection instance for inbox items\n    this.inboxSelection = this.selection.createNew(this.inboxSelectionId);\n    this.selection.createNew(this.inboxDmsObjectSelectionId);\n\n    this.route.queryParams\n      .pipe(untilDestroyed(this))\n      .subscribe((params: any) => {\n        this.defaultFilterParams = {context: {defaultValue: params.id}};\n      });\n\n    this.inboxService.inboxState$\n      .pipe(untilDestroyed(this))\n      .subscribe((state: InboxState) => {\n        if (this.eoGrid) {\n          // todo: temporary fix until status service update\n          // this.inboxChanged = this.eoGrid.contextCount !== state.totalmessages;\n        }\n      });\n  }\n\n  onCountChanged(evt: any) {\n    if (this.defaultFilterParams.context && this.defaultFilterParams.context.defaultValue) {\n      if (evt.rowCount === 0) {\n        this.idMatch = false;\n        this.defaultFilterParams.context.defaultValue = '';\n        this.inboxSelection.clear();\n        this.inboxSelection.disable();\n        this.eoGrid.gridOptions.context.count = 0;\n      } else {\n        this.defaultFilterParams.context.defaultValue = '';\n      }\n    }\n  }\n\n  hasPendingChanges() {\n    return this.pendingChanges.hasPendingTask();\n  }\n\n  refreshGrid() {\n    this.inboxChanged = false;\n    this.inboxSelection.disable(false);\n    this.inboxService.getItems().subscribe();\n    this.inboxService.refreshInboxState();\n  }\n\n  itemFilterFields(node, item) {\n    const value = node.data[InboxTypesFilter[item]];\n    const acceptedAndUnacceptedCombined = this.inboxFilterFields.find(filter => filter.id === 'acceptedTasks').value\n      && this.inboxFilterFields.find(filter => filter.id === 'unacceptedTasks').value;\n    switch (InboxTypesFilter[item]) {\n      case InboxTypesFilter.overdue:\n        return node.data.isOverdue();\n      case InboxTypesFilter.absent:\n        return !!value;\n      case InboxTypesFilter.acceptedTasks:\n        return acceptedAndUnacceptedCombined ? node.data.type === 'BPM' : node.data.type === 'BPM' && !!node.data.accepted;\n      case InboxTypesFilter.unacceptedTasks:\n        return acceptedAndUnacceptedCombined ? node.data.type === 'BPM' : node.data.type === 'BPM' && !node.data.accepted;\n    }\n  }\n\n  fieldFilters() {\n    this.typeFilterFields = Object.keys(InboxTypes).map(item => ({\n      label: this.translate.instant(`eo.inbox.${item}`),\n      filter: (node) => node.data.type === item,\n      value: true,\n      id: item\n    }));\n\n    this.inboxFilterFields = Object.keys(InboxTypesFilter).map(item => ({\n      label: this.translate.instant(`eo.inbox.filter.${item}`),\n      filter: (node) => this.itemFilterFields(node, item),\n      value: false,\n      id: item\n    }));\n  }\n\n  resetFilters() {\n    this.fieldFilters();\n  }\n\n  updateGrid(data: InboxItem[]): void {\n    this.emptyState = this.empty.getEmptyState(data ? data.length : -1, undefined, 'ic_no-file.svg');\n\n    if (this.eoGrid && this.eoGrid.isReady) {\n      return this.eoGrid.updateRowData(data);\n    }\n\n    this.resetFilters();\n\n    let colDefs: ColDef[] = [{\n      headerName: '',\n      field: '__custom',\n      cellRenderer: this.cellRenderer,\n      filter: false\n      // cellRendererFramework: InboxRendererComponent\n    }];\n\n    this.sortFields = [\n      {\n        field: 'received', headerName: this.translate.instant('eo.inbox.sort.date'), sort: '',\n        valueGetter: (p) => (p.data[p.colDef.field] || '').match(/\\+\\d\\d:\\d\\d/) ? new Date(p.data[p.colDef.field]).toISOString() : p.data[p.colDef.field]\n      },\n      {field: 'title', headerName: this.translate.instant('eo.inbox.sort.title'), sort: ''},\n      {field: 'description', headerName: this.translate.instant('eo.inbox.sort.description'), sort: ''}\n    ];\n\n    let sortColDefs = CustomSortComponent.sortColDefs(this.sortFields);\n\n    this.gridOptions = {\n      context: {count: data.length},\n      rowData: data,\n      columnDefs: colDefs.concat(sortColDefs),\n      rowBuffer: 20,\n      rowHeight: 80,\n      rowSelection: 'single'\n    };\n  }\n\n  cellRenderer(params) {\n\n    let label = '';\n    if (Object.keys(InboxTypes).includes(params.data.type)) {\n      label = params.context.translate.instant(`eo.inbox.${params.data.type}`);\n    }\n\n    const url = `assets/_default/svg/ic_${InboxTypes[params.data.type]}.svg`;\n\n    let icon = params.context.cr.render('icon', params, {value: {url, label}});\n    let shortDate = params.context.cr.render('dateTime', params, {value: params.data.received, pattern: 'eoShortDate'});\n    let shortTime = params.context.cr.render('dateTime', params, {value: params.data.received, pattern: 'eoShortTime'});\n    let duetime = params.context.cr.render('dateTime', params, {value: params.data.duetime});\n    const titleClass = params.data.accepted ? 'title' : 'title-bold';\n\n    return `<div class=\"list-item${params.data.folder ? ' folder' : ''}\" unselectable>\n              ${icon}\n              <div class='content'>\n                <div class='${titleClass}'>${params.data.title || ''}</div>\n                <div class='description'>${params.data.description || ''}</div>\n                <div class='notes${params.data.isOverdue() ? ' pastDue' : ''}'>\n                  ${params.data.duetime ? '<span class=\"period\">' + duetime + '</span>' : ''}\n                  ${params.data.isdeputy ? '<span>' + params.context.translate.instant('eo.inbox.item.note.absence') + '</span>' : ''}\n                </div>\n              </div>\n              <div class=\"meta\">\n                <div class=\"date\">${shortDate}</div>\n                <div class=\"date\">${shortTime}</div>\n              </div>\n           </div>\n          `;\n  }\n\n  ngOnInit() {\n    this.refreshGrid();\n    this.inboxService\n      .inboxItemsGridData$\n      .pipe(untilDestroyed(this))\n      .subscribe((data: InboxItem[]) => {\n\n        this.gridData = data;\n        this.updateGrid(this.gridData);\n\n        const lastInboxItemID = this.storageService.getItem(this.storageKeyLastItemID);\n        if (lastInboxItemID) {\n          const item = this.gridData.find(i => i.id === lastInboxItemID);\n          if (item) {\n            this.selectFirst = false;\n            setTimeout(() => this.eoGrid.selectRow(item), 500);\n          }\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.selection.clear();\n  }\n}\n","<yvc-split-view [layoutSettingsID]=\"'inbox.state'\">\n  <!-- list -->\n  <ng-template yvcSplitArea [size]=\"30\">\n    <eo-list-container #eoList [applySelection]=\"{out: inboxSelectionId}\">\n      <div class=\"eo-header\">\n\n        <eo-icon class=\"eo-header-icon\" [iconSrc]=\"'assets/_default/svg/ic_inbox.svg'\"></eo-icon>\n        <div class=\"eo-header-info\">\n          <div class=\"eo-header-title\" translate>eo.inbox.list.title</div>\n        </div>\n        <div class=\"eo-header-actions\">\n          <eo-icon class=\"button refresh-button\" [ngClass]=\"{inboxChanged: inboxChanged}\"\n            (click)=\"cFilter.resetFilter(); refreshGrid()\" [iconSrc]=\"'assets/_default/svg/ic_refresh.svg'\"\n            [iconTitle]=\"('eo.list.refresh' | translate)\"></eo-icon>\n\n          <eo-overlay #oFilter class=\"overlay-filter\" [iconSrc]=\"'assets/_default/svg/ic_filter.svg'\" [iconTitle]=\"'eo.list.filter' | translate\">\n            <eo-custom-filter #cFilter (change)=\"cFilter.updateGrid(eoList.eoGridSubject, $event)\"\n              (active)=\"oFilter.onActiveChanged($event)\">\n              <eo-text-filter [title]=\"'eo.inbox.filter.title' | translate\" [filterParams]=\"defaultFilterParams\"\n                [id]=\"'inbox.text'\" [matchFields]=\"['title','description','id']\" [enableSave]=\"true\"></eo-text-filter>\n              <eo-set-filter class=\"type-filters\" [operator]=\"'OR'\" [id]=\"'inbox.type'\" [filterParams]=\"defaultFilterParams\" [options]=\"typeFilterFields\"></eo-set-filter>\n              <eo-set-filter class=\"inbox-filters\" [operator]=\"'AND'\" [id]=\"'inbox.set'\" [filterParams]=\"defaultFilterParams\" [options]=\"inboxFilterFields\"></eo-set-filter>\n            </eo-custom-filter>\n          </eo-overlay>\n\n          <eo-overlay #oSort class=\"overlay-sort\" [iconSrc]=\"'assets/_default/svg/ic_sort.svg'\"\n            [iconTitle]=\"'eo.list.sort' | translate\">\n            <eo-custom-sort #cSort [id]=\"'inbox.sort'\" (change)=\"cSort.updateGrid(eoList.eoGrid, $event)\"\n              (active)=\"oSort.onActiveChanged($event)\" [sortFields]=\"sortFields\"></eo-custom-sort>\n          </eo-overlay>\n\n        </div>\n      </div>\n      <div class=\"eo-body\">\n        <eo-grid #eoGrid *ngIf=\"gridOptions?.rowData\" [gridOptions]=\"gridOptions\" [fullWidth]=\"true\" [showHeader]=\"true\"\n          [showFooter]=\"true\" [selectFirst]=\"selectFirst\" [options]=\"{filterActive: oFilter.active}\"\n          (eoGridCountChanged)=\"eoList.onCountChanged($event);onCountChanged($event)\"\n          (eoGridSelectionChanged)=\"eoList.onSelectionChanged($event)\"\n          (eoGridFocusChanged)=\"eoList.onFocusChanged($event)\">\n          <div class=\"header\">\n          </div>\n\n          <div class=\"footer\">\n            <eo-total-count [gridCount]=\"eoList.gridCount\" [outsideGrid]=\"false\" class=\"flex-row\"></eo-total-count>\n          </div>\n\n          <div class=\"empty\">\n            <eo-error-message\n              [emptyState]=\"{icon: 'ic_inbox.svg', text: oFilter.active ? 'eo.no.filter.result' : 'eo.inbox.list.empty'}\"></eo-error-message>\n            <eo-reset-filter [isFilterActive]=\"oFilter.active\"\n              (click)=\"cFilter.resetFilter();cSort.reset();refreshGrid()\"></eo-reset-filter>\n          </div>\n\n        </eo-grid>\n      </div>\n    </eo-list-container>\n  </ng-template>\n  <!-- inbox details -->\n  <ng-template yvcSplitArea [size]=\"30\">\n    <eo-inbox-details [applySelection]=\"{in: inboxSelectionId, out: inboxDmsObjectSelectionId}\"\n      [emptyState]=\"emptyState\">\n      <eo-tab-plugin [type]=\"'inbox-details-tab.inbox'\"></eo-tab-plugin>\n    </eo-inbox-details>\n  </ng-template>\n  <!-- object details -->\n  <ng-template yvcSplitArea [size]=\"40\">\n    <eo-object-details [applySelection]=\"{in: inboxDmsObjectSelectionId}\" [cacheLayout]=\"'inbox.state.object-details'\">\n      <eo-tab-plugin [type]=\"'object-details-tab.inbox'\"></eo-tab-plugin>\n    </eo-object-details>\n  </ng-template>\n</yvc-split-view>","export enum InboxTypesFilter {\n  acceptedTasks = 'acceptedtasks',\n  unacceptedTasks = 'unacceptedtasks',\n  absent = 'isdeputy',\n  overdue = 'overdue',\n}\n\nexport enum InboxTypes {\n  RESUBMISSION = 'resubmission',\n  SUBSCRIPTION = 'subscription',\n  BPM = 'bpm'\n}\n","export * from './eo-client.module';\n\nexport * from './about-state/about-state.component';\nexport * from './dashboard/dashboard.component';\nexport * from './favorite-state/favorite-state.component';\nexport * from './inbox-state/inbox-state.module';\nexport * from './inbox-state/inbox-state/inbox-state.component';\nexport * from './inbox-state/inbox-state/inbox.types.enum';\nexport * from './login/login.component';\nexport * from './notifications-state/notifications-state.component';\nexport * from './notifications-state/notifications-state.interface';\nexport * from './object-state/object-state.module';\nexport * from './object-state/object-state/object-state.component';\nexport * from './object-state/object-state-service/object-state.service';\nexport * from './prepare-state/prepare-state.module';\nexport * from './prepare-state/prepare-state/prepare-state.component';\nexport * from './result-state/result-state.component';\nexport * from './settings/settings.component';\nexport * from './settings/agent-lock-settings.enum';\nexport * from './stored-queries-state/stored-queries-state.component';\nexport * from './version-state/version-state.component';\n","import {finalize, switchMap} from 'rxjs/operators';\nimport {of as observableOf} from 'rxjs';\nimport {Component, OnInit, ChangeDetectorRef, ViewChild, ElementRef} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {DomSanitizer, SafeResourceUrl} from '@angular/platform-browser';\nimport {AuthService, EnvironmentService, Utils, Config, EnvironmentEnaio, TranslateService, UserService} from '@eo-sdk/core';\nimport {PageTitleService} from '../../eo-framework-core/title/page-title.service';\n\n@Component({\n  selector: 'eo-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  @ViewChild('setAsPresent') setAsPresentButton: ElementRef;\n  backgroundImage: SafeResourceUrl;\n  appLogo: string;\n  form: any = {};\n  profiles: {label: string, value: string}[] = [];\n  loading = false;\n  invalid = false;\n  private returnUrl: string;\n  native = false;\n  cloudEnvironment: boolean;\n  urlToNavigate: string;\n  showAbsentDialog = false;\n  removeProfile = (p) => p;\n\n  constructor(private route: ActivatedRoute,\n              private router: Router,\n              private config: Config,\n              private titleService: PageTitleService,\n              private translate: TranslateService,\n              private envService: EnvironmentService,\n              private sanitizer: DomSanitizer,\n              private cd: ChangeDetectorRef,\n              private authService: AuthService,\n              private userService: UserService) {\n\n    this.cloudEnvironment = this.envService.isCloud();\n    this.backgroundImage = this.sanitizer.bypassSecurityTrustStyle(`url(${this.config.getDashboardBackgroundImage()})`);\n    this.titleService.setDefaultTitle();\n    // if we are no web app (e.g. cordova or electron) the login\n    // form will be extended by a field for selecting a target host\n    this.native = !EnvironmentEnaio.isWebEnvironment();\n    this.profiles = authService.hosts.map(host => ({\n      label: host ? host : 'local',\n      value: host || ''\n    }));\n    this.appLogo = this.config.getRaw('appLogo');\n  }\n\n  ngOnInit() {\n    if (this.route.snapshot.params['logout']) {\n      this.authService.logout(true);\n    }\n    this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\n    // because returnUrl was fetched from location, we need to grab the actual route\n    const currentLoc = location.href.substr(location.origin.length);\n\n    const prefix = currentLoc.substring(0, currentLoc.indexOf('/enter'));\n    this.returnUrl = this.returnUrl.replace(prefix, '').replace('index.html', '');\n\n    // loading login state as the user is already authenticated will redirect to home\n    if (this.authService.isLoggedIn()) {\n      this.router.navigate(['/']);\n    } else {\n      // if there is no logged in user, select the browsers language for\n      // the login dialog\n      let browserLang = this.translate.getBrowserLang();\n      this.translate.use(browserLang.match(/en|de/) ? browserLang : 'en');\n    }\n  }\n\n  login() {\n    this.loading = true;\n    this.invalid = false;\n    observableOf(null).pipe(\n      switchMap(() => {\n        return this.cloudEnvironment ?\n          this.authService.cloudLogin(this.form.host, this.form.tenant) :\n          this.authService.login(this.form.host, this.form.username, this.form.password);\n      }),\n      finalize(() => (this.loading = false))\n    ).subscribe(() => {\n        this.urlToNavigate = this.returnUrl || '/';\n        if (!this.userService.getCurrentUser().present) {\n          this.showAbsentDialog = true;\n          setTimeout(() => this.setAsPresentButton.nativeElement.focus(), 0);\n        } else {\n          this.router.navigateByUrl(this.urlToNavigate).then(() => {\n            this.cd.markForCheck();\n          });\n        }\n      }, Utils.throw(() => {\n        this.invalid = true;\n      })\n    );\n  }\n\n  closeShowAbsentDialog(setAsPresent = false) {\n    this.showAbsentDialog = false;\n\n    if (setAsPresent) {\n      this.userService.setPresence(setAsPresent).subscribe();\n    }\n    this.router.navigateByUrl(this.urlToNavigate).then(() => {\n      this.cd.markForCheck();\n    });\n  }\n}\n","<div class=\"eo-login-container\" [style.background-image]=\"backgroundImage\">\n  <div class=\"eo-login\">\n\n    <div class=\"head\" *ngIf=\"!cloudEnvironment\">\n      <eo-icon [iconSrc]=\"appLogo\"></eo-icon>\n    </div>\n\n    <div class=\"invalid\" *ngIf=\"invalid\" translate>eo.state.login.msg.invalid</div>\n\n    <form (ngSubmit)=\"login()\" #loginForm=\"ngForm\">\n\n      <fieldset [ngClass]=\"{loading: loading}\">\n\n        <div class=\"form-item\" *ngIf=\"native\" [ngClass]=\"{empty: !profiles || profiles.length === 0}\">\n          <yvc-dropdown [options]=\"profiles\" placeholder=\"host\"\n                      [required]=\"true\"\n                      [(ngModel)]=\"form.host\" name=\"profile\">\n            <ng-template let-profile pTemplate=\"item\">\n              <div class=\"option-row\">\n                <div>{{profile.label}}</div>\n                <eo-icon [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\"\n                         (click)=\"removeProfile(profile.value)\"></eo-icon>\n              </div>\n            </ng-template>\n          </yvc-dropdown>\n          <label translate>eo.state.login.host</label>\n        </div>\n\n        <!-- form login -->\n        <ng-container *ngIf=\"!cloudEnvironment; else tplCloudLogin\">\n          <div class=\"form-item\">\n            <input type=\"text\" class=\"form-control\" id=\"username\" placeholder=\"{{'eo.state.login.username'|translate}}\"\n                   [disabled]=\"loading\" autofocus\n                   [(ngModel)]=\"form.username\" name=\"username\" required tabindex=\"1\">\n            <label for=\"username\" translate>eo.state.login.username</label>\n          </div>\n          <div class=\"form-item\">\n            <input type=\"password\" class=\"form-control\" id=\"password\"\n                   placeholder=\"{{'eo.state.login.password'|translate}}\"\n                   [disabled]=\"loading\"\n                   [(ngModel)]=\"form.password\" name=\"password\" required tabindex=\"2\">\n            <label for=\"password\" translate>eo.state.login.password</label>\n          </div>\n        </ng-container>\n\n        <!-- cloud login -->\n        <ng-template #tplCloudLogin>\n          <div class=\"form-item\">\n            <input type=\"text\" class=\"form-control\" id=\"tenant\" placeholder=\"{{'eo.state.login.tenant'|translate}}\"\n                   [disabled]=\"loading\" autofocus\n                   [(ngModel)]=\"form.tenant\" name=\"tenant\" required tabindex=\"1\">\n            <label for=\"tenant\" translate>eo.state.login.tenant</label>\n          </div>\n        </ng-template>\n\n      </fieldset>\n      <div class=\"actions\">\n        <button type=\"submit\" class=\"primary\" [disabled]=\"!loginForm.form.valid || loading\"\n                [ngClass]=\"{spinner: loading}\"\n                translate tabindex=\"3\">eo.state.login.submit</button>\n      </div>\n    </form>\n  </div>\n</div>\n\n<eo-dialog [title]=\"'eo.state.login.presence.dialog.title' | translate\" [(visible)]=\"showAbsentDialog\"\n           [focusOnShow]=\"false\" [minWidth]=\"400\" [styleClass]=\"'login-presence__dialog'\">\n\n  <div>\n    <span>{{'eo.state.login.presence.dialog.message' | translate}}</span>\n  </div>\n\n  <div class=\"action-buttons login-presence--action-buttons flex-row\">\n    <button type=\"button\" class=\"button cancel\" (click)=\"closeShowAbsentDialog()\"\n            translate>eo.state.login.presence.dialog.cancel</button>\n    <button type=\"button\" #setAsPresent (click)=\"closeShowAbsentDialog(true)\" class=\"button primary\"\n            translate>eo.state.login.presence.dialog.setAsPresent</button>\n  </div>\n</eo-dialog>\n","import {ColDef, GridOptions} from '@ag-grid-community/core';\nimport {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {\n  BackendService, DmsObject,\n  DmsParams, DmsService, EnaioEvent,\n  EventService, SystemService, TranslateService, UserService, Utils\n} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {catchError} from 'rxjs/operators';\nimport {EmptyState} from '../../eo-framework-core/empty-state/empty-state.interface';\nimport {EmptyStateService} from '../../eo-framework-core/empty-state/empty-state.service';\nimport {PendingChangesComponent} from '../../eo-framework-core/pending-changes/pending-changes-component.interface';\nimport {PendingChangesService} from '../../eo-framework-core/pending-changes/pending-changes.service';\nimport {SelectionService} from '../../eo-framework-core/selection/selection.service';\nimport {PageTitleService} from '../../eo-framework-core/title/page-title.service';\nimport {CustomSortComponent} from '../../eo-framework/grid/extensions/custom-sort/custom-sort.component';\nimport {SetFilterComponent} from '../../eo-framework/grid/extensions/filter/setFilters/set-filter.component';\nimport {ISetFilter} from '../../eo-framework/grid/extensions/filter/setFilters/set-filters.interface';\nimport {GridComponent} from '../../eo-framework/grid/grid.component';\nimport {INotificationState, IResubmission, ISubscription} from './notifications-state.interface';\n@UntilDestroy()\n@Component({\n  selector: 'eo-notifications-state',\n  templateUrl: './notifications-state.component.html',\n  styleUrls: ['./notifications-state.component.scss']\n})\nexport class NotificationsStateComponent implements OnInit, PendingChangesComponent, OnDestroy {\n\n  gridOptions: GridOptions;\n  sortFields: ColDef[];\n  typeFilterFields: ISetFilter[];\n  objectTypeFilterFields: ISetFilter[];\n  selectedItems: DmsObject[];\n  gridData;\n  emptyState: EmptyState = EmptyStateService.defaultEmptyState();\n  textFilterParams: any = {};\n\n  @ViewChild('eoGrid') eoGrid: GridComponent;\n\n  constructor(public selection: SelectionService,\n    public translate: TranslateService,\n    public system: SystemService,\n    private pendingChanges: PendingChangesService,\n    private empty: EmptyStateService,\n    private backend: BackendService,\n    private eventService: EventService,\n    private dmsService: DmsService,\n    private titleService: PageTitleService,\n    public userService: UserService) {\n    this.titleService.setBaseTitle(this.translate.instant('eo.notifications.list.title'));\n  }\n\n  hasPendingChanges() {\n    return this.pendingChanges.hasPendingTask();\n  }\n\n  getNotificationData() {\n    this.userService\n      .getNotifications()\n      .subscribe(([sub, reSub]: [ISubscription[], IResubmission[]]) => {\n        const data = [...sub, ...reSub];\n        this.gridData = data;\n        this.updateGrid(this.gridData);\n      });\n  }\n\n  refreshGrid() {\n    this.getNotificationData();\n  }\n\n  parseDmsParams(data): DmsParams {\n    return data && data.target ? { id: data.target.id, type: data.target.type } : null;\n  }\n\n  remove() {\n    const focused = this.selection.getFocus();\n    if (focused) {\n      this.userService.removeNotifications(focused.id, focused.messagetype)\n        .subscribe(val => this.eventService.trigger(EnaioEvent.DMS_OBJECT_DELETED, focused));\n    }\n  }\n\n  removeSubscriptionAndResubmissions(){\n    const focused = this.selection.getFocus();\n    if (focused) {\n      this.dmsService.getDmsObject(focused.target.id, null, null, null, true).subscribe(dmsObject => {\n        this.dmsService.removeResubmissionsById(focused.target.id, dmsObject).pipe(catchError(Utils.catchSkip(err => err.status === 404))).subscribe();\n        this.dmsService.removeSubscriptionById(dmsObject.subscriptions[0].id, dmsObject).pipe(catchError(Utils.catchSkip(err => err.status === 404))).subscribe()\n        this.eventService.trigger(EnaioEvent.DMS_OBJECT_DELETED, focused);\n      });\n    }\n  }\n\n  resetFilters() {\n    this.typeFilters(this.gridData);\n  }\n\n  typeFilter(data) {\n    const uniqueByType = SetFilterComponent.uniqBy(data, 'target.type', this.system.getObjectTypes());\n    this.typeFilterFields = uniqueByType.map((type) => Object.assign({\n      label: type.label,\n      value: true,\n      filter: (node) => node.data.target.type === type.qname,\n      id: type.qname\n    })).sort(Utils.sortValues('label'));\n  }\n\n  objectTypeFilter(data) {\n    const uniqueByMessageType: INotificationState[] = SetFilterComponent.uniqByProperty(data, 'messagetype');\n    this.objectTypeFilterFields = uniqueByMessageType.map(type => Object.assign({\n      label: this.translate.instant(`eo.notifications.filter.${type.messagetype.toLowerCase()}.label`),\n      value: true,\n      filter: (node) => node.data.messagetype === type.messagetype,\n      id: type.messagetype\n    })).sort(Utils.sortValues('label'));\n  }\n\n  typeFilters(data) {\n    this.typeFilter(data);\n    this.objectTypeFilter(data);\n  }\n\n  updateGrid(data: INotificationState | any) {\n    this.emptyState = this.empty.getEmptyState(data ? data.length : -1);\n\n    if (this.eoGrid && this.eoGrid.isReady) {\n      this.eoGrid.updateRowData(data);\n      return this.resetFilters();\n    }\n\n    this.resetFilters();\n\n    const colDefs: ColDef[] = [\n      {\n        headerName: '',\n        field: '__custom',\n        cellRenderer: this.cellRenderer,\n        filter: false\n      }];\n\n    this.textFilterParams = { context: { defaultValue: '' } };\n    this.sortFields = [\n      { field: 'due', headerName: this.translate.instant('eo.notifications.sort.due'), sort: '' },\n      { field: 'info', headerName: this.translate.instant('eo.notifications.sort.title'), sort: '' },\n      { field: 'messagetype', headerName: this.translate.instant('eo.notifications.sort.type'), sort: '' }\n    ];\n\n    const sortColDefs = CustomSortComponent.sortColDefs(this.sortFields);\n    this.gridOptions = {\n      context: { count: data.length },\n      rowData: data,\n      columnDefs: colDefs.concat(sortColDefs),\n      rowBuffer: 20,\n      rowHeight: 80\n    };\n  }\n\n  cellRenderer(params) {\n\n    const icon = params.context.cr.render('icon', params, {\n      value: {\n        url: `assets/_default/svg/ic_${params.data.messagetype.toLowerCase()}.svg`,\n        label: params.context.translate.instant(`eo.notifications.filter.${params.data.messagetype.toLowerCase()}.label`)\n      }\n    });\n\n    const folder = params.data.target.isfolder ? 'folder' : '';\n    const createdTime = params.context.cr.render('dateTime', params, { value: params.data.due });\n\n    return `<div class=\"list-item ${folder}\" messagetype=\"${params.data.messagetype}\" unselectable>\n              ${icon}\n              <div class=\"content\">\n                <div class=\"title\">${params.data.info || ''}</div>\n                <div class=\"meta\">\n                  <div class=\"description\">\n                    ${params.data.target.description}\n                  </div>\n                  <div class='description date'>\n                    <span class=\"period\">${createdTime}</span>\n                  </div>\n                </div>\n              </div>\n            </div>`;\n  }\n\n  ngOnInit() {\n    this.refreshGrid();\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_UPDATED)\n      .pipe(untilDestroyed(this))\n      .subscribe(event => {\n        let removedEntries = [];\n        this.gridData.forEach((entry, i) => {\n          if (entry.target.id === event.data.id) {\n            if (entry.subscribedactions) {// if subscription entry\n              if (!event.data.subscriptions.find(s => s.id === entry.id)) {\n                removedEntries.push(entry);\n              }\n            } else {\n              if (!event.data.resubmissions.find(s => s.id === entry.id)) {\n                removedEntries.push(entry);\n              }\n            }\n          }\n        });\n        event.data.resubmissions.concat(event.data.subscriptions).forEach(item => {\n          const match = this.gridData.find(gD => gD.id === item.id);\n          if (!match) {\n            item.target = {\n              description: event.data.description,\n              id: event.data.id,\n              isfolder: event.data.isfolder,\n              title: event.data.title,\n              type: event.data.typeName\n            };\n            this.gridData.push(item);\n          }\n        });\n        this.gridData = this.gridData.filter(entry => !removedEntries.find(rEntry => rEntry.id === entry.id));\n        if (this.eoGrid && this.eoGrid.isReady) {\n          this.eoGrid.updateRowData(this.gridData);\n          this.eoGrid.selectRow(this.gridData.length - 1, [this.gridData.length - 1]);\n        }\n      });\n\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_DELETED)\n      .pipe(untilDestroyed(this))\n      .subscribe(res => {\n        if (this.eoGrid) {\n          this.eoGrid.updateRows(this.backend.update([res.data], [{ id: res.data.id }]));\n        }\n      })\n  }\n\n  ngOnDestroy() {\n    this.selection.clear();\n  }\n}\n","<yvc-split-view [layoutSettingsID]=\"'notification.state'\">\n  <ng-template yvcSplitArea [size]=\"25\"><eo-list-container #eoList [applySelection]=\"{}\"\n      [parseDmsParams]=\"parseDmsParams\">\n      <div class=\"eo-header\">\n        <eo-icon class=\"eo-header-icon\" [iconSrc]=\"'assets/_default/svg/ic_inbox.svg'\"></eo-icon>\n        <div class=\"eo-header-info\">\n          <div class=\"eo-header-title\" translate>eo.notifications.list.title</div>\n          <div class=\"header-sub-title\" translate>eo.notifications.list.subtitle</div>\n        </div>\n        <div class=\"eo-header-actions\">\n          <eo-icon class=\"button refresh-button\" [iconSrc]=\"'assets/_default/svg/ic_refresh.svg'\"\n            (click)=\"cFilter.resetFilter();cSort.reset();refreshGrid()\"\n            [iconTitle]=\"('eo.list.refresh' | translate)\"></eo-icon>\n\n          <eo-overlay #oFilter [iconSrc]=\"'assets/_default/svg/ic_filter.svg'\"\n            class=\"overlay-filter\" [iconTitle]=\"'eo.list.filter' | translate\">\n            <eo-custom-filter #cFilter (change)=\"cFilter.updateGrid(eoList.eoGrid, $event)\"\n              (active)=\"oFilter.onActiveChanged($event)\">\n              <eo-text-filter [title]=\"'eo.notifications.filter.title' | translate\" [matchFields]=\"['info']\"\n                [filterParams]=\"textFilterParams\" [id]=\"'notifications.text'\"></eo-text-filter>\n\n              <eo-set-filter [operator]=\"'OR'\" [title]=\"'eo.notifications.filter.section.title' | translate\"\n                [options]=\"objectTypeFilterFields\" [id]=\"'notifications.object.type'\"></eo-set-filter>\n\n              <eo-set-filter [operator]=\"'OR'\" [title]=\"'eo.notifications.filter.section.objecttype' | translate\"\n                [options]=\"typeFilterFields\" [id]=\"'notifications.type'\"></eo-set-filter>\n            </eo-custom-filter>\n          </eo-overlay>\n\n          <eo-overlay #oSort [iconSrc]=\"'assets/_default/svg/ic_sort.svg'\" class=\"overlay-sort\"\n            [iconTitle]=\"'eo.list.sort' | translate\">\n            <eo-custom-sort #cSort [id]=\"'notifications.sort'\" (change)=\"cSort.updateGrid(eoList.eoGrid, $event)\"\n              (active)=\"oSort.onActiveChanged($event)\" [sortFields]=\"sortFields\"></eo-custom-sort>\n          </eo-overlay>\n\n          <eo-icon class=\"button actions-button\" (click)=\"eoList.showActions()\"\n            [iconTitle]=\"'eo.object.actions.title' | translate\" [iconSrc]=\"'assets/_default/svg/ic_more.svg'\"></eo-icon>\n        </div>\n      </div>\n\n      <div class=\"eo-body\">\n        <eo-grid #eoGrid [gridOptions]=\"gridOptions\" *ngIf=\"gridOptions\" [fullWidth]=\"true\" [showHeader]=\"true\"\n          [showFooter]=\"true\" (eoGridCountChanged)=\"eoList.onCountChanged($event)\"\n          (eoGridContextMenuClick)=\"eoList.onContextMenu($event)\"\n          (eoGridSelectionChanged)=\"eoList.onSelectionChanged($event)\"\n          (eoGridDoubleClick)=\"eoList.onDoubleClick($event)\" (eoGridFocusChanged)=\"eoList.onFocusChanged($event)\">\n\n          <div class=\"header\">\n          </div>\n\n          <div class=\"footer\">\n            <eo-total-count [gridCount]=\"eoList.gridCount\" [outsideGrid]=\"false\" class=\"flex-row\"></eo-total-count>\n          </div>\n\n          <div class=\"empty\">\n            <eo-error-message\n              [emptyState]=\"{icon: 'ic_inbox.svg', text: oFilter.active ? 'eo.no.filter.result' : 'eo.notifications.list.empty'}\"></eo-error-message>\n            <eo-reset-filter [isFilterActive]=\"oFilter.active\"\n              (click)=\"cFilter.resetFilter();cSort.reset();refreshGrid()\"></eo-reset-filter>\n          </div>\n\n        </eo-grid>\n      </div>\n    </eo-list-container>\n  </ng-template>\n\n  <ng-template yvcSplitArea [size]=\"75\">\n    <eo-object-details [applySelection]=\"{}\" [parseDmsParams]=\"parseDmsParams\"\n      [cacheLayout]=\"'notification.state.object-details'\" [emptyState]=\"emptyState\">\n      <eo-tab-plugin [type]=\"'object-details-tab.notifications'\"></eo-tab-plugin>\n      <div class=\"error\" *ngIf=\"gridData?.length\">\n        <button class=\"button secondary\" (click)=\"remove()\" translate>eo.notifications.details.item.gone.remove</button>\n        <button class=\"button secondary\" (click)=\"removeSubscriptionAndResubmissions()\"\n          translate>eo.notifications.details.item.gone.remove.subscriptions</button>\n      </div>\n    </eo-object-details>\n  </ng-template>\n\n</yvc-split-view>\n","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {ObjectStateComponent} from './object-state/object-state.component';\nimport {PendingChangesGuard} from '../../eo-framework-core/pending-changes/pending-changes-guard.service';\nimport {AuthGuard} from '../../eo-framework-core/route-guards/auth/auth-guard.service';\nimport {UploadOverlayGuard} from '../../eo-framework/upload-overlay/upload-overlay-guard.service';\n\nconst routes: Routes = [{\n  path: 'object/:id',\n  component: ObjectStateComponent,\n  canActivate: [AuthGuard, UploadOverlayGuard], canDeactivate: [PendingChangesGuard]\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ObjectStateRoutingModule {\n}\n","import {catchError, map, tap} from 'rxjs/operators';\nimport {Injectable} from '@angular/core';\nimport {ReplaySubject, Observable} from 'rxjs';\nimport {TreeNode} from '../../../eo-framework/tree/tree.component.interface';\nimport {FieldDefinition, SearchResult, Utils, BackendService, SearchService, DmsObject} from '@eo-sdk/core';\nimport {TranslateService} from '@eo-sdk/core';\nimport {TreeData, ObjectSearchResult, FrontPageData, TreeQuery, ViewURI} from './object-state.interface';\n\n\n@Injectable()\nexport class ObjectStateService {\n\n  // component communication\n  private treeData: TreeData;\n  private treeDataSource = new ReplaySubject<any>();\n  public tree$: Observable<any> = this.treeDataSource.asObservable();\n\n  private treeRefData: TreeData;\n  private treeRefDataSource = new ReplaySubject<any>();\n  public treeRef$: Observable<any> = this.treeRefDataSource.asObservable();\n\n  // result list subscribes to this observable to fetch its data\n  private _list: ObjectSearchResult;\n  private listSource = new ReplaySubject<ObjectSearchResult>();\n  public list$: Observable<ObjectSearchResult> = this.listSource.asObservable();\n\n  constructor(private searchService: SearchService,\n    private translate: TranslateService,\n    private backend: BackendService) {\n  }\n\n\n  selectFrontPage(context: DmsObject): Observable<FrontPageData> {\n\n    // ... and clear the result list\n    this._list = null;\n    this.listSource.next(this._list);\n\n    // todo: grab additional informations about the context\n    let metaDataQuery = {\n      'fields': [\n        'title',\n        'description',\n        'filesize',\n        'modified',\n        'modifiertitle',\n        'type'\n      ],\n      'filters': {\n        'contextfolderid': {\n          'o': 'eq',\n          'v1': context.id\n        }\n      },\n      'contextfoldertypes': [context.type.qname],\n      'types': []\n    };\n\n    let q = this.searchService.buildQuery(metaDataQuery);\n    q.addSortOption('modified', 'desc');\n\n    return this.searchService.search(q)\n      .pipe(\n        map((res) => {\n          let size = 0;\n          let lastModified = null;\n\n          if (res.hits.length) {\n            size = res.hits.map(a => a.filesize || 0).reduce((acc, cur) => acc + cur);\n            lastModified = res.hits.sort(Utils.sortValues('modified', 'desc')).slice(0, 100);\n          }\n\n          return <FrontPageData>{\n            documentCount: {value: res.count.value},\n            totalFilesize: size,\n            lastModifications: lastModified\n          };\n        }),\n        catchError(Utils.catch(null, this.translate.instant('eo.search.result.error')))\n      );\n  }\n\n  updateTreeByQuery({id: objId, typeName}: DmsObject, options: TreeQuery = {}, uri?: ViewURI): Observable<TreeData> {\n    return this.loadTreeByQuery(objId, typeName, options, uri)\n      .pipe(\n        tap((res: TreeData) => {\n          if (uri && uri.match('referenceview')) {\n            this.treeRefData = res;\n            this.treeRefDataSource.next(this.treeRefData);\n          } else {\n            this.treeData = res;\n            this.treeDataSource.next(this.treeData);\n          }\n        })\n      );\n  }\n\n  loadTreeByQuery(objId: string, typeName: string, options: TreeQuery = {}, uri?: ViewURI): Observable<TreeData> {\n    const _uri = uri || 'contextview';\n    const postData: TreeQuery = {\n      ...(_uri.match('contextview') ? {\n        contextid: objId,\n        contexttype: typeName\n      } : {\n          targetid: objId,\n          targettype: typeName\n        }),\n      mode: 'tree',\n      timezone: Utils.getTimezoneOffset(),\n      ...options\n    };\n    return this.backend\n      .post(`/${_uri}`, postData, this.backend.getContextBase())\n      .pipe(map((res: any) => ({...res, folder: (res && res.folder) || []})));\n  }\n\n  /**\n   * Select a node from the context tree. This will execute the nodes query\n   * and update the result list subject.\n   */\n  selectTreeNode({id: objId, typeName}: DmsObject, treeNode?: TreeNode, options: TreeQuery = {}, uri?: ViewURI): Observable<SearchResult> {\n    const _uri = uri || 'contextview';\n    const postData: TreeQuery = {\n      ...(_uri.match('contextview') ? {\n        contextid: objId,\n        contexttype: typeName\n      } : {\n          targetid: objId,\n          targettype: typeName\n        }),\n      mode: 'result',\n      filter: treeNode && treeNode.data ? [treeNode.data.key] : '',\n      timezone: Utils.getTimezoneOffset(),\n      ...options\n    };\n\n    return this.backend\n      .post(`/${_uri}?size=10000`, postData, this.backend.getContextBase())\n      .pipe(\n        map((res) => {\n          let result = new SearchResult();\n          let sortorder = (res.sortorder || []).map(s => ({qname: s.qname || s.field, direction: s.direction.toUpperCase()}));\n          let grouporder = (res.grouporder || []).map(s => ({qname: s.qname || s.field}));\n          let pinned = (res.pinned || []).map(s => ({qname: s.qname || s.field}));\n          result.fields = new FieldDefinition(res.fields, sortorder, grouporder, pinned);\n          result.hits = res.dms;\n          result.count = res.total;\n          result.typeName = res.type;\n\n          this._list = {\n            name: treeNode.name,\n            result\n          };\n          this.listSource.next(this._list);\n\n          return result;\n        })\n      );\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {YvcSplitViewModule} from '@yuuvis/components/split-view';\nimport {ObjectStateComponent} from './object-state/object-state.component';\nimport {EoFrameworkModule} from '../../eo-framework/eo-framework.module';\nimport {ObjectStateRoutingModule} from './object-state-routing.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ObjectStateRoutingModule,\n    EoFrameworkModule,\n    YvcSplitViewModule\n  ],\n  declarations: [ObjectStateComponent]\n})\nexport class ObjectStateModule {\n}\n","import {GridOptions} from '@ag-grid-community/core';\nimport {Component, EventEmitter, OnDestroy, OnInit, Output, ViewChild} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {DmsObject, DmsService, EnaioEvent, EventService, ObjectType, SearchResult, SystemService, TranslateService, Utils} from '@eo-sdk/core';\nimport {forkJoin} from 'rxjs';\nimport {debounceTime} from 'rxjs/operators';\n\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {GridService} from '../../../eo-framework-core/api/grid.service';\nimport {LayoutService} from '../../../eo-framework-core/layout/layout.service';\nimport {LocationService} from '../../../eo-framework-core/location/location.service';\nimport {PendingChangesComponent} from '../../../eo-framework-core/pending-changes/pending-changes-component.interface';\nimport {PendingChangesService} from '../../../eo-framework-core/pending-changes/pending-changes.service';\nimport {SelectionService} from '../../../eo-framework-core/selection/selection.service';\nimport {PageTitleService} from '../../../eo-framework-core/title/page-title.service';\nimport {ActionService} from '../../../eo-framework/actions/action-service/action.service';\nimport {GridComponent} from '../../../eo-framework/grid/grid.component';\nimport {TreeNode} from '../../../eo-framework/tree/tree.component.interface';\nimport {PanelLoading, panelLoadingAnimations} from '../../../eo-framework/ui/animations/panel-loading.animation';\nimport {FrontPageData, ObjectSearchResult} from '../object-state-service/object-state.interface';\nimport {ObjectStateService} from '../object-state-service/object-state.service';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-object-state',\n  templateUrl: './object-state.component.html',\n  styleUrls: ['./object-state.component.scss'],\n  providers: [ObjectStateService],\n  animations: [panelLoadingAnimations]\n})\nexport class ObjectStateComponent implements OnInit, OnDestroy, PendingChangesComponent {\n\n  @ViewChild('eoGrid') eoGrid: GridComponent;\n\n  error = false;\n  context: DmsObject;\n  selectedItem: DmsObject;\n  frontPage: boolean;\n  frontPageData: FrontPageData;\n  contextTree: TreeNode[];\n  contextTreeUpdate: TreeNode[];\n  contextTreeRef: TreeNode[];\n  contextTreeRefUpdate: TreeNode[];\n  selectedNodes: TreeNode[];\n  selectedNode: TreeNode;\n  highlightedNodes: string[];\n  isReferenceActive = false;\n  private expandedNodeIds: string[] = [];\n  termFilter: string;\n  allTypes: string[] = [];\n  configType: ObjectType;\n  @Output() onTermFilterChange = new EventEmitter();\n\n  gridOptions: GridOptions;\n  gridTitle: string;\n  emptyGrid = true;\n\n  searchResult: SearchResult;\n  typeName = '';\n  cacheLayout = '';\n\n  loadingState = {\n    tree: new PanelLoading(),\n    treeRef: new PanelLoading(),\n    list: new PanelLoading(),\n    details: new PanelLoading(),\n  };\n\n  constructor(private route: ActivatedRoute,\n    private titleService: PageTitleService,\n    private systemService: SystemService,\n    private dmsService: DmsService,\n    private selection: SelectionService,\n    public translate: TranslateService,\n    public objectState: ObjectStateService,\n    private actionService: ActionService,\n    private location: LocationService,\n    private pendingChanges: PendingChangesService,\n    private eventService: EventService,\n    private gridService: GridService,\n    private layoutService: LayoutService) {\n\n    this.titleService.setBaseTitle(null);\n    this.gridOptions = <GridOptions>{};\n\n    this.onTermFilterChange\n      .pipe(debounceTime(1000))\n      .subscribe(v => this.setupFrontPage(true));\n\n    // subscribe for data from the connected service\n    this.objectState\n      .list$\n      .pipe(untilDestroyed(this))\n      .subscribe((res: ObjectSearchResult) => {\n        this.frontPage = !res;\n        if (res) {\n          // setup the grid with the new data\n          let {name, result} = res;\n          this.emptyGrid = result.count.value === 0;\n          this.gridTitle = name;\n          this.configType = this.systemService.getObjectType(result.typeName) || {qname: result.typeName} as ObjectType;\n          this.searchResult = result;\n        }\n\n        // this.loadingState.list.ready();\n      });\n\n    this.objectState.tree$\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe(res => this.buildContextTree(res.folder));\n\n    this.objectState.treeRef$\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe(res => this.buildContextTreeRef(res.folder));\n\n    this.selection.focus$\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe((item: DmsObject) => {\n        if (item) {\n          this.highlight(item.id);\n        }\n        this.selectedItem = item;\n        // this.loadingState.details.ready();\n      });\n\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_DELETED)\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe((evt) => {\n        setTimeout(() => {\n          if (this.context && this.context.id === evt.data.id) {\n            this.context = null;\n            this.error = true;\n            return;\n          }\n          if (this.frontPage) {\n            this.setupFrontPage();\n          }\n          this.updateContextTree();\n        }, 1000);\n      });\n\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_UPDATED)\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe(event => {\n        if (this.context && event.data && this.context.id === event.data.id) {\n          this.context = event.data;\n        }\n        if (this.frontPage) {\n          this.setupFrontPage(true);\n        }\n        this.updateContextTree();\n      });\n\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_PASTED)\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe((evt) => {\n        const name = this.translate.instant('eo.clipboard.paste.resultlist.headline');\n        this.objectState\n          .selectTreeNode(<any>{}, <any>{name}, {id: evt.data.map(d => d.id)}).subscribe();\n        this.updateContextTree();\n      });\n  }\n\n  hasPendingChanges() {\n    return this.pendingChanges.hasPendingTask();\n  }\n\n  onExpandedNodesChanged(expandedNodes: string[]) {\n    this.expandedNodeIds = expandedNodes;\n  }\n\n  // select an entry from the tree\n  onTreeSelectionChanged(node: TreeNode) {\n    this.location.leave();\n    this.selectedNode = node;\n    if (node.data.type) {\n      this.location.enter(this.context, this.selectedNode);\n    } else {\n      this.location.enter(this.context);\n    }\n    if (node) {\n      this.gridService.updateContext(node.isReference || this.allTypes.includes(node.data.type) ? [node.data.type] : this.allTypes);\n      this.loadingState.list\n        .subscribe(node.isReference ?\n          this.objectState.selectTreeNode(this.context, node, {term: this.termFilter}, 'referenceview') :\n          this.objectState.selectTreeNode(this.context, node, {term: this.termFilter}));\n    } else {\n      this.setupFrontPage();\n    }\n  }\n\n  onContextMenuClicked(evt, doc?) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.actionService.showActions([doc || this.context], 'DMS_OBJECT');\n  }\n\n  refreshList() {\n    this.onTreeSelectionChanged(this.selectedNode);\n  }\n\n  private process(item: DmsObject, selectedId?) {\n    if (item.isContextFolder) {\n      // if there already is a context set, we need to leave location for the old context first\n      // otherwise UploadTargets will not be unregistered correctly\n      if (this.context) {\n        this.location.leave();\n      }\n      this.context = item;\n      this.cacheLayout = 'object.state--' + item.typeName;\n      // add this location to the location service, which will track active locations\n      // and handle a history of visited locations.\n      this.location.enter(this.context, this.selectedNode);\n\n      this.objectState.loadTreeByQuery(this.context.id, this.context.typeName, {definition: [{field: 'type', key: 'Types', size: 1000}]})\n        .subscribe(types => (this.allTypes = (types.folder[0].folder || []).map(t => t.type)));\n\n      this.fetchTreeData('', selectedId);\n      this.setupFrontPage(true);\n\n    } else {\n      // fetch the context folder\n      if (item.contextFolder) {\n        this.cacheLayout = 'object.state--' + item.contextFolder.typeName;\n        this.dmsService\n          .getDmsObject(item.contextFolder.id, item.contextFolder.typeName, null, 'DETAILS')\n          .subscribe((res: DmsObject) => {\n            this.process(res, item.id);\n          });\n      } else {\n        // just the document in root\n        this.context = null;\n        this.cacheLayout = '';\n        // hide empty tree & list\n        // this.layoutService.hideAreas((a, i) => i < 2);\n      }\n    }\n    // this.layoutService.visibilityUpdate();\n  }\n\n  setupFrontPage(updateSelection = false, updateTree = false) {\n    this.objectState\n      .selectFrontPage(this.context)\n      .subscribe((data) => {\n        this.frontPage = true;\n        this.frontPageData = data;\n      });\n\n    if (!updateSelection) {\n      this.location.leave();\n      this.selection.focus(this.context);\n      this.location.enter(this.context);\n    }\n\n    if (!updateTree) {\n      this.fetchTreeData(this.termFilter);\n    }\n  }\n\n  private fetchTreeData(termFilter?: string, selectedId?: any) {\n    this.highlight(selectedId);\n    this.loadingState.tree.subscribe(this.objectState.updateTreeByQuery(this.context, {term: termFilter}));\n    this.loadingState.treeRef.subscribe(this.objectState.updateTreeByQuery(this.context, {term: termFilter}, 'referenceview'));\n  }\n\n  private highlight(selectedId) {\n    if (selectedId && this.context) {\n      forkJoin([\n        this.objectState.loadTreeByQuery(this.context.id, this.context.typeName, {id: selectedId}),\n        this.objectState.loadTreeByQuery(this.context.id, this.context.typeName, {id: selectedId}, 'referenceview')\n      ]).subscribe((res) => {\n        this.highlightedNodes = this.highlightNodes([...res[0].folder, ...res[1].folder]);\n        this.isReferenceActive = !!(res[1].total.value && !res[0].total.value);\n      });\n    } else {\n      this.highlightedNodes = [];\n    }\n  }\n\n  private updateContextTree() {\n    if (this.context) {\n      this.objectState\n        .loadTreeByQuery(this.context.id, this.context.typeName, {term: this.termFilter})\n        .subscribe(res => this.contextTreeUpdate = res.folder.map(f => this.addTreeNode(f, [])));\n      this.objectState\n        .loadTreeByQuery(this.context.id, this.context.typeName, {term: this.termFilter}, 'referenceview')\n        .subscribe(res => this.contextTreeRefUpdate = res.folder.map(f => this.addTreeNode(f, [], true)));\n    }\n  }\n\n  private highlightNodes(folder = [], nodes = []) {\n    folder.forEach(f => {\n      if (f.count) {\n        nodes.push(f.key);\n      }\n      if (f.folder) {\n        this.highlightNodes(f.folder, nodes);\n      }\n    });\n    return nodes;\n  }\n\n  private buildContextTree(folder = []) {\n    this.contextTreeUpdate = null;\n    this.contextTree = folder.map(f => this.addTreeNode(f, []));\n  }\n\n  private buildContextTreeRef(folder = []) {\n    this.contextTreeRefUpdate = null;\n    this.contextTreeRef = folder.map(f => this.addTreeNode(f, [], true));\n\n  }\n\n  private addTreeNode(nodeData, path: string[], isReference = false) {\n    const {key, title, folder, expanded, count, stats} = nodeData;\n    // important to create clone here, because otherwise path will be messed up\n    const p = path.concat([title]);\n    let node: TreeNode = {\n      id: key,\n      name: title,\n      path: p,\n      children: (folder || []).map(f => this.addTreeNode(f, p, isReference)),\n      expanded: expanded || !!~this.expandedNodeIds.indexOf(key),\n      selected: false,\n      selectable: true,\n      isReference,\n      badges: (stats || []).map(stat => Object.assign({\n        value: stat.value + ' ' + stat.title,\n        cssClass: 'stats'\n      })),\n      data: nodeData\n    };\n\n    if (count) {\n      node.badges.push({value: count});\n    }\n\n    return node;\n  }\n\n  ngOnInit() {\n    this.route.url\n      .pipe(\n        untilDestroyed(this))\n      .subscribe(() => {\n        this.cacheLayout = '';\n        // this.layoutService.hideAreas(() => false);\n        const {params, queryParams} = this.route.snapshot;\n        if (params.id) {\n          this.typeName = queryParams['type'] || '';\n          this.selection.focus({id: params.id, typeName: this.typeName});\n          this.dmsService\n            .getDmsObject(params.id, this.typeName, null, 'DETAILS')\n            .subscribe((res: DmsObject) => {\n              this.error = false;\n              this.process(res);\n              this.selection.focus(res);\n            }, Utils.throw(() => {\n              // this.layoutService.setAreas([]);\n              this.error = true;\n            }));\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    // when the component is destroyed, we tell the location service that we\n    // left the location\n    this.location.leave();\n    this.selection.clear();\n  }\n\n}\n","<div class=\"file\" [ngClass]=\"{ready: context || context === null}\" *ngIf=\"!error; else errorTmpl\">\n\n  <div class=\"file-head\" *ngIf=\"context && context.isContextFolder\">\n    <div class=\"left\">\n      <eo-icon class=\"type-icon\" [objectType]=\"context.type\"></eo-icon>\n      <div class=\"title\" (click)=\"setupFrontPage()\" (contextmenu)=\"onContextMenuClicked($event)\">\n        <div class=\"label\">{{context.title || '&nbsp;'}}</div>\n        <div class=\"description\">{{context.description || '&nbsp;'}}</div>\n      </div>\n    </div>\n    <div class=\"right\">\n      <div class=\"fold\">\n        <span class=\"created-date\">{{context.created.on | localeDate}}</span>\n        <span class=\"created-title\">{{context.created.by.title}}</span>\n      </div>\n      <div class=\"actions\">\n      </div>\n    </div>\n  </div>\n\n  <div class=\"file-body\">\n    <div class=\"file-body-wrap\">\n\n      <ng-container *ngIf=\"context !== null; else tplDetailsOnly\">\n\n        <yvc-split-view *ngIf=\"cacheLayout\" [layoutSettingsID]=\"cacheLayout\">\n          <ng-template yvcSplitArea [panelClass]=\"'tree'\" [size]=\"20\" [visible]=\"true\">\n            <div class=\"tree-panel-error\" *ngIf=\"loadingState.tree.isError(); else tplTree\" translate>\n              eo.state.object.tree.error</div>\n\n            <ng-template #tplTree>\n\n              <eo-list-container #eoList [loading]=\"!contextTree\" [tabs]=\"false\">\n                <div class=\"eo-header dark\">\n                  <div class=\"eo-header-info\">\n                    <h2 class=\"eo-header-title\" translate>eo.state.object.tree.title</h2>\n                    <form name=\"structureForm\" class=\"tree-filter-form\" [ngClass]=\"{active: !!termFilter}\">\n                      <eo-form-input [skipToggle]=\"true\" [label]=\" 'eo.state.object.tree.filter.label' | translate\">\n                        <input [(ngModel)]=\"termFilter\" maxlength=\"250\" [ngModelOptions]=\"{standalone: true}\"\n                          (ngModelChange)=\"onTermFilterChange.emit($event)\" />\n                      </eo-form-input>\n                    </form>\n                  </div>\n                </div>\n                <div class=\"eo-body tree\">\n                  <eo-tree [tree]=\"contextTree\" [options]=\"{multiselect: false, disableDeselection: true}\"\n                    [@panelLoading]=\"loadingState.tree.state\" *ngIf=\"contextTree\" [highlightedNodes]=\"highlightedNodes\"\n                    [treeUpdate]=\"contextTreeUpdate\" [(ngModel)]=\"selectedNodes\"\n                    (ngModelChange)=\"onTreeSelectionChanged($event)\"></eo-tree>\n                  <h3 *ngIf=\"contextTreeRef?.length\" title=\"{{'eo.state.object.tree.references.tooltip'|translate}}\"\n                    translate>eo.state.object.tree.references</h3>\n                  <eo-tree [tree]=\"contextTreeRef\" [options]=\"{multiselect: false, disableDeselection: true}\"\n                    [@panelLoading]=\"loadingState.treeRef.state\" *ngIf=\"contextTreeRef?.length\"\n                    [highlightedNodes]=\"highlightedNodes\" [treeUpdate]=\"contextTreeRefUpdate\"\n                    [(ngModel)]=\"selectedNodes\" (ngModelChange)=\"onTreeSelectionChanged($event)\"\n                    class=\"reference\"></eo-tree>\n                </div>\n              </eo-list-container>\n\n            </ng-template>\n          </ng-template>\n\n          <ng-template yvcSplitArea [panelClass]=\"'tree'\" [size]=\"35\" [visible]=\"true\">\n            <eo-object-state-details *ngIf=\"context\" [context]=\"context\" [frontPageData]=\"frontPageData\"\n              [visible]=\"frontPage\" (onTabChange)=\"setupFrontPage(true)\">\n              <eo-tab-plugin [type]=\"'object-state-details-tab.object'\"></eo-tab-plugin>\n            </eo-object-state-details>\n\n            <eo-result-list *ngIf=\"!frontPage && searchResult\" [selectFirst]=\"false\" [title]=\"gridTitle\"\n              [reference]=\"selectedNode?.isReference\" [searchResult]=\"searchResult\" [configType]=\"configType\"\n              [configContext]=\"\" [emptyMessage]=\"'eo.state.object.list.error'\" (onRefresh)=\"refreshList()\">\n            </eo-result-list>\n          </ng-template>\n\n          <ng-template yvcSplitArea [size]=\"45\" [visible]=\"true\">\n            <ng-container *ngTemplateOutlet=\"tplObjectDetails\"></ng-container>\n          </ng-template>\n        </yvc-split-view>\n\n      </ng-container>\n\n      <ng-template #tplDetailsOnly><ng-container *ngTemplateOutlet=\"tplObjectDetails\"></ng-container></ng-template>\n\n      <ng-template #tplObjectDetails>\n        <eo-object-details [applySelection]=\"{}\" [reference]=\"isReferenceActive\"\n          [cacheLayout]=\"'object.state--' + typeName + '.object-details'\">\n          <eo-tab-plugin [type]=\"'object-details-tab.object'\"></eo-tab-plugin>\n        </eo-object-details>\n      </ng-template>\n    </div>\n  </div>\n</div>\n\n<ng-template #errorTmpl>\n  <eo-error404></eo-error404>\n</ng-template>","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {PrepareStateComponent} from './prepare-state/prepare-state.component';\nimport {AuthGuard} from '../../eo-framework-core/route-guards/auth/auth-guard.service';\nimport {CapabilitiesGuard} from '../../eo-framework-core/route-guards/capabilities/capabilities-guard.service';\nimport {PendingChangesGuard} from '../../eo-framework-core/pending-changes/pending-changes-guard.service';\nimport {UploadOverlayGuard} from '../../eo-framework/upload-overlay/upload-overlay-guard.service';\n\nconst routes: Routes = [{\n  path: 'prepare',\n  component: PrepareStateComponent,\n  canActivate: [AuthGuard, UploadOverlayGuard, CapabilitiesGuard], canDeactivate: [PendingChangesGuard]\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PrepareStateRoutingModule {\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport {GridModule} from '../../eo-framework/grid/grid.module';\nimport {EoFrameworkModule} from '../../eo-framework/eo-framework.module';\nimport {PrepareStateRoutingModule} from './prepare-state-routing.module';\nimport {PrepareStateComponent} from './prepare-state/prepare-state.component';\nimport {ListContainerModule} from '../../eo-framework/list-container/list-container.module';\nimport {YvcSplitViewModule} from '@yuuvis/components/split-view';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    PrepareStateRoutingModule,\n    GridModule,\n    ListContainerModule,\n    EoFrameworkModule,\n    YvcSplitViewModule\n  ],\n  declarations: [PrepareStateComponent]\n})\nexport class PrepareStateModule {\n}\n","import {ColDef, GridOptions} from '@ag-grid-community/core';\nimport {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {BackendService, PrepareService, PreparedItem, SystemService, TranslateService, Utils} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {EmptyState} from '../../../eo-framework-core/empty-state/empty-state.interface';\nimport {EmptyStateService} from '../../../eo-framework-core/empty-state/empty-state.service';\nimport {PendingChangesComponent} from '../../../eo-framework-core/pending-changes/pending-changes-component.interface';\nimport {PendingChangesService} from '../../../eo-framework-core/pending-changes/pending-changes.service';\nimport {SelectionService} from '../../../eo-framework-core/selection/selection.service';\nimport {PageTitleService} from '../../../eo-framework-core/title/page-title.service';\nimport {ISetFilter} from '../../../eo-framework/grid';\nimport {CustomSortComponent} from '../../../eo-framework/grid/extensions/custom-sort/custom-sort.component';\nimport {SetFilterComponent} from '../../../eo-framework/grid/extensions/filter/setFilters/set-filter.component';\nimport {GridComponent} from '../../../eo-framework/grid/grid.component';\n@UntilDestroy()\n@Component({\n  selector: 'eo-prepare-state',\n  templateUrl: './prepare-state.component.html',\n  styleUrls: ['./prepare-state.component.scss']\n})\nexport class PrepareStateComponent implements OnInit, PendingChangesComponent, OnDestroy {\n\n  gridOptions: GridOptions;\n  sortFields: ColDef[];\n  typeFilterFields: ISetFilter[];\n  gridData;\n  idMatch = true;\n  emptyState: EmptyState = {icon: '', text: '', className: ''};\n\n  @ViewChild('eoGrid') eoGrid: GridComponent;\n\n  preparedItems: PreparedItem[] = [];\n  preparedItem: PreparedItem;\n\n  constructor(public selection: SelectionService,\n              public translate: TranslateService,\n              private backend: BackendService,\n              private titleService: PageTitleService,\n              private prepareService: PrepareService,\n              private empty: EmptyStateService,\n              private pendingChanges: PendingChangesService,\n              private system: SystemService) {\n    this.titleService.setBaseTitle(this.translate.instant('eo.prepare.list.title'));\n  }\n\n  hasPendingChanges() {\n    return this.pendingChanges.hasPendingTask();\n  }\n\n  removeItem(item: PreparedItem) {\n    if (this.preparedItem && item.id === this.preparedItem.id) {\n      this.preparedItem = null;\n    }\n    this.prepareService.deletePreparedItem(item.id).subscribe();\n  }\n\n  updateList(changedItem: PreparedItem) {\n    this.updateGrid(this.backend.update(this.gridData, [{id: changedItem.id, item: changedItem}]));\n  }\n\n  refreshGrid() {\n    this.prepareService.getPreparedItems$().subscribe();\n  }\n\n  typeFilters() {\n    const data = this.gridData;\n    let uniqueByType = SetFilterComponent.uniqBy(data, 'selectedtype.name', this.system.getObjectTypes());\n    uniqueByType.push({qname: '', label: this.translate.instant('eo.prepare.list.item.type.undefined')});\n    this.typeFilterFields = uniqueByType.map(t => Object.assign({\n      label: t.label,\n      value: true,\n      id: '#' + t.qname,\n      filter: (node) => node.data.selectedtype ? node.data.selectedtype.name === t.qname : '' === t.qname\n    })).sort(Utils.sortValues('label'));\n  }\n\n  resetFilters() {\n    this.typeFilters();\n  }\n\n  updateGrid(data) {\n    this.emptyState = this.empty.getEmptyState(data ? data.length : -1);\n\n    if (this.eoGrid && this.eoGrid.isReady) {\n      this.eoGrid.updateRowData(data, data && data.length ? data[0].id : 0);\n      // need to refresh filters based on new grid data\n      return this.resetFilters();\n    }\n\n    this.resetFilters();\n\n    let colDefs: ColDef[] = [\n      {\n        headerName: '',\n        field: '__custom',\n        cellRenderer: this.cellRenderer,\n        filter: false\n      }\n    ];\n\n    this.sortFields = [\n      {field: 'created', headerName: this.translate.instant('eo.inbox.sort.date'), sort: ''},\n      {field: 'selectedtype.label', headerName: this.translate.instant('eo.inbox.sort.title'), sort: ''}\n    ];\n\n    let sortColDefs = CustomSortComponent.sortColDefs(this.sortFields);\n\n    this.gridOptions = {\n      context: {count: data.length},\n      rowData: data,\n      columnDefs: colDefs.concat(sortColDefs),\n      rowBuffer: 20,\n      rowHeight: 80\n    };\n  }\n\n  cellRenderer(params) {\n    let icon = params.data.selectedtype ? params.context.cr.render('type', params, {\n      value: params.data.selectedtype.name\n    }) : '<div class=\"iconempty\"></div>';\n    let createdTime = params.context.cr.render('dateTime', params, {value: params.data.created, pattern: 'eoNiceShort'});\n    let label = params.data.title || params.context.translate.instant('eo.prepare.list.item.type.undefined');\n    let location = params.data.parent && params.data.parent.type !== 'sysroot' ? params.context.translate.instant('eo.prepare.list.item.location.set') :\n      !params.data.parent || params.data.parent.type === 'sysroot' ? params.context.translate.instant('eo.prepare.list.item.location.notset') : '';\n    let template = !params.data.template ? '' :\n      `<span>${params.context.translate.instant('eo.prepare.list.item.template')}</span> <span>${params.data.template.title}</span>`;\n    let file = template || params.data.state.contentstate === 'NOCONTENTALLOWED' ? '' :\n      params.data.contentcount === 0 ? `<span>${params.context.translate.instant('eo.prepare.list.item.file.none')}</span>` :\n        params.data.contentcount === 1 ? `<span>${params.data.contents[0].path}</span>` :\n          `<span>${params.data.contentcount}x ${params.context.translate.instant('eo.prepare.list.item.files')}</span>`;\n\n    return `<div class=\"list-item\" unselectable>\n              ${icon}\n             <div class=\"content\">\n              <div class=\"title\">${label}</div>\n              <div class=\"location\">${location}</div>\n              <div class=\"file\">${template || file}</div>\n            </div>\n            <div class=\"meta\">\n                <div class=\"date\">${createdTime}</div>\n              </div>\n          </div>\n          `;\n  }\n\n  remove() {\n    let focused = this.selection.getFocus();\n    if (focused) {\n      this.prepareService.deletePreparedItem(focused.id).subscribe();\n    }\n  }\n\n  ngOnInit() {\n    this.refreshGrid();\n    this.prepareService.preparedItems$\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe(data => {\n        this.gridData = data;\n        this.updateGrid(this.gridData);\n      });\n  }\n\n  ngOnDestroy() {\n    this.selection.clear();\n  }\n}\n","<yvc-split-view [layoutSettingsID]=\"'prepare.state'\">\n  <ng-template yvcSplitArea [size]=\"30\">\n    <eo-list-container #eoList [applySelection]=\"{}\">\n      <div class=\"eo-header\">\n        <eo-icon class=\"eo-header-icon\" [iconSrc]=\"'assets/_default/svg/ic_prepare.svg'\"></eo-icon>\n        <div class=\"eo-header-info\">\n          <div class=\"eo-header-title\" translate>eo.prepare.list.title</div>\n          <div class=\"eo-header-subtitle\" translate>eo.prepare.list.title.sub</div>\n        </div>\n        <div class=\"eo-header-actions\">\n          <eo-icon class=\"button primary refresh-button\" [iconSrc]=\"'assets/_default/svg/ic_refresh.svg'\"\n            (click)=\"cFilter.resetFilter();cSort.reset();refreshGrid()\"\n            [iconTitle]=\"('eo.list.refresh' | translate)\"></eo-icon>\n\n          <eo-overlay #oFilter class=\"overlay-filter\" [iconSrc]=\"'assets/_default/svg/ic_filter.svg'\"\n            [iconClass]=\"'primary'\" [iconTitle]=\"'eo.list.filter' | translate\">\n            <eo-custom-filter #cFilter (change)=\"cFilter.updateGrid(eoList.eoGrid, $event)\"\n              (active)=\"oFilter.onActiveChanged($event)\">\n              <!--<eo-text-filter [title]=\"'eo.timeline.filter.action' | translate\" [matchFields]=\"['selectedtype.label']\"></eo-text-filter>-->\n              <eo-set-filter [operator]=\"'OR'\" [id]=\"'prepare.object.type'\"\n                [title]=\"'eo.favorites.filter.section.objecttype' | translate\"\n                [options]=\"typeFilterFields\"></eo-set-filter>\n            </eo-custom-filter>\n          </eo-overlay>\n\n          <eo-overlay #oSort class=\"overlay-sort\" [iconSrc]=\"'assets/_default/svg/ic_sort.svg'\" [iconClass]=\"'primary'\"\n            [title]=\"'eo.list.sort' | translate\">\n            <eo-custom-sort #cSort [id]=\"'prepare.sort'\" (change)=\"cSort.updateGrid(eoList.eoGrid, $event)\"\n              (active)=\"oSort.onActiveChanged($event)\" [sortFields]=\"sortFields\"></eo-custom-sort>\n          </eo-overlay>\n\n          <eo-icon class=\"button actions-button\" (click)=\"eoList.showActions(null, 'PREPARED_ITEM')\"\n            [iconTitle]=\"'eo.object.actions.title' | translate\" [iconSrc]=\"'assets/_default/svg/ic_more.svg'\"></eo-icon>\n        </div>\n      </div>\n      <div class=\"eo-body dark\">\n        <eo-grid #eoGrid *ngIf=\"gridOptions?.rowData\" [gridOptions]=\"gridOptions\" [fullWidth]=\"true\" [showHeader]=\"true\"\n          [showFooter]=\"true\" (eoGridCountChanged)=\"eoList.onCountChanged($event);\"\n          (eoGridContextMenuClick)=\"eoList.onContextMenu($event, 'PREPARED_ITEM')\"\n          (eoGridSelectionChanged)=\"eoList.onSelectionChanged($event)\"\n          (eoGridFocusChanged)=\"eoList.onFocusChanged($event)\">\n\n          <div class=\"header\">\n          </div>\n\n          <div class=\"footer\">\n            <eo-total-count [gridCount]=\"eoList.gridCount\" [outsideGrid]=\"false\" class=\"flex-row\"></eo-total-count>\n          </div>\n\n          <div class=\"empty\">\n            <eo-error-message\n              [emptyState]=\"{icon: 'ic_prepare.svg', text: oFilter.active ? 'eo.no.filter.result' : 'eo.prepare.list.empty'}\"></eo-error-message>\n            <eo-reset-filter [isFilterActive]=\"oFilter.active\"\n              (click)=\"cFilter.resetFilter();cSort.reset();refreshGrid()\"></eo-reset-filter>\n          </div>\n        </eo-grid>\n      </div>\n    </eo-list-container>\n  </ng-template>\n  <ng-template yvcSplitArea [size]=\"70\">\n    <eo-prepare-details [applySelection]=\"{}\" [emptyState]=\"emptyState\" (onItemChanged)=\"updateList($event)\"\n      (onItemRemove)=\"remove()\">\n      <div class=\"error\" *ngIf=\"gridData?.length\">\n        <button class=\"button secondary\" (click)=\"remove()\" translate>eo.prepare.details.item.gone.remove</button>\n      </div>\n    </eo-prepare-details>\n  </ng-template>\n</yvc-split-view>","import {ColDef, GridOptions} from '@ag-grid-community/core';\nimport {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {UntypedFormBuilder, UntypedFormGroup} from '@angular/forms';\nimport {AppCacheService, BackendService, BpmService, Process, RangeValue, SearchFilter, TranslateService, Utils} from '@eo-sdk/core';\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {EmptyState} from '../../eo-framework-core/empty-state/empty-state.interface';\nimport {EmptyStateService} from '../../eo-framework-core/empty-state/empty-state.service';\nimport {PendingChangesComponent} from '../../eo-framework-core/pending-changes/pending-changes-component.interface';\nimport {PendingChangesService} from '../../eo-framework-core/pending-changes/pending-changes.service';\nimport {SelectionService} from '../../eo-framework-core/selection/selection.service';\nimport {PageTitleService} from '../../eo-framework-core/title/page-title.service';\nimport {GridComponent} from '../../eo-framework/grid/grid.component';\n\n@Component({\n  selector: \"eo-process-state\",\n  templateUrl: \"./process-state.component.html\",\n  styleUrls: [\"./process-state.component.scss\"]\n})\nexport class ProcessStateComponent\n  implements OnInit, OnDestroy, PendingChangesComponent {\n  gridOptions: GridOptions;\n  processSelectionId = \"process\";\n  processSelection: SelectionService;\n  emptyState1: EmptyState = { icon: \"\", text: \"\", className: \"\" };\n  emptyState2: EmptyState = { icon: \"\", text: \"\", className: \"\" };\n  filterCacheKey = \"eo.process.list.filter\";\n  sortCacheKey = \"eo.process.list.sort\";\n  VIRTUAL_LIST_CHUNK_SIZE = 50;\n  filterForm: UntypedFormGroup;\n  defaultFilterFormValue = {\n    modelFCN: null,\n    runningFCN: true,\n    pausedFCN: true,\n    createdFCN: true,\n    canceledFCN: true,\n    failedFCN: true,\n    completedFCN: true,\n    startTimeFCN: null\n  };\n  sortParams = {\n    startTime: '',\n    modelName: ''\n  };\n  defaultSortParams = {\n    startTime: \"\",\n    modelName: \"\"\n  };\n  settings = {};\n  colDefs: ColDef[] = [\n    {\n      headerName: \"\",\n      field: \"__custom\",\n      cellRenderer: this.cellRenderer,\n      filter: false\n    }\n  ];\n  processModelsListObject = {\n    entries: [],\n    config: {\n      valueField: \"name\",\n      subEntriesField: \"models\"\n    }\n  };\n\n  @ViewChild(\"eoGrid\") eoGrid: GridComponent;\n\n  constructor(\n    public translate: TranslateService,\n    public bpmService: BpmService,\n    public selection: SelectionService,\n    private empty: EmptyStateService,\n    private backend: BackendService,\n    private fb: UntypedFormBuilder,\n    private titleService: PageTitleService,\n    private appCache: AppCacheService,\n    private pendingChanges: PendingChangesService\n  ) {\n    this.titleService.setBaseTitle(this.translate.instant('eo.state.process'));\n\n    //secondary selection instance for inbox items\n    this.processSelection = this.selection.createNew(this.processSelectionId);\n\n    this.fetchProcessModels().subscribe(processModels => {\n      this.processModelsListObject.entries = processModels;\n    });\n\n    this.appCache\n      .getItem(this.filterCacheKey)\n      .subscribe(\n        filterValue =>\n          this.initFilter(\n            filterValue ? filterValue : this.defaultFilterFormValue\n          ),\n        () => this.initFilter(this.defaultFilterFormValue)\n      );\n\n    this.appCache.getItem(this.sortCacheKey).subscribe(sortParams => {\n      if (sortParams) {\n        this.sortParams = sortParams;\n      }\n    });\n  }\n\n  private fetchProcessModels(): Observable<any> {\n    return this.backend.get(\"/bpm/management/project?includeModels=true\");\n  }\n\n  private initFilter(filterValue) {\n    this.filterForm = this.fb.group({\n      modelFCN: [filterValue.modelFCN],\n      runningFCN: [filterValue.runningFCN],\n      pausedFCN: [filterValue.pausedFCN],\n      createdFCN: [filterValue.createdFCN],\n      canceledFCN: [filterValue.canceledFCN],\n      failedFCN: [filterValue.failedFCN],\n      completedFCN: [filterValue.completedFCN],\n      startTimeFCN: [\n        filterValue.startTimeFCN ?\n        new RangeValue(\n          filterValue.startTimeFCN.operator,\n          filterValue.startTimeFCN.firstValue,\n          filterValue.startTimeFCN.secondValue\n        ) : null\n      ]\n    });\n    this.filterForm.valueChanges.subscribe(() => {\n      this.appCache.setItem(this.filterCacheKey, this.filterForm.value).subscribe();\n      this.onPageChanged();\n    });\n    setTimeout(() => this.onPageChanged(), 100);\n  }\n\n  refreshList() {\n    this.onPageChanged();\n  }\n\n  initGrid() {\n    this.settings = {total: 0, size: this.VIRTUAL_LIST_CHUNK_SIZE};\n    this.gridOptions = {\n      context: { count: 0 },\n      columnDefs: this.colDefs,\n      rowBuffer: 20,\n      rowHeight: 80,\n      rowSelection: 'single',\n      rowData: []\n    };\n  }\n\n  resetFilters() {\n    if (this.filterForm) {\n      this.filterForm.setValue(this.defaultFilterFormValue);\n      this.onPageChanged();\n    }\n  }\n\n  sort(field, direction) {\n    this.sortParams[field] = direction;\n    this.appCache.setItem(this.sortCacheKey, this.sortParams).subscribe();\n    this.onPageChanged();\n  }\n\n  onPageChanged(page: number = 1) {\n    this.fetchRowData({\n      startRow: this.VIRTUAL_LIST_CHUNK_SIZE * (page - 1),\n      successCallback: (rows, total) => {\n        this.eoGrid.api.setRowData(rows);\n        this.settings = {total, size: this.VIRTUAL_LIST_CHUNK_SIZE, page};\n      }\n    });\n  }\n\n  private fetchRowData(params) {\n    const page = Math.floor(params.startRow / this.VIRTUAL_LIST_CHUNK_SIZE);\n    this.getProcesses({ size: this.VIRTUAL_LIST_CHUNK_SIZE, page }).subscribe((processes) => {\n      if (params.startRow === 0) {\n        this.emptyState1 = this.empty.getEmptyState(processes.content ? processes.content.length : -1, undefined, 'ic_no-file.svg');\n        this.emptyState2 = this.empty.getEmptyState(processes.content ? processes.content.length : -1, undefined, 'ic_no-file.svg');\n      }\n      this.eoGrid.gridOptions.context.rowCount = processes.totalElements;\n      this.eoGrid.gridOptions.context.count = processes.totalElements;\n      params.successCallback(processes.processes, processes.totalElements);\n    });\n  }\n\n  private getProcesses(options) {\n    let url = Utils.buildUri(`/processes`, options || {});\n    url = this.addFilterParamsToUrl(url);\n    url = this.addSortParamsToUrl(url);\n    return this.backend\n      .getJson(url, this.backend.getBpmBase())\n      .pipe(\n        map(response => {\n          let processes = response.content.map(item => {\n            const process = new Process(item);\n            return process;\n          });\n          response.processes = this.addIconUrl(processes);\n          return response;\n        })\n      );\n  }\n\n  private addFilterParamsToUrl(url): string {\n    if (!this.filterForm || !this.filterForm.value) {\n      return url;\n    }\n\n    if (this.filterForm.value.createdFCN) {\n      url += \"&state=0\";\n    }\n    if (this.filterForm.value.runningFCN) {\n      url += \"&state=20\";\n    }\n    if (this.filterForm.value.completedFCN) {\n      url += \"&state=30\";\n    }\n    if (this.filterForm.value.pausedFCN) {\n      url += \"&state=40\";\n    }\n    if (this.filterForm.value.canceledFCN) {\n      url += \"&state=50\";\n    }\n    if (this.filterForm.value.failedFCN) {\n      url += \"&state=60\";\n    }\n    if (this.filterForm.value.modelFCN) {\n      url +=\n        \"&modelid=\" + this.getModelIdFromName(this.filterForm.value.modelFCN);\n    }\n    if (this.filterForm.value.startTimeFCN && this.filterForm.value.startTimeFCN.firstValue) {\n\n      const {operator, firstValue, secondValue} = this.filterForm.value.startTimeFCN;\n      const query: any = new SearchFilter('starttime', operator, firstValue, secondValue, {time: true, timezone: true}).toDateTimeQuery();\n\n      if (query.o === SearchFilter.OPERATOR.EQUAL) {\n        url += '&starttime_eq=' + query.v1;\n      }\n      if (query.o.match(SearchFilter.OPERATOR.GREATER_OR_EQUAL)) {\n        url += \"&starttime_gte=\" + query.v1;\n      }\n      if (query.o.match(SearchFilter.OPERATOR.LESS_OR_EQUAL)) {\n        url += \"&starttime_lte=\" + (query.o === SearchFilter.OPERATOR.INTERVAL_INCLUDE_BOTH ? query.v2 : query.v1);\n      }\n    }\n    return url;\n  }\n\n  private addSortParamsToUrl(url): string {\n    if (this.sortParams.startTime) {\n      url += \"&sort=starttime,\" + this.sortParams.startTime;\n    }\n    if (this.sortParams.modelName) {\n      url += \"&sort=name,\" + this.sortParams.modelName;\n    }\n    return url;\n  }\n\n  private getModelIdFromName(modelName): string {\n    let id = \"\";\n    this.processModelsListObject.entries.forEach(model => {\n      if (model.name === modelName) {\n        id = model.id;\n      } else if (model.models) {\n        model.models.forEach(submodel => {\n          if (submodel.name === modelName) {\n            id = submodel.id;\n          }\n        });\n      }\n    });\n    return id;\n  }\n\n  addIconUrl(processes: Process[]) {\n    processes.forEach((process: Process) => {\n      if (!process.iconid) {\n        if (process.state === 'ERRORSUSPENDED') {\n          process.iconurl = 'assets/_default/svg/ic_bpm_warning.svg';\n        } else if (process.state === 'COMPLETED') {\n          process.iconurl = 'assets/_default/svg/ic_bpm_done.svg';\n        } else {\n          process.iconurl = \"assets/_default/svg/ic_bpm.svg\";\n        }\n      }\n    });\n    return processes;\n  }\n\n  cellRenderer(params) {\n    if (params.data) {\n      let icon = params.context.cr.render(\"icon\", params, {\n        value: {\n          url: params.data.iconid ? \"\" : params.data.iconurl,\n          iconId: !params.data.iconid ? \"\" : params.data.iconid,\n          label: params.data.modelname\n        }\n      });\n\n      const startTime = params.context.cr.render('dateTime', params, { value: params.data.starttime, pattern: 'eoShortDate' });\n      const endTime = params.context.cr.render('dateTime', params, { value: params.data.endtime, pattern: 'eoShortDate' });\n      const hasError = params.data.state === 'ERRORSUSPENDED' ? 'error' : '';\n      const hasNotYetBeenStarted = params.data.state === 0 ? 'notstarted' : '';\n      const endTimeMarkup: string = (endTime.length) ? `<div class=\"date end\">\n                                                          <span>${params.context.translate.instant('eo.process.end.time.label')}</span>\n                                                          <div class=\"time\"> ${endTime}</div>\n                                                        </div>`\n        : \"\";\n      const startTimeMarkup: string = startTime.length\n        ? `<div class=\"date\">\n                                                          <span>${params.context.translate.instant(\n                                                            \"eo.process.start.time.label\"\n                                                          )}</span>\n                                                          <div class=\"time\"> ${startTime}</div>\n                                                        </div>`\n        : \"\";\n\n      return `<div class=\"list-item ${hasError} ${hasNotYetBeenStarted}\" unselectable>\n            ${icon}\n            <div class='content'>\n              <div class='title'>${params.data.title || \"...\"}</div>\n              <div class='description'>${params.data.modelname || \"...\"}</div>\n             </div>\n            <div class=\"meta\">\n              <div class=\"datelabel\">\n                ${startTimeMarkup}\n                ${endTimeMarkup}\n              </div>\n            </div>\n         </div>\n        `;\n    }\n  }\n\n  ngOnInit() {\n    this.initGrid();\n  }\n\n  ngOnDestroy() {\n    this.selection.clear();\n  }\n\n  hasChanged(oV, nV): boolean {\n    return JSON.stringify(oV) !== JSON.stringify(nV);\n  }\n\n  hasPendingChanges() {\n    return this.pendingChanges.hasPendingTask();\n  }\n}\n","<yvc-split-view [layoutSettingsID]=\"'inbox.state'\">\n  <!-- list -->\n  <ng-template yvcSplitArea [size]=\"30\">\n    <eo-list-container #eoList [applySelection]=\"{out: processSelectionId}\">\n      <div class=\"eo-header\">\n        <eo-icon class=\"eo-header-icon\" [iconSrc]=\"'assets/_default/svg/ic_bpm.svg'\"></eo-icon>\n        <div class=\"eo-header-info\">\n          <div class=\"eo-header-title\" translate>eo.state.process</div>\n        </div>\n        <div class=\"eo-header-actions\">\n          <eo-icon class=\"button refresh-button\" [iconSrc]=\"'assets/_default/svg/ic_refresh.svg'\"\n                   (click)=\"refreshList()\"\n                   [iconTitle]=\"('eo.list.refresh' | translate)\"></eo-icon>\n\n          <eo-overlay #oFilter [iconSrc]=\"'assets/_default/svg/ic_filter.svg'\"\n                      class=\"overlay-filter\"\n                      [iconTitle]=\"'eo.list.filter' | translate\" [active]=\"hasChanged(defaultFilterFormValue, filterForm?.value)\">\n            <div class=\"sort-title\" translate>eo.filter.by</div>\n            <form [formGroup]=\"filterForm\" *ngIf='filterForm'>\n              <eo-form-input [label]=\"('eo.state.process.filter.labels.model' | translate)\" *ngIf=\"processModelsListObject.entries.length\">\n                <eo-dynamic-list formControlName=\"modelFCN\" [pickerTitle]=\"'Models'\" [listObject]=\"processModelsListObject\"></eo-dynamic-list>\n              </eo-form-input>\n              <eo-form-input [label]=\"('eo.state.process.filter.labels.running' | translate)\">\n                <eo-checkbox formControlName=\"runningFCN\" [tristate]=\"false\"></eo-checkbox>\n              </eo-form-input>\n              <eo-form-input [label]=\"('eo.state.process.filter.labels.paused' | translate)\">\n                <eo-checkbox formControlName=\"pausedFCN\" [tristate]=\"false\"></eo-checkbox>\n              </eo-form-input>\n              <eo-form-input [label]=\"('eo.state.process.filter.labels.created' | translate)\">\n                <eo-checkbox formControlName=\"createdFCN\" [tristate]=\"false\"></eo-checkbox>\n              </eo-form-input>\n              <eo-form-input [label]=\"('eo.state.process.filter.labels.canceled' | translate)\">\n                <eo-checkbox formControlName=\"canceledFCN\" [tristate]=\"false\"></eo-checkbox>\n              </eo-form-input>\n              <eo-form-input [label]=\"('eo.state.process.filter.labels.failed' | translate)\">\n                <eo-checkbox formControlName=\"failedFCN\" [tristate]=\"false\"></eo-checkbox>\n              </eo-form-input>\n              <eo-form-input [label]=\"('eo.state.process.filter.labels.completed' | translate)\">\n                <eo-checkbox formControlName=\"completedFCN\" [tristate]=\"false\"></eo-checkbox>\n              </eo-form-input>\n              <eo-form-input [label]=\"('eo.state.process.filter.labels.starttime' | translate)\">\n                <eo-datetime-range formControlName=\"startTimeFCN\" [withTime]=\"false\"></eo-datetime-range>\n              </eo-form-input>\n            </form>\n            <button class=\"reset-filter\" (click)=\"resetFilters()\" *ngIf=\"hasChanged(defaultFilterFormValue, filterForm?.value)\">Reset filter</button>\n          </eo-overlay>\n\n          <eo-overlay #oSort\n                      class=\"overlay-sort\"\n                      [iconSrc]=\"'assets/_default/svg/ic_sort.svg'\"\n                      [iconTitle]=\"'eo.list.sort' | translate\"\n                      [active]=\"hasChanged(defaultSortParams, sortParams)\">\n                      <div class=\"sort\">\n                        <div class=\"sort-title\" translate>eo.sort.by</div>\n                        <div class=\"sort-option\" [ngClass]=\"{asc: sortParams.startTime === 'asc', desc: sortParams.startTime === 'desc'}\">\n                          <eo-icon class=\"asc\" [iconTitle]=\"'eo.sort.asc' | translate\" [iconSrc]=\"'assets/_default/svg/ic_arrow_up.svg'\" (click)=\"sort('startTime', 'asc')\"></eo-icon>\n                          <eo-icon class=\"desc\" [iconTitle]=\"'eo.sort.desc' | translate\" [iconSrc]=\"'assets/_default/svg/ic_arrow_down.svg'\" (click)=\"sort('startTime', 'desc')\"></eo-icon>\n                          <span class=\"title\" translate>eo.grid.sort.date</span>\n                          <eo-icon class=\"clear\" [iconTitle]=\"'eo.state.process.sort.clear' | translate\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" (click)=\"sort('startTime', '')\"></eo-icon>\n                        </div>\n                        <div class=\"sort-option\" [ngClass]=\"{asc: sortParams.modelName === 'asc', desc: sortParams.modelName === 'desc'}\">\n                          <eo-icon class=\"asc\" [iconTitle]=\"'eo.sort.asc' | translate\" [iconSrc]=\"'assets/_default/svg/ic_arrow_up.svg'\" (click)=\"sort('modelName', 'asc')\"></eo-icon>\n                          <eo-icon class=\"desc\" [iconTitle]=\"'eo.sort.desc' | translate\" [iconSrc]=\"'assets/_default/svg/ic_arrow_down.svg'\" (click)=\"sort('modelName', 'desc')\"></eo-icon>\n                          <span class=\"title\" translate>eo.process.sort.type</span>\n                          <eo-icon class=\"clear\" [iconTitle]=\"'eo.state.process.sort.clear' | translate\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" (click)=\"sort('modelName', '')\"></eo-icon>\n                        </div>\n                      </div>\n          </eo-overlay>\n\n        </div>\n      </div>\n      <div class=\"eo-body\">\n        <eo-grid #eoGrid\n                 *ngIf=\"gridOptions\"\n                 [gridOptions]=\"gridOptions\"\n                 [fullWidth]=\"true\"\n                 [showHeader]=\"true\"\n                 [showFooter]=\"true\"\n                 [selectFirst]=\"true\"\n                 (eoGridCountChanged)=\"eoList.onCountChanged($event)\"\n                 (eoGridSelectionChanged)=\"eoList.onSelectionChanged($event)\"\n                 (eoGridFocusChanged)=\"eoList.onFocusChanged($event)\">\n          <div class=\"header\">\n          </div>\n\n          <div class=\"footer\">\n            <eo-total-count [gridCount]=\"eoList.gridCount\" [outsideGrid]=\"false\" class=\"flex-row\"></eo-total-count>\n            <eo-pagination [settings]=\"settings\" (pageChanged)=\"onPageChanged($event)\"></eo-pagination>\n          </div>\n\n          <div class=\"empty\">\n            <eo-error-message [emptyState]=\"{icon: 'ic_bpm.svg', text: oFilter.active ? 'eo.no.filter.result' : 'eo.process.list.empty'}\"></eo-error-message>\n            <eo-reset-filter [isFilterActive]=\"oFilter.active\" (click)=\"resetFilters()\"></eo-reset-filter>\n          </div>\n        </eo-grid>\n      </div>\n    </eo-list-container>\n  </ng-template>\n\n  <!-- process details -->\n  <ng-template yvcSplitArea [size]=\"30\">\n    <eo-process-details [applySelection]=\"{in: processSelectionId}\" [emptyState]=\"emptyState1\">\n      <eo-tab-plugin [type]=\"'process-details-tab.process'\"></eo-tab-plugin>\n    </eo-process-details>\n  </ng-template>\n\n  <!-- object details -->\n  <ng-template yvcSplitArea [size]=\"40\">\n    <eo-object-details [applySelection]=\"{}\"\n                           [cacheLayout]=\"'process.state.object-details'\"\n                           [emptyState]=\"emptyState2\">\n          <eo-tab-plugin [type]=\"'object-details-tab.process'\"></eo-tab-plugin>\n        </eo-object-details>\n  </ng-template>\n</yvc-split-view>\n","import {ColDef, GridOptions} from '@ag-grid-community/core';\nimport {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {DmsParams, EnaioEvent, EventService, SystemService, UserService, Utils} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {TranslateService} from '@ngx-translate/core';\nimport {EmptyState} from '../../eo-framework-core/empty-state/empty-state.interface';\nimport {EmptyStateService} from '../../eo-framework-core/empty-state/empty-state.service';\nimport {PendingChangesComponent} from '../../eo-framework-core/pending-changes/pending-changes-component.interface';\nimport {PendingChangesService} from '../../eo-framework-core/pending-changes/pending-changes.service';\nimport {SelectionService} from '../../eo-framework-core/selection/selection.service';\nimport {PageTitleService} from '../../eo-framework-core/title/page-title.service';\nimport {CustomSortComponent} from '../../eo-framework/grid/extensions/custom-sort/custom-sort.component';\nimport {SetFilterComponent} from '../../eo-framework/grid/extensions/filter/setFilters/set-filter.component';\nimport {ISetFilter} from '../../eo-framework/grid/extensions/filter/setFilters/set-filters.interface';\nimport {GridComponent} from '../../eo-framework/grid/grid.component';\n@UntilDestroy()\n@Component({\n  selector: 'eo-recyclebin-state',\n  templateUrl: './recyclebin-state.component.html',\n  styleUrls: ['./recyclebin-state.component.scss']\n})\nexport class RecyclebinStateComponent implements OnInit, PendingChangesComponent, OnDestroy {\n\n  gridOptions: GridOptions;\n  sortFields: ColDef[];\n  typeFilterFields: ISetFilter[];\n  gridData;\n  inboxDmsObjectSelectionId = 'inbox_dms';\n  emptyState: EmptyState = EmptyStateService.defaultEmptyState(); showActionsMenu = true;\n  textFilterParams: any = {};\n\n  @ViewChild('eoGrid') eoGrid: GridComponent;\n  constructor(public selection: SelectionService,\n    public translate: TranslateService,\n    private system: SystemService,\n    private empty: EmptyStateService,\n    private pendingChanges: PendingChangesService,\n    private eventService: EventService,\n    private titleService: PageTitleService,\n    private userService: UserService) {\n    this.titleService.setBaseTitle(this.translate.instant('eo.recyclebin.list.title'));\n    this.selection.createNew(this.inboxDmsObjectSelectionId);\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_RESTORED_OR_DELETED).pipe(untilDestroyed(this))\n      .subscribe(() => this.refreshGrid());\n\n  }\n\n  set hasContent(hasContent: boolean) {\n    this.showActionsMenu = hasContent;\n  }\n\n  get hasContent(): boolean {\n    return this.showActionsMenu;\n  }\n\n  hasPendingChanges() {\n    return this.pendingChanges.hasPendingTask();\n  }\n\n  refreshGrid() {\n    this.userService.getRecycleBin().subscribe();\n  }\n\n  parseDmsParams(data): DmsParams {\n    return data ? {id: data.id, type: data.type, recyclebin: true} : null;\n  }\n\n  typeFilters() {\n    const data = this.gridData;\n    let uniqueByType = SetFilterComponent.uniqBy(data, 'type', this.system.getObjectTypes());\n    this.typeFilterFields = uniqueByType.map(t => Object.assign({\n      label: t.label,\n      value: true,\n      filter: (node) => node.data === t.qname,\n      id: t.qname\n    })).sort(Utils.sortValues('label'));\n  }\n\n  resetFilters() {\n    this.typeFilters();\n  }\n\n  updateGrid(data): void {\n    this.emptyState = this.empty.getEmptyState(data ? data.length : -1, undefined, 'ic_no-file.svg');\n    if (this.eoGrid && this.eoGrid.isReady) {\n      this.eoGrid.updateRowData(data);\n      return this.resetFilters();\n    }\n\n    this.resetFilters();\n\n    let colDefs: ColDef[] = [{\n      headerName: '',\n      field: '__custom',\n      cellRenderer: this.cellRenderer,\n      filter: false\n    }];\n\n    this.textFilterParams = {context: {defaultValue: ''}};\n    this.sortFields = [\n      {field: 'recycled', headerName: this.translate.instant('eo.inbox.sort.date'), sort: ''},\n      {field: 'title', headerName: this.translate.instant('eo.inbox.sort.title'), sort: ''},\n      {field: 'description', headerName: this.translate.instant('eo.inbox.sort.description'), sort: ''}\n    ];\n\n    const sortColDefs = CustomSortComponent.sortColDefs(this.sortFields);\n\n    this.gridOptions = {\n      context: {count: data.length},\n      rowData: data,\n      columnDefs: colDefs.concat(sortColDefs),\n      rowBuffer: 20,\n      rowHeight: 80,\n    };\n  }\n\n  cellRenderer(params) {\n    let icon = params.context.cr.render('type', params, {\n      value: params.data.type\n    });\n    let recycledTime = params.context.cr.render('dateTime', params, {value: params.data.recycled});\n\n    return `<div class=\"list-item ${params.data.folder ? 'folder' : ''}\" unselectable>\n              ${icon}\n              <div class=\"content\">\n                <div class=\"title\">${params.data.title || ''}</div>\n                <div class=\"meta\">\n                  <div class=\"description\">\n                    ${params.data.description}\n                  </div>\n                  <div class='description date'>\n                    <span class=\"period\">${recycledTime}</span>\n                  </div>\n                </div>\n              </div>\n            </div>`;\n  }\n\n  ngOnInit(): void {\n    this.refreshGrid();\n    this.userService.recyclesGridData$.pipe(\n      untilDestroyed(this)\n    )\n      .subscribe(data => {\n        this.gridData = data;\n        this.updateGrid(this.gridData);\n      });\n  }\n\n  ngOnDestroy() {\n    this.selection.clear();\n  }\n}\n","<yvc-split-view [layoutSettingsID]=\"'recyclebin.state'\">\n  <ng-template yvcSplitArea [size]=\"25\">\n    <eo-list-container #eoList [applySelection]=\"{}\" [parseDmsParams]=\"parseDmsParams\">\n      <div class=\"eo-header\">\n        <eo-icon class=\"eo-header-icon\" [iconSrc]=\"'assets/_default/svg/ic_trash.svg'\"></eo-icon>\n        <div class=\"eo-header-info\">\n          <div class=\"eo-header-title\" translate>eo.recyclebin.list.title</div>\n        </div>\n        <div class=\"eo-header-actions\">\n          <eo-icon class=\"button refresh-button\" [iconSrc]=\"'assets/_default/svg/ic_refresh.svg'\"\n            (click)=\"cFilter.resetFilter();cSort.reset();refreshGrid()\"\n            [iconTitle]=\"('eo.list.refresh' | translate)\"></eo-icon>\n\n          <eo-overlay #oFilter class=\"overlay-filter\" [iconSrc]=\"'assets/_default/svg/ic_filter.svg'\" [iconTitle]=\"'eo.list.sort'  | translate\">\n            <eo-custom-filter #cFilter (change)=\"cFilter.updateGrid(eoList.eoGridSubject, $event)\"\n              (active)=\"oFilter.onActiveChanged($event)\">\n              <eo-text-filter [title]=\"'eo.recyclebin.filter.title' | translate\" [id]=\"'recyclebin.text'\"\n                [matchFields]=\"['title','description']\" [filterParams]=\"textFilterParams\">\n              </eo-text-filter>\n\n            </eo-custom-filter>\n          </eo-overlay>\n\n          <eo-overlay #oSort class=\"overlay-sort\" [iconSrc]=\"'assets/_default/svg/ic_sort.svg'\" [iconTitle]=\"'eo.list.sort' | translate\">\n            <eo-custom-sort #cSort [id]=\"'recyclebin.sort'\" (change)=\"cSort.updateGrid(eoList.eoGrid, $event)\"\n              (active)=\"oSort.onActiveChanged($event)\" [sortFields]=\"sortFields\"></eo-custom-sort>\n          </eo-overlay>\n\n        </div>\n      </div>\n      <div class=\"eo-body\">\n        <eo-grid #eoGrid *ngIf=\"gridOptions?.rowData\" [gridOptions]=\"gridOptions\" [fullWidth]=\"true\"\n          [showHeader]=\"true\" [showFooter]=\"true\" [selectFirst]=\"true\"\n          [selectionLimit]=\"1\"\n          (eoGridCountChanged)=\"eoList.onCountChanged($event)\"\n          (eoGridSelectionChanged)=\"eoList.onSelectionChanged($event)\"\n          (eoGridFocusChanged)=\"eoList.onFocusChanged($event)\"\n          >\n\n          <div class=\"header\">\n          </div>\n\n          <div class=\"footer\">\n            <eo-total-count [gridCount]=\"eoList.gridCount\" [outsideGrid]=\"false\" class=\"flex-row\"></eo-total-count>\n          </div>\n\n          <div class=\"empty\">\n            <eo-error-message\n              [emptyState]=\"{icon: 'ic_trash.svg', text: oFilter.active ? 'eo.no.filter.result' : 'eo.recyclebin.list.empty'}\"></eo-error-message>\n            <eo-reset-filter [isFilterActive]=\"oFilter.active\"\n              (click)=\"cFilter.resetFilter();cSort.reset();refreshGrid()\"></eo-reset-filter>\n          </div>\n\n        </eo-grid>\n      </div>\n    </eo-list-container>\n  </ng-template>\n\n  <ng-template yvcSplitArea [size]=\"75\">\n    <eo-recyclebin-details [applySelection]=\"{}\" [parseDmsParams]=\"parseDmsParams\" [emptyState]=\"emptyState\"\n        [cacheLayout]=\"'recyclebin.state.details'\" (hasContent)=\"hasContent = $event\">\n        <eo-tab-plugin [type]=\"'object-details-tab.favorite'\"></eo-tab-plugin>\n      </eo-recyclebin-details>\n  </ng-template>\n</yvc-split-view>\n","import {Component, OnDestroy} from '@angular/core';\nimport {ActivatedRoute, NavigationExtras, Router} from '@angular/router';\nimport {NotificationsService, SearchResult, TranslateService, Utils} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {PendingChangesComponent} from '../../eo-framework-core/pending-changes/pending-changes-component.interface';\nimport {PendingChangesService} from '../../eo-framework-core/pending-changes/pending-changes.service';\nimport {SelectionService} from '../../eo-framework-core/selection/selection.service';\nimport {PageTitleService} from '../../eo-framework-core/title/page-title.service';\n@UntilDestroy()\n@Component({\n  selector: 'eo-result-state',\n  templateUrl: './result-state.component.html',\n  styleUrls: ['./result-state.component.scss']\n})\nexport class ResultStateComponent implements OnDestroy, PendingChangesComponent {\n\n  query: any;\n  clearAfterExecute: boolean;\n  searchTerm: string;\n  openImmediately = false;\n  typeName = 'default';\n\n  constructor(private pendingChanges: PendingChangesService,\n    private route: ActivatedRoute,\n    private titleService: PageTitleService,\n    private selection: SelectionService,\n    private router: Router,\n    private notify: NotificationsService,\n    public translate: TranslateService) {\n    this.titleService.setBaseTitle(this.translate.instant('eo.search.title'));\n\n    this.route.queryParams\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe((params: any) => {\n        if (params.query) {\n          if (!!this.pendingChanges.check()) return;\n          this.query = Utils.formDataParse(decodeURIComponent(params.query));\n          this.typeName = this.query.types && this.query.types.length === 1 ? this.query.types[0] : 'default';\n          this.clearAfterExecute = params.silent;\n          this.searchTerm = this.query.term;\n        }\n        if (params.open) {\n          this.openImmediately = params.open;\n        }\n      });\n  }\n\n  hasPendingChanges() {\n    return this.pendingChanges.hasPendingTask();\n  }\n\n  onResult(result: SearchResult) {\n    if (result.count.value === 1 && this.openImmediately) {\n      const queryParams: NavigationExtras = {queryParams: {'type': result.hits[0].type}};\n      return this.router.navigate(['/object', result.hits[0].id], queryParams);\n    }\n    this.openImmediately = false;\n  }\n\n  onQueryInvalid() {\n    this.notify.warning(this.translate.instant('eo.search.query.invalid'));\n    this.router.navigate(['/']);\n  }\n\n  ngOnDestroy() {\n    this.selection.clear();\n  }\n}\n","<yvc-master-details [layoutOptions]=\"{masterSize: 60, detailsSize: 40}\" [layoutSettingsID]=\"'result.state--' + typeName\"\n  [detailsActive]=\"true\">\n  <!-- master -->\n  <ng-template #yvcMasterPane>\n    <eo-result-list [query]=\"query\" [hasIcon]=\"true\" [clearAfterExecute]=\"clearAfterExecute\"\n      (onResult)=\"onResult($event)\" (onQueryInvalid)=\"onQueryInvalid()\"></eo-result-list>\n  </ng-template>\n\n  <!-- details -->\n  <ng-template #yvcDetailsPane>\n    <eo-object-details [searchTerm]=\"searchTerm\" [applySelection]=\"{}\"\n      [cacheLayout]=\"'result.state--' + typeName + '.object-details'\">\n      <eo-tab-plugin [type]=\"'object-details-tab.result'\"></eo-tab-plugin>\n    </eo-object-details>\n  </ng-template>\n</yvc-master-details>","export enum LockSettings {\n  always = 'always',\n  never = 'never',\n  ask = 'ask'\n}\n","import {AfterViewInit, Component, ElementRef, Renderer2, ViewChild} from '@angular/core';\nimport {NgForm, UntypedFormBuilder, UntypedFormControl} from '@angular/forms';\nimport {\n  AppCacheService,\n  Capabilities,\n  CapabilitiesService,\n  Config,\n  EnaioEvent,\n  EnvironmentService,\n  EoUser,\n  EventService,\n  LocalStorageService,\n  NotificationsService,\n  SystemService,\n  TranslateService,\n  UserService,\n  Utils\n} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {Observable, forkJoin} from 'rxjs';\nimport {take, withLatestFrom} from 'rxjs/operators';\nimport {AgentService, agentConfigKeys} from '../../eo-framework-core/agent/agent.service';\nimport {PageTitleService} from '../../eo-framework-core/title/page-title.service';\nimport {ResultListComponent} from '../../eo-framework/result-list/result-list.component';\nimport {UserAvatarComponent} from '../../eo-framework/ui/user-avatar/user-avatar.component';\nimport {ListSettingsService} from './../../eo-framework/grid/extensions/services/list-settings.service';\nimport {LockSettings} from './agent-lock-settings.enum';\n@UntilDestroy()\n@Component({\n  selector: 'eo-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.scss']\n})\nexport class SettingsComponent implements AfterViewInit {\n\n  user: EoUser;\n  capabilities: Capabilities;\n  deputies: {\n    data: string[],\n    dataMeta: any[]\n  };\n  showChangePasswordForm: boolean;\n  clientLocales: any;\n  schemaLocales: any[];\n  public LockSettings = LockSettings;\n  agentLockSettings: LockSettings;\n  useAgentControl: UntypedFormControl;\n  showAgentConfig: boolean = true;\n  defaultLockSetting: boolean = false;\n\n  user$ = this.userService.user$;\n  errorMessage: string;\n  userId = '';\n  showDeleteIconTrash: boolean = true;\n  userImageUri = '';\n  preview: string;\n  file: any;\n  hoverSelector: boolean = false;\n  showPreviewDialog: boolean = false;\n  showDeleteDialog: boolean = false;\n  showErrorDialog: boolean = false;\n  MAX_FILE_SIZE = 524288;\n  viewMode: string = '';\n  fileName: string;\n\n  cache = {\n    system: true,\n    history: true,\n    layout: true\n  };\n\n  @ViewChild('files') files: ElementRef = {} as ElementRef;\n  @ViewChild('headerBg') headerBg;\n  @ViewChild('userAvatar') userAvatar: UserAvatarComponent\n  @ViewChild('confirmDeleteBtn') confirmDeleteBtn: ElementRef;\n  @ViewChild('profileImageOverlay') profileImageOverlay: ElementRef;\n  @ViewChild(NgForm) deputiesForm: NgForm;\n\n  constructor(private renderer: Renderer2,\n    public userService: UserService,\n    public config: Config,\n    private notify: NotificationsService,\n    private systemService: SystemService,\n    private eventService: EventService,\n    private capabilitiesService: CapabilitiesService,\n    private envService: EnvironmentService,\n    private titleService: PageTitleService,\n    private agentService: AgentService,\n    private fb: UntypedFormBuilder,\n    private cacheService: AppCacheService,\n    private listSettingsService: ListSettingsService,\n    private storageService: LocalStorageService,\n    public translate: TranslateService,\n    private elemRef: ElementRef,\n    private notification: NotificationsService) {\n    this.titleService.setBaseTitle(this.translate.instant('eo.bar.button.settings.title'));\n    this.clientLocales = config.getClientLocales();\n    this.capabilities = this.capabilitiesService.getCapabilities();\n    this.getSchemaLocales();\n    this.getUserData();\n    this.agentLockSettings = userService.getCurrentUser().userSettings.alwayslock;\n    this.agentService.isConnected$.pipe(take(1), withLatestFrom(this.agentService.agentConfig$)).subscribe(([isConnected, config]) => {\n      this.useAgentControl = this.fb.control(isConnected);\n      if (config.hasOwnProperty(agentConfigKeys.AUTOCONNECT)) {\n        this.showAgentConfig = config[agentConfigKeys.AUTOCONNECT]\n        this.useAgentControl.disable()\n      }\n      if (config.hasOwnProperty(agentConfigKeys.LOCKSETTINGS) && Object.values(LockSettings).includes(config[agentConfigKeys.LOCKSETTINGS])) {\n        this.defaultLockSetting = true;\n        this.agentLockSettings = config[agentConfigKeys.LOCKSETTINGS];\n      }\n      this.useAgentControl.valueChanges.pipe(untilDestroyed(this)).subscribe(() => this.agentService.isConnected = this.useAgentControl.value);\n    });\n  }\n\n\n  get isSSO() {\n    return this.capabilities && this.capabilities.sso;\n  }\n\n  get agentStatus(): Observable<boolean> {\n    return this.agentService.isConnected$;\n  }\n\n  get isCloud(): boolean {\n    return this.envService.isCloud();\n  }\n\n  get activeSchema(): string {\n    return this.user && this.user.getSchemaLocale();\n  }\n\n  hasPrivilege(privilege: string): boolean {\n    return this.userService.hasPrivilege(privilege);\n  }\n\n  changeLockSettings(lockSettings: LockSettings) {\n    this.userService.changeLockSetting(lockSettings).subscribe(() => this.agentLockSettings = lockSettings);\n  }\n\n  getSchemaLocales() {\n    this.systemService.system$.subscribe((systemDefinition) => {\n      this.schemaLocales = systemDefinition.locales.sort(Utils.sortValues('displayname'));\n    });\n  }\n\n  saveDeputies() {\n    this.userService.setDeputies(this.deputies.data)\n      .subscribe(res => this.deputiesForm.resetForm({deputies: this.deputies.data}));\n  }\n\n  resetDeputies() {\n    this.deputiesForm.resetForm({deputies: this.user.deputies.map(d => d.name)})\n  }\n\n  getUserData() {\n    this.userService.user$.subscribe((user) => {\n      // this.user = Object.assign(user, {capabilities: this.capabilitiesService.getCapabilities()});\n      this.user = user;\n      // deputies\n      this.deputies = {\n        data: this.user.deputies.map(d => d.name),\n        dataMeta: this.user.deputies\n      };\n    });\n  }\n\n  cancel(): void {\n    this.showChangePasswordForm = false;\n  }\n\n  changeClientLocale(iso: string) {\n    if (this.config.getSupportedClientLocales().includes(iso)) {\n      this.userService.changeClientLocale(iso);\n    } else {\n      this.notify.error(this.translate.instant('eo.state.settings.language.error'));\n    }\n  }\n\n  changeSchemaLocale(iso: string) {\n    if (this.user.schemaLocale !== iso) {\n      this.userService.changeSchemaLocale(iso).subscribe(\n        _ => Utils.throw(null,\n          this.translate.instant('eo.user.service.schema.locale.error.title'),\n          this.translate.instant('eo.user.service.schema.locale.error.description'))\n      );\n    }\n  }\n\n  ngAfterViewInit() {\n    this.elemRef.nativeElement.querySelector('#presence').focus();\n    this.user$.subscribe(user => {\n      this.userId = user.id;\n      this.userImageUri = this.userService.getUserImageUri(this.userId);\n      this.refreshUserImageHeaderBackground(this.userImageUri);\n      this.showDeleteIconTrash = !!user.imageUri;\n    });\n  }\n\n  setPresence(b: boolean) {\n    this.userService.setPresence(b)\n      .subscribe(_ => {\n      }, Utils.throw(null,\n        this.translate.instant('eo.state.settings.presence.error.title'),\n        this.translate.instant('eo.state.settings.presence.error.description')\n      )\n      );\n  }\n  closePreviewDialog() {\n    this.showPreviewDialog = false;\n    this.profileImageOverlay.nativeElement.focus();\n  }\n\n  deleteUserImage() {\n    this.userService\n      .setUserImage(null).subscribe({\n        next: () => {\n          this.refreshUserImageHeaderBackground(this.userImageUri);\n          this.eventService.trigger(EnaioEvent.SYSTEM_STATUS_IMAGE_CHANGE);\n          this.showDeleteDialog = false;\n          this.showDeleteIconTrash = false;\n        },\n        error: (err) => {\n          this.notification.error('', err.error.cause.messages[0]);\n          this.file = null;\n          this.translate.instant('eo.upload.global.error.title'),\n          this.translate.instant('eo.upload.global.error.description')\n        },\n\n      });\n\n  }\n\n  selectImage(event): void {\n    this.file = event.files[0];\n    if (this.file) {\n      this.fileName = this.file.name;\n      switch (false) {\n\n        case (this.file.type.includes('image/') && this.file.type.includes('jpeg') || this.file.type.includes('png')):\n          this.viewMode = 'image';\n          this.showErrorDialog = true;\n          break;\n\n        case (this.file.size <= this.MAX_FILE_SIZE):\n          this.viewMode = 'size';\n          this.showErrorDialog = true;\n          break;\n\n        default:\n\n          this.preview = '';\n          const reader = new FileReader();\n          reader.onload = (e: any) => {\n            this.preview = e.target.result;\n            this.showPreviewDialog = true;\n          };\n          reader.readAsDataURL(this.file);\n          break;\n      }\n    }\n  }\n\n  uploadNewUserImage() {\n\n    this.userService\n      .setUserImage(this.file).subscribe({\n        next: () => {\n          this.profileImageOverlay.nativeElement.focus();\n          this.refreshUserImageHeaderBackground(this.userImageUri);\n          this.eventService.trigger(EnaioEvent.SYSTEM_STATUS_IMAGE_CHANGE);\n          this.closePreviewDialog();\n          this.showDeleteIconTrash = true;\n        },\n        error: (err) => {\n          this.notification.error('', err.error.cause.messages[0]);\n          this.file = null;\n          this.translate.instant('eo.upload.global.error.title'),\n          this.translate.instant('eo.upload.global.error.description')\n        },\n  })\n}\n\n  tabAction(input: HTMLInputElement) {\n    input.blur();\n    this.hoverSelector = false;\n  }\n  mouseEnter() {\n    this.hoverSelector = true;\n  }\n  mouseLeave() {\n    this.hoverSelector = false;\n  }\n  trashIconClick() {\n    this.showDeleteDialog = true;\n  }\n\n  refreshUserImageHeaderBackground(imageUri: string) {\n    if (imageUri) {\n      const timestamp = new Date().getTime().toString();\n      this.renderer.setStyle(this.headerBg.nativeElement, 'background-image', `url(${imageUri + '&t=' + timestamp})`);\n    }\n  }\n\n  clearCache() {\n    const actions = [\n      this.cache.history && this.listSettingsService.clearSettings(),\n      this.cache.history && this.cacheService.clear((key: string) => !key.match(/^eo.+(layout)/) && !key.match(/^eo.framework.cache/)),\n      this.cache.layout && this.storageService.clear((key: string) => key === ResultListComponent.COLUMNS_DEFINITION),\n      this.cache.layout && this.cacheService.clear((key: string) => !!key.match(/^eo.+(layout)/)),\n      this.cache.system && this.systemService.fetchSystemDefinition(this.user),\n    ].filter(a => a);\n\n    return actions.length ? forkJoin(actions).subscribe(\n      () => this.notify.success(this.translate.instant('eo.state.settings.cache.clear.success')),\n      () => this.notify.error(this.translate.instant('eo.state.settings.cache.clear.error'))\n    ) && true : false;\n  }\n}\n","<div class=\"eo-settings\" *ngIf=\"user\" eoRtlAware>\n\n  <div class=\"header\">\n\n    <div #headerBg class=\"bg\"></div>\n    <div class=\"fill\">\n      <div class=\"meta username\">{{user.name}}</div>\n      <h1>{{user.firstname}} {{user.lastname}}</h1>\n      <div class=\"meta email\">{{user.email}}</div>\n\n      <div class=\"presence\" *ngIf=\"capabilities.inbox\">\n        <button class=\"toggle dark present\" id=\"presence\" (click)=\"setPresence(true)\" [ngClass]=\"{active: user.present}\"\n         translate>eo.state.settings.presence.present</button>\n        <button class=\"toggle dark absent\" (click)=\"setPresence(false)\" (keydown.tab)=\"tabAction($event.target)\" [ngClass]=\"{active: !user.present}\"\n          translate>eo.state.settings.presence.absent</button>\n      </div>\n    </div>\n    <div (mouseenter)=\"mouseEnter()\" (mouseleave)=\"mouseLeave()\" (keydown.tab)=\"mouseEnter()\">\n\n      <eo-user-avatar #userAvatar class=\"userImage\" tabindex=\"-1\" eoRtlAware=\"full\">\n          <input type=\"file\" accept=\".jpg, .png\" style=\"display:none;\" #files (change)=\"selectImage($event.target)\" (click)=\"$event.target.value=null\">\n      </eo-user-avatar>\n      <eo-dialog  [styleClass]=\"'view'\" [minWidth]=\"'300px'\" [title]=\"'eo.state.settings.details.upload.dialog.title' | translate\"\n        [(visible)]=\"showPreviewDialog\" [focusOnShow]=\"false\">\n        <ng-container>\n          <div class=\"contain\">\n            <div class=\"attachments\">\n              <div class=\"atta\">\n                <img loading=\"lazy\" [src]=\"preview\">\n              </div>\n              <div class=\"user-avatar\" *ngIf=\"preview\">\n                <eo-user-avatar class=\"preview-round\" [previewUri]=\"preview\"></eo-user-avatar>\n              </div>\n            </div>\n          </div>\n          <div class=\"button-block\">\n            <button type=\"button\" (click)=\"closePreviewDialog()\" class=\"button danger\"\n              translate>eo.state.settings.details.delete.dialog.cancel</button>\n            <button type=\"button\" cdkFocusInitial (click)=\"uploadNewUserImage()\" class=\"button primary\"\n              translate>eo.state.settings.details.dialog.save</button>\n          </div>\n        </ng-container>\n      </eo-dialog>\n\n      <div class=\"overlay\" #profileImageOverlay tabindex=\"0\">\n        <span class=\"updateMessage\" *ngIf=\"hoverSelector\">\n          <eo-icon tabindex=\"0\" (keydown.enter)=\"files.click()\" [iconSrc]=\"'assets/_default/svg/ic_edit.svg'\"\n            (click)=\"files.click()\"></eo-icon>\n          <eo-icon tabindex=\"0\" (keydown.enter)=\"trashIconClick()\" *ngIf=\"showDeleteIconTrash\"\n            [iconSrc]=\"'assets/_default/svg/ic_trash.svg'\" aria-disabled=\"true\" (click)=\"trashIconClick()\"></eo-icon>\n        </span>\n      </div>\n    </div>\n\n  </div>\n\n  <div class=\"body\" (keydown.tab)=\"tabAction($event.target)\">\n\n    <div class=\"body-wrap\">\n\n      <div class=\"section section-deputies\" *ngIf=\"capabilities.bpm && hasPrivilege('MANAGE_DEPUTY_LIST')\">\n        <h3 translate>eo.state.settings.deputies</h3>\n\n        <!-- deputies -->\n        <div class=\"entry deputies\">\n          <div class=\"label\" translate>eo.state.settings.deputies.label</div>\n          <div class=\"values\">\n            <form #deputiesForm=\"ngForm\" [ngClass]=\"{dirty: deputiesForm.dirty}\">\n              <eo-organization name=\"deputies\" [dataMeta]=\"deputies.dataMeta\" [filterObject]=\"{type: 'USER'}\"\n                [exceptions]=\"[user.name]\" [multiselect]=\"true\" tabindex=\"0\" [(ngModel)]=\"deputies.data\"></eo-organization>\n              <div class=\"actions\" *ngIf=\"deputiesForm.valid && deputiesForm.dirty\">\n                <button class=\"secondary\" (click)=\"resetDeputies()\" translate>eo.state.settings.deputies.cancel</button>\n                <button class=\"primary\" (click)=\"saveDeputies()\" translate>eo.state.settings.deputies.save</button>\n              </div>\n            </form>\n          </div>\n        </div>\n\n        <!-- substitute of -->\n        <div class=\"entry substitute\">\n          <div class=\"label\" translate>eo.state.settings.deputies.subsituteof.label</div>\n          <div class=\"values\">\n            <span class=\"chip\" *ngFor=\"let sub of user.substitutesOf\" [ngClass]=\"{present: sub.present}\">\n              <eo-icon class=\"chip substitute substitute--present\" *ngIf=\"sub.present\"\n                [iconSrc]=\"'assets/_default/svg/ic_done.svg'\"></eo-icon>\n              <eo-icon class=\"chip substitute substitute--away\" *ngIf=\"!sub.present\"\n                [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\"></eo-icon>\n              <span>{{sub.title}} ({{sub.name}})</span>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <!-- password -->\n      <section *ngIf=\"!isCloud && !isSSO || !isCloud && isSSO\" class=\"section section-password\">\n        <div class=\"entry\">\n          <div class=\"label\" translate>eo.password.reset</div>\n          <div class=\"values\">\n            <eo-simple-accordion #simpleAcc [header]=\"('eo.password.reset' | translate)\"\n              [styles]=\"'setting__change-password'\" [headerClass]=\"'setting__change-password-header'\">\n\n              <eo-change-password-form (onFormSumbit)=\"simpleAcc.selected = false\"></eo-change-password-form>\n            </eo-simple-accordion>\n          </div>\n        </div>\n      </section>\n\n      <!-- language -->\n      <div class=\"section section-lang\">\n        <h3 translate>eo.state.settings.language</h3>\n        <div class=\"entry lang-app\">\n          <div class=\"label\" translate>eo.state.settings.language.client</div>\n          <div class=\"values\">\n            <button class=\"toggle\" (click)=\"changeClientLocale(locale.iso)\"\n              [ngClass]=\"{active: translate.currentLang === locale.iso}\"\n              *ngFor=\"let locale of clientLocales\">{{locale.label}}\n            </button>\n          </div>\n        </div>\n\n        <div class=\"entry lang-def\">\n          <div class=\"label\" translate>eo.state.settings.language.schema</div>\n          <div class=\"values\">\n            <button class=\"toggle\" (click)=\"changeSchemaLocale(locale.code)\"\n              [ngClass]=\"{active: activeSchema === locale.code}\"\n              *ngFor=\"let locale of schemaLocales\">{{locale.displayname}}</button>\n          </div>\n        </div>\n      </div>\n\n      <!-- permissions -->\n      <div class=\"section section-perm\">\n        <h3 translate>eo.state.settings.permission</h3>\n        <div class=\"entry perm-roles\">\n          <div class=\"label\" translate>eo.state.settings.roles</div>\n          <div class=\"values roles\">\n            <eo-simple-accordion [header]=\"('eo.state.settings.roles' | translate)\">\n              <eo-permissions [roles]=\"user.roles\"></eo-permissions>\n            </eo-simple-accordion>\n          </div>\n        </div>\n      </div>\n\n      <!-- agent -->\n      <div class=\"section section-others\">\n        <h3 translate>eo.state.settings.others</h3>\n        <ng-container *ngIf=\"showAgentConfig\">\n          <div class=\"entry\">\n            <div class=\"label\" translate>eo.state.settings.agent</div>\n            <div class=\"values\">\n              <div class=\"use-agent\">\n                <eo-checkbox [formControl]=\"useAgentControl\" [readonly]=\"useAgentControl.disabled\"\n                  *ngIf=\"useAgentControl\"></eo-checkbox>\n                <span class=\"use-agent-label\" translate>eo.state.settings.agent.use</span>\n                <!-- <a href=\"https://help.optimal-systems.com/yuuvisRAD/v60/user/client/de/client/integration/cln_tsk_agent_global.htm?Highlight=agent\">\n          <eo-icon class=\"info-icon\" [iconSrc]=\"'assets/_default/svg/ic_info.svg'\"></eo-icon>\n        </a> -->\n              </div>\n            </div>\n          </div>\n\n\n          <div class=\"entry lock-settings\" [ngClass]=\"{'lock-settings--show': (agentStatus | async)}\">\n            <div class=\"label\" translate>eo.state.settings.lock</div>\n            <div class=\"values\">\n              <button class=\"toggle button-enabled\" (click)=\"changeLockSettings(LockSettings.always)\"\n                [ngClass]=\"{active: agentLockSettings === LockSettings.always}\" [disabled]=\"defaultLockSetting\"\n                translate>eo.state.settings.lock.enable</button>\n              <button class=\"toggle button-disabled\" (click)=\"changeLockSettings(LockSettings.never)\"\n                [ngClass]=\"{active: agentLockSettings === LockSettings.never}\" [disabled]=\"defaultLockSetting\"\n                translate>eo.state.settings.lock.disable</button>\n              <button class=\"toggle button-ask\" (click)=\"changeLockSettings(LockSettings.ask)\"\n                [ngClass]=\"{active: agentLockSettings === LockSettings.ask}\" [disabled]=\"defaultLockSetting\"\n                translate>eo.state.settings.lock.ask</button>\n            </div>\n          </div>\n\n\n        </ng-container>\n\n        <div class=\"entry\">\n          <div class=\"label\" translate>eo.state.settings.cache</div>\n          <div class=\"values\">\n            <div class=\"flex-row\">\n              <button translate (click)=\"clearCache()\">eo.state.settings.cache.clear</button>\n              <div class=\"cache\">\n                <eo-form-input class=\"checkbox\" [skipToggle]=\"true\"\n                  [label]=\"'eo.state.settings.config.cache.system' | translate\">\n                  <eo-checkbox [(ngModel)]=\"cache.system\" [ngModelOptions]=\"{ standalone: true }\"></eo-checkbox>\n                </eo-form-input>\n                <eo-form-input class=\"checkbox\" [skipToggle]=\"true\"\n                  [label]=\"'eo.state.settings.config.cache.history' | translate\">\n                  <eo-checkbox [(ngModel)]=\"cache.history\" [ngModelOptions]=\"{ standalone: true }\"></eo-checkbox>\n                </eo-form-input>\n                <eo-form-input class=\"checkbox\" [skipToggle]=\"true\"\n                  [label]=\"'eo.state.settings.config.cache.layout' | translate\">\n                  <eo-checkbox [(ngModel)]=\"cache.layout\" [ngModelOptions]=\"{ standalone: true }\"></eo-checkbox>\n                </eo-form-input>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n  <eo-dialog [title]=\"'eo.state.settings.details.delete.dialog.title' | translate\" [(visible)]=\"showDeleteDialog\"\n    [focusOnShow]=\"false\" [minWidth]=\"400\" [styleClass]=\"'delete__dialog'\">\n    <div>{{'eo.state.settings.details.delete.dialog.message' | translate}}</div>\n\n    <div class=\"action-buttons image-delete--action-buttons flex-row\" >\n      <button type=\"button\" class=\"button cancel\" (click)=\"showDeleteDialog = false\"\n      translate>eo.state.settings.details.delete.dialog.cancel</button>\n      <button type=\"button\" cdkFocusInitial #confirmDeleteBtn (click)=\"deleteUserImage()\" class=\"button primary\"\n        translate>eo.state.settings.details.delete.dialog.ok</button>\n    </div>\n  </eo-dialog>\n\n  <eo-dialog [title]=\"'eo.state.settings.details.upload.dialog.title' | translate\" [(visible)]=\"showErrorDialog\"\n    [focusOnShow]=\"false\" [minWidth]=\"400\" [styleClass]=\"'delete__dialog'\">\n\n    <div>\n      <p>{{fileName}}</p>\n      <p *ngIf=\"viewMode ==='size'\" translate>eo.state.settings.details.upload.dialog.sizeError</p>\n      <p *ngIf=\"viewMode ==='image'\" translate>eo.state.settings.details.upload.dialog.fileError </p>\n    </div>\n\n    <div class=\"action-buttons image-delete--action-buttons flex-row\">\n      <button type=\"button\" class=\"button cancel\" (click)=\"showErrorDialog = false\"\n        translate>eo.state.settings.details.delete.dialog.cancel</button>\n      <button type=\"button\" cdkFocusInitial (click)=\"files.click(); showErrorDialog = false\" class=\"button primary\"\n        translate>eo.state.settings.details.upload.dialog.back</button>\n    </div>\n  </eo-dialog>\n</div>\n","import {ColDef, GridOptions} from '@ag-grid-community/core';\nimport {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {ActivatedRoute, NavigationEnd, Router} from '@angular/router';\nimport {EoUser, StoredQueriesService, StoredQuery, TranslateService, UserService, Utils} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {debounceTime, first} from 'rxjs/operators';\nimport {PendingChangesComponent} from '../../eo-framework-core/pending-changes/pending-changes-component.interface';\nimport {PendingChangesService} from '../../eo-framework-core/pending-changes/pending-changes.service';\nimport {AppSearchService} from '../../eo-framework-core/search/app-search.service';\nimport {SelectionService} from '../../eo-framework-core/selection/selection.service';\nimport {PageTitleService} from '../../eo-framework-core/title/page-title.service';\nimport {CustomSortComponent} from '../../eo-framework/grid/extensions/custom-sort/custom-sort.component';\nimport {ISetFilter} from '../../eo-framework/grid/extensions/filter/setFilters/set-filters.interface';\nimport {GridComponent} from '../../eo-framework/grid/grid.component';\nimport {TypeFilter} from '../../eo-framework/stored-query/stored-query-type-filter.enum';\nimport {UtilitiesService} from '../../eo-framework/util/services/utilities.service';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-stored-queries-state',\n  templateUrl: './stored-queries-state.component.html',\n  styleUrls: ['./stored-queries-state.component.scss']\n})\nexport class StoredQueriesStateComponent implements OnInit, PendingChangesComponent, OnDestroy {\n\n  storedQueries: StoredQuery[] = [];\n  selectedQuery: StoredQuery;\n  gridOptions: GridOptions;\n  sortFields: ColDef[];\n  typeFilterFields: ISetFilter[] = [];\n  gridData: StoredQuery[];\n  textFilterParams: any = {};\n\n  user: EoUser;\n  selectFirst = true;\n\n  @ViewChild('eoGrid') eoGrid: GridComponent;\n\n  constructor(private route: ActivatedRoute,\n    private router: Router,\n    private pendingChanges: PendingChangesService,\n    public translate: TranslateService,\n    private selection: SelectionService,\n    private storedQueriesService: StoredQueriesService,\n    private titleService: PageTitleService,\n    private userService: UserService,\n    private appSearch: AppSearchService) {\n    this.titleService.setBaseTitle(this.translate.instant('eo.search.title.storedqueries'));\n  }\n\n  select(query: StoredQuery) {\n    this.selection.focus(query);\n    if (this.eoGrid) {\n      this.eoGrid.api.deselectAll();\n      this.eoGrid.api.clearFocusedCell();\n    }\n  }\n\n  hasPendingChanges() {\n    return this.pendingChanges.hasPendingTask();\n  }\n\n  getStoredQuerys() {\n    this.refreshGrid();\n    this.storedQueriesService\n      .storedQueries$.pipe(\n        untilDestroyed(this),\n        debounceTime(100)\n      ).subscribe(queriesSubscription => {\n        this.gridData = queriesSubscription.queries.sort(Utils.sortValues('name')).sort(Utils.sortValues('favorite', 'desc'));\n        this.updateGrid(this.gridData, queriesSubscription.select && this.gridData ? queriesSubscription.select : null);\n      });\n  }\n\n  refreshGrid() {\n    this.storedQueriesService.refreshStoredQueries();\n  }\n\n  getRowIndex(id) {\n    if (this.eoGrid) {\n      const rowNodeId = this.eoGrid.gridOptions.getRowNodeId(id);\n      const rowNode = this.eoGrid.api.getRowNode(rowNodeId);\n      return rowNode ? rowNode.rowIndex : null;\n    }\n    return null;\n  }\n\n  notifyList(val) {\n    if (this.eoGrid) {\n      const {unselect, update, payload} = val;\n      if (!unselect && !update && !payload) {\n        setTimeout(() => this.eoGrid.selectRow(0), 500);\n      }\n    }\n  }\n\n  typeFilter(node, item: string) {\n    switch (item) {\n      case TypeFilter.favored:\n      case TypeFilter.shared:\n        return !UtilitiesService.isEmptyOrFalse(node.data[item]);\n      case TypeFilter.others:\n        return UtilitiesService.isEmptyOrFalse(node.data[TypeFilter.favored]) && UtilitiesService.isEmptyOrFalse(node.data[TypeFilter.shared]);\n      default:\n        return true;\n    }\n  }\n\n  typeFilters() {\n    this.typeFilterFields = Object.keys(TypeFilter).map(item => ({\n      label: this.translate.instant(`eo.storedquery.${item}.filter.title`),\n      filter: (node) => this.typeFilter(node, TypeFilter[item]),\n      value: true,\n      id: item\n    }));\n  }\n\n  resetFilters() {\n    this.typeFilters();\n  }\n\n  updateGrid(data, id) {\n\n    if (this.eoGrid && this.eoGrid.isReady) {\n      // todo: hotfix: enable auto selection in case it was disabled by new query\n      setTimeout(() => (this.selectFirst = true), 1000);\n      return this.eoGrid.updateRowData(data, id);\n    }\n\n    this.resetFilters();\n\n    let colDefs: ColDef[] = [\n      {\n        headerName: '',\n        field: '__custom',\n        cellRenderer: this.cellRenderer,\n        filter: false\n      }\n    ];\n\n    this.textFilterParams = {context: {defaultValue: ''}};\n    this.sortFields = [{field: 'name', headerName: this.translate.instant('eo.inbox.sort.title'), sort: ''}];\n    let sortColDefs = CustomSortComponent.sortColDefs(this.sortFields);\n\n    this.gridOptions = {\n      context: {count: data.length, currentUser: this.userService.getCurrentUser()},\n      rowData: data,\n      columnDefs: colDefs.concat(sortColDefs),\n      rowBuffer: 20,\n      rowHeight: 80\n    };\n  }\n\n  cellRenderer(params) {\n    const own = params.context.currentUser.name.toLowerCase() === params.data.user.toLowerCase();\n\n    const favIconTitle = !own ? 'eo.storedquery.favoredfor.title' : 'eo.storedquery.favored.title';\n    const shareIconTitle = !own ? 'eo.storedquery.sharedfor.title' : 'eo.storedquery.shared.title';\n\n    const favIcon = UtilitiesService.isEmptyOrFalse(params.data[TypeFilter.favored]) ? '' :\n      params.context.cr.render('icon', params, {\n        value: {label: params.context.translate.instant(favIconTitle), url: 'assets/_default/svg/ic_favorite.svg'}\n      });\n\n    const shareIcon = UtilitiesService.isEmptyOrFalse(params.data[TypeFilter.shared]) ? '' :\n      params.context.cr.render('icon', params, {\n        value: {label: params.context.translate.instant(shareIconTitle), url: 'assets/_default/svg/ic_share.svg'}\n      });\n\n\n    return `<div class=\"list-item\" unselectable>\n              <div class='content'>\n                <div class='title'>${params.data.name || ''}</div>\n                <div class='icons ${!own ? 'shared-with-me' : ''}'>\n                  <span>${favIcon}</span>\n                  <span>${shareIcon}</span>\n                </div>\n              </div>\n              <div class=\"meta\">\n              </div>\n           </div>\n          `;\n  }\n\n  remove() {\n    let focused = this.selection.getFocus();\n    if (focused) {\n      this.storedQueriesService.removeStoredQuery(focused.id).subscribe();\n    }\n  }\n\n  ngOnDestroy() {\n    this.selection.clear();\n  }\n\n  private createNewStoredQuery() {\n    this.appSearch.query$\n      .pipe(\n        untilDestroyed(this),\n        first()\n      )\n      .subscribe(query => {\n        let sq = new StoredQuery();\n        sq.setQuery(query);\n        this.select(sq);\n      }\n      );\n    // get rid of the query param\n    this.router.navigate(['/stored-queries'], {replaceUrl: true});\n  }\n\n  ngOnInit() {\n\n    this.getStoredQuerys();\n\n    // in case of getting the create param, we'll fetch the latest query from\n    // appSearchService and create a new StoredQuery from it\n    if (this.route.snapshot.queryParams['create']) {\n      this.selectFirst = false;\n      this.createNewStoredQuery();\n    }\n\n    this.router.events\n      .pipe(untilDestroyed(this))\n      .subscribe(event => {\n        if (event instanceof NavigationEnd && event.urlAfterRedirects === '/stored-queries?create=true') {\n          this.createNewStoredQuery();\n        }\n      });\n  }\n\n}\n","<yvc-split-view [layoutSettingsID]=\"'stored.queries.state'\">\n  <!-- list -->\n  <ng-template yvcSplitArea [size]=\"25\">\n    <eo-list-container #eoList [applySelection]=\"{}\">\n      <div class=\"eo-header\">\n        <eo-icon class=\"eo-header-icon\" [iconSrc]=\"'assets/_default/svg/ic_search.svg'\"></eo-icon>\n        <div class=\"eo-header-info\">\n          <div class=\"eo-header-title\" translate>eo.sidebar.navigation.storedqueries</div>\n        </div>\n        <div class=\"eo-header-actions\">\n          <eo-icon class=\"button refresh-button\" [iconSrc]=\"'assets/_default/svg/ic_refresh.svg'\"\n            (click)=\"cFilter.resetFilter();cSort.reset();refreshGrid()\"\n            [iconTitle]=\"('eo.list.refresh' | translate)\"></eo-icon>\n\n          <eo-overlay #oFilter class=\"overlay-filter\" [iconSrc]=\"'assets/_default/svg/ic_filter.svg'\"\n            [iconTitle]=\"'eo.list.filter' | translate\">\n            <eo-custom-filter #cFilter (change)=\"cFilter.updateGrid(eoList.eoGrid, $event)\"\n              (active)=\"oFilter.onActiveChanged($event)\">\n              <eo-text-filter [title]=\"'eo.folder.filter.title' | translate\" [id]=\"'stored.queries.text'\"\n                [matchFields]=\"['name']\" [filterParams]=\"textFilterParams\"></eo-text-filter>\n              <eo-set-filter [operator]=\"'OR'\" [id]=\"'stored.queries.type'\"\n                [title]=\"'eo.folder.filter.section.objecttype' | translate\"\n                [options]=\"typeFilterFields\"></eo-set-filter>\n            </eo-custom-filter>\n          </eo-overlay>\n\n          <eo-overlay #oSort class=\"overlay-sort\" [iconSrc]=\"'assets/_default/svg/ic_sort.svg'\"\n            [iconTitle]=\"'eo.list.sort' | translate\">\n            <eo-custom-sort #cSort [id]=\"'stored.queries.sort'\" (change)=\"cSort.updateGrid(eoList.eoGrid, $event)\"\n              (active)=\"oSort.onActiveChanged($event)\" [sortFields]=\"sortFields\"></eo-custom-sort>\n          </eo-overlay>\n        </div>\n      </div>\n      <div class=\"eo-body\">\n        <eo-grid #eoGrid [gridOptions]=\"gridOptions\" *ngIf=\"gridOptions?.rowData\" [fullWidth]=\"true\" [showHeader]=\"true\"\n          [showFooter]=\"true\" [selectFirst]=\"selectFirst\" (eoGridCountChanged)=\"eoList.onCountChanged($event)\"\n          (eoGridSelectionChanged)=\"eoList.onSelectionChanged($event)\"\n          (eoGridFocusChanged)=\"eoList.onFocusChanged($event)\">\n\n          <div class=\"header\">\n          </div>\n\n          <div class=\"footer\">\n            <eo-total-count [gridCount]=\"eoList.gridCount\" [outsideGrid]=\"false\" class=\"flex-row\"></eo-total-count>\n          </div>\n\n          <div class=\"empty\">\n            <eo-error-message\n              [emptyState]=\"{icon: 'ic_search.svg', text: oFilter.active ? 'eo.no.filter.result' : 'eo.stored.queries.list.empty'}\"></eo-error-message>\n            <eo-reset-filter [isFilterActive]=\"oFilter.active\"\n              (click)=\"cFilter.resetFilter();cSort.reset();refreshGrid()\"></eo-reset-filter>\n          </div>\n        </eo-grid>\n      </div>\n    </eo-list-container>\n  </ng-template>\n\n  <!-- details -->\n  <ng-template yvcSplitArea [size]=\"75\">\n    <eo-stored-query-details (notifyList)=\"notifyList($event)\"></eo-stored-query-details>\n  </ng-template>\n</yvc-split-view>","import {ColDef, GridOptions} from '@ag-grid-community/core';\nimport {Component, OnInit, ViewChild} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {DmsObject, DmsParams, DmsService, EnaioEvent, EventService, TranslateService, Utils} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {PageTitleService} from '../../eo-framework-core/title/page-title.service';\nimport {ISetFilter} from '../../eo-framework/grid';\nimport {CustomSortComponent} from '../../eo-framework/grid/extensions/custom-sort/custom-sort.component';\nimport {SetFilterComponent} from '../../eo-framework/grid/extensions/filter/setFilters/set-filter.component';\nimport {GridComponent} from '../../eo-framework/grid/grid.component';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-version-state',\n  templateUrl: './version-state.component.html',\n  styleUrls: ['./version-state.component.scss']\n})\nexport class VersionStateComponent implements OnInit {\n\n  versionItem: DmsObject;\n  gridOptions: GridOptions;\n  sortFields: ColDef[];\n  typeFilterFields: ISetFilter[];\n  userFilterFields: ISetFilter[];\n  gridData;\n\n  @ViewChild('eoGrid') eoGrid: GridComponent;\n\n  constructor(private route: ActivatedRoute,\n              private translate: TranslateService,\n              private titleService: PageTitleService,\n              private eventService: EventService,\n              private dmsService: DmsService) {\n    this.titleService.setBaseTitle(this.translate.instant('eo.versions.list.title'));\n  }\n\n  ngOnInit() {\n    this.eventService.on(EnaioEvent.DMS_OBJECT_VERSION_RESTORED).pipe(untilDestroyed(this)).subscribe(id => this.refreshGrid());\n    this.refreshGrid(this.route.snapshot.queryParams['version'], this.route.snapshot.queryParams['version2']);\n  }\n\n  parseDmsParams(data): DmsParams {\n    return data && data.dmsItem ? {id: data.dmsItem.id, type: data.dmsItem.type, version: data.version} : null;\n  }\n\n  refreshGrid(version?: string, version2?: string) {\n    let id = this.route.snapshot.params['id'];\n    let _type = this.route.snapshot.queryParams['type'];\n\n    this.dmsService.getVersions(id, _type).subscribe((item: DmsObject) => {\n      this.versionItem = item;\n      this.gridData = (item.versions || [])\n        .map(v => Object.assign(v, {id: v.version, dmsItem: {id: item.id, type: item.typeName}}))\n        .sort((a, b) => b.version - a.version);\n      let rowIndex = version ? this.gridData.findIndex(d => '' + d.version === version) : -1;\n      let rowIndex2 = version2 ? this.gridData.findIndex(d => '' + d.version === version2) : -1;\n      this.updateGrid(this.gridData, rowIndex, rowIndex2);\n    });\n  }\n\n  typeFilters(data) {\n    let uniqueByType = SetFilterComponent.uniqByProperty(data, 'type');\n    this.typeFilterFields = uniqueByType.map((t: any) => Object.assign({\n      label: t.title,\n      value: true,\n      filter: (node) => node.data.type === t.type,\n      id: t.type\n    })).sort(Utils.sortValues('label'));\n  }\n\n  userFilters(data) {\n    let uniqueByType = SetFilterComponent.uniqByProperty(data, 'user.name');\n    this.userFilterFields = uniqueByType.map((t: any) => Object.assign({\n      label: t.user.title,\n      value: true,\n      filter: (node) => node.data.user.name === t.user.name,\n      id: t.user.name\n    })).sort(Utils.sortValues('label'));\n  }\n\n  resetFilters() {\n    this.typeFilters(this.gridData);\n    this.userFilters(this.gridData);\n  }\n\n  updateGrid(data, rowIndex = -1, rowIndex2 = -1) {\n\n    if (this.eoGrid && this.eoGrid.isReady) {\n      this.eoGrid.updateRowData(data, ~rowIndex ? rowIndex : 0);\n      return this.resetFilters();\n    }\n\n    this.resetFilters();\n\n    let colDefs: ColDef[] = [\n      {\n        headerName: '',\n        field: '__custom',\n        cellRenderer: this.cellRenderer,\n        filter: false\n      }\n    ];\n\n    this.sortFields = [\n      {field: 'user.title', headerName: this.translate.instant('eo.inbox.sort.title'), sort: ''},\n      {field: 'time', headerName: this.translate.instant('eo.inbox.sort.date'), sort: ''}\n    ];\n\n    let sortColDefs = CustomSortComponent.sortColDefs(this.sortFields);\n\n    this.gridOptions = {\n      context: {\n        count: data.length, rowIndex: ~rowIndex2 ? rowIndex2 : ~rowIndex ? rowIndex : 0,\n        selection: ~rowIndex2 && ~rowIndex && rowIndex2 !== rowIndex ? [rowIndex, rowIndex2] : null\n      },\n      rowData: data,\n      columnDefs: colDefs.concat(sortColDefs),\n      rowBuffer: 20,\n      rowHeight: 80\n    };\n  }\n\n  cellRenderer(params) {\n    let shortDate = params.context.cr.render('dateTime', params, {value: params.data.time, pattern: 'eoShortDate'});\n    let shortTime = params.context.cr.render('dateTime', params, {value: params.data.time, pattern: 'eoShortTime'});\n\n    return `<div class=\"list-item\" unselectable>\n              <div class=\"icon circle\">${params.data.version}</div>\n              <div class='content'>\n                <div class='title'>${params.data.user.title || ''}</div>\n                <div class='description'>\n                  ${params.data.description || ''}\n                </div>\n              </div>\n              <div class=\"meta\">\n                <div class=\"date\">${shortDate}</div>\n                <div class=\"date\">${shortTime}</div>\n              </div>\n           </div>\n          `;\n  }\n\n}\n","<yvc-split-view [layoutSettingsID]=\"'version.state'\">\n  <!-- list of versions -->\n  <ng-template yvcSplitArea [size]=\"30\">\n    <eo-list-container #eoList [applySelection]=\"{}\" [parseDmsParams]=\"parseDmsParams\">\n      <div class=\"eo-header\">\n        <eo-icon class=\"eo-header-icon\" [iconSrc]=\"'assets/_default/svg/ic_format_list_numbered.svg'\"></eo-icon>\n        <div class=\"eo-header-info\">\n          <div class=\"eo-header-title\" translate>eo.versions.list.title</div>\n          <div class=\"eo-header-subtitle\">{{versionItem?.title}}</div>\n        </div>\n        <div class=\"eo-header-actions\">\n          <eo-icon class=\"button primary refresh-button\" [iconSrc]=\"'assets/_default/svg/ic_refresh.svg'\"\n                   (click)=\"cFilter.resetFilter();cSort.reset();refreshGrid()\"\n                   [iconTitle]=\"('eo.list.refresh' | translate)\"></eo-icon>\n\n          <eo-overlay #oFilter [iconSrc]=\"'assets/_default/svg/ic_filter.svg'\" [iconClass]=\"'primary'\" class=\"overlay-filter\"\n                      [iconTitle]=\"'eo.list.filter' | translate\">\n            <eo-custom-filter #cFilter\n                              (change)=\"cFilter.updateGrid(eoList.eoGrid, $event)\"\n                              (active)=\"oFilter.onActiveChanged($event)\">\n              <!--<eo-text-filter [title]=\"'eo.versions.filter.title' | translate\" [matchFields]=\"['title']\"></eo-text-filter>-->\n              <eo-set-filter [operator]=\"'OR'\" [title]=\"'eo.versions.list.users' | translate\"\n                             [options]=\"userFilterFields\" [id]=\"'versions.user'\"></eo-set-filter>\n              <eo-set-filter [operator]=\"'OR'\" [title]=\"'eo.versions.list.types' | translate\"\n                             [options]=\"typeFilterFields\" [id]=\"'versions.type'\"></eo-set-filter>\n            </eo-custom-filter>\n          </eo-overlay>\n\n          <eo-overlay #oSort [iconSrc]=\"'assets/_default/svg/ic_sort.svg'\" [iconClass]=\"'primary'\" class=\"overlay-sort\"\n                      [iconTitle]=\"'eo.list.sort' | translate\">\n            <eo-custom-sort #cSort\n                            (change)=\"cSort.updateGrid(eoList.eoGrid, $event)\"\n                            (active)=\"oSort.onActiveChanged($event)\"\n                            [sortFields]=\"sortFields\" [id]=\"'versions.sort'\"></eo-custom-sort>\n          </eo-overlay>\n\n          <eo-icon class=\"button actions-button\" (click)=\"eoList.showActions()\" [iconTitle]=\"'eo.object.actions.title' | translate\"\n                   [iconSrc]=\"'assets/_default/svg/ic_more.svg'\"></eo-icon>\n        </div>\n      </div>\n      <div class=\"eo-body\">\n        <eo-grid #eoGrid [gridOptions]=\"gridOptions\" *ngIf=\"gridOptions?.rowData\"\n                 [fullWidth]=\"true\"\n                 [showHeader]=\"true\"\n                 [showFooter]=\"true\"\n                 [selectionLimit]=\"2\"\n                 (eoGridCountChanged)=\"eoList.onCountChanged($event)\"\n                 (eoGridSelectionChanged)=\"eoList.onSelectionChanged($event)\"\n                 (eoGridFocusChanged)=\"eoList.onFocusChanged($event)\">\n\n          <div class=\"header\">\n          </div>\n\n          <div class=\"footer\">\n            <eo-total-count [gridCount]=\"eoList.gridCount\" [outsideGrid]=\"false\" class=\"flex-row\"></eo-total-count>\n          </div>\n\n          <div class=\"empty\">\n            <eo-error-message\n              [emptyState]=\"{icon: 'ic_no-file.svg', text: oFilter.active ? 'eo.no.filter.result' : 'eo.versions.list.empty'}\"></eo-error-message>\n            <eo-reset-filter [isFilterActive]=\"oFilter.active\" (click)=\"cFilter.resetFilter();cSort.reset();refreshGrid()\"></eo-reset-filter>\n          </div>\n        </eo-grid>\n      </div>\n    </eo-list-container>\n  </ng-template>\n\n  <!-- version compare/details-->\n  <ng-template yvcSplitArea [size]=\"70\">\n    <eo-object-details [enableCompare]=\"true\" [applySelection]=\"{}\" [parseDmsParams]=\"parseDmsParams\">\n      <eo-tab-plugin [type]=\"'object-details-tab.version'\"></eo-tab-plugin>\n    </eo-object-details>\n  </ng-template>\n</yvc-split-view>\n","import {HttpClient} from '@angular/common/http';\nimport {Inject, Injectable} from '@angular/core';\nimport {AppCacheService, BackendService, CoreConfig, CORE_CONFIG, DmsObject, Logger, NotificationsService, SystemService, TranslateService, UserService, Utils} from '@eo-sdk/core';\nimport {BehaviorSubject, forkJoin, Observable, of, ReplaySubject} from 'rxjs';\nimport {catchError, map, tap} from 'rxjs/operators';\nimport {TreeNode} from '../../eo-framework/tree/tree.component.interface';\nimport {LockSettings} from './../../eo-client/settings/agent-lock-settings.enum';\nimport {CustomEmail} from './agent.interface';\n\nexport enum agentConfigKeys {\n  AUTOCONNECT = 'autoconnect',\n  LOCKSETTINGS = 'locksettings'\n}\nexport interface ExtendedConfig {\n  agent: {\n    [agentConfigKeys.AUTOCONNECT]?: boolean;\n    [agentConfigKeys.LOCKSETTINGS]?: LockSettings\n  }\n}\nexport type AgentConnectionConfig = ExtendedConfig['agent']\n\n\n@Injectable()\nexport class AgentService {\n\n  private ENAIO_PROTOCOL = 'yuuvis://';\n\n  agentAvailability = {\n    CONNECTED: 'eo.agent.availability.connected',\n    AVAILABLE: 'eo.agent.availability.available',\n    UNAVAILABLE: 'eo.agent.availability.unavailable'\n  };\n\n  private _isConnected = false;\n  private isConnectedSource = new ReplaySubject<boolean>(1);\n  public isConnected$: Observable<boolean> = this.isConnectedSource.asObservable();\n  private agentConfig = new BehaviorSubject<AgentConnectionConfig>(null);\n  public agentConfig$: Observable<AgentConnectionConfig> = this.agentConfig.asObservable();\n\n  constructor(\n    @Inject(CORE_CONFIG) public coreConfig: CoreConfig,\n    private logger: Logger,\n    private http: HttpClient,\n    private systemService: SystemService,\n    private backendService: BackendService,\n    private userService: UserService,\n    private translate: TranslateService,\n    private notifications: NotificationsService,\n    private appCacheService: AppCacheService) {\n    this.getAgentConnectionStatus();\n  }\n\n  private getAgentConnectionStatus() {\n    forkJoin([this.appCacheService.getItem('eo.agent.connected'), this.getAgentConfig()])\n      .pipe(\n        tap(([storage, config]) => this.isConnected = (config && config.hasOwnProperty(agentConfigKeys.AUTOCONNECT) ? config.autoconnect : storage !== null ? storage : null))\n      ).subscribe();\n  }\n\n  getAgentConfig(): Observable<AgentConnectionConfig> {\n    return this.http.get<ExtendedConfig>('assets/_default/config/extend.json', {withCredentials: this.coreConfig.withCredentials}).pipe(\n      catchError(() => of(null)),\n      tap((config: ExtendedConfig) => this.agentConfig.next({...config?.agent})),\n      map((config: ExtendedConfig) => config?.agent))\n  }\n\n  set isConnected(isConnected: boolean) {\n    this._isConnected = isConnected;\n    this.isConnectedSource.next(isConnected);\n    this.appCacheService.setItem('eo.agent.connected', isConnected);\n  }\n\n  get isConnected(): boolean {\n    return this._isConnected;\n  }\n\n  setAgentStatus(connectagent): Observable<boolean> {\n    if (typeof connectagent !== 'undefined') {\n      this.isConnected = connectagent;\n      return of(true);\n    } else {\n      return of(false);\n    }\n  }\n\n  /**\n   * Adds a location entry to the agent services location history.\n   * @param contextFolder The locations context folder\n   * @param treeNode Node from the context folders structure tree\n   */\n  updateUserLocation(contextFolder: DmsObject, treeNode?: TreeNode) {\n\n    if (treeNode && treeNode.data && treeNode.data.type) {\n\n      // if a given treeNode contains a target type, we'll only add a user location\n      // when the type is able to accept content (otherwise useless for office AddIns)\n      const targetType = this.systemService.getObjectType(treeNode.data.type);\n      if (targetType.maxFiles === 0) {\n        return;\n      }\n    }\n\n    let title = contextFolder.title;\n    if (treeNode) {\n      title += ' > ' + treeNode.path.join(' > ');\n    }\n\n    let id = contextFolder.id;\n    if (treeNode) {\n      id += '_' + treeNode.data.key;\n    }\n\n    this.backendService.post('/locations', {\n      id: id,\n      title: title,\n      type: contextFolder.type.name,\n      childType: (treeNode && treeNode.data) ? treeNode.data.type : undefined,\n      data: (treeNode && treeNode.data) ? treeNode.data.data : undefined\n    }, this.backendService.getAgentBase()).subscribe(r => {\n      this.logger.debug(`added location '${title}' to agent service`);\n    });\n  }\n\n  /**\n   * Open a document via agent.\n   *\n   * @param document A document to open.\n   * @param lock Boolean, if the dms item should be locked.\n   */\n  openDocument(document, lock) {\n    const id = document.id;\n    if (lock) {\n      this.backendService.put('/dms/lock/' + id).subscribe();\n      document.lock = {\n        by: {\n          me: true,\n          name: this.userService.getCurrentUser().name,\n          other: false\n        },\n        on: new Date().toISOString()\n      };\n    }\n    this.sendMessage('openDocument', id);\n  }\n\n  /**\n   * Download content via agent.\n   * On completion, the agent will visualize the downloaded items.\n   *\n   * @param documents A document to open.\n   */\n  downloadContent(documents) {\n    let docs = documents.map(doc => {\n      return {id: doc.id, title: doc.title, type: doc.type.name || '', version: doc.version};\n    });\n    this.sendMessage('downloadContent', docs);\n  }\n\n  /**\n   * Copy items to clipboard.\n   *\n   * @param documents List of documents with id, title, type and rendition.\n   */\n  copyToClipboard(documents) {\n    if (!documents || documents.length < 1) {\n      this.logger.error('Agent copyToClipboard error: documents does not contain elements');\n      return Utils.throw(null, 'documents does not contain elements').call(this, {});\n    } else {\n      this.sendMessage('copyToClipboard', documents);\n    }\n  }\n\n  /**\n   * Send items as email.\n   *\n   * @param CustomEmail contain attachemnts and message. Message my contains details about the mail.\n   */\n  sendAsMail({attachments, message}: CustomEmail) {\n    if (!attachments?.length) {\n      this.logger.error('Agent sendAsMail error: documents array does not contain elements. Attachments could not be found.');\n      this.notifications.error(this.translate.instant('eo.document.open.error.title'), this.translate.instant('eo.document.open.error.message'));\n      return Utils.throw(null, 'documents array does not contain elements').call(this, {});\n    } else {\n      this.sendMessage('sendAsMail', {attachments, message});\n    }\n  }\n\n  sendExternalAction(executable, args) {\n    this.sendMessage('external', {executable, args});\n  }\n\n  private sendMessage(action, data) {\n    const payload = {\n      data: data,\n      user: this.userService.getCurrentUser().name,\n      host: this.getHost()\n    };\n    window.location.href = this.ENAIO_PROTOCOL + action + '/' + encodeURIComponent(JSON.stringify(payload));\n  }\n\n  private getHost() {\n    return window.location.origin;\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {SimpleFilter, ColDef, Utils as AgUtils, CsvExportParams, RowNode, Column, GridOptions} from '@ag-grid-community/core';\nimport {TranslateService, EnvironmentEnaio, SearchQuery} from '@eo-sdk/core';\nimport {FileSizePipe} from '../pipes/filesize.pipe';\nimport {LocaleNumberPipe} from '../pipes/locale-number.pipe';\nimport {LocaleDatePipe} from '../pipes/locale-date.pipe';\nimport {Router} from '@angular/router';\nimport {AppSearchService} from '../search/app-search.service';\nimport {\n  SystemService,\n  BackendService,\n  UserService,\n  EoUser,\n  Utils,\n  RangeValue,\n  SearchFilter,\n  SearchState\n} from '@eo-sdk/core';\nimport {UtilitiesService} from '../../eo-framework/util';\nimport {FilesizeFilter} from '../../eo-framework/grid/filters/filesize-filter.component';\n\n@Injectable()\nexport class GridService {\n  context: any;\n\n  get csvExportParams(): CsvExportParams {\n    return {\n      fileName: 'export',\n      columnSeparator: this.context?.numberPipe.decimalSeparator === ',' ? ';' : ',',\n      processCellCallback: (params) => {\n        return (params.column.getColDef().cellClass as any || '').includes('col-number')\n          ? (params.column.getColDef().cellRenderer as any)(params).replace(new RegExp(`\\\\` + this.context?.numberPipe.separator, 'g'), '') // removed grouping\n          : params.value;\n      }\n    };\n  }\n\n  static escapeHtml(str) {\n    str = str ? str : '';\n    const entityMap = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '/': '&#x2F;'\n    };\n    return String(str).replace(/[&<>\"'\\/]/g, s => entityMap[s]);\n  }\n\n  static qnameFormatter(qname: string) {\n    return (qname || '').replace(new RegExp('sysobject.|sysdocument.'), '');\n  }\n\n  static qnameMatch(qname: string, qname2: string) {\n    return GridService.qnameFormatter(qname) === GridService.qnameFormatter(qname2);\n  }\n\n  constructor(\n    public translate: TranslateService,\n    private router: Router,\n    private appSearchService: AppSearchService,\n    private system: SystemService,\n    private backend: BackendService,\n    private userService: UserService\n  ) {\n    this.context = {\n      translate,\n      system,\n      backend,\n      router,\n      fileSizePipe: new FileSizePipe(translate),\n      numberPipe: new LocaleNumberPipe(translate),\n      datePipe: new LocaleDatePipe(translate),\n      cr: CellRenderer,\n      baseHref: EnvironmentEnaio.isWebEnvironment() ? this.backend.getHost() : './',\n      mimetypegroupOpts: Object.keys(SearchQuery.MIMETYPEGROUP_BUCKETS).map(k => k.toLowerCase()),\n      typeOpts: []\n    };\n\n    this.userService.user$.subscribe(\n      (user: EoUser) =>\n        (this.context.defaultPosition =\n          user.uiDirection === 'rtl' ? 'right' : 'left')\n    );\n\n    this.appSearchService.queryState$.subscribe((state: SearchState) => this.updateContext(Array.from(state.aggregations.type.keys())));\n  }\n\n  // copy content of either row or table cell to clipboard\n  public copyToClipboard(event: KeyboardEvent, gridOptions: GridOptions) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const viewport = gridOptions.api['gridPanel'].eCenterViewport;\n    const scrollLeft = viewport.scrollLeft;\n\n    const focusedCell = gridOptions.api.getFocusedCell();\n    const rows: RowNode[] = event.shiftKey ? gridOptions.api.getSelectedNodes() : [gridOptions.api.getDisplayedRowAtIndex(focusedCell.rowIndex)];\n    const cols: Column[] = event.shiftKey ? gridOptions.columnApi.getAllDisplayedColumns().filter((c: any) => c.colId !== '__selectionField') : [focusedCell.column];\n    const getCell = (col, row) => gridOptions.api['gridPanel'].eGui.querySelector(`div[row-index=\"${row.rowIndex}\"] [col-id=\"${col.colId}\"]`);\n    const value = (col, row) => {\n      gridOptions.api.ensureColumnVisible(col);\n      const cell = getCell(col, row);\n      if (!cell) return '';\n      const chips = cell.querySelectorAll('.chip') || [];\n      const val = Array.from(chips.length ? chips : [cell]).map((c: any) => (c && c.textContent && c.textContent.trim()) || '');\n      const value = val.toString() || gridOptions.api.getValue(col, row);\n      return !UtilitiesService.isEmpty(value) ? value.toString().replace(new RegExp('\\n', 'g'), ' ') : '';\n    };\n\n    let content = '';\n    if (event.altKey) content += cols.map((col: Column) => col.getColDef().headerName).join('\t') + '\\n';\n    content += rows.map((row) => cols.map((col: Column) => value(col, row)).join('\t')).join('\\n');\n\n    viewport.scrollLeft = scrollLeft;\n    setTimeout(\n      () =>\n        rows.map((row) =>\n          cols.map((col: Column) => {\n            const cell = getCell(col, row);\n            cell && cell.classList.add('copy-cell');\n            cell && setTimeout(() => cell && cell.classList.remove('copy-cell'), 4000);\n          })\n        ),\n      100\n    );\n\n    // navigator.clipboard.writeText(content); // only if client runs https\n    const textArea = document.createElement('textarea');\n    textArea.value = content;\n    document.body.appendChild(textArea);\n    textArea.select();\n    const copySuccess = document.execCommand('copy');\n    document.body.removeChild(textArea);\n  }\n\n  public openLink(uri: string, newTab = false) {\n    if (newTab) {\n      window.open(CellRenderer.windowURI(uri));\n    } else {\n      // force reload in case of same URL\n      const extras = CellRenderer.windowURI(this.router.url) === CellRenderer.windowURI(uri) ? `${uri.includes('?') ? '&' : '?'}reload=true` : '';\n      this.router.navigateByUrl(uri + extras);\n    }\n  }\n\n  public getRowIndex(el, parentClass: string) {\n    return el && !el.classList.contains(parentClass)\n      ? el.getAttribute('row-index')\n        ? parseInt(el.getAttribute('row-index'), 10)\n        : this.getRowIndex(el.parentElement, parentClass)\n      : null;\n  }\n\n  public getRouterLink(el, parentClass) {\n    return el && !el.classList.contains(parentClass)\n      ? el.localName === 'a' && el.classList.contains('router-link')\n        ? el\n        : this.getRouterLink(el.parentElement, parentClass)\n      : null;\n  }\n\n  public openRouterLink(event: MouseEvent, parentClass: string) {\n    const link = this.getRouterLink(\n      event.target,\n      parentClass\n    ) as HTMLAnchorElement;\n    if (link && link.href) {\n      this.openLink(link.getAttribute('href'), event.ctrlKey);\n    }\n  }\n\n  public getContext() {\n    return {...this.context, count: 0, rowCount: 0};\n  }\n\n  public updateContext(typeOpts: string[], options = {}) {\n    Object.assign(this.context, {typeOpts: (typeOpts && typeOpts.length ? typeOpts : this.system.getObjectTypes().map(o => o.qname))}, options);\n  }\n\n  public getColumnDefs(\n    elements: any[],\n    sortorder: any[] = [],\n    grouporder: any[] = [],\n    pinned: any[] = [],\n    alignmentx: {qname: string, value: string}[] = [],\n    enableRowGroup = true,\n    cachedColumns = [],\n    mode?\n  ): ColDef[] {\n    return elements.map(f =>\n      this.getColumnDefinition(\n        f,\n        sortorder,\n        grouporder,\n        pinned,\n        alignmentx,\n        enableRowGroup,\n        cachedColumns,\n        mode\n      )\n    );\n  }\n\n  /**\n   * Renders the visual output of form elements based on its type etc. (see IndexdataSummaryComponent for usage details)\n   * @param elements - The form elements to be rendered\n   * @returns The rendered HTML for the given elements\n   */\n  public getResolvedDefs(elements: any[]) {\n    return elements.map(el => {\n      let colDef: ColDef = this.getColumnDefinition(el);\n      let value = el.value;\n      let data = {};\n      data[colDef.field] = value;\n      if (el.meta) {\n        data[colDef.field + '_meta'] = el.meta;\n      }\n      // invoke valueGetter if provided\n      if (colDef.valueGetter) {\n        value = (colDef.valueGetter as Function).call(this, {\n          context: this.context,\n          data: data,\n          node: {},\n          colDef: colDef\n        });\n      }\n      // run the cell renderer with the output generated by the valueGetter\n      if (colDef.cellRenderer) {\n        let params = {\n          context: this.context,\n          value: value,\n          node: {},\n          colDef: colDef,\n          data: data\n        };\n        el._value = (colDef.cellRenderer as Function).call(this, params);\n      } else {\n        el._value = value;\n      }\n      return el;\n    });\n  }\n\n  /**\n   * creates the column definition for a given result field.\n   *\n   * @param resultField - the result field (as retrieved from ../user/config/result/*) to create the\n   * column definition object for\n   *\n   * @param sortFields - Array of fields to be sorted\n   */\n  public getColumnDefinition(\n    resultField,\n    sortFields: any[] = [],\n    groupFields: any[] = [],\n    pinnedFields: any[] = [],\n    alignmentFields: {qname: string, value: string}[] = [],\n    enableRowGroup = false,\n    cachedColumns = [],\n    mode?\n  ) {\n    let colDef = <ColDef>{};\n    colDef.headerName = resultField.label;\n    colDef.field = resultField.hitname || resultField.name;\n    colDef.sortable = true;\n    colDef.resizable = true;\n    colDef.filter = 'agTextColumnFilter';\n    colDef.cellRenderer = params => GridService.escapeHtml(params.value);\n    colDef.valueGetter = params => {\n      return params.node.group || !params.data ? '' : params.data[colDef.field];\n    };\n    colDef.refData = {qname: resultField.qname || ''};\n\n    /**\n     * headerClass\n     * add special header class for fields from the contextfolder\n     */\n    if (resultField.selectedforenrichment && mode !== 'COMMON') {\n      colDef.headerClass = 'contextfolder';\n    }\n    this.addColDefAttrsByType(colDef, resultField);\n    this.addColDefAttrsByField(colDef, colDef.field);\n\n    colDef.filterParams = {\n      ...colDef.filterParams,\n      debounceMs: 800,\n      clearButton: false,\n      newRowsAction: 'keep',\n      filterOptions: []\n    };\n\n    if (colDef.filter === 'agTextColumnFilter') {\n      colDef.filterParams.filterOptions = colDef.refData.qname.match(/(^sysobject\\.|^sysdocument\\.)(title$|description$)/) ? ['equals'] : [\n        'contains',\n        'equals',\n        'startsWith',\n        'endsWith'\n      ];\n\n    } else if (\n      colDef.filter === 'agNumberColumnFilter' ||\n      colDef.filter === 'agDateColumnFilter'\n    ) {\n      colDef.filterParams.filterOptions = [\n        'equals',\n        'lessThanOrEqual',\n        'greaterThan',\n        'greaterThanOrEqual',\n        'inRange'\n      ];\n    }\n\n    // mimetype filter supports only equals option\n    if (colDef.field === 'mimetype') {\n      colDef.filterParams.defaultOption = 'equals';\n      colDef.filterParams.filterOptions = ['equals'];\n    }\n\n    // filesize filter supports only interval options\n    if (colDef.field === 'filesize') {\n      colDef.filterParams.defaultOption = 'lessThanOrEqual';\n      colDef.filterParams.filterOptions = [\n        'lessThanOrEqual',\n        'greaterThanOrEqual',\n        'inRange'\n      ];\n    }\n\n    if (!resultField.sortable) {\n      colDef.sortable = false;\n    }\n    if (!resultField.searchable) {\n      colDef.suppressMenu = true;\n      colDef.filter = false;\n    }\n\n    let sortField = sortFields.find(f => f.qname === resultField.qname);\n    if (sortField) {\n      colDef.sort = sortField.direction.toLowerCase();\n    }\n\n    if (enableRowGroup) {\n      let groupFieldIndex = groupFields.findIndex(\n        f => f.qname === resultField.qname\n      );\n      if (~groupFieldIndex) {\n        colDef.rowGroupIndex = groupFieldIndex;\n      }\n    }\n\n    let pinnedField = pinnedFields.find(f => f.qname === resultField.qname);\n    if (pinnedField) {\n      colDef.pinned = pinnedField.position || this.context.defaultPosition;\n    }\n\n    let cachedColumn = cachedColumns.find(f => f.qname === resultField.qname);\n    if (cachedColumn) {\n      colDef.width = cachedColumn.width;\n    }\n\n    let alignmentField = alignmentFields.find(f => f.qname === resultField.qname);\n    if (alignmentField && alignmentField.value) {\n      colDef.cellStyle = {'justify-content': alignmentField.value};\n    } else {\n      colDef.cellStyle = {'justify-content': resultField.alignmentx ? resultField.alignmentx : ''};\n    }\n\n    return colDef;\n  }\n\n  /**\n   * add type specific column definition attributes\n   *\n   * @param colDef - the column definition object to be extended by type specific attributes\n   * @param resultField - object defining the result field\n   *\n   * @returns enriched column definition object\n   */\n  public addColDefAttrsByType(colDef: ColDef, resultField) {\n    switch (resultField.type) {\n      case 'REFERENCE': {\n        colDef.filter = 'agTextColumnFilter';\n        colDef.cellClass = 'router-link-cell';\n        colDef.cellRenderer = this.customContext(\n          CellRenderer.referenceCellRenderer,\n          {reference: resultField.reference || {}, colDef: colDef}\n        );\n        colDef.valueGetter = param => {\n          const value =\n            param.node.group || !param.data ? '' : param.data[colDef.field];\n\n          const refMeta = param && param.data && param.data._references;\n          // use object type label when meta is missing (search svc does not support meta)\n          return UtilitiesService.isEmpty(value)\n            ? '' : refMeta\n              ? refMeta[colDef.field]\n              : this.metaValueGetter(v => v.title)(param);\n        };\n        break;\n      }\n      case 'STRING': {\n        colDef.filter = 'agTextColumnFilter';\n        colDef.cellRenderer = CellRenderer.stringCellrenderer;\n        if (resultField.multiselect) {\n          colDef.cellRenderer = CellRenderer.multiSelectCellRenderer;\n        }\n        colDef.cellClass = resultField.multiselect\n          ? 'multiCell string'\n          : 'string';\n        this.addColDefAttrsByClassification(colDef, resultField.classification);\n        if (resultField.reference) {\n          colDef.cellClass = 'router-link-cell';\n          colDef.cellRenderer = this.customContext(\n            CellRenderer.linkCellRenderer,\n            {reference: resultField.reference}\n          );\n        }\n        colDef.comparator = (a, b) => AgUtils.defaultComparator(a, b, true);\n        break;\n      }\n      case 'DATETIME': {\n        colDef.width = 150;\n        colDef.filter = 'agDateColumnFilter';\n        colDef.cellRenderer = this.customContext(\n          CellRenderer.dateTimeCellRenderer,\n          {pattern: resultField.withtime ? 'eoShort' : 'eoShortDate'}\n        );\n        colDef.getQuickFilterText = this.customContext(\n          CellRenderer.dateTimeCellRenderer,\n          {pattern: resultField.withtime ? 'eoShort' : 'eoShortDate'}\n        );\n        colDef.filterParams = {\n          comparator: this.dateComparator(this.context.datePipe),\n          valueGetter: this.dateFilterValueGetter(colDef.field),\n          withTime: resultField.withtime,\n          inRangeInclusive: true\n        };\n        break;\n      }\n      case 'CODESYSTEM': {\n        colDef.filter = 'CodesystemFilterComponent';\n        colDef.colId = resultField.field;\n        colDef.filterParams = {multi: resultField.multiselect};\n        colDef.cellRenderer = CellRenderer.stringCellrenderer;\n        if (resultField.multiselect) {\n          colDef.cellRenderer = CellRenderer.multiSelectCellRenderer;\n        }\n        colDef.valueGetter = this.metaValueGetter(v => v.defaultrepresentation);\n        colDef.cellClass = resultField.multiselect\n          ? 'multiCell codesystem'\n          : 'codesystem';\n        break;\n      }\n      case 'NUMBER': {\n        colDef.cellClass = 'col-number';\n        colDef.headerClass = 'col-header-number';\n        colDef.filter = 'agNumberColumnFilter';\n        colDef.width = 150;\n        const {scale, grouping, pattern} = resultField;\n        colDef.cellRenderer = this.customContext(\n          CellRenderer.numberCellRenderer,\n          {scale, grouping, pattern}\n        );\n        colDef.getQuickFilterText = this.customContext(\n          CellRenderer.numberCellRenderer,\n          {scale, grouping, pattern}\n        );\n        colDef.filterParams = {inRangeInclusive : true};\n        break;\n      }\n      case 'ORGANIZATION': {\n        colDef.filter = 'OrganizationFilterComponent';\n        colDef.colId = resultField.qname;\n        colDef.filterParams = {multi: resultField.multiselect};\n        colDef.cellRenderer = CellRenderer.stringCellrenderer;\n        if (resultField.multiselect) {\n          colDef.cellRenderer = CellRenderer.multiSelectCellRenderer;\n        }\n        colDef.valueGetter = this.metaValueGetter(v =>\n          v.title && v.name ? `${v.title} (${v.name})` : `${v.id}`\n        );\n        colDef.cellClass = resultField.multiselect\n          ? 'multiCell organization'\n          : 'organization';\n        break;\n      }\n      case 'BOOLEAN': {\n        colDef.filter = 'ListFilterComponent';\n        colDef.cellClass = 'col-boolean';\n        colDef.cellRenderer = CellRenderer.booleanCellRenderer;\n        colDef.filterParams = {\n          cellRenderer: this.customContext(CellRenderer.booleanCellRenderer),\n          cellHeight: 30,\n          values: [false, true],\n          suppressMiniFilter: true\n        };\n        colDef.width = 100;\n        colDef.getQuickFilterText = () => '';\n        break;\n      }\n    }\n    return colDef;\n  }\n\n  /**\n   * add classification specific column definition attributes\n   *\n   * @param colDef - the column definition object to be extended\n   * @param classification - the classification to evaluate\n   *\n   * @returns enriched column definition object\n   */\n  private addColDefAttrsByClassification(colDef: ColDef, classification) {\n    switch (classification) {\n      case 'email': {\n        colDef.cellRenderer = CellRenderer.emailCellRenderer;\n        break;\n      }\n      case 'url': {\n        colDef.cellRenderer = CellRenderer.urlCellRenderer;\n        break;\n      }\n    }\n    return colDef;\n  }\n\n  private addColDefAttrsByField(colDef: ColDef, resultFieldName) {\n    switch (resultFieldName) {\n      case 'type': {\n        colDef.filter = 'ListFilterComponent';\n        colDef.cellRenderer = CellRenderer.typeCellRenderer;\n        colDef.width = 80;\n        colDef.cellClass = 'res-ico';\n        colDef.getQuickFilterText = () => '';\n        colDef.filterParams = {\n          cellRenderer: this.customContext(CellRenderer.typeCellRenderer),\n          values: this.context.typeOpts\n        };\n        break;\n      }\n      case 'mimetypegroup': {\n        colDef.filter = 'ListFilterComponent';\n        colDef.width = 101;\n        colDef.filterParams = {\n          values: this.context.mimetypegroupOpts\n        };\n        break;\n      }\n      case 'version': {\n        colDef.width = 80;\n        break;\n      }\n      case 'filesize': {\n        colDef.headerClass = 'col-header-filesize';\n        colDef.filter = FilesizeFilter;\n        colDef.width = 100;\n        colDef.cellRenderer = CellRenderer.filesizeCellRenderer;\n        colDef.getQuickFilterText = this.customContext(\n          CellRenderer.filesizeCellRenderer\n        );\n        break;\n      }\n    }\n    return colDef;\n  }\n\n  private customContext(fnc, mixin?) {\n    return param => {\n      return fnc(Object.assign({}, param, {context: this.context}, mixin));\n    };\n  }\n\n  public metaValueGetter(titleFnc: Function, mapFnc: Function = v => v) {\n    return params => {\n      // data could be empty on first rendering a cell while infinite scrolling\n      if (params.node.group || !params.data) {\n        return '';\n      }\n\n      // todo: super hotfix - COOL-8989 - solves problem with resolving of ORGANIZATION value (via qname)\n      const fieldMeta = params.colDef.field + '_meta';\n      const value = !params.data.hasOwnProperty(fieldMeta)\n        ? mapFnc(\n          (params.data[params.colDef.field] !== undefined) ? params.data[params.colDef.field] :\n          params.data[params.colDef.refData.qname]\n        )\n        : Array.isArray(params.data[fieldMeta])\n          ? params.data[fieldMeta].map(v => titleFnc(v || {}))\n          : titleFnc(params.data[fieldMeta] || {});\n      return value;\n    };\n  }\n\n  public dateComparator(datePipe) {\n    return (a: Date, b) => {\n      if (!b || !b.value) {\n        return null;\n      }\n\n      if (b.filter) {\n        const _date = !b.activeRange ? b.filter.dateFrom : b.filter.dateTo;\n        b.activeRange = b.filter.type === SimpleFilter.IN_RANGE;\n        const length = b.filter.withTime ? 16 : 10;\n\n        return (\n          AgUtils.defaultComparator(\n            _date && _date.slice(0, length),\n            b.value.slice(0, length)\n          ) * -1\n        );\n      }\n\n      let date = b.length === 10 ? b : datePipe.transform(b, 'yyyy-MM-dd');\n      return (\n        AgUtils.defaultComparator(datePipe.transform(a, 'yyyy-MM-dd'), date) *\n        -1\n      );\n    };\n  }\n\n  public dateFilterValueGetter(field: string) {\n    return node => {\n      let _filter = node.gridOptionsWrapper.gridOptions.api.getFilterInstance(\n        field\n      );\n      let value = node.data[field];\n      return {filter: _filter['_filterModel'], value};\n    };\n  }\n}\n\nexport class CellRenderer {\n\n  static situation = '';\n\n  static windowURI(uri: any) {\n    return uri.toString().replace(new RegExp('^\\/|^\\\\\\\\'), '');\n  }\n\n  static render(type: string, param: any, newParam?: any) {\n    return CellRenderer[type + 'CellRenderer'](\n      Object.assign({}, param, newParam)\n    );\n  }\n\n  static filesizeCellRenderer(param) {\n    if (param.value === null && CellRenderer.situation === 'SEARCH') {\n      return this.noValueRenderer(param);\n    }\n    return param.value ? param.context.fileSizePipe.transform(param.value) : '';\n  }\n\n  static numberCellRenderer(param) {\n    if (param.value === null && CellRenderer.situation === 'SEARCH') {\n      return this.noValueRenderer(param);\n    }\n    if (param.value || param.value === 0) {\n      if (param.value.operator) {\n        // range value from search form table\n        return param.value.operator ===\n          SearchFilter.OPERATOR.INTERVAL_INCLUDE_BOTH\n          ? CellRenderer.numberCellRendererTemplate(\n            param.value.firstValue,\n            param.context,\n            param.grouping,\n            param.pattern,\n            param.scale\n          ) +\n          ' ' +\n          RangeValue.getOperatorLabel(param.value.operator) +\n          ' ' +\n          CellRenderer.numberCellRendererTemplate(\n            param.value.secondValue,\n            param.context,\n            param.grouping,\n            param.pattern,\n            param.scale\n          )\n          : RangeValue.getOperatorLabel(param.value.operator) +\n          ' ' +\n          CellRenderer.numberCellRendererTemplate(\n            param.value.firstValue,\n            param.context,\n            param.grouping,\n            param.pattern,\n            param.scale\n          );\n      } else {\n        return CellRenderer.numberCellRendererTemplate(\n          param.value,\n          param.context,\n          param.grouping,\n          param.pattern,\n          param.scale\n        );\n      }\n    } else {\n      return '';\n    }\n  }\n\n  static numberCellRendererTemplate(\n    value,\n    context,\n    grouping?,\n    pattern?,\n    scale?\n  ) {\n    return context.numberPipe.transform(\n      value,\n      grouping,\n      pattern,\n      scale\n    );\n  }\n\n  static stringCellrenderer(param) {\n    if (param.value === null && CellRenderer.situation === 'SEARCH') {\n      return this.noValueRenderer(param);\n    }\n    return GridService.escapeHtml(param.value);\n  }\n\n  static typeCellRenderer(param) {\n    if (param.value === null && CellRenderer.situation === 'SEARCH') {\n      return this.noValueRenderer(param);\n    }\n    let val = '';\n    if (param.value) {\n      let objectType = param.context.system.getObjectType(param.value);\n      if (!objectType) {\n        return val;\n      }\n      return CellRenderer.iconCellRenderer(\n        Object.assign({}, param, {value: objectType})\n      );\n    }\n    return val;\n  }\n\n  static iconCellRenderer(param) {\n    if (param.value === null && CellRenderer.situation === 'SEARCH') {\n      return this.noValueRenderer(param);\n    }\n    let val = '';\n    if (param.value && (param.value.url || param.value.iconId)) {\n      let iconUrl = param.value.url\n        ? param.context.baseHref + param.value.url\n        : param.context.backend.getBaseWithContext(param.context.backend.getServiceBase()) +\n        '/ui/icon/' +\n        param.value.iconId +\n        '.svg';\n      let label = param.value.label;\n      val = `<img class=\"object-type\" src=\"${iconUrl}\" title=\"${label}\"><span class=\"object-type-label\">${label}</span>`;\n    }\n    return val;\n  }\n\n  static emailCellRenderer(param) {\n    if (param.value === null && CellRenderer.situation === 'SEARCH') {\n      return this.noValueRenderer(param);\n    }\n    return param.value\n      ? `<a href=\"mailto:${param.value}\">${GridService.escapeHtml(\n        param.value\n      )}</a>`\n      : '';\n  }\n\n  static urlCellRenderer(param) {\n    if (param.value === null && CellRenderer.situation === 'SEARCH') {\n      return this.noValueRenderer(param);\n    }\n    return param.value\n      ? `<a target=\"_blank \" href=\"${param.value}\">${GridService.escapeHtml(\n        param.value\n      )}</a>`\n      : '';\n  }\n\n  static dateTimeCellRenderer(param) {\n    if (param.value === null && CellRenderer.situation === 'SEARCH') {\n      return this.noValueRenderer(param);\n    }\n    if (param.value) {\n      if (param.value.operator) {\n        // range value from search form table\n        return param.value.operator ===\n          SearchFilter.OPERATOR.INTERVAL_INCLUDE_BOTH\n          ? CellRenderer.dateTimeCellRendererTemplate(\n            param.value.firstValue,\n            param.context,\n            param.pattern\n          ) +\n          ' ' +\n          RangeValue.getOperatorLabel(param.value.operator) +\n          ' ' +\n          CellRenderer.dateTimeCellRendererTemplate(\n            param.value.secondValue,\n            param.context,\n            param.pattern\n          )\n          : RangeValue.getOperatorLabel(param.value.operator) +\n          ' ' +\n          CellRenderer.dateTimeCellRendererTemplate(\n            param.value.firstValue,\n            param.context,\n            param.pattern\n          );\n      } else {\n        return CellRenderer.dateTimeCellRendererTemplate(\n          param.value,\n          param.context,\n          param.pattern\n        );\n      }\n    } else {\n      return '';\n    }\n  }\n\n  static dateTimeCellRendererTemplate(value, context, pattern) {\n    if (value === null && CellRenderer.situation === 'SEARCH') {\n      return `<span class=\"no-value\">${context.translate.instant('eo.form.input.null')}</span>`;\n    }\n    return `<span date=\"${value}\">${context.datePipe.transform(\n      value,\n      pattern\n    )}</span>`;\n  }\n\n  static booleanCellRenderer(param) {\n    if (param.value === null && CellRenderer.situation === 'SEARCH') {\n      return this.noValueRenderer(param);\n    }\n    let val = `<path class=\"background\" d=\"M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z\"/>`;\n\n    if (param.value === true || param.value === 'true') {\n      val = `<path class=\"outline\" d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z\"/>\n             <polyline class=\"checkmark\" points=\"6.3,11.8 7.8,10.3 10.8,13.3 16.3,7.8 17.8,9.3 10.8,16.3 6.3,11.8\"/>`;\n    } else if (param.value === false || param.value === 'false') {\n      val = `<path class=\"outline\" d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z\"/>`;\n    }\n    return `<svg class=\"checkbox\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">${val}</svg>`;\n  }\n\n  static multiSelectCellRenderer(param) {\n    if (param.value === null && CellRenderer.situation === 'SEARCH') {\n      return this.noValueRenderer(param);\n    }\n    let val = '';\n    if (param.value) {\n      (Array.isArray(param.value) ? param.value : [param.value]).forEach(\n        value => {\n          val += `<div class=\"chip\">${GridService.escapeHtml(value)}</div>`;\n        }\n      );\n    }\n    return val;\n  }\n\n  static linkCellRenderer(param) {\n    if (param.value === null && CellRenderer.situation === 'SEARCH') {\n      return this.noValueRenderer(param);\n    }\n    let val = '';\n    if (param.value) {\n      (Array.isArray(param.value) ? param.value : [param.value]).forEach(\n        value => {\n          const query = {\n            types: [param.reference.type],\n            filters: {}\n          };\n          query.filters[param.reference.element] = {\n            o: 'eq',\n            v1: value\n          };\n          const link = Utils.buildUri('result', {\n            query: encodeURIComponent(JSON.stringify(query))\n          });\n          val += `<div class=\"chip\">\n          <a class=\"link router-link\" href=\"${link}\" target=\"_blank\" onclick=\"return false;\">\n          <svg focusable=\"false\" class=\"ref-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n          <path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8\n          13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n          </svg>\n          </a><span>${GridService.escapeHtml(value)}</span></div>`;\n        }\n      );\n    }\n    return val;\n  }\n\n  static referenceCellRenderer(param) {\n    if (param.value === null && CellRenderer.situation === 'SEARCH') {\n      return this.noValueRenderer(param);\n    }\n    let text = '';\n    const value = param.data ? param.data[param.colDef.field] : '';\n    const type = param.context.system.getObjectType(param.reference.type);\n    if (!UtilitiesService.isEmpty(value) && type) {\n      (Array.isArray(value) ? value : [value]).forEach((val, index) => {\n        const link = 'object/' + val + '?type=' + param.reference.type;\n        const iconUrl =\n          param.context.backend.getBaseWithContext(param.context.backend.getServiceBase()) +\n          '/ui/icon/' +\n          type.iconId +\n          '.svg';\n        let title = Array.isArray(param.value)\n          ? param.value[index]\n          : param.value;\n\n        // If the user is not allowed to see the reference object or the object was deleted, we don't show the link.\n        text += `<div class=\"chip\">\n        ${\n          !title\n            ? ''\n            : `<a class=\"link router-link\" href=\"${link}\" target=\"_blank\" onclick=\"return false;\">\n          <svg focusable=\"false\" class=\"ref-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n          <path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8\n          13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\"></path>\n          </svg>\n          </a>`\n          }\n        <img class=\"type-icon\" src=\"${iconUrl}\" title=\"${type.label}\">\n        <span>${GridService.escapeHtml(title || type.label)}</span></div>`;\n      });\n    }\n\n    return text || param.value;\n  }\n\n  static noValueRenderer(param) {\n    return `<span class=\"no-value\">${param.context.translate.instant('eo.form.input.null')}</span>`;\n  }\n\n}\n","import {map} from 'rxjs/operators';\nimport {ApplicationRef, Injectable, NgZone} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {AgentService} from '../agent/agent.service';\nimport {\n  EoUser, Logger, NotificationsService, BackendService, ClipboardService,\n  DmsService, EventService, UserService, DmsObject, ClipboardAction, Utils,\n  TranslateService, HttpOptions, EnaioEvent\n} from '@eo-sdk/core';\n\nexport const UNDOCK_WINDOW_NAME = 'eoViewer';\n@Injectable()\nexport class PluginsService {\n\n  private user: EoUser;\n  private agentAction = {\n    OPEN: 'eo.agent.action.open',\n    MAIL: 'eo.agent.action.mail',\n    MAIL_AS_PDF: 'eo.agent.action.mail-pdf',\n    CLIPBOARD: 'eo.agent.action.clipboard',\n    CLIPBOARD_AS_PDF: 'eo.agent.action.clipboard-pdf',\n    EXTERNAL: 'eo.agent.action.external'\n  };\n\n  public get currentUrl() {\n    return this.router.url;\n  }\n\n  public get api() {\n    return this.getApi();\n  }\n\n  public applyFunction(value: string | Function | any, params?: string, args?: any) {\n    const fnc = value?.toString().trim();\n    if (!fnc) return;\n    const f = fnc.match(/^function|^\\(.*\\)\\s*=>/)\n      ? `return (${fnc}).apply(this,arguments)`\n      : typeof value === 'string' && !fnc.startsWith(\"'\")\n      ? `return '${fnc}'`\n      : `return ${fnc}`;\n      try {\n        return new Function(...(params || 'api').split(',').map((a) => a.trim()), f).apply(this.api, args || [this.api]);\n      } catch(e) {\n        console.error(e);\n        return;\n      }\n  }\n\n  constructor(private backend: BackendService,\n    private notifications: NotificationsService,\n    private clipboard: ClipboardService,\n    private logger: Logger,\n    public translate: TranslateService,\n    private dmsService: DmsService,\n    private router: Router,\n    private agentService: AgentService,\n    private eventService: EventService,\n    private userService: UserService,\n    private appRef: ApplicationRef,\n    private ngZone: NgZone) {\n\n    window['api'] = this.api;\n\n    this.userService\n      .user$\n      .subscribe((user) => this.user = user);\n  }\n\n  // todo: create inreface for API\n\n  public getApi(): any {\n    return {\n      detectChanges: () => {\n        setTimeout(() => {\n          this.appRef.tick();\n        }, 500);\n      },\n      router: {\n        get: () => this.router\n      },\n      events: {\n        enaioEventType: EnaioEvent,\n        on: (type: string) => this.ngZone.run(() => this.eventService.on(type)),\n        trigger: (type: string, data?: any) => this.ngZone.run(() => this.eventService.trigger(type, data))\n      },\n      session: {\n        getUser: () => this.getCurrentUser()\n      },\n      dms: {\n        getObject: (id, type, version) => this.getDmsObject(id, type, version),\n        getResult: (fields, type) => this.getResult(fields, type),\n        downloadContent: (dmsObjects: DmsObject[], rendition?: 'PDF'\n          | 'TIFF'\n          | 'TEXT'\n          | 'JPEG') => this.backend.downloadContent(dmsObjects, rendition)\n      },\n      http: {\n        get: (uri, base, options) => this.get(uri, base, options),\n        post: (uri, data, base, options) => this.post(uri, data, base, options),\n        del: (uri, base, options) => this.del(uri, base, options),\n        put: (uri, data, base, options) => this.put(uri, data, base, options)\n      },\n      config: {\n        get: () => this.getConfig()\n      },\n      content: {\n        viewer: () => window[UNDOCK_WINDOW_NAME] || (window.document.querySelector('eo-media iframe[src]') || {})['contentWindow'],\n        triggerError: (err, win, parameters) => this.ngZone.run(() => this.eventService.trigger(UNDOCK_WINDOW_NAME + 'Error', { err, win, parameters })),\n        catchError: () => this.ngZone.run(() => this.eventService.on(UNDOCK_WINDOW_NAME + 'Error'))\n      },\n      util: {\n        $: (selectors, element) => (element || window.document).querySelector(selectors),\n        $$: (selectors, element) => (element || window.document).querySelectorAll(selectors),\n        styles: (styles, id = '__styles', win: any = window) => {\n          let s = win.document.head.querySelector('#' + id);\n          if (!s) {\n            s = win.document.createElement('style');\n            s.setAttribute('id', id);\n            win.document.head.appendChild(s);\n          }\n          s.innerHTML = styles;\n        },\n        translate: (key, data) => this.translate.instant(key, data),\n        encodeFileName: (filename) => this.encodeFileName(filename),\n        notifier: {\n          success: (text, title) => this.notifications.success(title, text),\n          error: (text, title) => this.notifications.error(title, text),\n          info: (text, title) => this.notifications.info(title, text),\n          warning: (text, title) => this.notifications.warning(title, text)\n        }\n      },\n      clipboard: {\n        set: (elements: DmsObject[], action: ClipboardAction) => this.clipboard.set(elements, action),\n        get: () => this.clipboard.get(),\n        clear: () => this.clipboard.clear()\n      },\n      // Agent\n      agent: {\n        getAvailability: () => this.getAgentAvailability(),\n        executeAction: (action, args) => this.executeAgentAction(action, args),\n        action: this.agentAction\n      }\n    };\n  }\n\n\n  public getAgentAvailability(): Promise<string> {\n    return new Promise((resolve, reject) => {\n      if (this.agentService.isConnected) {\n        resolve(this.agentService.agentAvailability.CONNECTED);\n      } else {\n        resolve(this.agentService.agentAvailability.UNAVAILABLE);\n      }\n    });\n  }\n\n  public executeAgentAction(action, args) {\n\n    switch (action) {\n      case this.agentAction.CLIPBOARD:\n        this.agentService.copyToClipboard(args);\n        break;\n      case this.agentAction.CLIPBOARD_AS_PDF:\n        this.agentService.copyToClipboard(args);\n        break;\n      case this.agentAction.EXTERNAL:\n        if (!args.executable) {\n          this.logger.error('Missing field args.executable');\n        } else if ((args.args && args.args.length === 0) && !Array.isArray(args.args)) {\n          this.logger.error('Field args.args must be empty or array.');\n        } else {\n          this.agentService.sendExternalAction(args.executable, args.args || []);\n        }\n        break;\n      case this.agentAction.MAIL:\n      case this.agentAction.MAIL_AS_PDF:\n        this.agentService.sendAsMail(args);\n        break;\n      case this.agentAction.OPEN:\n        this.agentService.openDocument(args, args.lock);\n        break;\n      default:\n        break;\n    }\n  }\n\n  public get(uri, base = '', options?: HttpOptions) {\n    return this.backend\n      .get(uri, this.backend.getHost() + base, options || {observe: 'response'}).pipe(\n        map((res: any) => {\n          return options ? res : { status: res.status, data: res.body };\n        })).toPromise();\n  }\n\n  public put(uri, data, base = '', options?: HttpOptions) {\n    return this.backend.put(uri, data, this.backend.getHost() + base, options).toPromise();\n  }\n\n  public post(uri, data, base = '', options?: HttpOptions) {\n    return this.backend.post(uri, data, this.backend.getHost() + base, options).toPromise();\n  }\n\n  public del(uri, base = '', options?: HttpOptions) {\n    return this.backend.del(uri, this.backend.getHost() + base, options).toPromise();\n  }\n\n  public getCurrentUser(): EoUser {\n    return this.user;\n  }\n\n  public encodeFileName(filename) {\n    return Utils.encodeFileName(filename);\n  }\n\n  public getConfig() {\n    return {\n      serviceBase: this.backend.getServiceBase()\n\n      // todo: do we have to provide the plugin developers with these informations?\n      // after speaking to Andreas also removed from documentation\n      // pluginsBase: $eoConfig.getPluginBase(),\n      // pluginStatesBase: $eoConfig.getPluginStatesBase(),\n      // themeBase: $eoConfig.getThemeBase()\n    };\n  }\n\n  /**\n   * fetches dms objects from the server that match the given params\n   *\n   * @param fields - the fields to matched. example: {name: 'max', plz: '47111}\n   * @param type - the target object type\n   *\n   * @returns which will be resolved by an array of DmsObjects matching the given params\n   */\n  public getResult(fields, type): Promise<DmsObject[]> {\n\n    let q = Object.keys(fields).filter(k => (fields[k] !== undefined && fields[k] !== null)).map(k => k + '=' + fields[k]).join(';');\n\n    return this.backend\n      .getJson(`/result/query?query=${encodeURIComponent(q)}&type=${type}`)\n      .toPromise()\n      .then((response: any) => {\n        let resObjects = [];\n        for (let item of response) {\n          resObjects.push(new DmsObject(item));\n        }\n        return Promise.resolve(resObjects);\n      })\n      .catch(this.handleError);\n  }\n\n  /**\n   * Loads a DMS object from the backend.\n   *\n   * @param id - The id of the DMS-Object to be fetched.\n   * @param [type] - The object type of the selected DMS-Object. Will improve performance if set.\n   * @param [version] - retrieve a specific version of the dms object\n   * @param [intent] - used for server side logging. If you provide an intent, the\n   *\n   * @returns which will be resolved by the DMS object fetched from the server\n   */\n  public getDmsObject(id, type, version, intent?): Promise<DmsObject> {\n\n    return this.dmsService.getDmsObject(id, type, version, intent)\n      .toPromise()\n      .then(response => {\n        return Promise.resolve(response);\n      })\n      .catch(this.handleError);\n  }\n\n  private handleError(error: any): Promise<any> {\n    return Promise.reject(error.message || error);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {EmptyState} from './empty-state.interface';\n\n/**\n * Handles empty states. Empty states are special objects that can be passed to some\n * components indicating an empty state (error while fetching data, empty data, ...)\n */\n\n@Injectable()\nexport class EmptyStateService {\n\n  constructor() {\n  }\n\n  /**\n   * Creates a new EmptyState.\n   * @param listSize The number of items inside the lists result set (if)\n   * @param message Optional message to be displayed\n   * @param icon If a special icon should be used provide its uri here otherwise\n   * the default icons will be used\n   * @returns an empty state or null in case of a listSize > 0\n   */\n  getEmptyState(listSize: number, message?: string, icon?: string): EmptyState {\n\n    if (listSize === -1) {\n      // error while fetching data\n      return {\n        icon: icon || 'ic_error.svg',\n        text: message || '',\n        className: 'error'\n      }\n\n    } else if (listSize === 0) {\n      // empty result\n      return {\n        icon: icon || 'ic_no-file.svg',\n        text: message || '',\n        className: 'empty'\n      }\n\n    } else {\n      // no empty state\n      return EmptyStateService.defaultEmptyState();\n    }\n  }\n\n  static defaultEmptyState(): EmptyState {\n    return {\n      icon: undefined,\n      text: undefined,\n      className: undefined\n    }\n  }\n}\n","import {ErrorHandler, ModuleWithProviders, NgModule, Optional, SkipSelf} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {HttpClientModule, HTTP_INTERCEPTORS} from '@angular/common/http';\nimport {AppSearchService} from './search/app-search.service';\nimport {LocationService} from './location/location.service';\nimport {SelectionService} from './selection/selection.service';\nimport {PluginsService} from './api/plugins.service';\nimport {GridService} from './api/grid.service';\nimport {LayoutService} from './layout/layout.service';\nimport {AgentService} from './agent/agent.service';\nimport {ReferenceService} from './references/reference.service';\nimport {PendingChangesGuard} from './pending-changes/pending-changes-guard.service';\nimport {PendingChangesService} from './pending-changes/pending-changes.service';\nimport {ErrorHandlerService} from './error-handler/error-handler.service';\nimport {EmptyStateService} from './empty-state/empty-state.service';\nimport {AuthGuard} from './route-guards/auth/auth-guard.service';\nimport {CapabilitiesGuard} from './route-guards/capabilities/capabilities-guard.service';\nimport {PageTitleService} from './title/page-title.service';\nimport {UploadOverlayGuard} from '../eo-framework/upload-overlay/upload-overlay-guard.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule\n  ],\n  providers: [\n    AppSearchService,\n    AuthGuard,\n    PluginsService,\n    GridService,\n    LocationService,\n    SelectionService,\n    LayoutService,\n    CapabilitiesGuard,\n    PendingChangesService,\n    PendingChangesGuard,\n    AgentService,\n    UploadOverlayGuard,\n    ReferenceService,\n    EmptyStateService,\n    PageTitleService,\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: ErrorHandlerService,\n      multi: true\n    },\n    {\n      // provide a error handling for the current platform\n      provide: ErrorHandler,\n      useClass: ErrorHandlerService\n    }\n  ]\n})\nexport class EoFrameworkCoreModule {\n\n  static forRoot(): ModuleWithProviders<EoFrameworkCoreModule> {\n    return {\n      ngModule: EoFrameworkCoreModule,\n      providers: []\n    };\n  }\n\n  constructor(@Optional() @SkipSelf() parentModule: EoFrameworkCoreModule) {\n    if (parentModule) {\n      throw new Error(\n        'EoFrameworkCoreModule is already loaded. Import it in the AppModule only');\n    }\n  }\n}\n","import {tap} from 'rxjs/operators';\nimport {ErrorHandler, Injectable, Injector} from '@angular/core';\nimport {HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse} from '@angular/common/http';\nimport {NavigationExtras, Router} from '@angular/router';\nimport {TranslateService} from '@eo-sdk/core';\nimport {AuthService, Logger, NotificationsService, EoError} from '@eo-sdk/core';\nimport {Observable} from 'rxjs';\n\n@Injectable()\nexport class ErrorHandlerService implements ErrorHandler, HttpInterceptor {\n\n  constructor(private injector: Injector) {\n  }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const auth = this.injector.get(AuthService);\n    const router = this.injector.get(Router);\n    // need to use location here, because the router may not be ready\n    const currentRouteUrl = location.href.substr(location.origin.length);\n\n    return next.handle(req).pipe(tap((event: HttpEvent<any>) => {\n      if (event instanceof HttpResponse) {\n        // do stuff with response if you want\n      }\n    }, (error: any) => {\n      if (error instanceof HttpErrorResponse || error.isHttpErrorResponse) {\n        if (error.status === 401) {\n          auth.logout();\n          if (!currentRouteUrl.includes('/enter')) {\n            const returnUrl = currentRouteUrl;\n            const uriParamQuery: NavigationExtras = {queryParams: returnUrl ? {returnUrl} : {}};\n            router.navigate(['/enter'], uriParamQuery).then(() => {\n              router.navigate([{outlets: {modal: null}}], <NavigationExtras>{queryParamsHandling: 'preserve'});\n            });\n          }\n        }\n      }\n    }));\n  }\n\n  handleError(error) {\n    if (error) {\n      const logger = this.injector.get(Logger);\n      const notificationsService = this.injector.get(NotificationsService);\n      const translate = this.injector.get(TranslateService);\n\n      const title = error.name ? error.name : error.toString();\n      const message = error.message ? error.message : '';\n\n      if (!message.includes('ExpressionChangedAfterItHasBeenCheckedError')) {\n        logger.error(error);\n      } else {\n        logger.warn(error);\n      }\n\n      if (error instanceof EoError && error.skipNotification) {\n        // do nothing: error is logged in console\n      } else if (error instanceof HttpErrorResponse || error.isHttpErrorResponse) {\n\n        if (error.status === 401) {\n          // do nothing: interceptor handles the error\n        } else if (error.status === 503 || error.status === 500) {\n\n          // todo: is there a better way (Searchservice should not return 500)\n          if (error.url.match(/\\/aggregate|\\/autocomplete|\\/attachments/)) {\n            // notificationsService.error(title, message);\n          } else {\n            notificationsService.error(\n              translate.instant('eo.error.connection.interrupted.title'),\n              translate.instant('eo.error.connection.interrupted.text'));\n          }\n          // TODO: remove once Agent 5 is relesed\n        } else if (error.status === 404 && error.url.includes('/agent/pair/')) {\n        } else {\n          notificationsService.error(title, message);\n        }\n\n      } else if (error instanceof EoError) {\n        notificationsService.error(title, message);\n      } else if (error instanceof TypeError) {\n        // notificationsService.error(title, message);\n      } else if (error instanceof Error && !message.includes('ExpressionChangedAfterItHasBeenCheckedError')) {\n        // notificationsService.error(title, message);\n      }\n    }\n  }\n}\n","export const EnaioErrorKeys = {\n  FAVORITE_TITLE_TOO_LONG: 'USER_FAVORITE_TITLE_TOO_LONG'\n}\n","export * from './eo-framework-core.module';\n\nexport * from './agent/agent.service';\nexport * from './api/grid.service';\nexport * from './api/plugins.service';\nexport * from './api/model/dms-object.api.interface';\n\nexport * from './empty-state/empty-state.service';\nexport * from './error-handler/error-handler.service';\nexport * from './error-handler/error-keys';\n\nexport * from './layout/layout.service';\nexport * from './location/location.service';\nexport * from './pending-changes/pending-changes.service';\n\nexport * from './pipes/pipes.module';\nexport * from './pipes/filesize.pipe';\nexport * from './pipes/keys.pipe';\nexport * from './pipes/locale-date.pipe';\nexport * from './pipes/locale-number.pipe';\nexport * from './pipes/safe-html.pipe';\n\nexport * from './references/reference.service';\nexport * from './route-guards/auth/auth-guard.service';\nexport * from './route-guards/capabilities/capabilities-guard.service';\nexport * from './search/app-search.service';\nexport * from './selection/selection.service';\nexport * from './title/page-title.service';\n\n","import {EventEmitter, Injectable} from '@angular/core';\nimport {NavigationStart, Router} from '@angular/router';\nimport {AppCacheService} from '@eo-sdk/core';\nimport {filter} from 'rxjs/operators';\n// import {SplitAreaComponent} from '../../eo-framework/split/split-area/split-area.component';\nimport {PendingChangesService} from '../pending-changes/pending-changes.service';\n\n// export class AreaState {\n\n//   hidden;\n//   dock;\n\n//   constructor(public area: SplitAreaComponent, visible = true, hidden = false, dock = true) {\n//     this.visible = visible;\n//     this.hidden = hidden;\n//     this.dock = dock;\n//   }\n\n//   get visible() {\n//     return this.area.visible;\n//   }\n\n//   set visible(v: boolean) {\n//     this.area.visible = v;\n//   }\n\n// }\n\n@Injectable()\nexport class LayoutService {\n\n  // public onUndockAreaChanged = new EventEmitter<AreaState>();\n\n  private CACHE_DISABLED_KEY = 'eo.layout.cache.disabled';\n  private _disableCache = false;\n  private _history = {};\n\n  set disableCache(cache: boolean) {\n    this._disableCache = cache;\n    if (this._disableCache) {\n      this.clearHistory();\n    } else {\n      Object.keys(this._history).forEach(k => this.cacheLayout(k, this._history[k]));\n    }\n    this.cache.setItem(this.CACHE_DISABLED_KEY, this._disableCache).subscribe();\n  }\n\n  get disableCache() {\n    return this._disableCache;\n  }\n\n  // private _undockArea: AreaState;\n  // private areas: AreaState[] = [];\n  // private areasSource = new ReplaySubject<AreaState[]>(1);\n  // public areas$: Observable<AreaState[]> = this.areasSource.asObservable();\n\n  constructor(private pendingChanges: PendingChangesService, private cache: AppCacheService, private router: Router) {\n    this.cache.getItem(this.CACHE_DISABLED_KEY).subscribe(val => this.disableCache = typeof val === 'boolean' ? val : false);\n    this.router.events.pipe(filter(r => r instanceof NavigationStart))\n      .subscribe(() => this.clearHistory());\n  }\n\n  // getUndockArea() {\n  //   return this._undockArea;\n  // }\n\n  clearHistory() {\n    this._history = {};\n  }\n\n  // updateArea(area: AreaState, props: any) {\n  //   let _area = this.areas.find(a => a === area);\n  //   if (_area) {\n  //     Object.assign(_area, props);\n  //     this.areasSource.next(this.areas);\n  //   }\n  // }\n\n  // setAreas(areas: AreaState[], undockArea: AreaState = null) {\n  //   this._undockArea = undockArea;\n  //   this.areas = areas;\n  //   this.areasSource.next(this.areas);\n  // }\n\n  // hideAreas(condition: (area, index) => {}) {\n  //   this.areas.forEach((a, i) => Object.assign(a, {visible: !condition.call(this, a, i), hidden: condition.call(this, a, i)}));\n  //   this.areasSource.next(this.areas);\n  // }\n\n  // toggleArea(area: AreaState) {\n  //   this.updateArea(area, {visible: !area.visible});\n  // }\n\n  // undockArea() {\n  //   if (this._undockArea && !this.pendingChanges.check()) {\n  //     this.updateArea(this._undockArea, {dock: !this._undockArea.dock});\n  //     this.onUndockAreaChanged.emit(this._undockArea);\n  //   }\n  // }\n\n  // visibilityUpdate() {\n  //   this.areasSource.next(this.areas);\n  // }\n\n  cacheLayout(key: string, layout: any) {\n    // if (!this.isUndocked()) {\n      if (this.disableCache) {\n        this._history[key] = layout;\n      } else {\n        this.cache.setItem(key, layout).subscribe();\n      }\n    // }\n  }\n\n  getLayout(key: string) {\n    return this.cache.getItem(key);\n  }\n\n  // isUndocked() {\n  //   return this._undockArea && !this._undockArea.dock;\n  // }\n\n}\n","import {Injectable} from '@angular/core';\nimport {Observable, ReplaySubject} from 'rxjs';\nimport {Router} from '@angular/router';\nimport {AgentService} from '../agent/agent.service';\nimport {AppCacheService, UploadRegistryService, DmsObject, Utils, UploadTarget} from '@eo-sdk/core';\nimport {TreeNode} from '../../eo-framework/tree/tree.component.interface';\n\nexport interface EoLocation {\n  id: string;\n  type: string;\n  title?: string;\n  subFolder?: any;\n}\n\n/**\n * LocationService keeps track of the location a user visits inside enaio.\n * This service will be used by the AppAdd component for fetching objects allowed\n * to be added, because they may be restricted to a certain location.\n *\n * For components that display a location inside enaio use `LocationService.enter(id, type)`\n * in the components `OnInit` method and `LocationService.leave()` in its `OnDestroy` method.\n * See applications `ObjectStateComponent` for an example.\n */\n\n@Injectable()\nexport class LocationService {\n\n  // number of entries to keep in the history\n  public HISTORY_SIZE = 5;\n\n  // location that is active (currently opened by the user)\n  private activeLocation: EoLocation;\n  private locationSource = new ReplaySubject<EoLocation>(1);\n  public activeLocation$: Observable<any> = this.locationSource.asObservable();\n\n  // history of locations visited by the user\n  private locationHistory: EoLocation[] = [];\n\n  private currentUploadTargets: UploadTarget[] = [];\n\n  constructor(private appCache: AppCacheService,\n              private agentService: AgentService,\n              private uploadRegistry: UploadRegistryService,\n              private router: Router) {\n    // load history from local storage\n    appCache\n      .getItem(appCache.LOCATION_HISTORY)\n      .subscribe(h => this.locationHistory = h || []);\n    // if (this.activeLocation) {\n    //   // if we already hav an active location we'll add it to the history right away\n    //   this.addHistoryEntry(this.activeLocation);\n    // }\n  }\n\n  /**\n   * Enter a specific location. This will add the location to the local history\n   * and set the active location.\n   * @param dmsObject\n   * @param treeNode Node from the context folders structure tree\n   */\n  // enter(id: string, type: string, item?: DmsObject, treeNode?: TreeNode) {\n  enter(dmsObject: DmsObject, treeNode?: TreeNode) {\n    let loc;\n    this.currentUploadTargets = [];\n    // having a context folder means we could add an upload target for it\n    if (dmsObject.isContextFolder) {\n      let contextTarget = new UploadTarget(Utils.uuid(), UploadTarget.CONTEXT);\n      contextTarget.referenceObject = dmsObject;\n      contextTarget.onUploadSuccess = (target) => this.router.navigate([target]);\n      this.currentUploadTargets.push(contextTarget);\n    }\n\n\n    if (treeNode && dmsObject.isContextFolder) {\n\n      // having an additional tree node means, that a dynamic folder was selected\n      // so we'll add an upload target for that as well\n      let treeNodeTarget = new UploadTarget(Utils.uuid(), UploadTarget.CONTEXT_TREE);\n      treeNodeTarget.referenceObject = dmsObject;\n      treeNodeTarget.subFolder = treeNode;\n      treeNodeTarget.onUploadSuccess = (target) => this.router.navigate([target]);\n      this.currentUploadTargets.push(treeNodeTarget);\n      loc = {id: dmsObject.id, title: dmsObject.title, type: dmsObject.type.name, subFolder: treeNode.data};\n\n    } else if (dmsObject.isContextFolder) {\n      loc = {id: dmsObject.id, title: dmsObject.title, type: dmsObject.type.name};\n    } else {\n      loc = {id: dmsObject.id, title: dmsObject.title, type: dmsObject.type.name};\n    }\n\n    if (this.currentUploadTargets.length) {\n      this.currentUploadTargets.forEach(ut => {\n        this.uploadRegistry.register(ut);\n      })\n    }\n\n    this.activeLocation = loc;\n    this.locationSource.next(this.activeLocation);\n    this.addHistoryEntry(dmsObject, treeNode);\n    this.appCache.setItem(this.appCache.LOCATION_HISTORY, this.locationHistory).subscribe();\n  }\n\n  /**\n   * Leave a location. This will remove the active location.\n   */\n  leave() {\n    if (this.currentUploadTargets.length) {\n      this.currentUploadTargets.forEach(ut => {\n        this.uploadRegistry.unregister(ut.id);\n      });\n    }\n    this.activeLocation = null;\n    this.locationSource.next(this.activeLocation);\n  }\n\n  /**\n   * Returns the location history\n   * @return\n   */\n  getHistory(): EoLocation[] {\n    return this.locationHistory.reverse();\n  }\n\n  getActiveLocation() {\n    return this.activeLocation;\n  }\n\n  /**\n   * Adds a location entry to the history.\n   * @param contextFolder The locations context folder\n   * @param treeNode Node from the context folders structure tree\n   */\n  private addHistoryEntry(contextFolder: DmsObject, treeNode?: TreeNode) {\n\n    // if the last history entry equals the one that should be added, we'll skip it\n    if (this.isSameAsPrevious(contextFolder, treeNode)) {\n      return false;\n    }\n\n// remove the first item if we would exceed the configured history size\n    if (this.locationHistory.length === this.HISTORY_SIZE) {\n      this.locationHistory.pop();\n    }\n    this.locationHistory.push({\n      id: contextFolder.id,\n      type: contextFolder.type.name,\n      subFolder: treeNode ? treeNode.data : null\n    });\n\n// also send location to agent service\n    this.agentService.updateUserLocation(contextFolder, treeNode);\n  }\n\n  private isSameAsPrevious(contextFolder: DmsObject, treeNode?: TreeNode): boolean {\n\n    if (!this.locationHistory.length) {\n      return false\n    }\n    const lastEntry = this.locationHistory[this.locationHistory.length - 1];\n    if (lastEntry.id === contextFolder.id) {\n\n      const treeLeaf = treeNode ? treeNode.data.key : null;\n      const subFolder = lastEntry.subFolder ? lastEntry.subFolder.key : null;\n      return treeLeaf === subFolder;\n    } else {\n      return false;\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {CanDeactivate} from '@angular/router';\nimport {PendingChangesComponent} from './pending-changes-component.interface';\nimport {PendingChangesService} from './pending-changes.service';\n\n@Injectable()\nexport class PendingChangesGuard implements CanDeactivate<PendingChangesComponent> {\n\n  constructor(private pendingChanges: PendingChangesService) {\n  }\n\n  canDeactivate(component: PendingChangesComponent): boolean {\n    // if there are no pending changes, just allow deactivation; else confirm first\n    return !this.pendingChanges.check(component);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {TranslateService} from '@eo-sdk/core';\nimport {PendingChangesComponent} from './pending-changes-component.interface';\nimport {Observable, ReplaySubject} from 'rxjs';\nimport {Utils, Logger} from '@eo-sdk/core';\n\n/**\n * EditingObserver service is used to track changes made inside the application, that should prevent\n * doing something or going somewhere before the changes are persisted or ignored. For example when\n * the user starts editing form data and tries to navigate away before saving the changes, this service\n * will take care of notifying the user.\n *\n * It is working kind of like a registry for ongoing tasks that need to be monitored. Every component\n * that needs to be aware of changes to be persisted can start a task and finish it when everything is done.\n *\n * Other components can ask the service for pending tasks to know whether or not to execute an action\n * (e.g. list component will subscribe and prevent selecting another list item, if changes to the previous one haven't be finished)\n *\n * app.component will prevent relevant route changes while tasks are pending.\n */\n\n@Injectable()\nexport class PendingChangesService {\n\n  private tasks: string[] = [];\n  private tasksSource = new ReplaySubject<string[]>();\n  public tasks$: Observable<string[]> = this.tasksSource.asObservable();\n\n  constructor(private logger: Logger, private translate: TranslateService) {\n  }\n\n  /**\n   * Registers a task to be pending.\n   * @returns Unique id to be used for finishing this task\n   */\n  startTask(): string {\n    const taskId = Utils.uuid();\n    this.tasks.push(taskId);\n    this.logger.debug('started pending task: ' + taskId);\n    this.tasksSource.next(this.tasks);\n    return taskId;\n  }\n\n  /**\n   * Finishes a task\n   * @param id The id of the task to be finished. This is the one the component got from startTask()\n   */\n  finishTask(id: string) {\n    if (id) {\n      this.tasks = this.tasks.filter(t => t !== id);\n      this.tasksSource.next(this.tasks);\n      this.logger.debug('finished pending task: ' + id);\n    }\n  }\n\n  /**\n   * Returns whether or not the service has pending tasks.\n   * If an id is provided, the method will check existence of one specific task.\n   *\n   * @param id The id of the task to be checked\n   * @returns\n   */\n  hasPendingTask(id?: string | string[]): boolean {\n    return !id ? !!this.tasks.length :\n    (Array.isArray(id) ? this.tasks.some(value => id.includes(value)) : this.tasks.includes(id));\n  }\n\n  /**\n   * Returns whether or not the component|service has pending tasks.\n   * Checks via confirm dialog\n   * @param component\n   * @returns\n   */\n  check(component?: PendingChangesComponent): boolean {\n    if (component ? !component.hasPendingChanges() : !this.hasPendingTask()) {\n      return false;\n    } else {\n      const confirmed = confirm(this.translate.instant('eo.object.indexdata.save.browsernav'));\n      if (confirmed) {\n        this.clear();\n      }\n      return !confirmed;\n    }\n  }\n\n  checkForPendingTasks(taskIds: string | string[]):boolean {\n    if(this.hasPendingTask(taskIds)) {\n      const confirmed = confirm(this.translate.instant('eo.object.indexdata.save.browsernav'));\n      if (confirmed) {\n        this.removeTasks(Array.isArray(taskIds) ? taskIds : [taskIds]);\n      }\n      return !confirmed;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Removes pending tasks from the list\n   * @param taskIds the ids of the tasks to remove\n   */\n  removeTasks(taskIds: string[]) {\n    this.tasks = this.tasks.filter(task => !taskIds.includes(task));\n    this.tasksSource.next(this.tasks);\n  }\n\n  /**\n   * Clear list of pending tasks\n   */\n  clear() {\n    this.tasks = [];\n    this.tasksSource.next(this.tasks);\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {LocaleNumberPipe} from './locale-number.pipe';\n\n@Pipe({name: 'fileSize'})\nexport class FileSizePipe extends LocaleNumberPipe implements PipeTransform {\n\n  private k = 1024;\n  private sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\n\n  transform(bytes = 0): string {\n    if (bytes <= 1) {\n      return bytes === 1 ? '1 Byte' : '0 Bytes';\n    }\n    let i: number = Math.floor(Math.log(bytes) / Math.log(this.k));\n    return super.transform(parseFloat((bytes / Math.pow(this.k, i)).toFixed(2))) + ' ' + this.sizes[i];\n  }\n\n  stringToNumber(value: string) {\n    const sizes = this.sizes.map(s => s.toLowerCase());\n    const match = value.toLowerCase().match(new RegExp(`(.*)(${sizes.join('|')})`));\n    const number = super.stringToNumber((match ? match[1] : value).trim());\n    return isNaN(number) ? number : (number * Math.pow(1024, match ? sizes.indexOf(match[2]) : 0));\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({name: 'keys', pure: false})\nexport class KeysPipe implements PipeTransform {\n  transform(value: any, args: any[] = null): any {\n    return Object.keys(value); //.map(key => value[key]);\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {\n  DatePipe, FormatWidth, getLocaleDateFormat, getLocaleDateTimeFormat, getLocaleTimeFormat\n} from '@angular/common';\nimport {TranslateService} from '@eo-sdk/core';\n\n@Pipe({\n  name: 'localeDate',\n  pure: false\n})\nexport class LocaleDatePipe extends DatePipe implements PipeTransform {\n\n  constructor(private translate: TranslateService) {\n    super(translate.currentLang);\n  }\n\n  get lang() {\n    return this.translate.currentLang ? this.translate.currentLang : 'en';\n  }\n\n  transform(value: any, format: string = '', timezone?: string, locale?: string): string | null | any  {\n    if (format === 'eoNiceShort') {\n      const diff = (new Date(value).setHours(0, 0, 0, 0) - new Date().setHours(0, 0, 0, 0)) / 1000 / 3600 / 24;\n      format = diff === 0 ? 'eoShortTime' : diff > -7 && diff < 0 ? 'eoShortDayTime' : format;\n    }\n    return super.transform(value, this.format(format || 'eoShort'), timezone, locale || this.lang);\n  }\n\n  format(format?: string) {\n    let formatValue = '';\n    switch (format) {\n      case 'eoNiceShort':\n      case 'eoShortDate':\n        formatValue = getLocaleDateFormat(this.lang, FormatWidth.Short)\n          .replace(/[d]+/, 'dd')\n          .replace(/[M]+/, 'MM')\n          .replace(/[y]+/, 'yyyy');\n        break;\n      case 'eoShortDay':\n        formatValue = 'EE';\n        break;\n      case 'eoShortTime':\n        formatValue = getLocaleTimeFormat(this.lang, FormatWidth.Short)\n          .replace(/[h]+/, 'hh')\n          .replace(/[H]+/, 'HH')\n          .replace(/[m]+/, 'mm')\n          .replace(/[a]+/, 'aa');\n        break;\n      case 'eoShort':\n        formatValue = getLocaleDateTimeFormat(this.lang, FormatWidth.Short)\n          .replace('{0}', this.format('eoShortTime'))\n          .replace('{1}', this.format('eoShortDate'));\n        break;\n      case 'eoShortDayTime':\n        formatValue = getLocaleDateTimeFormat(this.lang, FormatWidth.Short).replace(',', '')\n          .replace('{0}', this.format('eoShortTime'))\n          .replace('{1}', this.format('eoShortDay'));\n        break;\n    }\n\n    return formatValue || format;\n  }\n\n}\n","import {CurrencyPipe, DecimalPipe, PercentPipe} from '@angular/common';\nimport {Pipe, PipeTransform} from '@angular/core';\nimport {TranslateService} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\n\n@Pipe({\n  name: 'localeDecimal',\n  pure: false\n})\nexport class LocaleDecimalPipe extends DecimalPipe implements PipeTransform {\n\n  constructor(public translate: TranslateService) {\n    super(translate.currentLang || 'en');\n  }\n\n  public transform(value: any, digits?: string, locale?: string): string | null | any {\n    return super.transform(value, digits, locale || this.translate.currentLang || 'en');\n  }\n\n}\n\n@Pipe({\n  name: 'localePercent',\n  pure: false\n})\nexport class LocalePercentPipe extends PercentPipe implements PipeTransform {\n\n  constructor(public translate: TranslateService) {\n    super(translate.currentLang || 'en');\n  }\n\n  public transform(value: any, digits?: string, locale?: string): string | null | any {\n    return super.transform(value, digits, locale || this.translate.currentLang || 'en');\n  }\n\n}\n\n@Pipe({\n  name: 'localeCurrency',\n  pure: false\n})\nexport class LocaleCurrencyPipe extends CurrencyPipe implements PipeTransform {\n\n  constructor(public translate: TranslateService) {\n    super(translate.currentLang || 'en');\n  }\n\n  public transform(value: any, currencyCode?: string, display?: 'code' | 'symbol' | 'symbol-narrow' | boolean, digits?: string, locale?: string): string | null | any {\n    return super.transform(value, currencyCode, display, digits, locale || this.translate.currentLang || 'en');\n  }\n\n}\n\n@UntilDestroy()\n@Pipe({\n  name: 'localeNumber',\n  pure: false\n})\nexport class LocaleNumberPipe implements PipeTransform {\n\n  decimalPipe;\n  decimalSeparator = '.';\n  separator = ',';\n\n  constructor(public translate: TranslateService) {\n    this.decimalPipe = new LocaleDecimalPipe(this.translate);\n    this.updateSeparators(this.translate.currentLang);\n    this.translate.onLangChange.pipe(untilDestroyed(this)).subscribe(currLang => this.updateSeparators(currLang.lang));\n  }\n\n  public transform(value: any, grouping?: boolean, pattern?: string, scale?: number, digits?: string, locale?: string): string | null | any {\n    let number = this.decimalPipe.transform(value, digits || `1.${scale || 0}-${scale || 0}`, locale);\n    if (number && !grouping) {\n      number = number.replace(new RegExp('\\\\' + this.separator, 'g'), '');\n    }\n    return number ? (pattern || '{{number}}').replace('{{number}}', number) : number;\n  }\n\n  private updateSeparators(lang: string) {\n    if (lang) {\n      const pattern = this.decimalPipe.transform(1111.11, '1.2-2', lang);\n      this.decimalSeparator = pattern[5];\n      this.separator = pattern[1];\n    }\n  }\n\n  stringToNumber(value: string) {\n    value = (value || '').replace(new RegExp('\\\\' + this.separator, 'g'), '').replace(this.decimalSeparator, '.');\n    if (typeof value === 'string' && !isNaN(Number(value) - parseFloat(value))) {\n      return Number(value);\n    }\n    return NaN;\n  }\n\n  numberToString(value: number, grouping?: boolean, pattern?: string, scale?: number) {\n    scale = typeof scale === 'number' ? scale : 2;\n    return this.transform(value, grouping, pattern, scale);\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {SafeHtmlPipe} from './safe-html.pipe';\nimport {KeysPipe} from './keys.pipe';\nimport {LocaleCurrencyPipe, LocalePercentPipe, LocaleDecimalPipe, LocaleNumberPipe} from './locale-number.pipe';\nimport {LocaleDatePipe} from './locale-date.pipe';\nimport {FileSizePipe} from './filesize.pipe';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    FileSizePipe,\n    LocaleDatePipe,\n    LocaleDecimalPipe,\n    LocalePercentPipe,\n    LocaleCurrencyPipe,\n    LocaleNumberPipe,\n    KeysPipe,\n    SafeHtmlPipe\n  ],\n  exports: [\n    FileSizePipe,\n    LocaleDatePipe,\n    LocaleDecimalPipe,\n    LocalePercentPipe,\n    LocaleCurrencyPipe,\n    LocaleNumberPipe,\n    KeysPipe,\n    SafeHtmlPipe\n  ]\n})\nexport class PipesModule {\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\n@Pipe({ name: 'safeHtml' })\nexport class SafeHtmlPipe implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) {}\n\n  transform(style): SafeHtml {\n    return style ? this.sanitizer.bypassSecurityTrustHtml(style) : style;\n    // return this.sanitizer.bypassSecurityTrustStyle(style);\n    // return this.sanitizer.bypassSecurityTrustXxx(style); - see docs\n  }\n}\n","import {map, mergeMap} from 'rxjs/operators';\nimport {Injectable} from '@angular/core';\nimport {Observable, forkJoin, of as observableOf} from 'rxjs';\nimport {SearchService, SystemService, DmsObject} from '@eo-sdk/core';\nimport {UtilitiesService} from '../../eo-framework/util/services/utilities.service';\n\n@Injectable()\nexport class ReferenceService {\n\n  constructor(private searchService: SearchService,\n              private systemService: SystemService) {\n  }\n\n\n  getQueries(dmsObject: DmsObject): Observable<any> {\n    const result = [this.getOutReferenceQueries(dmsObject), this.getInReferenceQueries(dmsObject)];\n    return forkJoin(result).pipe(map(([outReferenceQueries, inReferenceQueries]) => ({outReferenceQueries, inReferenceQueries})));\n  }\n\n  private getOutReferenceQueries(dmsObject: DmsObject): Observable<any> {\n    return this.getOutReferenceMetaDatas(dmsObject).pipe(\n      map(res => res.map(metaData => {\n          let query = this.createOutReferenceQuery(metaData);\n          delete query.fields;\n          return query;\n        })));\n  }\n\n  private getInReferenceQueries(dmsObject: DmsObject) {\n    return this.getInReferenceMetaDatas(dmsObject)\n      .pipe(\n        map(refTypes => refTypes.map(referencedType => {\n            let query = this.createInReferenceQuery(dmsObject, referencedType);\n            delete query.fields;\n            return query;\n          })));\n  }\n\n  getOutReferences(dmsObject: DmsObject): Observable<any> {\n    let obs = [];\n    let outReferenceMetaDatas;\n    return this.getOutReferenceMetaDatas(dmsObject).pipe(\n      mergeMap(response => {\n          outReferenceMetaDatas = response;\n          outReferenceMetaDatas.forEach(metaData => {\n            let query = this.createOutReferenceQuery(metaData);\n            let promise = this.executeQuery(query);\n            obs.push(promise);\n          });\n          return obs.length > 0 ? forkJoin(obs) : observableOf([]);\n        }\n      ),\n      map(results => this.mergeQueryResults(results, outReferenceMetaDatas)));\n  }\n\n  private mergeQueryResults(results, metaDatas) {\n    let mergedResult = [];\n    results.forEach((result, index) => {\n      result.forEach((hit) => hit._source.metaData = metaDatas[index]);\n      mergedResult = mergedResult.concat(result);\n    });\n    return mergedResult.map(mR => mR._source);\n  }\n\n  private createOutReferenceQuery(outReferenceMetaData) {\n    let query;\n    if (outReferenceMetaData.remoteElement) {\n      query = {\n        filters: {},\n        fields: ['title', 'description', 'type'],\n        types: [outReferenceMetaData.objectType.name],\n        options: {\n          suggest: true,\n          searchmode: 'idxs'\n        }\n      };\n\n      query.filters[outReferenceMetaData.remoteElement.qname] = {\n        o: Array.isArray(outReferenceMetaData.value) ? 'in' : 'eq',\n        v1: outReferenceMetaData.value\n      };\n    } else {\n      query = {\n        term: '',\n        fields: ['title', 'description'],\n        options: {expertmode: true},\n        types: [outReferenceMetaData.objectType.name]\n      };\n      outReferenceMetaData.value.forEach((value, index, arr) => {\n        query.term += '_id:' + value + (index === arr.length - 1 ? '' : ' || ');\n      });\n    }\n    return query;\n  }\n\n  private getOutReferenceMetaDatas(dmsObject: DmsObject): Observable<any> {\n    let metaDatas = [];\n    let types = this.systemService.getObjectTypes();\n\n    let formElements = types.find(t => t.name === dmsObject.typeName).elements;\n    let outReferenceFields = this.getOutReferenceFields(formElements);\n\n    outReferenceFields.forEach(field => {\n      let objectType = types.find(t => t.qname === field.reference.type);\n      if (objectType && objectType.isAbstract) {\n        let subTypes = this.getSubTypes(objectType.name, types);\n        subTypes.forEach(subType => {\n            let remoteElement = field.type === 'STRING' ? subType.elements.find(el => el.qname === field.reference.element) : null;\n            let values = dmsObject.data[field.name];\n            if (values) {\n              if (!Array.isArray(values)) {\n                values = [values];\n              }\n              let metaData = {\n                groupField: objectType.name + (remoteElement ? remoteElement.label : 'ID'),\n                remoteElement: remoteElement,\n                objectType: subType,\n                element: field,\n                value: values\n              };\n              metaDatas.push(metaData);\n            }\n          }\n        )\n      } else if (objectType) {\n        let remoteElement = field.type === 'STRING' ? objectType.elements.find(el => el.qname === field.reference.element) : null;\n        let values = dmsObject.data[field.name];\n        if (values) {\n          if (!Array.isArray(values)) {\n            values = [values];\n          }\n          let metaData = {\n            groupField: objectType.name + (remoteElement ? remoteElement.label : 'ID'),\n            remoteElement: remoteElement,\n            objectType: objectType,\n            element: field,\n            value: values\n          };\n          metaDatas.push(metaData);\n        }\n      }\n    });\n\n    return observableOf(metaDatas.filter(metaData => !UtilitiesService.isEmpty(metaData.value)));\n  }\n\n  private getOutReferenceFields(elements) {\n    let outReferenceFields = [];\n    elements.forEach(elem => {\n      if (elem.reference) {\n        outReferenceFields.push(elem);\n      }\n    });\n    return outReferenceFields;\n  }\n\n  getInReferences(dmsObject: DmsObject): Observable<any> {\n    let obs = [];\n    let inReferenceMetaDatas = [];\n    return this.getInReferenceMetaDatas(dmsObject)\n      .pipe(\n        mergeMap(metaDatas => {\n            metaDatas.forEach(metaData => {\n              if (metaData.remoteElement.type === 'REFERENCE' || dmsObject.data[metaData.remoteElement.reference.element.split('.')[1]]) {\n                let query = this.createInReferenceQuery(dmsObject, metaData);\n                let ob = this.executeQuery(query);\n                inReferenceMetaDatas.push(metaData);\n                obs.push(ob);\n              }\n            });\n            return obs.length > 0 ? forkJoin(obs) : observableOf([]);\n          }\n        ),\n        map(results => this.mergeQueryResults(results, inReferenceMetaDatas))\n      );\n  }\n\n  private executeQuery(query: object) {\n    return this.searchService\n      .executeQuery(query, undefined, 10000)\n      .pipe(map(res => res.hits.hits));\n  }\n\n  private createInReferenceQuery(dmsObject: DmsObject, referencedType) {\n    let query;\n    query = {\n      filters: {},\n      fields: ['title', 'description', 'type'],\n      types: [referencedType.objectType.qname],\n      options: {\n        suggest: true,\n        searchmode: 'idxs'\n      }\n    };\n\n    const {multiselect, qname} = referencedType.remoteElement;\n    if (referencedType.remoteElement.type === 'STRING') {\n      const reference = referencedType.remoteElement.reference.element.split('.')[1];\n      query.filters[qname] = {\n        o: multiselect ? 'in' : 'eq',\n        v1: multiselect && !Array.isArray(dmsObject.data[reference]) ? [dmsObject.data[reference]] : dmsObject.data[reference]\n      };\n    } else {\n      query.filters[qname] = {\n        o: multiselect ? 'in' : 'eq',\n        v1: multiselect ? [dmsObject.id] : dmsObject.id\n      };\n    }\n    return query;\n  }\n\n  private getInReferenceMetaDatas(dmsObject: DmsObject): Observable<any> {\n    let types = this.systemService.getObjectTypes();\n    let superTypes = this.getSuperTypes(dmsObject.typeName, types);\n    let metaDatas = [];\n\n    types.forEach(objectType => {\n      if (!objectType.isAbstract) {\n        objectType.elements\n          .forEach(element => {\n            if (element.reference && (element.reference.type === dmsObject.type.name || this.isReferenceOnSuperType(element.reference.type, superTypes))) {\n              let metaData = {\n                groupField: objectType.name + element.label,\n                objectType: objectType,\n                remoteElement: element\n              };\n              metaDatas.push(metaData);\n            }\n          });\n      }\n    });\n    return observableOf(metaDatas);\n  }\n\n  private isReferenceOnSuperType(typeName, superTypes) {\n    let isReferenceOnSuperType = false;\n    superTypes.forEach(superType => {\n        if (superType.qname === typeName) {\n          isReferenceOnSuperType = true;\n        }\n      }\n    );\n    return isReferenceOnSuperType;\n  }\n\n  private getSuperTypes(typeName, types) {\n    let superTypes = [];\n    let typeDefinition = types.find(t => t.qname === typeName);\n\n    if (typeDefinition && typeDefinition.supertypes) {\n      typeDefinition.supertypes\n        .forEach(sType => {\n          superTypes = superTypes.concat(this.getSuperTypes(sType, types));\n          let superType = types.find(t => t.qname === sType);\n          if (superType) {\n            superTypes.push(superType);\n          }\n        });\n    }\n    return superTypes;\n  }\n\n  private getSubTypes(typeName, types) {\n    let subTypes = [];\n    types.forEach(objectType => {\n      if (!!objectType.supertypes.find(sT => sT === typeName)) {\n        subTypes.push(objectType);\n      }\n    });\n    return subTypes;\n  }\n\n  fetchIDReferenceMetaData(values): Observable<any> {\n    let query = {\n      term: '',\n      fields: ['title', 'description', 'type'],\n      options: {expertmode: true}\n    };\n    values.forEach((val, index, arr) => {\n      query.term += '_id:' + val + (index === arr.length - 1 ? '' : ' || ');\n    });\n    return !query.term ? observableOf([]) : this.executeQuery(query).pipe(\n      map(hits => {\n        return hits.map(hit => {\n          return {\n            id: hit._source.id,\n            title: hit._source.title,\n            description: hit._source.description,\n            type: hit._source.type\n          };\n        });\n      })\n    );\n  }\n}\n","import {AgentService} from './../../agent/agent.service';\n\nimport {map} from 'rxjs/operators';\nimport {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, NavigationExtras} from '@angular/router';\nimport {AuthService} from '@eo-sdk/core';\nimport {Observable} from 'rxjs';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n\n  constructor(private authService: AuthService, private agentService: AgentService, private router: Router) {\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n\n    this.agentService.setAgentStatus(route.queryParams['connectagent']).subscribe();\n    return this.authService.authenticated$.pipe(\n      map((authenticated: boolean) => {\n        if (!authenticated) {\n          const uriParamQuery: NavigationExtras = {queryParams: {returnUrl: state.url}};\n          this.router.navigate(['/enter'], uriParamQuery);\n        }\n        return authenticated;\n      })\n    );\n  }\n}\n","\nimport {map} from 'rxjs/operators';\nimport {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {AuthService, CapabilitiesService} from '@eo-sdk/core';\n\n@Injectable()\nexport class CapabilitiesGuard implements CanActivate {\n\n  constructor(private auth: AuthService,\n              private router: Router,\n              private capabilities: CapabilitiesService) {\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n\n    const notFoundRoute = '/not-found';\n    return this.auth.authenticated$.pipe(map(\n      (authenticated) => {\n\n        if (authenticated) {\n          if (!this.capabilities.hasCapability('intray') && state.url === '/prepare') {\n            this.router.navigate([notFoundRoute]);\n            return (false);\n          } else if (!this.capabilities.hasCapability('inbox') && state.url === '/inbox') {\n            this.router.navigate([notFoundRoute]);\n            return (false);\n          } else if (!this.capabilities.hasCapability('notifications') && state.url === '/notifications') {\n            this.router.navigate([notFoundRoute]);\n            return (false);\n          } else if (!this.capabilities.hasCapability('bpm') && state.url === '/process') {\n            this.router.navigate([notFoundRoute]);\n            return (false);\n          } else if (!this.capabilities.hasCapability('favorites') && state.url === '/favorites') {\n            this.router.navigate([notFoundRoute]);\n            return (false);\n          } else if (!this.capabilities.hasCapability('storedqueries') && state.url === '/stored-queries') {\n            this.router.navigate([notFoundRoute]);\n            return (false);\n          } else {\n            return (true);\n          }\n        } else {\n          return (true);\n        }\n      }\n    ));\n  }\n}\n","import {from as observableFrom, BehaviorSubject, ReplaySubject, Observable} from 'rxjs';\nimport {groupBy, reduce, mergeMap} from 'rxjs/operators';\nimport {Injectable} from '@angular/core';\nimport {\n  SearchFilter, SearchQuery, SearchState, SystemService,\n  ObjectType, SearchService, EventService, EnaioEvent, Utils, QueryScope\n} from '@eo-sdk/core';\n\n/**\n * AppSearchService is the apps main entry point for searching (used by the appBarSearch component).\n * It provides an `query$` observable components can subscribe to, to\n * stay in touch with updates to the query.\n */\n@Injectable()\nexport class AppSearchService {\n\n  private query = new SearchQuery();\n  private aggs: any;\n  private lastQuery = new SearchQuery();\n  private queryState = new SearchState();\n  // Holds the last aggregation properties sent to the server\n  // Used for preventing redundant calls\n  private lastAggCallComparator: string;\n\n  // Subject holding the current query (initial value is a new SearchQuery)\n  // @see: http://blog.angular-university.io/how-to-build-angular2-apps-using-rxjs-observable-data-services-pitfalls-to-avoid/#rxjssubjectandhowtouseit\n  // todo: maybe add support for holding a query history, so the user can reload older queries as well\n  private querySource = new ReplaySubject<SearchQuery>(1);\n  private queryStateSource = new BehaviorSubject<SearchState>(this.queryState);\n\n  // Expose an observable instead of the subject itself to prevent the service clients from\n  // themselves emitting store values directly instead of calling action methods, and therefore\n  // bypassing the store.\n  public query$: Observable<SearchQuery> = this.querySource.asObservable();\n  // Search service also exposes an observable that emits the state of the current query.\n  // We separate the state of the query from the query itself as otherwise changhing the queries\n  // state will trigger all subscribers of the query observale and lead to undesired behaviour\n  public queryState$: Observable<SearchState> = this.queryStateSource.asObservable();\n  public objectTypeGroups = [];\n  public typesAllowedUnderSysroot = [];\n\n  constructor(private searchService: SearchService,\n    private eventService: EventService,\n    private system: SystemService) {\n\n    this.setDefaultAggs();\n    this.eventService.on(EnaioEvent.LOGOUT)\n      .subscribe(res => {\n        this.reset(true);\n      });\n\n    this.querySource.next(this.query);\n\n    // Fetch object types and groups that serve as search filter params.\n    // These groups are provided through the services `objectTypeGroups` property.\n    this.system.system$.subscribe((systemDefinition) => {\n\n      this.typesAllowedUnderSysroot = systemDefinition.types.filter(type => type.parenttypes.includes('sysroot'));\n\n      let groups = [];\n      observableFrom(systemDefinition.types)\n        .pipe(\n          groupBy((type: any) => type.group || '0'),\n          mergeMap(g => g.pipe(reduce((acc, curr) => [...acc, curr], [])))\n        )\n        .subscribe(otg => {\n          groups.push({\n            label: otg[0].group || '0',\n            types: this.sortObjectTypeGroup(otg)\n          });\n        });\n      this.objectTypeGroups = groups.sort(Utils.sortValues('label'));\n    });\n  }\n\n  resetAggs() {\n    this.setDefaultAggs();\n    this.lastAggCallComparator = null;\n  }\n\n  private setDefaultAggs() {\n    this.aggs = {\n      type: {}\n    };\n  }\n\n  // helper method for sorting the entries of an object type group\n  private sortObjectTypeGroup(types) {\n    return types.sort((a, b) => {\n\n      if (a.isContextFolder && !b.isContextFolder) {\n        return -1;\n      }\n      if (!a.isContextFolder && b.isContextFolder) {\n        return 1;\n      }\n      if (a.isFolder && !b.isFolder) {\n        return -1;\n      }\n      if (!a.isFolder && b.isFolder) {\n        return 1;\n      }\n      if (a.isFolder && b.isFolder) {\n        return Utils.sortValues('label').call(this, a, b);\n      }\n      return Utils.sortValues('label').call(this, a, b);\n    });\n  }\n\n  // Extends the objectTypesGroups by the elements for each object type\n  // Used in expert search mode\n  public buildTypeGroupTree() {\n\n    let gTree = [];\n    let i = 0;\n    for (let group of this.objectTypeGroups) {\n      let g = {\n        id: i++,\n        label: group.label,\n        tree: []\n      };\n      let types = [];\n      for (let objectType of group.types) {\n\n        let t = {\n          id: objectType.id,\n          label: objectType.label,\n          children: []\n        };\n        let children = [];\n        for (let el of objectType.elements) {\n          children.push({\n            label: el.label,\n            type: el.type,\n            data: el.qname\n          });\n        }\n        // sort by label\n        t.children = children.sort(Utils.sortValues('label'));\n        types.push(t);\n      }\n      g.tree = types.sort(Utils.sortValues('label'));\n\n\n      gTree.push(g);\n    }\n    return gTree;\n  }\n\n  /**\n   * Override the current query by a different one.\n   * This could be done by for example loading a stored query.\n   *\n   * @param query - the query that should replace the current query, this may be either a SearchQuery instance,\n   * a JSON string of an object matching the search api\n   */\n  public setQuery(query: SearchQuery) {\n    if (this.isNewQuery(query)) {\n      this.setDefaultAggs();\n      this.query = query;\n      this.querySource.next(this.query);\n    }\n  }\n\n  /**\n   * Resets the current query.\n   */\n  public clearQuery() {\n    this.setQuery(new SearchQuery());\n  }\n\n  private isNewQuery(query: SearchQuery): boolean {\n    return JSON.stringify(query.getQueryJson()) !== JSON.stringify(this.query.getQueryJson());\n  }\n\n  /**\n   * toggles the searchmode from regular search to expert search and vice versa\n   */\n  public toggleExpertMode() {\n    if (!this.query.expertMode) {\n      this.lastQuery = this.query;\n      this.setDefaultAggs();\n      this.query = new SearchQuery();\n      this.query.expertMode = true;\n    } else {\n      this.query = this.lastQuery;\n    }\n    this.query.__updateCause = SearchQuery.UPDATE_CAUSE.TOGGLED_EXPERTMODE;\n    this.querySource.next(this.query);\n    this.aggregate();\n\n  }\n\n  public setTerm(term: string) {\n    this.query.term = term;\n    this.query.__updateCause = SearchQuery.UPDATE_CAUSE.TERM_SET;\n    this.querySource.next(this.query);\n    this.aggregate();\n  }\n\n  public setQueryScope(scope: QueryScope) {\n    this.query.scope = scope;\n    this.querySource.next(this.query);\n    this.aggregate();\n  }\n\n  // set aggregation properties to be applied to ONLY aggregate search queries\n  public setAggs(aggs: any, extend = false) {\n    this.aggs = extend ? {...this.aggs, ...aggs} : aggs;\n  }\n\n  /**\n   * Toggles a type filter.\n   * @param type - object type\n   */\n  public toggleQueryType(type: ObjectType) {\n    this.query.toggleType(type);\n    this.query.__updateCause = SearchQuery.UPDATE_CAUSE.TOGGLED_TYPE;\n    this.querySource.next(this.query);\n    this.aggregate(SearchQuery.BASE_PARAMS.TYPE);\n  }\n\n  /**\n   * Sets the queries target types.\n   *\n   * @param types - array of ObjectTypes\n   * @param silent If set to true aggregate won't be called\n   */\n  public setQueryTypes(types: ObjectType[], silent?: boolean) {\n    this.query.types = types;\n    this.aggs = {\n      type: {\n        sub: {\n          contextfoldertype: {}\n        }\n      }\n    };\n    this.query.__updateCause = SearchQuery.UPDATE_CAUSE.TYPES_SET;\n    this.querySource.next(this.query);\n    if (!silent) {\n      this.aggregate();\n    }\n  }\n\n  /**\n   * Sets the queries target context type.\n   *\n   * @param type The context type to be set or null for resetting\n   * @param silent If set to true aggregate won't be called\n   */\n  public setContextType(type: ObjectType, silent?: boolean) {\n\n    if (this.query.contextFolderTypes.length && !type) {\n      // clear context folder\n      this.emitNewContextFolderType(null);\n    } else if (this.query.contextFolderTypes.length && type.name !== this.query.contextFolderTypes[0].name) {\n      // got a type to be set up that differs from the current one\n      this.emitNewContextFolderType(type);\n    } else if (!this.query.contextFolderTypes.length) {\n      // nothing set up so far\n      this.emitNewContextFolderType(type);\n    }\n    // trying to setup the same type as the current on should not emit a new value\n  }\n\n  private emitNewContextFolderType(type, silent?: boolean) {\n    if (!type && this.query.contextFolderTypes.length === 0) {\n      return;\n    }\n    this.aggs = {\n      type: {\n        sub: {\n          contextfoldertype: {}\n        }\n      }\n    };\n    this.query.contextFolderTypes = type ? [type] : [];\n    this.query.__updateCause = SearchQuery.UPDATE_CAUSE.CONTEXT_FOLDER_SET;\n    this.querySource.next(this.query);\n    if (!silent) {\n      this.aggregate();\n    }\n  }\n\n  /**\n   * Toggles a created filter.\n   * @param filter - the filter to be toggled\n   */\n  public toggleQueryFilter(filter: SearchFilter, override?: boolean) {\n    this.query.toggleFilter(filter, override);\n    this.query.__updateCause = SearchQuery.UPDATE_CAUSE.TOGGLED_FILTER;\n    this.querySource.next(this.query);\n    this.aggregate(filter.property);\n  }\n\n  /**\n   * Toggles created filters and aggregates them together.\n   * @param filters - the filters to be toggled\n   */\n  public toggleQueryFilters(filters: SearchFilter[], override?: boolean) {\n    let baseParam = '';\n    filters.forEach(filter => {\n      this.query.toggleFilter(filter, override);\n      this.query.__updateCause = SearchQuery.UPDATE_CAUSE.TOGGLED_FILTER;\n      baseParam += filter.property + ' ';\n    });\n\n    this.querySource.next(this.query);\n    this.aggregate(baseParam.trim());\n  }\n\n  /**\n   * Adds a filter to the query.\n   * @param filter - the filter to be added\n   */\n  public addQueryFilter(filter: SearchFilter) {\n    this.query.addFilter(filter);\n    this.query.__updateCause = SearchQuery.UPDATE_CAUSE.ADDED_FILTER;\n    this.querySource.next(this.query);\n    this.aggregate(filter.property);\n  }\n\n  /**\n   * Removes a filter to the query.\n   * @param filter - the filter to be removed\n   */\n  public removeQueryFilter(filter: SearchFilter) {\n    this.query.removeFilter(filter.property);\n    this.query.__updateCause = SearchQuery.UPDATE_CAUSE.REMOVED_FILTER;\n    this.querySource.next(this.query);\n    this.aggregate(filter.property);\n  }\n\n  /**\n   * Sets the filters for an indexdata search.\n   * Setting them will also remove all indexdata filters set before.\n   *\n   * @param filters - the filters to be set\n   * @param silent If set to true aggregate won't be called\n   */\n  public setIndexSearchQueryFilters(filters: SearchFilter[], silent?: boolean) {\n\n    // remove previous filters (all filters that are not baseparam filters)\n    this.query.filters = this.query.filters.filter((f) => this.isBaseParamFilter(f));\n    for (let f of filters) {\n      this.query.addFilter(f);\n    }\n    if (!silent) {\n      this.aggregate();\n    }\n  }\n\n  public getIndexSearchQueryFilters(query?: SearchQuery): SearchFilter[] {\n    let q = query || this.query;\n    return q.filters.filter((f) => !this.isBaseParamFilter(f));\n  }\n\n  /**\n   * Determines whether or not the provided search filter belongs to a base param.\n   *\n   * @param filter - the filter to be checked\n   */\n  public isBaseParamFilter(filter: SearchFilter): boolean {\n    //return Object.values(SearchQuery.BASE_PARAMS).some((bp) => filter.property === bp);\n    return Object.keys(SearchQuery.BASE_PARAMS).some((bpKey) => filter.property === SearchQuery.BASE_PARAMS[bpKey]);\n  }\n\n  /**\n   * Executes the current query as aggregate search\n   */\n  public aggregate(baseParam = '') {\n\n    const aggQuery = {aggs: this.aggs, ...this.query.getQueryJson()};\n    // compare the call to be made with a former request\n    if (this.lastAggCallComparator !== JSON.stringify(aggQuery)) {\n      this.lastAggCallComparator = JSON.stringify(aggQuery);\n      this.getSearchState(aggQuery)\n        .subscribe((queryState: SearchState) => {\n          queryState.lastChange = baseParam;\n          this.queryState = queryState;\n          this.queryStateSource.next(this.queryState);\n        });\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Reset the query\n   */\n  public reset(silent?: boolean) {\n    this.query = new SearchQuery();\n    this.setDefaultAggs();\n    this.querySource.next(this.query);\n    if (!silent) {\n      this.aggregate();\n    }\n  }\n\n  exitIndexdataSearch() {\n    this.setIndexSearchQueryFilters([], true);\n    this.setQueryTypes([], true);\n    this.setContextType(null, true);\n    this.aggregate();\n  }\n\n  /**\n   * Executes the current query as aggregate search\n   */\n  public getSearchState(queryJson: any) {\n    return this.searchService.getSearchState(queryJson);\n  }\n\n  public autocomplete(term: string) {\n    return this.searchService.autocomplete(term);\n  }\n\n  /**\n   * Finds the object type element inside of the queries target types\n   * for a form elements name. Used e.g. for the search summary panel.\n   *\n   * @param formElementName - the name of the form element\n   * @return the object type element matching the form elements name\n   */\n  public getTargetTypeElementByName(formElementName: string): any {\n    let i = 0;\n    let match;\n    while (!match && i < this.query.types.length) {\n      match = this.query.types[i].elements.find((element) => element.qname === formElementName);\n      i++;\n    }\n    return match;\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {debounceTime} from 'rxjs/operators';\nimport {Observable, ReplaySubject} from 'rxjs';\nimport {EnaioEvent, EventService} from '@eo-sdk/core';\n\nexport interface SelectionConfig {\n  in?: string;\n  out?: string;\n  useSelection?: boolean;\n}\n\n@Injectable()\nexport class SelectionService {\n\n  private children: any = {};\n\n  private selection: any[] = [];\n  private selectionSource = new ReplaySubject<any[]>(1);\n  public selection$: Observable<any[]> = this.selectionSource.asObservable().pipe(debounceTime(200));\n\n  private _focus: any = {};\n  private focusSource = new ReplaySubject<any>(1);\n  public focus$: Observable<any> = this.focusSource.asObservable().pipe(debounceTime(200));\n\n  private _disabled = false;\n\n  constructor(private eventService: EventService) {\n    this.eventService\n      .on(EnaioEvent.LOGOUT)\n      .subscribe(() => {\n        this.clear();\n        Object.keys(this.children).forEach(k => this.children[k].clear());\n      });\n  }\n\n  public focus(focus: any) {\n    if (!this._disabled) {\n      this._focus = focus;\n      this.focusSource.next(this._focus);\n    }\n  }\n\n  public set(selection: any[]) {\n    if (!this._disabled) {\n      this.selection = selection;\n      this.selectionSource.next(this.selection);\n    }\n  }\n\n  public disable(val = true) {\n    this._disabled = val;\n  }\n\n  public get() {\n    return this.selection;\n  }\n\n  public clear() {\n    this.set([]);\n    this.focus({});\n  }\n\n  public getFocus() {\n    return this._focus;\n  }\n\n  public find(id: string): SelectionService {\n    return (this.children[id] || this) as SelectionService;\n  }\n\n  public createNew(id: string): SelectionService {\n    this.children[id] = new SelectionService(this.eventService);\n    return this.find(id);\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {DmsObject, Config} from '@eo-sdk/core';\nimport {Title} from '@angular/platform-browser';\nimport {SelectionService} from '../selection/selection.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PageTitleService {\n\n  baseTitle: string;\n  private DEFAULT_TITLE: string;\n\n  constructor(private titleService: Title, private selection: SelectionService, private config: Config) {\n    this.DEFAULT_TITLE = this.config.getRaw('dashboardTitle') || 'yuuvis RAD client';\n    this.selection.focus$\n      .subscribe((item: DmsObject) => {\n        if (this.baseTitle) {\n          this.titleService.setTitle((item && item.title) ? `${this.baseTitle}: ${item.title}` : this.baseTitle);\n        } else if (item && item.title) {\n          this.titleService.setTitle(item.title);\n        } else {\n          this.setDefaultTitle();\n        }\n      });\n  }\n\n  setBaseTitle(base: string) {\n    this.baseTitle = base;\n    this.titleService.setTitle(this.baseTitle || this.DEFAULT_TITLE);\n  }\n\n  setDefaultTitle() {\n    this.baseTitle = null;\n    this.titleService.setTitle(this.DEFAULT_TITLE);\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {SimpleAccordionComponent} from './simple-accordion/simple-accordion.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n  ],\n  declarations: [SimpleAccordionComponent],\n  exports: [SimpleAccordionComponent]\n})\nexport class AccordionModule {\n}\n","export * from './accordion.module';\nexport * from './simple-accordion/simple-accordion.component';\n\n\n\n","import { Component, EventEmitter, HostBinding, Input, Output } from '@angular/core';\n\n@Component({\n  selector: 'eo-simple-accordion',\n  templateUrl: './simple-accordion.component.html',\n  styleUrls: ['./simple-accordion.component.scss'],\n})\nexport class SimpleAccordionComponent {\n\n  @HostBinding('attr.role') role = 'tablist';\n  _selected: boolean;\n\n  @Input() header: string;\n  @Input() styles: string;\n  @Input() headerClass: string;\n\n  @HostBinding('class.selected')\n  @Input()\n  set selected(val: boolean) {\n    this._selected = val;\n  }\n\n  get selected(): boolean {\n    return this._selected;\n  }\n\n  @Output() selectChange: EventEmitter<boolean> = new EventEmitter();\n  // index: number = null;\n  // lastIndex = -1;\n\n  toggleOpen() {\n    this.selected = !this.selected;\n    this.selectChange.emit(this.selected);\n  }\n\n  // onTabOpen(e) {\n  //   const index = e.index;\n  //   this.selected = true;\n  //   this.onOpen.emit(this.selected);\n  // }\n\n  // onTabClose(e = false) {\n  //   this.index = this.lastIndex--;\n  //   this.selected = false;\n  //   this.onOpen.emit(this.selected);\n  // }\n}\n","<button (click)=\"toggleOpen()\">{{header}}\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\"><path d=\"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z\"></path></svg>\n</button>\n<section *ngIf=\"selected\"><ng-content></ng-content></section>\n","import {Directive, ViewContainerRef} from '@angular/core';\n\n@Directive({\n  selector: '[eoActionComponentAnchor]'\n})\nexport class ActionComponentAnchorDirective {\n\n  constructor(public viewContainerRef: ViewContainerRef) { }\n\n}\n","import {Component, ComponentFactoryResolver, ElementRef, Type, ViewChild, ViewContainerRef, ViewEncapsulation} from '@angular/core';\nimport {NavigationStart, Router} from '@angular/router';\nimport {Utils} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {filter, take, tap} from 'rxjs/operators';\nimport {ActionService, ActionShowCommand} from '../action-service/action.service';\nimport {ActionComponent} from '../interfaces/action-component.interface';\nimport {ActionListEntry} from '../interfaces/action-list-entry';\nimport {ComponentAction, ExternalComponentAction, ExternalProcessComponentAction, ListAction, SimpleAction} from '../interfaces/action.interface';\nimport {ActionComponentAnchorDirective} from './action-component-anchor/action-component-anchor.directive';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-action-menu',\n  templateUrl: './action-menu.component.html',\n  styleUrls: ['./action-menu.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ActionMenuComponent {\n\n  @ViewChild(ActionComponentAnchorDirective) eoActionComponentAnchor: ActionComponentAnchorDirective;\n  @ViewChild(ActionComponentAnchorDirective) externalDialog: ActionComponentAnchorDirective;\n  actionLists: {\n    common: ActionListEntry[],\n    further: ActionListEntry[]\n  } = {\n    common: [], further: []\n  };\n  subActionsListHeader = '';\n  subActionsList: ActionListEntry[];\n  selection: any[];\n  subSelection: any[];\n  target: string;\n  showComponent = false;\n  actionDescription: string;\n  showMenu = false;\n  loading = false;\n  activeActionIndex = 0;\n\n  constructor(private actionService: ActionService,\n              private router: Router,\n              public viewContainerRef: ViewContainerRef,\n              private elemRef: ElementRef,\n              private componentFactoryResolver: ComponentFactoryResolver) {\n\n    // subscribe for visibility observable indicating whether to show or hide the actions\n    this.actionService\n      .actionsShowing$.pipe(\n      untilDestroyed(this))\n      .subscribe((cmd: ActionShowCommand) => {\n        if (!this.showMenu && cmd.show) {\n          this.selection = cmd.selection;\n          this.target = cmd.target;\n          this.showActionMenu();\n        } else if (this.showMenu && !cmd.show) {\n          this.hideActionMenu();\n        }\n      });\n\n    this.router.events\n      .pipe(\n        untilDestroyed(this),\n        filter(evt => evt instanceof NavigationStart),\n      )\n      .subscribe(() => this.hide());\n\n  }\n\n  private getActions() {\n    this.actionService\n      .getActionsList(this.selection, this.viewContainerRef)\n      .subscribe(actionsList => {\n        this.actionLists.common = actionsList.filter(actionListEntry => actionListEntry.action.group === 'common');\n        this.actionLists.further = actionsList.filter(actionListEntry => actionListEntry.action.group === 'further');\n      });\n\n  }\n\n  private getMoreActions() {\n    this.loading = true;\n    this.actionService\n      .getMoreActions(this.selection, this.viewContainerRef)\n      .subscribe(actionList => {\n        this.loading = false;\n        this.actionLists.further = this.actionLists.further.concat(actionList).sort(Utils.sortValues('action.label'));\n      }, Utils.throw(() => this.loading = false));\n  }\n\n  hide() {\n    this.actionService.hideActions();\n  }\n\n  showActionDescription(i, event) {\n    event.stopPropagation();\n    event.preventDefault();\n    this.actionDescription = i === this.actionDescription ? null : i;\n  }\n\n  catchFocus() {    \n    setTimeout(() => {\n      this.elemRef.nativeElement.querySelector('[tabindex=\"0\"]').focus();\n    },);\n  }\n\n  isArrowUpOrDownPressed(event: KeyboardEvent) {\n    const key = event.key;\n    let length = this.actionLists.common.length + this.actionLists.further.length - 1;\n    if (key === 'ArrowUp' || (event.shiftKey && key === 'Tab') ) {\n      this.activeActionIndex = (this.activeActionIndex === 0) ? length : this.activeActionIndex - 1;\n    } else if (key === 'ArrowDown' || key === 'Tab') {\n      this.activeActionIndex = (this.activeActionIndex === length) ? 0 : this.activeActionIndex + 1;\n    } else if (key === 'Enter') {\n      let clickedListEntry;\n      if (this.activeActionIndex < this.actionLists.common.length) {\n        clickedListEntry = this.actionLists.common[this.activeActionIndex];\n      } else {\n        clickedListEntry = this.actionLists.further[this.activeActionIndex - this.actionLists.common.length];\n      }\n      this.onClick(clickedListEntry);\n    }\n  }\n\n  private showActionMenu() {\n    this.activeActionIndex = 0;\n    this.getActions();\n    if (this.target === 'DMS_OBJECT') {\n      this.getMoreActions();\n    }\n    this.showMenu = true;\n    this.catchFocus();\n  }\n\n  private hideActionMenu() {\n    this.clear();\n    this.showMenu = false;\n    this.actionLists = {common: [], further: []};\n  }\n\n  onClick(actionListEntry: ActionListEntry) {\n    this.activeActionIndex = 0;\n    this.subSelection = actionListEntry.availableSelection;\n    // It is possible that actions implement more than one action interface\n    // so we should be aware of running an action and then open its sub actions\n\n    const isSimpleAction = !!actionListEntry.action['run'];\n    const isListAction = actionListEntry.action.hasOwnProperty('subActionComponents');\n    const isComponentAction = actionListEntry.action.hasOwnProperty('component');\n    const isExternalComponentAction = actionListEntry.action.hasOwnProperty('extComponents');\n    const isWorkFlowAction = actionListEntry.action['executableProcess'] && isExternalComponentAction;\n    const isSimpleActionOnly = isSimpleAction && !isListAction && !isComponentAction && !isExternalComponentAction;\n\n    if (isSimpleAction) {\n      const simpleAction = actionListEntry.action as SimpleAction;\n      simpleAction.run(actionListEntry.availableSelection);\n\n      // hide action menu if nothing else is to be shown/done\n      if (isSimpleActionOnly) {\n        this.hideActionMenu();\n      }\n    }\n\n    if (isListAction) {\n      const listAction = actionListEntry.action as ListAction;\n      this.subActionsListHeader = listAction.header;\n      this.actionService\n        .getExecutableActionsListFromGivenActions(listAction.subActionComponents, this.selection, this.viewContainerRef)\n        .subscribe((actionsList: ActionListEntry[]) => this.subActionsList = actionsList);\n    } else if (isComponentAction) {\n      const componentAction = actionListEntry.action as ComponentAction;\n      this.showActionComponent(componentAction.component, this.eoActionComponentAnchor, this.componentFactoryResolver, true);\n    } else if (isExternalComponentAction && !isWorkFlowAction) {\n      const extComponentAction = actionListEntry.action as ExternalComponentAction;\n      this.showActionComponent(extComponentAction.extComponents, this.externalDialog, this.componentFactoryResolver, false);\n    } else if (isWorkFlowAction) {\n      setTimeout(() => {\n        const extComponentAction = actionListEntry.action as ExternalProcessComponentAction;\n        this.showActionComponent(extComponentAction.extComponents, this.externalDialog, this.componentFactoryResolver,\n          false, {executableProcess: extComponentAction.executableProcess});\n      });\n    }\n  }\n\n  private showActionComponent(component: Type<any>, viewContRef, factoryResolver, showComponent, inputs?: any) {\n    this.showComponent = showComponent;\n    let componentFactory = factoryResolver.resolveComponentFactory(component);\n    let anchorViewContainerRef = viewContRef.viewContainerRef;\n    anchorViewContainerRef.clear();\n    let componentRef = anchorViewContainerRef.createComponent(componentFactory);\n    (<ActionComponent>componentRef.instance).selection = this.subSelection || this.selection;\n    (<ActionComponent>componentRef.instance).canceled.pipe(take(1), tap(() => (this.subSelection = null))).subscribe(() => this.onCancel());\n    (<ActionComponent>componentRef.instance).finished.pipe(take(1), tap(() => (this.subSelection = null))).subscribe(() => this.onFinish());\n    if (inputs) {\n      Object.keys(inputs).forEach(function (key) {\n        componentRef.instance[key] = inputs[key];\n      });\n    }\n  }\n\n  isLinkAction(action) {\n    // used from within template\n    return !!(action && action.getLink && action.getParams);\n  }\n\n  private clear() {\n    this.showComponent = false;\n    this.subActionsList = null;\n    this.actionDescription = null;\n    this.viewContainerRef.clear();\n    if (this.eoActionComponentAnchor) {\n      this.eoActionComponentAnchor.viewContainerRef.clear();\n    }\n  }\n\n  onCancel() {\n    this.clear();\n    this.catchFocus();\n  }\n\n  onFinish() {\n    this.hideActionMenu();\n  }\n}\n","<div class=\"action-menu dark\" *ngIf=\"showMenu\" (eoOutsideClick)=\"hide()\">\n\n  <div class=\"head\">\n    <div class=\"left\">\n      <div class=\"title\" translate>eo.actions.sticky.title</div>\n      <div class=\"sub-title\" *ngIf=\"selection?.length > 1; else multi\" translate>eo.actions.sticky.title.sub.selection</div>\n      <ng-template #multi>\n        <div class=\"sub-title\" *ngIf=\"selection && selection.length\"><span translate>eo.actions.sticky.title.sub.for</span> '{{selection[0].title}}'</div>\n      </ng-template>\n    </div>\n    <div class=\"right\">\n      <span class=\"count\">{{subSelection?.length || selection?.length || ''}}</span>\n      <eo-icon class=\"button\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" (click)=\"hide()\"></eo-icon>\n    </div>\n  </div>\n\n  <div class=\"actions\" [hidden]=\"subActionsList || showComponent\">\n\n    <ng-template #action let-entry let-id>\n\n      <a *ngIf=\"isLinkAction(entry.action); else default\" class=\"link\"\n         [routerLink]=\"entry.action.getLink(entry.availableSelection)\"\n         [queryParams]=\"entry.action.getParams(entry.availableSelection, true)\">\n        <ng-container *ngTemplateOutlet=\"default\"></ng-container>\n      </a>\n\n      <ng-template #default>\n        <div>\n          <eo-icon [iconSrc]=\"entry.action.iconSrc\" [iconId]=\"entry.action.iconId\"\n          [badge]=\"entry.availableSelection?.length != selection?.length ? entry.availableSelection?.length : null\"></eo-icon>\n          <div class=\"label\">{{entry.action.label}}</div>\n          <!-- <div class=\"available-count\" *ngIf=\"entry.availableSelection?.length != selection?.length\">{{entry.availableSelection?.length}}</div> -->\n          <eo-icon class=\"info-icon\" [iconSrc]=\"'assets/_default/svg/ic_info.svg'\" (click)=\"showActionDescription(id, $event)\"></eo-icon>\n        </div>\n        <div class=\"description\" [hidden]=\"id !== actionDescription\">{{entry.action.description}}</div>\n      </ng-template>\n    </ng-template>\n\n    <div class=\"group\" *ngIf=\"actionLists?.common.length > 0\">\n      <div class=\"group-title\" translate>eo.actions.group.common</div>\n      <div class=\"action\" id=\"{{actionListEntry.id}}\" (keydown)=\"isArrowUpOrDownPressed($event)\" [attr.tabindex]=\"0\" *ngFor=\"let actionListEntry of actionLists.common; let i = index\"\n        (click)=\"onClick(actionListEntry)\" [ngClass]=\"{active: activeActionIndex === i}\">\n\n        <ng-container *ngTemplateOutlet=\"action; context: {$implicit: actionListEntry, id: +i}\"></ng-container>\n\n      </div>\n    </div>\n\n    <div class=\"group\" *ngIf=\"!loading; else loader\">\n      <div *ngIf=\"actionLists?.further.length > 0\">\n        <div class=\"group-title\" translate>eo.actions.group.further_actions</div>\n        <div class=\"action\" id=\"{{actionListEntry.id}}\" (keydown)=\"isArrowUpOrDownPressed($event)\" *ngFor=\"let actionListEntry of actionLists.further; index as i\"\n          eoPreventDoubleClick [ngClass]=\"{active: activeActionIndex === i + actionLists?.common.length }\"\n          (debounceClick)=\"onClick(actionListEntry)\">\n\n          <ng-container *ngTemplateOutlet=\"action; context: {$implicit: actionListEntry, id: 'f'+i}\"></ng-container>\n\n        </div>\n      </div>\n    </div>\n\n    <div class=\"group\" *ngIf=\"!loading && !actionLists?.further.length && !actionLists?.common.length\" [style.textAlign]=\"'center'\">\n      {{ 'eo.action.not.available' | translate}}\n    </div>\n\n    <ng-template #loader>\n      <div class=\"loading-container\">\n        <eo-loading-spinner [size]=\"'medium'\"></eo-loading-spinner>\n      </div>\n    </ng-template>\n  </div>\n\n  <!-- sub actions -->\n  <div  class=\"group sub\" *ngIf=\"subActionsList && !showComponent\">\n    <div class=\"sub-actions\">\n      <div class=\"group-title\">{{subActionsListHeader}}</div>\n      <div class=\"action sub\" *ngFor=\"let actionListEntry of subActionsList; index as i\" (click)=\"onClick(actionListEntry)\">\n        <ng-container *ngTemplateOutlet=\"action; context: {$implicit: actionListEntry, id: 's'+i}\"></ng-container>\n      </div>\n    </div>\n    <div class=\"group-buttons\">\n      <button (click)=\"onCancel()\" translate>eo.export.cancel</button>\n    </div>\n  </div>\n\n  <div>\n    <ng-template eoActionComponentAnchor></ng-template>\n  </div>\n\n  <div>\n    <ng-template eoExtActionComponentAnchor></ng-template>\n  </div>\n\n</div>\n","import {forkJoin as observableForkJoin, of as observableOf, Observable, ReplaySubject} from 'rxjs';\nimport {switchMap, catchError, map} from 'rxjs/operators';\nimport {\n  ComponentFactoryResolver,\n  Inject,\n  Injectable,\n  InjectionToken,\n  ViewContainerRef\n} from '@angular/core';\nimport {Action} from '../interfaces/action.interface';\nimport {SelectionRange} from '../selection-range.enum';\nimport {Router} from '@angular/router';\nimport {ActionListEntry} from '../interfaces/action-list-entry';\nimport {WorkflowActionComponent} from '../actions/workflow-action/workflow-action.component';\nimport {CustomActionsComponent} from '../actions/custom-actions/custom-actions.component';\nimport {SimpleWorkflowActionComponent} from '../actions/workflow-action/simple-workflow-action.component';\nimport {BpmService, ExecutableProcess, DmsObject, CapabilitiesService, BackendService, CustomAction, Utils} from '@eo-sdk/core';\nimport {WorkflowComponent} from '../actions/workflow-action/workflow/workflow.component';\n\nexport const ACTIONS = new InjectionToken<any[]>('ACTIONS');\nexport const CUSTOM_ACTIONS = new InjectionToken<any[]>('CUSTOM_ACTIONS');\n\n// command broadcasted to listening components\nexport interface ActionShowCommand {\n  show: boolean;\n  target?: string;\n  selection: any[];\n}\n\n@Injectable()\nexport class ActionService {\n\n  private allActionComponents: any[] = [];\n  private workflowActionClass;\n  private customActionClass;\n  private simpleWorkflowActionClass;\n\n  private actionsShowingSource = new ReplaySubject<ActionShowCommand>(1);\n  public actionsShowing$: Observable<ActionShowCommand> = this.actionsShowingSource.asObservable();\n\n  constructor(@Inject(ACTIONS) actions: any[] = [],\n              @Inject(CUSTOM_ACTIONS) custom_actions: any[] = [],\n              private _componentFactoryResolver: ComponentFactoryResolver,\n              private bpmService: BpmService,\n              private backend: BackendService,\n              private router: Router,\n              private capabilitiesService: CapabilitiesService) {\n\n    this.allActionComponents = actions.concat(custom_actions)\n      .filter(entry => entry.target && !entry.isSubAction && !entry.disabled);\n\n    this.workflowActionClass = WorkflowActionComponent;\n    this.customActionClass = CustomActionsComponent;\n    this.simpleWorkflowActionClass = SimpleWorkflowActionComponent;\n  }\n\n  getActionsList(selection: any[], viewContainerRef: ViewContainerRef): Observable<ActionListEntry[]> {\n\n    // todo: find better solution to exclude components for actions that need to be initialized later\n    return this.getExecutableActionsListFromGivenActions(\n      this.allActionComponents.filter(ac => ac !== WorkflowComponent && ac !== SimpleWorkflowActionComponent && ac !== CustomActionsComponent && ac !== WorkflowActionComponent),\n      selection,\n      viewContainerRef\n    );\n  }\n\n  getMoreActions(selection: any[], viewContainerRef?): Observable<ActionListEntry[]> {\n    if (!this.isAllowedType(selection, ['sysemail'])) {\n      return observableOf([]);\n    }\n    return observableForkJoin([\n      this.collectProcessActions(selection, viewContainerRef),\n      this.collectCustomActions(selection, viewContainerRef)\n    ]).pipe(map(res => [...res[0], ...res[1]]));\n  }\n\n  collectProcessActions(selection: any[], viewContainerRef): Observable<ActionListEntry[]> {\n    const enableWorkflow = this.capabilitiesService.hasCapability('bpm');\n\n    if (this.router.url.startsWith('/versions')) {\n      return observableOf([]);\n    }\n\n    return enableWorkflow ? this.bpmService.getExecutableProcessesForDmsObjects(selection)\n      .pipe(\n        map((res: ExecutableProcess[]) => {\n          const all = [];\n          res.forEach((executableProcess: ExecutableProcess) => {\n\n            let actionComponent = this.simpleWorkflowActionClass;\n            if (executableProcess.form) {\n              actionComponent = this.workflowActionClass;\n            }\n            const actionListEntry = this.createExecutableActionListEntry(actionComponent, selection, viewContainerRef);\n            actionListEntry.action['executableProcess'] = executableProcess;\n            all.push(actionListEntry);\n          });\n\n          return all;\n        }),\n        catchError(e => {\n          return observableOf([]);\n        })\n      ) : observableOf([]);\n  }\n\n  collectCustomActions(selection: any[], viewContainerRef): Observable<ActionListEntry[]> {\n\n    const types = selection.map(i => i.typeName);\n    return this.getCustomActions(types).pipe(map(customActions => {\n      return customActions.length ?\n        customActions.map(customAction => {\n          const actionsRef: ViewContainerRef = this.customActionClass;\n          const actionListEntry = this.createExecutableActionListEntry(actionsRef, selection, viewContainerRef);\n          actionListEntry.action['action'] = customAction;\n          return actionListEntry;\n        }) : [];\n    }))\n      .pipe(\n        switchMap(targetActionsList => {\n          const observables = targetActionsList.map((actionListEntry: ActionListEntry) => actionListEntry.action.isExecutable(selection).pipe(\n            map(executable => Array.isArray(executable) ? selection.filter((s, i) => executable[i]) : executable ? selection : []),\n            map(available => {\n              actionListEntry.availableSelection = available;\n              return actionListEntry;\n            })\n          ));\n\n          return  observables.length ? observableForkJoin(observables).pipe(\n            map((actionListEntrys: ActionListEntry[]) => actionListEntrys.filter( a => this.isRangeAllowed(a.action, a.availableSelection.length))),\n            catchError(e => {\n              console.log(e);\n              return observableOf([]);\n            })\n          ) : observableOf([]);\n        }),\n        catchError(e => {\n          return observableOf([]);\n        })\n      );\n  }\n\n  private createExecutableActionListEntry(actionComponent: any, selection: any[], viewContainerRef: ViewContainerRef): ActionListEntry {\n    const componentFactory = this._componentFactoryResolver.resolveComponentFactory(actionComponent);\n    const componentRef = viewContainerRef.createComponent(componentFactory);\n    const entry: ActionListEntry = {\n      id: componentRef.location.nativeElement.localName,\n      action: componentRef.instance as Action,\n      target: actionComponent.target,\n      availableSelection: selection\n    };\n    return entry;\n  }\n\n\n  getExecutableActionsListFromGivenActions(allActionComponents: any[], selection: any[], viewContainerRef: ViewContainerRef): Observable<ActionListEntry[]> {\n    if (selection && selection.length) {\n\n      const allActionsList: ActionListEntry[] = allActionComponents\n        .filter(actionComponent => selection[0] instanceof actionComponent.target)\n        .map((actionComponent: any) => this.createExecutableActionListEntry(actionComponent, [], viewContainerRef));\n\n      const targetActionsList = allActionsList.filter((actionListEntry: any) => selection[0] instanceof actionListEntry.target);\n\n      const observables = targetActionsList.map((actionListEntry: ActionListEntry) => {\n        const obs = selection.map(item => actionListEntry.action.isExecutable(item));\n        return observableForkJoin(obs).pipe(\n          map(executable => Array.isArray(executable) ? selection.filter((s, i) => executable[i]) : executable ? selection : []),\n          map(available => {\n            actionListEntry.availableSelection = available;\n            return actionListEntry;\n          })\n        );\n      });\n\n      return observables.length ? observableForkJoin(observables).pipe(\n        map((actionListEntrys: ActionListEntry[]) => actionListEntrys.filter( a => this.isRangeAllowed(a.action, a.availableSelection.length))\n        .sort(Utils.sortValues('action.priority'))),\n        catchError(e => {\n          console.log(e);\n          return observableOf([]);\n        })\n      ) : observableOf([]);\n    } else {\n      return observableOf([]);\n    }\n  }\n\n  /**\n   * Checks if the action is allowed for single ot multiple selection\n   * @param action\n   * @param itemsCount\n   * @returns\n   */\n  private isRangeAllowed(action, itemsCount) {\n    let isRangeAllowed = true;\n    switch (action.range) {\n      case SelectionRange.SINGLE_SELECT:\n        isRangeAllowed = itemsCount === 1;\n        break;\n      case SelectionRange.MULTI_SELECT:\n        isRangeAllowed = itemsCount >= 1;\n        break;\n      case SelectionRange.MULTI_SELECT_ONLY:\n        isRangeAllowed = itemsCount > 1;\n        break;\n      default:\n        break;\n    }\n    return isRangeAllowed;\n  }\n\n\n  /**\n   * Getter for the Custom Actions\n   *\n   * @param types List of types to fetch custom actions for\n   * @returns List of available custom actions\n   */\n  getCustomActions(types: string[] = []): Observable<CustomAction[]> {\n    return this.backend.get(`/ui/actions?types=${types.join(',')}`)\n      .pipe(\n        map(res => res as CustomAction[])\n      );\n  }\n\n  /**\n   * Show global actions panel\n   */\n  public showActions(selection: any[], target = 'DMS_OBJECT') {\n    this.actionsShowingSource.next({show: true, selection, target});\n  }\n\n  /**\n   * Hide global actions panel\n   */\n  public hideActions() {\n    this.actionsShowingSource.next({show: false, selection: []});\n  }\n\n  isAllowedType(items: DmsObject[], rejectedType = []): boolean {\n    const disabledType = rejectedType;\n    return !!items.find(item => !disabledType.some(type => item.typeName === type));\n  }\n}\n","import {WorkItem, InboxItem, DmsObject, PreparedItem, Process, StoredQuery} from '@eo-sdk/core';\n\nexport const ActionTarget = {\n  DMS_OBJECT: DmsObject,\n  INBOX_ITEM: InboxItem,\n  PROCESS_ITEM: Process,\n  PREPARED_ITEM: PreparedItem,\n  WORK_ITEM: WorkItem,\n  STORED_QUERY: StoredQuery\n};\n\nexport class DmsObjectTarget {\n  static target = ActionTarget.DMS_OBJECT;\n}\n\nexport class InboxItemTarget {\n  static target = ActionTarget.INBOX_ITEM;\n}\n\nexport class ProcessItemTarget {\n  static target = ActionTarget.PROCESS_ITEM;\n}\n\nexport class PreparedItemTarget {\n  static target = ActionTarget.PREPARED_ITEM;\n}\n\nexport class WorkItemTarget {\n  static target = ActionTarget.WORK_ITEM;\n}\n\nexport class StoredQueryTarget {\n  static target = ActionTarget.STORED_QUERY;\n}\n","import {ANALYZE_FOR_ENTRY_COMPONENTS, ModuleWithProviders, NgModule} from '@angular/core';\nimport {PreventDoubleClickDirective} from '../util/directive/prevent-double-click.directive';\nimport {ACTIONS, CUSTOM_ACTIONS, ActionService} from './action-service/action.service';\nimport {ActionMenuComponent} from './action-menu/action-menu.component';\nimport {CommonModule} from '@angular/common';\nimport {UiModule} from '../ui/ui.module';\nimport {ActionComponentAnchorDirective} from './action-menu/action-component-anchor/action-component-anchor.directive';\nimport {CopyActionComponent} from './actions/copy-action/copy-action';\nimport {OpenContextActionComponent} from './actions/open-context-action/open-context-action';\nimport {DownloadActionComponent} from './actions/download-action/download-action';\nimport {OpenDocumentComponent} from './actions/open-document-action/open-document-action.component';\nimport {OpenDocumentActionComponent} from './actions/open-document-action/open-document-action';\nimport {ObjectFormModule} from '../object-form/object-form.module';\nimport {EmailActionComponent} from './actions/email/email-action';\nimport {ClipboardActionComponent} from './actions/clipboard/clipboard-action';\nimport {FavoriteActionComponent} from './actions/favorite-action/favorite-action';\nimport {DeleteActionComponent} from './actions/delete-action/delete-action';\nimport {DeleteComponent} from './actions/delete-action/delete/delete.component';\nimport {OpenVersionsActionComponent} from './actions/open-versions-action/open-versions-action';\nimport {RestoreVersionActionComponent} from './actions/restore-version-action/restore-version-action';\nimport {DeletePreparedActionComponent} from './actions/delete-action/delete-prepared-action';\nimport {RouterModule} from '@angular/router';\nimport {AddSubscriptionComponent} from './actions/add-subscription-action/add-subscription/add-subscription.component';\nimport {AddSubscriptionActionComponent} from './actions/add-subscription-action/add-subscription-action';\nimport {FormElementsModule} from '../form-elements/form-elements.module';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {RemoveSubscriptionActionComponent} from './actions/remove-subscription-action/remove-subscription-action';\nimport {WorkflowActionComponent} from './actions/workflow-action/workflow-action.component';\nimport {WorkflowComponent} from './actions/workflow-action/workflow/workflow.component';\nimport {CustomActionsComponent} from './actions/custom-actions/custom-actions.component';\nimport {CtaModule} from '../cta/cta.module';\nimport {AddResubmissionActionComponent} from './actions/add-resubmission-action/add-resubmission-action';\nimport {AddResubmissionComponent} from './actions/add-resubmission-action/add-resubmission/add-resubmission.component';\nimport {UpdateResubmissionActionComponent} from './actions/update-resubmission-action/update-resubmission-action';\nimport {ShareObjectActionComponent} from './actions/share-object-action/share-object-action';\nimport {ShareObjectComponent} from './actions/share-object-action/share-object/share-object.component';\nimport {CutActionComponent} from './actions/cut-action/cut-action';\nimport {FinalizeActionComponent} from './actions/finalize/finalize-action';\nimport {DefinalizeActionComponent} from './actions/finalize/definalize-action';\nimport {DeleteContentActionComponent} from './actions/delete-content-action/delete-content-action';\nimport {UnlockActionComponent} from './actions/unlock-action/unlock-action';\nimport {SimpleWorkflowActionComponent} from './actions/workflow-action/simple-workflow-action.component';\nimport {ProcessFormModule} from '../process-form/process-form.module';\nimport { FinalizeObjectActionComponent } from './actions/finalize/finalize-object-action/finalize-object-action.component';\nimport {DeleteContentComponent} from './actions/delete-content-action/delete-content/delete-content.component';\nimport {SignatureActionComponent} from './actions/signature-action/signature-action.component';\nimport {SignatureComponent} from './actions/signature-action/signature/signature.component';\nimport {CancelSigningActionComponent} from './actions/cancel-signing-action/cancel-signing-action';\nimport {CancelSigningComponent} from './actions/cancel-signing-action/cancel-signing/cancel-signing.component';\nimport {YvcDatepickerModule} from '@yuuvis/components/datepicker';\nimport {YvcAutofocusChild} from '@yuuvis/components/common';\nimport { DownloadObjectActionComponent } from './actions/download-action/download-object-action/download-object-action.component';\nimport { ClipboardObjectActionComponent } from './actions/clipboard/clipboard-object-action/clipboard-object-action.component';\nimport { EmailComponent } from './actions/email/email/email.component';\n\nexport const entryComponents = [\n  CopyActionComponent,\n  OpenContextActionComponent,\n  DownloadActionComponent,\n  OpenDocumentActionComponent,\n  OpenDocumentComponent,\n  EmailActionComponent,\n  ClipboardActionComponent,\n  DeleteActionComponent,\n  DeleteComponent,\n  OpenVersionsActionComponent,\n  RestoreVersionActionComponent,\n  DeletePreparedActionComponent,\n  AddSubscriptionActionComponent,\n  AddSubscriptionComponent,\n  RemoveSubscriptionActionComponent,\n  WorkflowActionComponent,\n  WorkflowComponent,\n  CustomActionsComponent,\n  AddResubmissionActionComponent,\n  AddResubmissionComponent,\n  UpdateResubmissionActionComponent,\n  ShareObjectActionComponent,\n  ShareObjectComponent,\n  CutActionComponent,\n  FinalizeActionComponent,\n  FinalizeObjectActionComponent,\n  DefinalizeActionComponent,\n  DeleteContentComponent,\n  DeleteContentActionComponent,\n  UnlockActionComponent,\n  SimpleWorkflowActionComponent,\n  SignatureActionComponent,\n  SignatureComponent,\n  CancelSigningActionComponent,\n  CancelSigningComponent, \n  DownloadObjectActionComponent,\n  ClipboardObjectActionComponent,\n  EmailComponent\n];\n\n/**\n * @module\n * @description\n * Module for the action menu\n */\n@NgModule({\n  imports: [\n    YvcAutofocusChild,\n    CommonModule,\n    UiModule,\n    RouterModule,\n    ObjectFormModule,\n    FormsModule,\n    ReactiveFormsModule,\n    FormElementsModule,\n    ObjectFormModule,\n    ProcessFormModule,\n    CtaModule,\n    YvcDatepickerModule\n  ],\n  exports: [ActionMenuComponent, OpenDocumentComponent],\n  providers: [ActionService, {\n    provide: ACTIONS,\n    useValue: entryComponents\n  }, {\n    provide: CUSTOM_ACTIONS,\n    useValue: []\n  }],\n  declarations: [\n    ActionMenuComponent,\n    ActionComponentAnchorDirective,\n    CopyActionComponent,\n    OpenContextActionComponent,\n    DownloadActionComponent,\n    OpenDocumentActionComponent,\n    OpenDocumentComponent,\n    EmailActionComponent,\n    ClipboardActionComponent,\n    FavoriteActionComponent,\n    DeleteActionComponent,\n    DeleteComponent,\n    OpenVersionsActionComponent,\n    RestoreVersionActionComponent,\n    DeletePreparedActionComponent,\n    AddSubscriptionActionComponent,\n    AddSubscriptionComponent,\n    AddResubmissionActionComponent,\n    AddResubmissionComponent,\n    RemoveSubscriptionActionComponent,\n    WorkflowActionComponent,\n    WorkflowComponent,\n    CustomActionsComponent,\n    UpdateResubmissionActionComponent,\n    ShareObjectActionComponent,\n    ShareObjectComponent,\n    CutActionComponent,\n    FinalizeActionComponent,\n    FinalizeObjectActionComponent,\n    DefinalizeActionComponent,\n    DeleteContentComponent,\n    DeleteContentActionComponent,\n    UnlockActionComponent,\n    SimpleWorkflowActionComponent,\n    PreventDoubleClickDirective,\n    SignatureActionComponent,\n    SignatureComponent,\n    CancelSigningActionComponent,\n    CancelSigningComponent,\n    DownloadObjectActionComponent,\n    ClipboardObjectActionComponent,\n    EmailComponent\n  ],\n  entryComponents\n})\nexport class ActionModule {\n  static forRoot(components: any[] = []): ModuleWithProviders<ActionModule> {\n    return {\n      ngModule: ActionModule,\n      providers: [{\n        provide: ANALYZE_FOR_ENTRY_COMPONENTS,\n        useValue: components,\n        multi: true,\n      }, {\n        provide: ACTIONS,\n        useValue: entryComponents\n      }, {\n        provide: CUSTOM_ACTIONS,\n        useValue: components\n      }]\n    };\n  }\n}\n","\nimport {of as observableOf, Observable} from 'rxjs';\nimport {Router} from '@angular/router';\nimport {Component} from '@angular/core';\nimport {TranslateService} from '@eo-sdk/core';\nimport {DmsObjectTarget} from '../../action-target';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {ComponentAction} from '../../interfaces/action.interface';\nimport {AddResubmissionComponent} from './add-resubmission/add-resubmission.component';\nimport {ActionService} from '../../action-service/action.service';\nimport {DmsObject, UserService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-add-resubmission-action',\n  template: ``\n})\nexport class AddResubmissionActionComponent extends DmsObjectTarget implements ComponentAction {\n  component = AddResubmissionComponent;\n  label: string;\n  description: string;\n  priority = 5;\n  iconSrc = 'assets/_default/svg/ic_resubmission.svg';\n  group = 'common';\n  range = SelectionRange.MULTI_SELECT;\n\n  constructor(private translate: TranslateService,\n              private userService: UserService,\n              private router: Router,\n              private actionService: ActionService) {\n    super();\n\n    this.label = this.translate.instant('eo.action.create.resubmission.label');\n    this.description = this.translate.instant('eo.action.create.resubmission.description');\n  }\n\n  isExecutable(element: DmsObject): Observable<boolean> {\n    const hasPrivilege = this.userService.getCurrentUser().hasPrivilege('MANAGE_RESUBMISSIONS');\n    const isAllowedType = this.actionService.isAllowedType([element], ['sysemail']);\n    if (hasPrivilege && this.isAllowedState() && isAllowedType && !element.isFinalized) {\n      return observableOf(!element.resubmissions.length);\n    } else {\n      return observableOf(false);\n    }\n  };\n\n  isAllowedState(): boolean {\n    const disabledStates = ['/versions', '/notifications'];\n    return !disabledStates.some(s => this.router.url.startsWith(s));\n  }\n}\n","import {forkJoin, of} from 'rxjs';\nimport {Component, OnInit, EventEmitter, ViewChild, ElementRef, AfterViewInit} from '@angular/core';\nimport {ActionComponent} from '../../../interfaces/action-component.interface';\nimport {Input, Output} from '@angular/core';\nimport {UntypedFormGroup, Validators, UntypedFormBuilder} from '@angular/forms';\nimport {TranslateService, DmsObject, UserService, DmsService} from '@eo-sdk/core';\nimport {catchError} from 'rxjs/operators';\n\n@Component({\n  selector: 'eo-add-resubmission',\n  templateUrl: './add-resubmission.component.html',\n  styleUrls: ['./add-resubmission.component.scss']\n})\nexport class AddResubmissionComponent implements OnInit, AfterViewInit, ActionComponent {\n\n  @Input() selection: DmsObject[];\n  @ViewChild('titleField', {static: true}) titleField: ElementRef<any>;\n\n  get hasEmail() {\n    return this.userService.getCurrentUser().email && this.userService.getCurrentUser().email.length;\n  }\n\n  @Output() finished: EventEmitter<any> = new EventEmitter<any>();\n  @Output() canceled: EventEmitter<any> = new EventEmitter<any>();\n\n  header: string;\n  addResubmissionForm: UntypedFormGroup;\n  dueFieldLabel: string;\n  titleFieldLabel: string;\n  inboxCbLabel: string;\n  emailCbLabel: string;\n  processing: boolean;\n\n  constructor(private translate: TranslateService,\n    private dms: DmsService,\n    private userService: UserService,\n    private fb: UntypedFormBuilder) {\n  }\n\n  createResubmissionForm() {\n    this.addResubmissionForm = this.fb.group({\n      titleFieldFCN: [this.createTitle(this.selection[0])],\n      dueFieldFCN: [],\n      inboxCbFCN: [true],\n      emailCbFCN: [false],\n    }, {\n      validator: Validators.compose([\n        this.notificationMethodValidator('inboxCbFCN', 'emailCbFCN'),\n        this.dueDateValidator('dueFieldFCN')\n      ])\n    });\n\n    if (this.selection.length === 1) {\n      this.addResubmissionForm.controls['titleFieldFCN'].setValidators(Validators.required);\n    }\n\n    this.setFormValues(this.addResubmissionForm.controls, this.selection[0]);\n  }\n\n  setFormValues(controls, selection: DmsObject) {\n    if (selection.resubmissions.length) {\n      // if resubmissions array isn't empty, it's an update\n      const {info, due, onlyemail, email} = selection.resubmissions[0];\n      this.header = this.translate.instant('eo.object.inlinemenu.editresubmission');\n      this.patchForm(info, new Date(`${due}`), !onlyemail, email);\n    } else {\n      this.header = this.translate.instant('eo.object.inlinemenu.addresubmission');\n    }\n  }\n\n  patchForm(titleFieldFCN, dueFieldFCN, inboxCbFCN, emailCbFCN = false) {\n    this.addResubmissionForm.setValue({titleFieldFCN, dueFieldFCN, inboxCbFCN, emailCbFCN});\n  }\n\n  get titleValidity() {\n    return this.addResubmissionForm.get('titleFieldFCN').invalid;\n  }\n\n  private dueDateValidator(dueDate) {\n    const now = new Date();\n    return (group: UntypedFormGroup) => {\n      if (group.controls[dueDate].value > now) {\n        return null;\n      }\n      return {'dueDate': true}\n    }\n  }\n\n  get dateValidation(): boolean {\n    const {errors, controls} = this.addResubmissionForm;\n    let dateValidationError = false;\n    if (errors) {\n      dateValidationError = (controls.dueFieldFCN.touched || controls.dueFieldFCN.dirty) && errors.dueDate;\n    }\n    return dateValidationError;\n  }\n\n  private notificationMethodValidator(inboxCbFCN, emailCbFCN) {\n    return (group: UntypedFormGroup) => {\n      if (group.controls[inboxCbFCN].value || group.controls[emailCbFCN].value) {\n        return null;\n      }\n      return {'notificationMethod': true}\n    }\n  }\n\n  get notificationMethodValidation(): boolean {\n    const {errors} = this.addResubmissionForm;\n    let notificationMethodValidationError = false;\n    if (errors) {\n      notificationMethodValidationError = errors.notificationMethod;\n    }\n    return notificationMethodValidationError;\n  }\n\n  createResubmission() {\n    const {titleFieldFCN, dueFieldFCN, inboxCbFCN, emailCbFCN: sendEmail} = this.addResubmissionForm.value;\n    const onlyEmail = this.hasEmail ? sendEmail && !inboxCbFCN : false;\n\n    this.processing = true;\n    const createTasks = [];\n    this.selection.forEach(item => {\n      const title = this.selection.length === 1 ? titleFieldFCN : this.createTitle(item);\n      createTasks.push(this.dms.createResubmission(item, title, dueFieldFCN, undefined, sendEmail, onlyEmail)\n        .pipe(\n          // even in case oif an error return something because otherwise the whole forkJoin will fail\n          // todo: maybe add some error notification that something went wrong\n          catchError(e => of(null)\n          )\n        ));\n    });\n    if (createTasks.length) {\n      forkJoin(createTasks).subscribe(() => {\n        this.processing = false;\n        this.finished.emit();\n      }\n      )\n    } else {\n      this.processing = false;\n      this.finished.emit();\n    }\n  }\n\n  updateResubmission() {\n    const {titleFieldFCN, dueFieldFCN, inboxCbFCN, emailCbFCN: sendEmail} = this.addResubmissionForm.value;\n    const onlyEmail = this.hasEmail ? sendEmail && !inboxCbFCN : false;\n\n    this.processing = true;\n    const updateTasks = [];\n    this.selection.forEach(item => {\n      const title = this.selection.length === 1 ? titleFieldFCN : this.createTitle(item);\n      updateTasks.push(this.dms.updateResubmission(item, title, dueFieldFCN, undefined, sendEmail, onlyEmail).pipe(\n        // even in case oif an error return something because otherwise the whole forkJoin will fail\n        // todo: maybe add some error notification that something went wrong\n        catchError(e => of(null))\n      ));\n    });\n    if (updateTasks.length) {\n      forkJoin(updateTasks).subscribe(() => {\n        this.processing = false;\n        this.finished.emit();\n      }\n      )\n    } else {\n      this.processing = false;\n      this.finished.emit();\n    }\n  }\n\n  removeResubmission() {\n    this.processing = true;\n    const removeTasks = [];\n    this.selection.forEach(item => {\n      removeTasks.push(this.dms.removeResubmissionsById(item.id, item)\n        // even in case oif an error return something because otherwise the whole forkJoin will fail\n        // todo: maybe add some error notification that something went wrong\n        .pipe(catchError(e => of(null))));\n    });\n    if (removeTasks.length) {\n      forkJoin(removeTasks).subscribe(() => {\n        this.processing = false;\n        this.finished.emit();\n      }\n      )\n    } else {\n      this.processing = false;\n      this.finished.emit();\n    }\n  }\n\n  private createTitle(item: DmsObject) {\n    return item.isContextFolder && item.contextFolder ? `${item.contextFolder.title} > ${item.title}` : item.title;\n  }\n\n  cancel() {\n    this.canceled.emit();\n  }\n\n  ngOnInit(): void {\n    this.dueFieldLabel = this.translate.instant('eo.resubmission.field.due');\n    this.titleFieldLabel = this.translate.instant('eo.resubmission.field.info');\n    this.inboxCbLabel = this.translate.instant('eo.resubmission.field.notification.inbox');\n    this.emailCbLabel = this.translate.instant('eo.resubmission.field.notification.email');\n\n    this.createResubmissionForm();\n  }\n\n  ngAfterViewInit() {\n    this.titleField.nativeElement.getElementsByTagName('input')[0].select();\n  }\n\n}\n","<div class=\"eo-resubmission\" eoTrapFocus>\n  <h2>{{header}}</h2>\n  <form #titleField [formGroup]=\"addResubmissionForm\">\n    <eo-form-input [skipToggle]=\"true\" [label]=\"dueFieldLabel\">\n      <eo-date [withTime]=\"true\" formControlName=\"dueFieldFCN\"></eo-date>\n    </eo-form-input>\n    <eo-form-input [skipToggle]=\"true\" [label]=\"titleFieldLabel\" [required]=\"true\" [invalid]=\"titleValidity\"\n      *ngIf=\"selection.length === 1\">\n      <eo-string formControlName=\"titleFieldFCN\"></eo-string>\n    </eo-form-input>\n    <div class=\"err-msg\" *ngIf=\"titleValidity\">\n      <div translate>eo.form.property.required</div>\n    </div>\n    <eo-form-input [skipToggle]=\"true\" [label]=\"inboxCbLabel\">\n      <eo-checkbox formControlName=\"inboxCbFCN\" [tristate]=\"false\"></eo-checkbox>\n    </eo-form-input>\n    <eo-form-input [skipToggle]=\"true\" [label]=\"emailCbLabel\">\n      <eo-checkbox formControlName=\"emailCbFCN\" [tristate]=\"false\" [readonly]=\"!hasEmail\"></eo-checkbox>\n    </eo-form-input>\n  </form>\n\n  <!-- error/validation messages -->\n  <div class=\"errors\">\n    <div class=\"err-msg\" *ngIf=\"notificationMethodValidation\" translate>eo.resubmission.error.msg</div>\n    <div class=\"err-msg\" *ngIf=\"dateValidation\" translate>eo.resubmission.error.msg.date</div>\n  </div>\n\n  <div class=\"form-buttons\" *ngIf=\"!processing; else indicator\">\n    <button class=\"secondary\" (click)=\"cancel()\" translate>eo.resubmission.cancel</button>\n    <button class=\"secondary\" *ngIf=\"selection[0].resubmissions.length\" (click)=\"removeResubmission()\"\n      translate>eo.resubmission.delete</button>\n    <button class=\"primary\" [disabled]=\"addResubmissionForm.errors || titleValidity\"\n      *ngIf=\"selection[0].resubmissions.length\" (click)=\"updateResubmission()\" translate>eo.resubmission.apply</button>\n    <button class=\"primary\" [disabled]=\"addResubmissionForm.errors || titleValidity\"\n      *ngIf=\"!selection[0].resubmissions.length\" (click)=\"createResubmission()\" translate>eo.resubmission.add</button>\n  </div>\n\n  <ng-template #indicator>\n    <div class=\"process-indicator\"><eo-icon [iconSrc]=\"'ic_kitt-loader.svg'\"></eo-icon></div>\n  </ng-template>\n</div>","\nimport {of as observableOf, Observable} from 'rxjs';\nimport {Router} from '@angular/router';\nimport {Component} from '@angular/core';\nimport {TranslateService} from '@eo-sdk/core';\nimport {DmsObjectTarget} from '../../action-target';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {ComponentAction} from '../../interfaces/action.interface';\nimport {AddSubscriptionComponent} from './add-subscription/add-subscription.component';\nimport {ActionService} from '../../action-service/action.service';\nimport {DmsObject, UserService} from '@eo-sdk/core';\n\n\n@Component({\n  selector: 'eo-add-subscription-action',\n  template: ``\n})\nexport class AddSubscriptionActionComponent extends DmsObjectTarget implements ComponentAction {\n  component = AddSubscriptionComponent;\n  label: string;\n  description: string;\n  priority = 4;\n  iconSrc = 'assets/_default/svg/ic_subscription.svg';\n  group = 'common';\n  range = SelectionRange.MULTI_SELECT;\n\n  constructor(private translate: TranslateService,\n              private userService: UserService,\n              private router: Router,\n              private actionService: ActionService) {\n    super();\n    this.label = this.translate.instant('eo.action.create.subscription.label');\n    this.description = this.translate.instant('eo.action.create.subscription.description');\n  }\n\n  isExecutable(element: DmsObject): Observable<boolean> {\n    const hasPrivilege = this.userService.getCurrentUser().hasPrivilege('MANAGE_SUBSCRIPTIONS');\n    const isAllowedType = this.actionService.isAllowedType([element], ['sysemail']);\n    if (hasPrivilege && this.isAllowedState() && isAllowedType && !element.isFinalized) {\n      return observableOf(!element.subscriptions.length);\n    } else {\n      return observableOf(false);\n    }\n  };\n\n  isAllowedState(): boolean {\n    const disabledStates = ['/versions', '/notifications'];\n    return !disabledStates.some(s => this.router.url.startsWith(s));\n  }\n}\n","import {forkJoin, of} from 'rxjs';\nimport {Component, OnInit, EventEmitter, ElementRef, ViewChild} from '@angular/core';\nimport {ActionComponent} from '../../../interfaces/action-component.interface';\nimport {Input, Output} from '@angular/core';\nimport {UntypedFormControl, UntypedFormGroup, Validators, UntypedFormBuilder} from '@angular/forms';\nimport {TranslateService, DmsService, UserService, DmsObject, SubscriptionMode} from '@eo-sdk/core';\nimport {catchError} from 'rxjs/operators';\n\n@Component({\n  selector: 'eo-add-subscription',\n  templateUrl: './add-subscription.component.html',\n  styleUrls: ['./add-subscription.component.scss']\n})\nexport class AddSubscriptionComponent implements OnInit, ActionComponent {\n\n  subscriptionModeCodesystem;\n\n  @Input() selection: DmsObject[];\n\n  get hasEmail() {\n    return this.userService.getCurrentUser().email && this.userService.getCurrentUser().email.length;\n  }\n\n  @Output() finished: EventEmitter<any> = new EventEmitter<any>();\n  @Output() canceled: EventEmitter<any> = new EventEmitter<any>();\n  @ViewChild('titleField', {static: true}) titleField : ElementRef<any>;\n\n  header: string;\n  addSubscriptionForm: UntypedFormGroup;\n  titleFieldLabel: string;\n  inboxCbLabel: string;\n  emailCbLabel: string;\n  processing: boolean;\n\n  constructor(private translate: TranslateService,\n              private dms: DmsService,\n              private userService: UserService,\n              private fb: UntypedFormBuilder) {\n  }\n\n  ngOnInit() {\n    this.header = this.translate.instant('eo.object.inlinemenu.addsubscription');\n    this.titleFieldLabel = this.translate.instant('eo.subscription.field.info');\n    this.inboxCbLabel = this.translate.instant('eo.subscription.field.notification.inbox');\n    this.emailCbLabel = this.translate.instant('eo.subscription.field.notification.email');\n\n    const includesFolders = this.selection.find(item => item.isFolder);\n    const includesDocuments = this.selection.find(item => !item.isFolder);\n\n    this.addSubscriptionForm = this.fb.group({\n      titleFieldFCN: [''],\n      inboxCbFCN: [true],\n      emailCbFCN: [false],\n      modeFieldFCN: [includesFolders ? SubscriptionMode.ONLY_INDEX_DATA_CHANGED : SubscriptionMode.DMS_OBJECT_CHANGED]\n    }, {validator: this.validator});\n\n    if (this.selection.length === 1) {\n      const titleFieldControl = this.addSubscriptionForm.controls['titleFieldFCN'];\n      titleFieldControl.setValidators(Validators.required);\n      titleFieldControl.setValue(this.createTitle(this.selection[0]));\n    }\n\n    if(includesFolders && includesDocuments){\n      this.subscriptionModeCodesystem = {\n        entries: [\n          {id: 0, defaultrepresentation: this.translate.instant('eo.subscription.field.mode.entries.meta.label'), data: SubscriptionMode.ONLY_INDEX_DATA_CHANGED},\n          {id: 2, defaultrepresentation: this.translate.instant('eo.subscription.field.mode.entries.both.label'), data: SubscriptionMode.DMS_OBJECT_CHANGED}\n        ]\n      }\n    } else if(includesFolders && !includesDocuments) {\n      this.subscriptionModeCodesystem = {\n        entries: [\n          {id: 0, defaultrepresentation: this.translate.instant('eo.subscription.field.mode.entries.meta.label'), data: SubscriptionMode.ONLY_INDEX_DATA_CHANGED}\n        ]\n      }\n    } else {\n      this.subscriptionModeCodesystem = {\n        entries: [\n          {id: 0, defaultrepresentation: this.translate.instant('eo.subscription.field.mode.entries.meta.label'), data: SubscriptionMode.ONLY_INDEX_DATA_CHANGED},\n          {id: 1, defaultrepresentation: this.translate.instant('eo.subscription.field.mode.entries.content.label'), data: SubscriptionMode.ONLY_DOCUMENT_CONTENT_CHANGED},\n          {id: 2, defaultrepresentation: this.translate.instant('eo.subscription.field.mode.entries.both.label'), data: SubscriptionMode.DMS_OBJECT_CHANGED}\n        ]\n      }\n    }\n    setTimeout(() => {\n      this.titleField.nativeElement.getElementsByTagName('input')[0].select();\n    },);\n  }\n\n\n  get titleValidity() {\n    return this.addSubscriptionForm.get('titleFieldFCN').invalid;\n  }\n\n  private validator(control: UntypedFormControl) {\n    if (control.value.inboxCbFCN || control.value.emailCbFCN) {\n      return null;\n    } else {\n      return {\n        addSubscriptionForm: {\n          valid: false\n        }\n      };\n    }\n  }\n\n  createSubscription() {\n    const {titleFieldFCN, inboxCbFCN, emailCbFCN: sendEmail, modeFieldFCN} = this.addSubscriptionForm.value;\n    const onlyEmail = this.hasEmail ? sendEmail && !inboxCbFCN : false;\n\n    this.processing = true;\n    const createTasks = [];\n    this.selection.forEach(item => {\n      const title = this.selection.length === 1 ? titleFieldFCN : this.createTitle(item);\n      createTasks.push(this.dms.createSubscription(item, title, undefined, sendEmail, onlyEmail, modeFieldFCN)\n        .pipe(catchError(e => of(null))));\n    });\n\n    if (createTasks.length) {\n      forkJoin(createTasks).subscribe(() => {\n          this.processing = false;\n          this.finished.emit();\n        }\n      )\n    } else {\n      this.processing = false;\n      this.finished.emit();\n    }\n  }\n\n  private createTitle(item) {\n    return item.isContextFolder && item.contextFolder ? item.contextFolder.title + ' > ' + item.title : item.title;\n  }\n\n  cancel() {\n    this.canceled.emit();\n  }\n\n}","<div class=\"eo-subscription\" eoTrapFocus>\n  <h2>{{header}}</h2>\n  <form #titleField [formGroup]=\"addSubscriptionForm\">\n    <eo-form-input [skipToggle]=\"true\" [label]=\"titleFieldLabel\" [required]=\"true\" [invalid]=\"titleValidity\" *ngIf=\"selection.length === 1\">\n      <eo-string formControlName=\"titleFieldFCN\"></eo-string>\n    </eo-form-input>\n    <div class=\"err-msg\" *ngIf=\"titleValidity\">\n      <div translate>eo.form.property.required</div>\n    </div>\n    <eo-form-input [skipToggle]=\"true\" [label]=\"inboxCbLabel\">\n      <eo-checkbox formControlName=\"inboxCbFCN\"></eo-checkbox>\n    </eo-form-input>\n    <eo-form-input [skipToggle]=\"true\" [label]=\"emailCbLabel\">\n      <eo-checkbox formControlName=\"emailCbFCN\" [readonly]=\"!hasEmail\"></eo-checkbox>\n    </eo-form-input>\n    <eo-form-input *ngIf=\"!selection[0].isFolder\" [skipToggle]=\"true\" [label]=\"'eo.subscription.field.mode.label' | translate\">\n      <eo-codesystem formControlName=\"modeFieldFCN\" [codesystem]=\"subscriptionModeCodesystem\" [pickerTitle]=\"'eo.subscription.field.mode.label' | translate\"></eo-codesystem>\n    </eo-form-input>\n  </form>\n\n  <!-- error/validation messages -->\n  <div class=\"errors\">\n    <div class=\"err-msg\" *ngIf=\"addSubscriptionForm.errors?.addSubscriptionForm\" translate>eo.subscription.error.msg</div>\n  </div>\n\n  <div class=\"form-buttons\" *ngIf=\"!processing; else indicator\">\n    <button class=\"secondary\" (click)=\"cancel()\"translate>eo.subscription.cancel</button>\n    <button class=\"primary\" [disabled]=\"addSubscriptionForm.errors || titleValidity\" (click)=\"createSubscription()\"translate>eo.subscription.add</button>\n  </div>\n\n  <ng-template #indicator>\n    <div class=\"process-indicator\"><eo-icon [iconSrc]=\"'assets/_default/svg/ic_kitt-loader.svg'\"></eo-icon></div>\n  </ng-template>\n</div>\n\n","import {Observable, of as observableOf} from 'rxjs';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService, DmsObject, SigningService} from '@eo-sdk/core';\nimport {ComponentAction} from '../../interfaces/action.interface';\nimport {CancelSigningComponent} from './cancel-signing/cancel-signing.component';\n\n@Component({\n  selector: 'eo-cancel-signing',\n  template: ``\n})\nexport class CancelSigningActionComponent extends DmsObjectTarget implements ComponentAction {\n  header: string;\n  label: string;\n  description: string;\n  priority = 2;\n  iconSrc = 'assets/_default/svg/ic_signature.svg';\n  group = 'common';\n  range = SelectionRange.SINGLE_SELECT;\n  component = CancelSigningComponent;\n\n  constructor(private translate: TranslateService, private signingService: SigningService) {\n    super();\n    this.label = this.translate.instant('eo.action.cancel.signing.label');\n    this.description = this.translate.instant('eo.action.cancel.signing.description');\n  }\n\n  isExecutable(element: DmsObject): Observable<boolean> {\n    return observableOf(this.signingService.signingInProcess(element)\n      && this.hasEditRights(element)\n      && !this.isFinalized(element));\n  }\n\n  hasEditRights(item: DmsObject): boolean {\n    return item.rights.edit;\n  }\n\n  isFinalized(item: DmsObject): boolean {\n    return item.isFinalized;\n  }\n}\n","import {Component, ElementRef, EventEmitter, Input, Output} from '@angular/core';\nimport {ActionComponent} from '../../../interfaces/action-component.interface';\nimport {DmsObject, CapabilitiesService, TranslateService, SigningService, EventService, DmsService, EnaioEvent} from '@eo-sdk/core';\nimport {Router} from '@angular/router';\nimport {BackendService, NotificationsService} from '@eo-sdk/core';\nimport {FormControl, FormGroup, Validators} from '@angular/forms';\nimport {switchMap} from 'rxjs/operators';\n\n@Component({\n  selector: 'eo-cancel-signing',\n  templateUrl: './cancel-signing.component.html',\n  styleUrls: ['./cancel-signing.component.scss']\n})\nexport class CancelSigningComponent implements ActionComponent {\n\n  cancelling = false;\n  commentLabel: string;\n  cancelSigningForm: FormGroup;\n  commentField: FormControl;\n\n  @Input() selection: DmsObject[];\n  @Output() finished: EventEmitter<any> = new EventEmitter<any>();\n  @Output() canceled: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(private translate: TranslateService,\n              private backend: BackendService,\n              private toast: NotificationsService,\n              private router: Router,\n              private capabilitiesService: CapabilitiesService,\n              private signingService: SigningService,\n              private elemRef: ElementRef,\n              private eventService: EventService,\n              private dmsService: DmsService) {\n    this.commentLabel = this.translate.instant('eo.action.cancel.signing.reason');\n    this.cancelSigningForm = new FormGroup({});\n    this.commentField = new FormControl();\n    this.cancelSigningForm.addControl('commentField', this.commentField);\n    this.commentField.setValidators(Validators.required);\n  }\n\n  get commentValidity() {\n    return this.cancelSigningForm.get('commentField').invalid;\n  }\n\n  cancelSigning(id: string, comment: string) {\n    this.cancelling = true;\n    this.signingService\n      .cancelSigning(id, comment)\n      .pipe(\n        switchMap(() => this.dmsService.getDmsObject(this.selection[0].id))\n      )\n      .subscribe((dmsObject) => {\n        this.cancelling = false;\n        this.toast.success(null,\n          this.translate.instant('eo.action.cancel.signing.success.message')\n        );\n        this.eventService.trigger(EnaioEvent.DMS_OBJECT_UPDATED, dmsObject);\n        this.finished.emit();\n      }, (error) => {\n        this.toast.error(this.translate.instant('eo.action.cancel.signing.error.message'));\n        this.finished.emit();\n      }\n    );\n  }\n\n  run() {\n    this.cancelSigning(this.selection[0].id, this.commentField.value);\n  }\n\n  cancel() {\n    this.canceled.emit();\n  }\n}\n","<div class=\"eo-cancel-signing\" eoTrapFocus yvcAutofocusChild>\n\n  <h2 translate>eo.action.cancel.signing.label</h2>\n  <form *ngIf=\"!cancelling\" [formGroup]=\"cancelSigningForm\">\n    <eo-form-input [skipToggle]=\"true\" [required]=\"true\" [label]=\"commentLabel\" [invalid]=\"commentValidity\">\n      <eo-string [multiline]=\"true\" [minlength]=\"3\" [maxlength]=\"100\" formControlName=\"commentField\"></eo-string>\n    </eo-form-input>\n  </form>\n  <div *ngIf=\"!cancelling\">\n    <div class=\"form-buttons\">\n      <button (click)=\"cancel()\" translate>eo.action.cancel.signing.cancel</button>\n      <button class=\"primary\" (click)=\"run()\"\n              [disabled]=\"cancelSigningForm.errors || cancelSigningForm.invalid || !cancelSigningForm.dirty\"\n              translate>eo.action.cancel.signing.cancelSigning</button>\n    </div>\n  </div>\n\n  <div class=\"spinner-container\" *ngIf=\"cancelling\">\n    <eo-loading-spinner></eo-loading-spinner>\n  </div>\n</div>\n\n\n","\nimport {of as observableOf} from 'rxjs';\nimport {DmsObjectTarget} from '../../action-target';\nimport {ComponentAction} from '../../interfaces/action.interface';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService} from '@eo-sdk/core';\nimport {DmsObject} from '@eo-sdk/core';\nimport {ClipboardObjectActionComponent} from './clipboard-object-action/clipboard-object-action.component';\n\n@Component({\n  selector: 'eo-clipboard-action',\n  template: ``\n})\nexport class ClipboardActionComponent extends DmsObjectTarget implements ComponentAction {\n  header: string;\n  label: string;\n  description: string;\n  priority = 11;\n  iconSrc = 'assets/_default/svg/ic_clipboard.svg';\n  group = 'common';\n  range = SelectionRange.MULTI_SELECT;\n  component = ClipboardObjectActionComponent\n\n  constructor(private translate: TranslateService) {\n    super();\n    this.label = this.translate.instant('eo.action.menu.clipboard.label');\n    this.description = this.translate.instant('eo.action.menu.clipboard.description');\n    this.header = this.translate.instant('eo.clipboard.title');\n  }\n\n  isExecutable(element: DmsObject) {\n    return observableOf(element && !element.isFolder);\n  };\n}\n","import {AfterViewInit, Component, ElementRef, EventEmitter, Input, Output} from '@angular/core';\nimport {DmsObject, NotificationsService, TranslateService} from '@eo-sdk/core';\nimport {ActionComponent} from '../../../interfaces/action-component.interface';\nimport {Location} from '@angular/common';\nimport {AgentService} from '../../../../../eo-framework-core/agent/agent.service';\n\n\n@Component({\n  selector: 'eo-clipboard-object-action',\n  templateUrl: './clipboard-object-action.component.html',\n  styleUrls: ['./clipboard-object-action.component.scss']\n})\nexport class ClipboardObjectActionComponent implements ActionComponent, AfterViewInit {\n\n\n  @Input() selection: DmsObject[];\n  @Output() finished: EventEmitter<any> = new EventEmitter<any>();\n  @Output() canceled: EventEmitter<any> = new EventEmitter<any>();\n  actionDescription: string;\n  showDescriptionOrginal: boolean;\n  showDescriptionPdf: boolean;\n  showDescriptionLink: boolean;\n  isExecutable: boolean\n\n\n  constructor(\n    private translate: TranslateService,\n    private toast: NotificationsService,\n    private location: Location,\n    private agentService: AgentService,\n    private elemRef: ElementRef) {}\n\n  ngAfterViewInit(): void {\n    setTimeout(() => {\n      this.elemRef.nativeElement.querySelector('[tabindex=\"0\"]').focus();\n      this.isExecutable = this.agentService.isConnected && !this.selection[0].isFolder && this.selection[0].content && (this.selection[0].content.count !== 0 || this.selection[0].content.linked)\n\n    });\n  }\n\n  runLink() {\n\n    let urlPrefix = window.location.href.replace(this.location.path(), '');\n    let clipboardText = '';\n\n    this.selection.forEach(element => {\n      if (window.location.href.includes('/versions')) {\n        clipboardText += urlPrefix + '/versions/' + element.id + '?type=' + element.type.name + '&version=' + element.version + '\\n';\n      } else {\n        clipboardText += urlPrefix + '/object/' + element.id + '?type=' + element.type.name + '\\n';\n      }\n    });\n\n    // Copy to clipboard via invisible textarea\n    let textArea = document.createElement('textarea');\n    textArea.value = clipboardText;\n    document.body.appendChild(textArea);\n    textArea.select();\n    let copySuccess = document.execCommand('copy');\n    document.body.removeChild(textArea);\n\n    if (copySuccess) {\n      this.toast.success(this.translate.instant('eo.action.menu.clipboard.link.successful'));\n    } else {\n      this.toast.error(this.translate.instant('eo.action.menu.clipboard.link.error'));\n    }\n    this.finished.emit();\n  }\n\n  runOriginal() {\n    let documents = this.selection.map((element) => ({\n      id: (element.content && element.content.linked && element.content.id) ? element.content.id : element.id,\n      title: element.title,\n      type: (element.content && element.content.linked && element.content.type) ? element.content.type : element.type.name,\n      version: window.location.href.includes('/versions') ? element.version : null,\n      rendition: ''\n    }),\n    this.finished.emit()\n    );\n\n    this.agentService.copyToClipboard(documents);\n  }\n\n  runPdf() {\n    let documents = this.selection.map((element) => ({\n      id: (element.content && element.content.linked && element.content.id) ? element.content.id : element.id,\n      title: element.title,\n      type: (element.content && element.content.linked && element.content.type) ? element.content.type : element.type.name,\n      version: window.location.href.includes('/versions') ? element.version : null,\n      rendition: 'PDF'\n    }),\n    this.finished.emit()\n    );\n\n    this.agentService.copyToClipboard(documents);\n  }\n\n  showDescription(i, event) {\n    this.actionDescription = i === this.actionDescription ? null : i;\n    this.showDescriptionOrginal = this.actionDescription != null && this.actionDescription == 'original' ? true : false;\n    this.showDescriptionPdf = this.actionDescription != null  && this.actionDescription == 'pdf' ? true : false;\n    this.showDescriptionLink = this.actionDescription != null  && this.actionDescription == 'link' ? true : false;\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n\n  cancel() {\n    this.canceled.emit();\n  }\n}\n","<div class=\"body\" eoTrapFocus>\n    <div class=\"navigation\">\n        <div class=\"group-title\" translate>eo.action.menu.clipboard.label</div>\n        <div class=\"nav-item\">\n            <a tabindex=\"0\" (keydown.enter)=\"runLink()\" (click)=\"runLink()\">{{'eo.action.menu.clipboard.link.label'|\n                translate}}</a>\n            <eo-icon class=\"info-icon\" [iconSrc]=\"'assets/_default/svg/ic_info.svg'\"\n                (click)=\"showDescription('link', $event)\"></eo-icon>\n            <div class=\"description\" *ngIf=\"showDescriptionLink\" translate>eo.action.menu.clipboard.link.description\n            </div>\n        </div>\n        <div class=\"nav-item\" *ngIf=\"isExecutable\">\n            <a tabindex=\"0\" (keydown.enter)=\"runOriginal()\" (click)=\"runOriginal()\">{{'eo.action.menu.clipboard.file.label'|\n                translate}}</a>\n            <eo-icon class=\"info-icon\" [iconSrc]=\"'assets/_default/svg/ic_info.svg'\"\n                (click)=\"showDescription('original', $event)\"></eo-icon>\n            <div class=\"description\" *ngIf=\"showDescriptionOrginal\" translate>eo.action.menu.clipboard.file.description</div>\n        </div>\n        <div class=\"nav-item\" *ngIf=\"isExecutable\">\n            <a tabindex=\"0\" (keydown.enter)=\"runPdf()\" (click)=\"runPdf()\">{{'eo.action.menu.clipboard.file.pdf.label' |\n                translate}}</a>\n            <eo-icon class=\"info-icon\" [iconSrc]=\"'assets/_default/svg/ic_info.svg'\"\n                (click)=\"showDescription('pdf', $event)\"></eo-icon>\n            <div class=\"description\" *ngIf=\"showDescriptionPdf\" translate>eo.action.menu.clipboard.file.pdf.description </div>\n        </div>\n    </div>\n    <div class=\"form-buttons\">\n        <button (click)=\"cancel()\" translate>eo.manage.rights.cancel</button>\n    </div>\n</div>","\nimport {of as observableOf, Observable} from 'rxjs';\nimport {SimpleAction} from '../../interfaces/action.interface';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {Router} from '@angular/router';\nimport {TranslateService} from '@eo-sdk/core';\nimport {ActionService} from '../../action-service/action.service';\nimport {DmsObject, ClipboardAction, ClipboardService, CapabilitiesService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-copy-action',\n  template: ``\n})\nexport class CopyActionComponent extends DmsObjectTarget implements SimpleAction {\n  label: string;\n  description: string;\n  priority = 3;\n  iconSrc = 'assets/_default/svg/ic_content-copy.svg';\n  group = 'common';\n  range = SelectionRange.MULTI_SELECT;\n\n  constructor(private capabilityService: CapabilitiesService,\n              private router: Router,\n              private clipboard: ClipboardService,\n              private translate: TranslateService,\n              private actionService: ActionService) {\n    super();\n    this.label = this.translate.instant('eo.action.menu.clipboard.copy.label');\n    this.description = this.translate.instant('eo.action.menu.clipboard.copy.description');\n  }\n\n  isExecutable(item: DmsObject): Observable<boolean> {\n    const isAllowedType = this.actionService.isAllowedType([item], ['sysemail']);\n    return observableOf(this.isAllowedState() && isAllowedType && this.capabilityService.getCapabilities().intray);\n  };\n\n  run(selection: DmsObject[]) {\n    this.clipboard.set(selection, ClipboardAction.COPY);\n  }\n\n  isAllowedState(): boolean {\n    const disabledStates = ['/versions'];\n    return !disabledStates.some(s => this.router.url.startsWith(s));\n  }\n}\n","\nimport {of, from, Observable} from 'rxjs';\nimport {Component, Input} from '@angular/core';\nimport {DmsObjectTarget} from '../../action-target';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {SimpleCustomAction} from '../../interfaces/action.interface';\nimport {TranslateService} from '@eo-sdk/core';\nimport {PluginsService} from '../../../../eo-framework-core/api/plugins.service';\nimport {NotificationsService} from '@eo-sdk/core';\nimport * as lodash from 'lodash';\nimport moment from 'moment';\n\n\n@Component({\n  selector: 'eo-custom-actions',\n  template: ''\n})\nexport class CustomActionsComponent extends DmsObjectTarget implements SimpleCustomAction {\n\n  label: string;\n  description: string;\n\n  priority = 9998;\n  iconSrc = 'assets/_default/svg/ic_play.svg';\n  group = 'further';\n  range = SelectionRange.SINGLE_SELECT;\n  private _action: any;\n\n  @Input()\n  set action(act) {\n    this._action = act;\n    this.label = act.title;\n    this.description = act.description;\n    this.range = 1;\n  }\n\n  get action() {\n    return this._action;\n  }\n\n  constructor(private toast: NotificationsService,\n              private pluginService: PluginsService,\n              private translate: TranslateService) {\n    super();\n  }\n\n  isExecutable(objects) {\n    return from(new Promise((resolve, reject) => {\n      if (this._action.isexecutable && this._action.isexecutable.length > 0) {\n        const scope = {\n          action: this._action,\n          api: this.pluginService.getApi(),\n          objects\n        };\n        const executableFkt = new Function('scope, callback', this._action.isexecutable + '\\n;//# sourceURL=' + this._action.id + '.isexecutable.js');\n        try {\n          executableFkt(scope, (isExecutable) => resolve(isExecutable));\n        } catch (error) {\n          this.toast.error(`${this.translate.instant('eo.action.menu.custom.error.message') }: ${error}`);\n          return resolve(false);\n        }\n      } else {\n        return resolve(true);\n      }\n    }).then((val) => !!val));\n  }\n\n  run(selection) {\n    const action = this._action;\n    this.runCustomActions(action, selection)\n      .subscribe(isExecutable => {\n        const text = isExecutable ? 'eo.action.menu.custom.run.success' : 'eo.action.menu.custom.run.error';\n        this.translate.get(text, {title: action.title}).subscribe(val => this.toast.info(val));\n      });\n  }\n\n  runCustomActions(action, objects = []): Observable<boolean> {\n    const scope = {\n      api: this.pluginService.getApi(),\n      action,\n      objects\n    };\n    try {\n      const run = new Function('scope', '_', 'moment', action.script + '\\n;//# sourceURL=' + action.id + '.script.js');\n      run(scope, lodash, moment);\n      return of(true);\n    } catch (error) {\n      this.toast.error(this.translate.instant('eo.action.menu.custom.error.message'));\n      return of(false);\n    }\n  }\n}\n","\nimport {of as observableOf, Observable} from 'rxjs';\nimport {SimpleAction} from '../../interfaces/action.interface';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {Router} from '@angular/router';\nimport {TranslateService} from '@eo-sdk/core';\nimport {ActionService} from '../../action-service/action.service';\nimport {DmsObject, CapabilitiesService, ClipboardAction, ClipboardService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-cut-action',\n  template: ``\n})\nexport class CutActionComponent extends DmsObjectTarget implements SimpleAction {\n  label: string;\n  description: string;\n  priority = 3.4;\n  iconSrc = 'assets/_default/svg/ic_content-cut.svg';\n  group = 'common';\n  range = SelectionRange.MULTI_SELECT;\n\n  constructor(private translate: TranslateService,\n              private capabilityService: CapabilitiesService,\n              private clipboard: ClipboardService,\n              private router: Router,\n              private actionService: ActionService) {\n    super();\n    this.label = this.translate.instant('eo.action.clipboard.cut.label');\n    this.description = this.translate.instant('eo.action.clipboard.cut.description');\n  }\n\n  isExecutable(item: DmsObject): Observable<boolean> {\n    const isAllowedType = this.actionService.isAllowedType([item], ['sysemail']);\n    return observableOf(this.isAllowedState() && isAllowedType && this.capabilityService.getCapabilities().intray\n      && !item.isFinalized && !item.isContextFolder && item.rights.edit);\n  };\n\n  run(selection: DmsObject[]) {\n    this.clipboard.set(selection, ClipboardAction.CUT);\n  }\n\n  isAllowedState(): boolean {\n    const disabledStates = ['/versions', '/favorites'];\n    return !disabledStates.some(s => this.router.url.startsWith(s));\n  }\n}\n","\nimport {of as observableOf, Observable} from 'rxjs';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService, DmsObject, CapabilitiesService} from '@eo-sdk/core';\nimport {ComponentAction} from '../../interfaces/action.interface';\nimport {DeleteComponent} from './delete/delete.component';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'eo-delete',\n  template: ``\n})\nexport class DeleteActionComponent extends DmsObjectTarget implements ComponentAction {\n  header: string;\n  label: string;\n  description: string;\n  priority = 7;\n  iconSrc = 'assets/_default/svg/ic_trash.svg';\n  group = 'common';\n  range = SelectionRange.SINGLE_SELECT;\n  component = DeleteComponent;\n\n  constructor(private translate: TranslateService, private router: Router, private capabilitiesService: CapabilitiesService) {\n    super();\n    this.label = this.translate.instant('eo.action.delete.dms.object.label');\n    this.description = this.translate.instant('eo.action.delete.dms.object.description');\n  }\n\n  isExecutable(element: DmsObject) {\n    const isLocked = element.lock && element.lock.by.other;\n    return observableOf(element && !element.isFinalized && element.rights\n      && (this.capabilitiesService.hasCapability('recyclebin') ? element.rights.recycle : element.rights.delete)\n      && !isLocked && this.isAllowedState());\n  };\n\n  isAllowedState() {\n    const disabledStates = ['/favorites', '/inbox', '/process', '/versions', '/notifications'];\n    return !disabledStates.some(s => this.router.url.startsWith(s));\n  }\n\n}\n","\nimport {of as observableOf, Observable} from 'rxjs';\nimport {PreparedItemTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService} from '@eo-sdk/core';\nimport {SimpleAction} from '../../interfaces/action.interface';\nimport {Router} from '@angular/router';\nimport {PrepareService, PreparedItem} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-prepared-delete',\n  template: ``\n})\nexport class DeletePreparedActionComponent extends PreparedItemTarget implements SimpleAction {\n  header: string;\n  label: string;\n  description: string;\n  priority = 0;\n  iconSrc = 'assets/_default/svg/ic_trash.svg';\n  group = 'common';\n  range = SelectionRange.MULTI_SELECT;\n\n  constructor(private translate: TranslateService, private prepareService: PrepareService, private router: Router) {\n    super();\n    this.label = this.translate.instant('eo.action.delete.dms.object.label');\n    this.description = this.translate.instant('eo.action.delete.dms.object.description');\n  }\n\n  isExecutable(element: PreparedItem) {\n    return observableOf(this.isAllowedState());\n  };\n\n  run(selection: PreparedItem[]) {\n    selection.forEach(item => {\n      this.prepareService.deletePreparedItem(item.id).subscribe();\n    });\n  }\n\n  isAllowedState() {\n    const enabledStates = ['/prepare'];\n    return enabledStates.some(s => this.router.url.startsWith(s));\n  }\n\n}\n","import {LocaleDatePipe} from './../../../../../eo-framework-core/pipes/locale-date.pipe';\nimport {Component, ElementRef, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {ActionComponent} from '../../../interfaces/action-component.interface';\nimport {DmsObject, CapabilitiesService, TranslateService} from '@eo-sdk/core';\nimport {Router} from '@angular/router';\nimport {BackendService, NotificationsService, EventService, EnaioEvent, DmsService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-delete',\n  templateUrl: './delete.component.html',\n  styleUrls: ['./delete.component.scss']\n})\nexport class DeleteComponent implements OnInit, ActionComponent {\n\n  deleting = false;\n  folder = '';\n  count = '...';\n  retentionTime: string;\n  datePipe: LocaleDatePipe;\n  showForceDeleteDialog = false;\n\n  @Input() selection: DmsObject[];\n  @Output() finished: EventEmitter<any> = new EventEmitter<any>();\n  @Output() canceled: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(private translate: TranslateService,\n              private backend: BackendService,\n              private toast: NotificationsService,\n              private router: Router,\n              private capabilitiesService: CapabilitiesService,\n              private dmsService: DmsService,\n              private elemRef: ElementRef,\n              private eventService: EventService) {\n\n    this.datePipe = new LocaleDatePipe(translate);\n  }\n\n  private isAllowedState(): boolean {\n    const disabledStates = ['/result'];\n    return !disabledStates.some(s => this.router.url.startsWith(s));\n  }\n\n  deleteDmsObject(dmsObject: DmsObject, force = false) {\n    const hardDelete: boolean = !this.capabilitiesService.hasCapability('recyclebin');\n    this.dmsService\n      .deleteDmsObject(dmsObject.id, dmsObject.type.name, hardDelete, force)\n      .subscribe(() => {\n          this.showForceDeleteDialog = false;\n          const successMessage = this.capabilitiesService.hasCapability('recyclebin')\n          ? this.translate.instant('eo.action.delete.dms.object.done.enabled.message', { title: dmsObject.title })\n          : this.translate.instant('eo.action.delete.dms.object.done.message', { title: dmsObject.title });\n\n        this.toast.success(this.translate.instant('eo.action.delete.dms.object.done.title'), successMessage);\n          this.eventService.trigger(EnaioEvent.DMS_OBJECT_DELETED, this.selection[0]);\n\n          if ((dmsObject.isContextFolder || !dmsObject.contextFolder) && this.isAllowedState()) {\n            this.router.navigate(['/']);\n          }\n\n          this.finished.emit();\n        }, (error) => {\n          switch (error.status) {\n            case 403:\n              if (error.error.key === 'DMS_DOCUMENT_IN_PROCESS_FILE') {\n                this.showForceDeleteDialog = true;\n                break;\n              }\n              this.toast.error(this.translate.instant('eo.action.delete.dms.object.error.403'));\n              this.finished.emit();\n              break;\n            case 409:\n              this.toast.error(this.translate.instant('eo.action.delete.dms.object.error.409'));\n              this.finished.emit();\n              break;\n            case 410:\n              this.toast.error(this.translate.instant('eo.action.delete.dms.object.error.410'));\n              this.finished.emit();\n              break;\n          }\n        }\n      );\n  }\n\n  run() {\n    this.deleting = true;\n    this.deleteDmsObject(this.selection[0] as DmsObject);\n  }\n\n  cancel() {\n    this.canceled.emit();\n  }\n\n  isExpired(dateString: string): boolean {\n    return new Date(dateString).setHours(0, 0, 0, 0) < new Date().setHours(0, 0, 0, 0);\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.elemRef.nativeElement.querySelector('.primary').focus();\n    },);\n  }\n\n  ngOnInit() {\n    if (this.selection[0].isContextFolder) {\n      this.folder = this.selection[0].title;\n      this.backend.get(`/count/${this.selection[0].id}`, this.backend.getContextBase())\n        .subscribe(data => (this.count = typeof data.total === 'number' ? data.total : data.total.value));\n    }\n    this.dmsService.getDmsObjectByParams({id: this.selection[0].id, type: this.selection[0].typeName, withStorageInfo: true}).subscribe(res => {\n      const latestRetentionTime = res.storageInfo.filter(info => info.retention).sort((a, b) => -a.retention.localeCompare(b.retention))[0]?.retention;\n      if(!this.isExpired(latestRetentionTime)) {\n        this.retentionTime = this.datePipe.transform(latestRetentionTime, 'eoShortDate');\n      }\n    });\n  }\n}\n","<div class=\"eo-delete\" eoTrapFocus>\n\n  <h2 *ngIf=\"!folder && !retentionTime\" translate [translateParams]=\"{item: selection[0].title}\">eo.action.delete.dms.object.confirm.message</h2>\n  <h2 *ngIf=\"folder && !retentionTime\" translate [translateParams]=\"{folder: folder, count: count}\">eo.action.delete.dms.object.confirm.context.folder.title</h2>\n  <h2 *ngIf=\"retentionTime\" translate [translateParams]=\"{retentionTime: retentionTime}\">eo.action.delete.dms.object.error.retention.title</h2>\n\n  <div *ngIf=\"!deleting\">\n    <div class=\"form-buttons\">\n      <button (click)=\"cancel()\" translate>eo.checkout.cancel</button>\n      <button *ngIf=\"!retentionTime\" class=\"primary\" (click)=\"run()\">OK</button>\n    </div>\n  </div>\n\n  <div class=\"spinner-container\" *ngIf=\"deleting\">\n    <eo-loading-spinner></eo-loading-spinner>\n  </div>\n</div>\n\n<eo-dialog [title]=\"'eo.action.delete.dms.dialog.title' | translate\"\n           [(visible)]=\"showForceDeleteDialog\" [focusOnShow]=\"false\" [minWidth]=\"400\" [styleClass]=\"'force-delete__dialog'\">\n\n  <div>{{'eo.action.delete.dms.dialog.message' | translate}}</div>\n\n  <div class=\"action-buttons flex-row\">\n    <button type=\"button\" class=\"button cancel\" (click)=\"showForceDeleteDialog = false; cancel()\"\n            translate>eo.action.delete.dms.dialog.cancel</button>\n    <button type=\"button\" (click)=\"deleteDmsObject(selection[0], true)\" class=\"button primary\"\n            translate>eo.action.delete.dms.dialog.delete</button>\n  </div>\n</eo-dialog>\n\n\n","\nimport {of as observableOf, Observable} from 'rxjs';\nimport {ComponentAction} from '../../interfaces/action.interface';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {Router} from '@angular/router';\nimport {TranslateService} from '@eo-sdk/core';\nimport {DmsObject, DmsService} from '@eo-sdk/core';\nimport {DeleteContentComponent} from './delete-content/delete-content.component';\n\n@Component({\n  selector: 'eo-delete-content-action',\n  template: ``\n})\nexport class DeleteContentActionComponent extends DmsObjectTarget implements ComponentAction {\n  label: string;\n  description: string;\n  priority = 8.1;\n  iconSrc = 'assets/_default/svg/ic_delete_sweep.svg';\n  group = 'common';\n  range = SelectionRange.MULTI_SELECT;\n  component = DeleteContentComponent;\n\n  constructor(private router: Router, private translate: TranslateService) {\n    super();\n    this.label = this.translate.instant('eo.action.delete.content.label');\n    this.description = this.translate.instant('eo.action.delete.content.description');\n  }\n\n  isExecutable(item: DmsObject): Observable<boolean> {\n    const isLocked = item.lock && item.lock.by.other;\n    const hasContent = item.content && item.content.id === item.id;\n    return observableOf(this.isAllowedState() && !item.isFinalized && hasContent && item.rights.edit && !isLocked && item.type.minFiles === 0);\n  }\n\n  isAllowedState(): boolean {\n    const disabledStates = ['/versions'];\n    return !disabledStates.some(s => this.router.url.startsWith(s));\n  }\n}\n","import {AfterViewInit, Component, ElementRef, EventEmitter, Input, Output} from '@angular/core';\nimport {ActionComponent} from '../../../interfaces/action-component.interface';\nimport {DmsObject, CapabilitiesService, TranslateService} from '@eo-sdk/core';\nimport {Router} from '@angular/router';\nimport {BackendService, NotificationsService, DmsService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-delete-content',\n  templateUrl: './delete-content.component.html',\n  styleUrls: ['./delete-content.component.scss']\n})\nexport class DeleteContentComponent implements ActionComponent, AfterViewInit {\n\n  deleting = false;\n\n  @Input() selection: DmsObject[];\n  @Output() finished: EventEmitter<any> = new EventEmitter<any>();\n  @Output() canceled: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(private translate: TranslateService,\n              private backend: BackendService,\n              private toast: NotificationsService,\n              private router: Router,\n              private capabilitiesService: CapabilitiesService,\n              private dmsService: DmsService,\n              private elemRef: ElementRef) {\n  }\n\n  run() {\n    this.deleting = true;\n    this.selection.forEach(item => {\n      this.dmsService.removeContent(item).subscribe(() => {\n        this.toast.success(item.title, this.translate.instant('eo.action.delete.content.success'));\n        this.finished.emit();\n      }, () => {\n        this.toast.error(item.title, this.translate.instant('eo.action.delete.content.error'));\n        this.finished.emit();\n      });\n    });\n  }\n\n  cancel() {\n    this.canceled.emit();\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.elemRef.nativeElement.querySelector('.primary').focus();\n    });\n  }\n}\n","<div class=\"eo-delete\" eoTrapFocus>\n\n  <h2 translate [translateParams]=\"{item: selection[0].title}\">eo.action.delete.content.confirm.message</h2>\n\n  <div *ngIf=\"!deleting\">\n    <div class=\"form-buttons\">\n      <button (click)=\"cancel()\" translate>eo.checkout.cancel</button>\n      <button class=\"primary\" (click)=\"run()\">OK</button>\n    </div>\n  </div>\n\n  <div class=\"spinner-container\" *ngIf=\"deleting\">\n    <eo-loading-spinner></eo-loading-spinner>\n  </div>\n</div>\n","\nimport {of as observableOf} from 'rxjs';\nimport {DmsObjectTarget} from '../../action-target';\nimport {ComponentAction} from '../../interfaces/action.interface';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService} from '@eo-sdk/core';\nimport {DmsObject} from '@eo-sdk/core';\nimport {DownloadObjectActionComponent} from './download-object-action/download-object-action.component';\n\n@Component({\n  selector: 'eo-download-content',\n  template: ``\n})\nexport class DownloadActionComponent extends DmsObjectTarget implements  ComponentAction {\n  header: string;\n  label: string;\n  description: string;\n  priority = 2;\n  iconSrc = 'assets/_default/svg/ic_content-download.svg';\n  group = 'common';\n  range = SelectionRange.MULTI_SELECT;\n  component = DownloadObjectActionComponent;\n\n  constructor(private translate: TranslateService) {\n    super();\n    this.label = this.translate.instant('eo.action.download.dms.object.content.label');\n    this.description = this.translate.instant('eo.action.download.dms.object.content.description');\n    this.header = this.translate.instant('eo.export.title');\n  }\n\n  isExecutable(element: DmsObject) {\n    return observableOf(!!element.content && !!element.content.id);\n  }\n}\n","import { AfterViewInit, Component, ElementRef, EventEmitter, Input, Output } from '@angular/core';\nimport {Router} from '@angular/router';\nimport {DmsObject, BackendService} from '@eo-sdk/core';\nimport {ActionComponent} from '../../../interfaces/action-component.interface';\n\n@Component({\n  selector: 'eo-download-object-action',\n  templateUrl: './download-object-action.component.html',\n  styleUrls: ['./download-object-action.component.scss']\n})\nexport class DownloadObjectActionComponent implements ActionComponent, AfterViewInit {\n\n  @Input() selection: DmsObject[];\n  @Output() finished: EventEmitter<any> = new EventEmitter<any>();\n  @Output() canceled: EventEmitter<any> = new EventEmitter<any>();\n  actionDescription: string;\n  showDescriptionOrginal: boolean;\n  showDescriptionPdf: boolean;\n\n  constructor(private backend: BackendService,\n              private router: Router,\n              private elemRef: ElementRef) {}\n\n  ngAfterViewInit(): void {\n    setTimeout(() => {\n      this.elemRef.nativeElement.querySelector('[tabindex=\"0\"]').focus();\n    });\n  }\n\n  run() {\n    const isVersionState = this.router.url.startsWith('/versions');\n    this.backend.downloadContent(this.selection, null, isVersionState);\n    this.finished.emit();\n  }\n\n  runPdf() {\n    const isVersionState = this.router.url.startsWith('/versions');\n    this.backend.downloadContent(this.selection, 'PDF', isVersionState);\n    this.finished.emit();\n  }\n\n  showDescription(i, event) {\n    event.stopPropagation();\n    event.preventDefault();\n    this.actionDescription = i === this.actionDescription ? null : i;\n    this.showDescriptionOrginal = this.actionDescription != null && this.actionDescription == 'original' ? true : false;\n    this.showDescriptionPdf = this.actionDescription != null  && this.actionDescription == 'pdf' ? true : false;\n  }\n\n  allowedItemType(contents) {\n    return !!contents && contents.length && (!contents[0].mimegroup || !contents[0].mimegroup.match(/^audio|^video/));\n  }\n  \n  cancel() {\n    this.canceled.emit();\n  }\n \n}","<div class=\"body\" eoTrapFocus>\n    <div class=\"navigation\">\n        <div class=\"group-title\" translate>eo.export.title</div>\n        <div class=\"nav-item\">\n            <a tabindex=\"0\" (keydown.enter)=\"run()\" (click)=\"run()\">{{'eo.export.action.original.label' |\n                translate}}</a>\n            <eo-icon class=\"info-icon\" [iconSrc]=\"'assets/_default/svg/ic_info.svg'\"\n                (click)=\"showDescription('original', $event)\"></eo-icon>\n            <div class=\"description\" *ngIf=\"showDescriptionOrginal\" translate>eo.export.action.original.description\n            </div>\n        </div>\n        <div class=\"nav-item\">\n            <a tabindex=\"0\" (keydown.enter)=\"runPdf()\" (click)=\"runPdf()\">{{'eo.export.action.pdf.label' |\n                translate}}</a>\n            <eo-icon class=\"info-icon\" [iconSrc]=\"'assets/_default/svg/ic_info.svg'\"\n                (click)=\"showDescription('pdf', $event)\"></eo-icon>\n            <div class=\"description\" *ngIf=\"showDescriptionPdf\" translate>eo.export.action.pdf.description </div>\n        </div>\n    </div>\n    <div class=\"form-buttons\">\n        <button (click)=\"cancel()\" translate>eo.manage.rights.cancel</button>\n    </div>\n</div>","\nimport {of as observableOf} from 'rxjs';\nimport {DmsObjectTarget} from '../../action-target';\nimport {ComponentAction} from '../../interfaces/action.interface';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService} from '@eo-sdk/core';\nimport {DmsObject} from '@eo-sdk/core';\nimport {EmailComponent} from './email/email.component';\n\n@Component({\n  selector: 'eo-email-action',\n  template: ``\n})\nexport class EmailActionComponent extends DmsObjectTarget implements ComponentAction {\n  header: string;\n  label: string;\n  description: string;\n  priority = 10;\n  iconSrc = 'assets/_default/svg/ic_mail.svg';\n  group = 'common';\n  range = SelectionRange.MULTI_SELECT;\n  component = EmailComponent;\n  constructor(private translate: TranslateService) {\n    super();\n    this.label = this.translate.instant('eo.action.menu.email.label');\n    this.description = this.translate.instant('eo.action.menu.email.description');\n    this.header = this.translate.instant('eo.email.title');\n}\n\n  isExecutable(element: DmsObject) {\n    return observableOf(true);\n  };\n}\n","import {AfterViewInit, Component, ElementRef, EventEmitter, Input, Output} from '@angular/core';\nimport {DmsObject, NotificationsService} from '@eo-sdk/core';\nimport {TranslateService} from '@ngx-translate/core';\nimport {AgentService} from '../../../../../eo-framework-core';\nimport {ActionComponent} from '../../../interfaces/action-component.interface';\nimport {Location} from '@angular/common';\n\n\n@Component({\n  selector: 'eo-email',\n  templateUrl: './email.component.html',\n  styleUrls: ['./email.component.scss']\n})\nexport class EmailComponent implements ActionComponent, AfterViewInit {\n\n  @Input() selection: DmsObject[];\n  @Output() finished: EventEmitter<any> = new EventEmitter<any>();\n  @Output() canceled: EventEmitter<any> = new EventEmitter<any>();\n  actionDescription: string;\n  showDescriptionOrginal: boolean;\n  showDescriptionPdf: boolean;\n  showDescriptionLink: boolean;\n  isExecutable: boolean\n\n  constructor(\n    private location: Location,\n    private agentService: AgentService,\n    private elemRef: ElementRef) {}\n\n  ngAfterViewInit(): void {\n    setTimeout(() => {\n      this.elemRef.nativeElement.querySelector('[tabindex=\"0\"]').focus();\n      this.isExecutable = this.agentService.isConnected && !this.selection[0].isFolder && this.selection[0].content && (this.selection[0].content.count !== 0 || this.selection[0].content.linked);\n\n    });\n  }\n\n  runLink() {\n    let subject = '';\n    let body = '';\n    let length = this.selection.length;\n    let index = 0;\n\n    this.selection.forEach((selectedItem) => {\n      if (selectedItem.title !== '') {\n        if (!this.endsWith(subject, '...')) {\n          if (subject.length > 100) {\n            subject += ' ...';\n          } else {\n            subject += encodeURIComponent(selectedItem.title);\n          }\n        }\n        body += encodeURIComponent(selectedItem.title + ': \\n');\n      }\n      if (index < length - 1) {\n        subject = subject + '%3B%20';\n      }\n\n      body += encodeURIComponent(window.location.href.replace(this.location.path(), '')\n        + (window.location.href.includes('/versions') ?\n          `/versions/${selectedItem.id}type=${selectedItem.type.name}&version=${selectedItem.version}` :\n          `/object/${selectedItem.id}?type=${selectedItem.type.name}\\n`));\n      index++;\n    });\n\n    window.location.href = 'mailto:?subject=' + subject + '&body=' + body;\n  }\n\n  endsWith(str, suffix) {\n    return str.indexOf(suffix, str.length - suffix.length) !== -1;\n  }\n\n  runOriginal() {\n    const attachments = this.selection.map((element) => ({\n      id: (element.content && element.content.linked && element.content.id) ? element.content.id : element.id,\n      title: element.title,\n      type: (element.content && element.content.linked && element.content.type) ? element.content.type : element.type.name,\n      version: window.location.href.includes('/versions') ? element.version : null,\n      rendition: ''\n    }));\n\n    this.agentService.sendAsMail({attachments});\n  }\n\n  runPdf() {\n    const attachments = this.selection.map((element) => ({\n      id: (element.content && element.content.linked && element.content.id) ? element.content.id : element.id,\n      title: element.title,\n      type: (element.content && element.content.linked && element.content.type) ? element.content.type : element.type.name,\n      version: window.location.href.includes('/versions') ? element.version : null,\n      rendition: 'PDF'\n    }));\n\n    this.agentService.sendAsMail({attachments});\n  }\n\n  showDescription(i, event) {\n    this.actionDescription = i === this.actionDescription ? null : i;\n    this.showDescriptionOrginal = this.actionDescription != null && this.actionDescription == 'original' ? true : false;\n    this.showDescriptionPdf = this.actionDescription != null && this.actionDescription == 'pdf' ? true : false;\n    this.showDescriptionLink = this.actionDescription != null && this.actionDescription == 'link' ? true : false;\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  cancel() {\n    this.canceled.emit();\n  }\n}\n","<div class=\"body\" eoTrapFocus>\n    <div class=\"navigation\">\n        <div class=\"group-title\" translate>eo.email.title</div>\n        <div class=\"nav-item\">\n            <a tabindex=\"0\" (keydown.enter)=\"runLink()\" (click)=\"runLink()\">{{'eo.action.menu.send.email.link.label'|\n                translate}}</a>\n            <eo-icon class=\"info-icon\" [iconSrc]=\"'assets/_default/svg/ic_info.svg'\"\n                (click)=\"showDescription('link', $event)\"></eo-icon>\n            <div class=\"description\" *ngIf=\"showDescriptionLink\" translate>eo.action.menu.send.email.link.description\n            </div>\n        </div>\n        <div class=\"nav-item\" *ngIf=\"isExecutable\">\n            <a tabindex=\"0\" (keydown.enter)=\"runOriginal()\" (click)=\"runOriginal()\">{{'eo.action.menu.send.email.file.label'|\n                translate}}</a>\n            <eo-icon class=\"info-icon\" [iconSrc]=\"'assets/_default/svg/ic_info.svg'\"\n                (click)=\"showDescription('original', $event)\"></eo-icon>\n            <div class=\"description\" *ngIf=\"showDescriptionOrginal\" translate>eo.action.menu.send.email.file.description</div>\n        </div>\n        <div class=\"nav-item\" *ngIf=\"isExecutable\">\n            <a tabindex=\"0\" (keydown.enter)=\"runPdf()\" (click)=\"runPdf()\">{{'eo.action.menu.send.email.file.pdf.label' |\n                translate}}</a>\n            <eo-icon class=\"info-icon\" [iconSrc]=\"'assets/_default/svg/ic_info.svg'\"\n                (click)=\"showDescription('pdf', $event)\"></eo-icon>\n            <div class=\"description\" *ngIf=\"showDescriptionPdf\" translate>eo.action.menu.send.email.file.pdf.description</div>\n        </div>\n    </div>\n    <div class=\"form-buttons\">\n        <button (click)=\"cancel()\" translate>eo.manage.rights.cancel</button>\n    </div>\n</div>","\nimport {of as observableOf, Observable} from 'rxjs';\nimport {SimpleAction} from '../../interfaces/action.interface';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService} from '@eo-sdk/core';\nimport {Router} from '@angular/router';\nimport {DmsObject, CapabilitiesService, UserService, EventService, EnaioEvent, Utils} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-favorite-action',\n  template: ``\n})\nexport class FavoriteActionComponent extends DmsObjectTarget implements SimpleAction {\n  label: string;\n  description: string;\n  priority = 12;\n  iconSrc = 'assets/_default/svg/ic_favorite.svg';\n  group = 'common';\n  range = SelectionRange.MULTI_SELECT;\n\n  constructor(private translate: TranslateService,\n              private userService: UserService,\n              private eventService: EventService,\n              private capabilityService: CapabilitiesService,\n              private router: Router) {\n    super();\n  }\n\n  isExecutable(item: DmsObject) {\n    if (this.isAllowedState() && this.capabilityService.getCapabilities().favorites\n      && !item.type.supertypes.find(sT => sT === 'sysjournalobject')) {\n      // differ between adding or removing favorite state\n      if (item.isFavorite) {\n        this.label = this.translate.instant('eo.action.delete.favorite.label');\n        this.description = this.translate.instant('eo.action.delete.favorite.description');\n      } else {\n        this.label = this.translate.instant('eo.action.create.favorite.label');\n        this.description = this.translate.instant('eo.action.create.favorite.description');\n      }\n      return observableOf(true);\n    } else {\n      return observableOf(false);\n    }\n  };\n\n  run(selection: DmsObject[]) {\n    selection.forEach(item => {\n      const {id, typeName, title} = item;\n      if (!item.isFavorite) {\n        this.userService\n          .createFavorite(id, typeName, title || id)\n          .subscribe(() => {\n            this.eventService.trigger(EnaioEvent.DMS_OBJECT_FAVORITE_ON, id)\n          }, Utils.throw(null,\n            this.translate.instant('eo.state.settings.presence.error.title'),\n            this.translate.instant('eo.state.settings.presence.error.description')\n          ));\n        // todo: add proper error messages here\n      } else {\n        this.userService\n          .removeFavoritesForTarget(id)\n          .subscribe(() => {\n            this.eventService.trigger(EnaioEvent.DMS_OBJECT_FAVORITE_OFF, id)\n          }, Utils.throw(null,\n            this.translate.instant('eo.state.settings.presence.error.title'),\n            this.translate.instant('eo.state.settings.presence.error.description')\n          ));\n        // todo: add proper error messages here\n      }\n    });\n  }\n\n  isAllowedState() {\n    const disabledStates = ['/versions'];\n    return !disabledStates.some(s => this.router.url.startsWith(s));\n  }\n}\n","\nimport {of as observableOf, Observable} from 'rxjs';\nimport {SimpleAction} from '../../interfaces/action.interface';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService} from '@eo-sdk/core';\nimport {UserService, DmsObject, DmsService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-definalize-action',\n  template: ``\n})\nexport class DefinalizeActionComponent extends DmsObjectTarget implements SimpleAction {\n  label: string;\n  description: string;\n  priority = 13;\n  iconSrc = 'assets/_default/svg/ic_finalized.svg';\n  group = 'common';\n  range = SelectionRange.MULTI_SELECT;\n\n  constructor(private translate: TranslateService,\n              private userService: UserService,\n              private dmsService: DmsService) {\n    super();\n    this.label = this.translate.instant('eo.action.definalize.label');\n    this.description = this.translate.instant('eo.action.definalize.description');\n  }\n\n  isExecutable(item: DmsObject) {\n    const hasPrivilege = this.userService.getCurrentUser().hasPrivilege('DEFINALIZE_OBJECTS');\n    return observableOf((item.rights && item.rights.finalize) && !item.lock && item.isFinalized && hasPrivilege && !window.location.href.includes('/versions'));\n  };\n\n  run(selection: DmsObject[]) {\n    selection.forEach(item => {\n      this.dmsService.definalize(item).subscribe();\n    });\n  }\n}\n","import {of as observableOf} from 'rxjs';\nimport {ComponentAction} from '../../interfaces/action.interface';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component, Injectable} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService} from '@eo-sdk/core';\nimport {DmsObject, DmsService} from '@eo-sdk/core';\nimport {FinalizeObjectActionComponent} from './finalize-object-action/finalize-object-action.component';\n\n@Component({\n  selector: 'eo-finalize-action',\n  template: ``\n})\n@Injectable({\n  providedIn: 'root'\n})\nexport class FinalizeActionComponent extends DmsObjectTarget implements ComponentAction {\n  label: string;\n  description: string;\n  priority = 13;\n  iconSrc = 'assets/_default/svg/ic_finalized.svg';\n  group = 'common';\n  range = SelectionRange.SINGLE_SELECT;\n  component = FinalizeObjectActionComponent;\n\n  constructor(private translate: TranslateService, private dmsService: DmsService) {\n    super();\n    this.label = this.translate.instant('eo.action.finalize.label');\n    this.description = this.translate.instant('eo.action.finalize.description');\n  }\n\n  isExecutable(item: DmsObject) {\n    return observableOf((item.rights && item.rights.finalize) && !item.lock && !item.isFinalized && !window.location.href.includes('/versions'));\n  }\n}\n","import {AfterViewInit, Component, ElementRef, EventEmitter, Input, Output} from '@angular/core';\nimport {DmsObject, DmsService} from '@eo-sdk/core';\nimport {ActionComponent} from '../../../interfaces/action-component.interface';\n\n@Component({\n  selector: 'eo-finalize-object-action',\n  templateUrl: './finalize-object-action.component.html',\n  styleUrls: ['./finalize-object-action.component.scss']\n})\nexport class FinalizeObjectActionComponent implements ActionComponent, AfterViewInit {\n\n  @Input() selection: DmsObject[];\n  @Output() finished: EventEmitter<any> = new EventEmitter<any>();\n  @Output() canceled: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(private elemRef: ElementRef,\n              private dmsService: DmsService\n             ) {}\n\n  onClick() {\n    this.dmsService.finalize(this.selection[0]).subscribe();\n    this.finished.emit();\n  }\n\n  cancel() {\n    this.canceled.emit();\n  }\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.elemRef.nativeElement.querySelector('.primary').focus();\n    },);\n  }\n}\n","<div class=\"finalize\">\n\n    <h2 translate>eo.action.finalize.confirm</h2>\n\n    <div class=\"form-buttons\" eoTrapFocus>\n        <button (click)=\"cancel()\" translate>eo.checkout.cancel</button>\n        <button class=\"primary\" (click)=\"onClick()\">OK</button>\n    </div>\n\n</div>","\nimport {of as observableOf, Observable, of} from 'rxjs';\nimport {LinkAction} from '../../interfaces/action.interface';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService} from '@eo-sdk/core';\nimport {Router} from '@angular/router';\nimport {DmsObject} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-open-context-action',\n  template: ``\n})\nexport class OpenContextActionComponent extends DmsObjectTarget implements LinkAction {\n  label: string;\n  description: string;\n  priority = 3.5;\n  iconSrc = 'assets/_default/svg/ic_context.svg';\n  group = 'common';\n  range = SelectionRange.SINGLE_SELECT;\n\n  constructor(private translate: TranslateService, private router: Router) {\n    super();\n    this.label = this.translate.instant('eo.shortcuts.action.open.context');\n    this.description = this.translate.instant('eo.shortcuts.action.open.context.description');\n  }\n\n  isExecutable(item: DmsObject): Observable<boolean> {\n    const isExecutable = (!this.isFolder(item) && this.isNotAlreadyOpened(item.id)) || (this.isFolder(item) && this.isNotInObjectState());\n    return of(isExecutable);\n  }\n\n  getParams(selection: DmsObject[]): { type: string } {\n    const item = selection[0];\n    return {type: item.typeName};\n  }\n\n  getLink(selection: DmsObject[]): string {\n    const {id, isContextFolder, contextFolder} = selection[0];\n    if (isContextFolder || !contextFolder) {\n      this.label = this.translate.instant('eo.shortcuts.aside.action.open');\n    }\n    return `/object/${id}`;\n  }\n\n  isFolder(item: DmsObject): boolean {\n    return item.isFolder;\n  }\n\n  isNotInObjectState(): boolean {\n    const disabledStates = ['/object'];\n    return !disabledStates.some(s => this.router.url.includes(s));\n  }\n\n  isNotAlreadyOpened(id: string): boolean {\n    const disabledStates = ['/object/' + id];\n    return !disabledStates.some(s => this.router.url.includes(s));\n  }\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {TranslateService} from '@eo-sdk/core';\nimport {ActionComponent} from '../../interfaces/action-component.interface';\nimport {AgentService} from '../../../../eo-framework-core/agent/agent.service';\nimport {ObjectFormHelperService} from '../../../object-form/object-form-helper.service';\nimport {UserService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-open-document',\n  templateUrl: './open-document-action.component.html',\n  styleUrls: ['./open-document-action.component.scss']\n})\nexport class OpenDocumentComponent implements OnInit, ActionComponent {\n\n  checkout: any;\n\n  @Input() selection: any[];\n  @Output() finished: EventEmitter<any> = new EventEmitter<any>();\n  @Output() canceled: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(private userService: UserService, private agentService: AgentService, private translate: TranslateService, private objectFormHelperService: ObjectFormHelperService) {\n    const checkoutLabel = translate.instant('eo.checkout.save');\n    this.checkout = objectFormHelperService.elementToFormControl({\n      label: checkoutLabel,\n      name: 'checkbox',\n      type: 'BOOLEAN',\n      required: true,\n      classic: true,\n      value: false\n    });\n  }\n\n  ngOnInit() {\n    let agentAlwayslock = this.userService.getCurrentUser().userSettings.alwayslock;\n    if ((agentAlwayslock && agentAlwayslock === 'never') || this.selection[0].lock) {\n      this.agentService.openDocument(this.selection[0], false);\n      setTimeout(() => {\n        this.finished.emit();\n      }, 0);\n    } else if (agentAlwayslock && agentAlwayslock === 'always') {\n      this.agentService.openDocument(this.selection[0], true);\n      setTimeout(() => {\n        this.finished.emit();\n      }, 0);\n    }\n  }\n\n  edit(lock) {\n    if (this.checkout.controls.checkbox.value) {\n      if (lock) {\n        this.userService.changeLockSetting('always').subscribe();\n      } else {\n        this.userService.changeLockSetting('never').subscribe();\n      }\n    }\n    this.agentService.openDocument(this.selection[0], lock);\n    this.finished.emit();\n  }\n\n  cancel() {\n    this.finished.emit();\n  }\n\n}\n","<div class=\"eo-checkout\">\n\n  <h2>{{'eo.checkout.message'|translate}}</h2>\n\n  <div>\n    <eo-form-element [element]=\"checkout\"></eo-form-element>\n    <div class=\"form-buttons\">\n      <button class=\"secondary\" (click)=\"cancel()\">{{'eo.checkout.cancel'|translate}}</button>\n      <button class=\"primary\" (click)=\"edit(true)\">{{'eo.checkout.yes'|translate}}</button>\n      <button class=\"primary\" (click)=\"edit(false)\">{{'eo.checkout.no'|translate}}</button>\n    </div>\n  </div>\n</div>\n\n","import {Component} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {TranslateService} from '@eo-sdk/core';\nimport {OpenDocumentComponent} from './open-document-action.component';\nimport {ComponentAction} from '../../interfaces/action.interface';\nimport {DmsObjectTarget} from '../../action-target';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {AgentService} from '../../../../eo-framework-core/agent/agent.service';\nimport {Observable, of} from 'rxjs';\nimport {DmsObject} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-open-document-action',\n  template: ``\n})\nexport class OpenDocumentActionComponent extends DmsObjectTarget implements ComponentAction {\n\n  label: string;\n  description: string;\n  iconSrc = 'assets/_default/svg/ic_edit.svg';\n  priority = 1;\n  group = 'common';\n  range = SelectionRange.SINGLE_SELECT;\n\n  component = OpenDocumentComponent;\n\n  constructor(private translate: TranslateService, private agentService: AgentService, private router: Router) {\n    super();\n    this.label = this.translate.instant('eo.action.menu.edit.document.label');\n    this.description = this.translate.instant('eo.action.menu.edit.document.description');\n  }\n\n  isExecutable(item: DmsObject): Observable<boolean> {\n    const {isFinalized, content, rights, lock} = item;\n    const itemConditions = (item && (isFinalized || !(content && content.count) || content.count === 0 || !rights.edit || (lock && lock.by.other)));\n    const isExecutable = this.agentService.isConnected && this.isAllowedState() && !itemConditions;\n    return of(isExecutable);\n  }\n\n  isAllowedState() {\n    const disabledStates = ['/versions'];\n    return !disabledStates.some(s => this.router.url.includes(s));\n  }\n}\n","\nimport {of as observableOf, Observable} from 'rxjs';\nimport {LinkAction} from '../../interfaces/action.interface';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService} from '@eo-sdk/core';\nimport {Router} from '@angular/router';\nimport {DmsObject} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-open-versions-action',\n  template: ``\n})\nexport class OpenVersionsActionComponent extends DmsObjectTarget implements LinkAction {\n  label: string;\n  description: string;\n  priority = 6;\n  iconSrc = 'assets/_default/svg/ic_format_list_numbered.svg';\n  group = 'common';\n  range = SelectionRange.SINGLE_SELECT;\n\n  constructor(private translate: TranslateService, private router: Router) {\n    super();\n    this.label = this.translate.instant('eo.action.menu.show.versions.label');\n    this.description = this.translate.instant('eo.action.menu.show.versions.description');\n  }\n\n  isExecutable(item: DmsObject) {\n    const oneVersion = item.version  > 1;\n    return observableOf(this.isAllowedState()  && oneVersion);\n  };\n\n  getParams(selection: DmsObject[]) {\n    const item = selection[0];\n    return {type: item.typeName};\n  }\n\n  getLink(selection: DmsObject[]) {\n    const item = selection[0];\n    return `/versions/${item.id}`;\n  }\n\n  isAllowedState() {\n    const disabledStates = ['/versions'];\n    return !disabledStates.some(s => this.router.url.startsWith(s));\n  }\n}\n","\nimport {of as observableOf, Observable} from 'rxjs';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService} from '@eo-sdk/core';\nimport {SimpleAction} from '../../interfaces/action.interface';\nimport {DmsObject, UserService, DmsService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-remove-subscription-action',\n  template: ``\n})\nexport class RemoveSubscriptionActionComponent extends DmsObjectTarget implements SimpleAction {\n  label: string;\n  description: string;\n  priority = 4;\n  iconSrc = 'assets/_default/svg/ic_subscription.svg';\n  group = 'common';\n  range = SelectionRange.SINGLE_SELECT;\n\n  constructor(private translate: TranslateService, private userService: UserService, private dms: DmsService) {\n    super();\n    this.label = this.translate.instant('eo.action.delete.subscription.label');\n    this.description = this.translate.instant('eo.action.delete.subscription.description');\n  }\n\n  isExecutable(element: DmsObject) {\n    const hasPrivilege = this.userService.getCurrentUser().hasPrivilege('MANAGE_SUBSCRIPTIONS');\n    if (hasPrivilege && !window.location.href.includes('/versions')) {\n      return observableOf(!!element.subscriptions.length);\n    } else {\n      return observableOf(false);\n    }\n  };\n\n  run(selection) {\n    selection.forEach(item => {\n      this.dms.removeSubscriptionById(item.subscriptions[0].id, item).subscribe();\n    });\n  }\n\n}\n","\nimport {of as observableOf} from 'rxjs';\nimport {SimpleAction} from '../../interfaces/action.interface';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {Router} from '@angular/router';\nimport {TranslateService} from '@eo-sdk/core';\nimport {DmsObject, DmsService, EventService, EnaioEvent} from '@eo-sdk/core';\nimport {Observable} from 'rxjs';\n\n@Component({\n  selector: 'eo-restore-version-action',\n  template: ``\n})\nexport class RestoreVersionActionComponent extends DmsObjectTarget implements SimpleAction {\n  label: string;\n  description: string;\n  priority = 0;\n  iconSrc = 'assets/_default/svg/ic_refresh.svg';\n  group = 'common';\n  range = SelectionRange.SINGLE_SELECT;\n\n  constructor(private translate: TranslateService,\n              private router: Router,\n              private eventService: EventService,\n              private dmsService: DmsService) {\n    super();\n    this.label = this.translate.instant('eo.action.menu.versioning.version.restore.label');\n    this.description = this.translate.instant('eo.action.menu.versioning.version.restore.description');\n  }\n\n  isExecutable(item: DmsObject): Observable<boolean> {\n    return observableOf(!item.isActiveVersion && this.isAllowedState());\n  };\n\n  run(selection: DmsObject[]) {\n    const {id, version, typeName} = selection[0];\n    this.dmsService\n      .restoreVersion(id, version, typeName)\n      .subscribe(res => this.eventService.trigger(EnaioEvent.DMS_OBJECT_VERSION_RESTORED, res.id));\n    // const typeName: NavigationExtras = {queryParams: {type: item.typeName}};\n    // this.router.navigate(['/object', item.id], typeName);\n  }\n\n  isAllowedState() {\n    const enabledStates = ['/versions'];\n    return enabledStates.some(s => this.router.url.startsWith(s));\n  }\n}\n","\nimport {of as observableOf, Observable} from 'rxjs';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService} from '@eo-sdk/core';\nimport {ComponentAction} from '../../interfaces/action.interface';\nimport {ShareObjectComponent} from './share-object/share-object.component';\nimport {DmsObject, SystemService, ObjectType} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-share-object-action',\n  template: ``\n})\nexport class ShareObjectActionComponent extends DmsObjectTarget implements ComponentAction {\n  component = ShareObjectComponent;\n  label: string;\n  description: string;\n  priority = 8;\n  iconSrc = 'assets/_default/svg/ic_share.svg';\n  group = 'common';\n  range = SelectionRange.SINGLE_SELECT;\n\n  constructor(private translate: TranslateService, private systemService: SystemService) {\n    super();\n    this.label = this.translate.instant('eo.action.manage.rights.read.label');\n    this.description = this.translate.instant('eo.action.manage.rights.read.description');\n  }\n\n  isExecutable(element: DmsObject) {\n    const type: ObjectType = this.systemService.getObjectType(element.typeName);\n    return observableOf((element.rights && element.rights.edit) && type.shareable);\n  };\n\n}\n","import {Component, EventEmitter, OnInit} from '@angular/core';\nimport {FormBuilder, UntypedFormGroup} from '@angular/forms';\nimport {DmsService, NotificationsService, TranslateService} from '@eo-sdk/core';\nimport {ActionComponent} from '../../../interfaces/action-component.interface';\n\n@Component({\n  selector: 'eo-share-object',\n  templateUrl: './share-object.component.html',\n  styleUrls: ['./share-object.component.scss']\n})\nexport class ShareObjectComponent implements OnInit, ActionComponent {\n  selection: any[];\n  finished: EventEmitter<any> = new EventEmitter<any>();\n  canceled: EventEmitter<any> = new EventEmitter<any>();\n\n  header: string;\n  orgaLabel: string;\n  shareForm: UntypedFormGroup = this.fb.group({\n    orgaFieldFCN: [],\n    includeChildren: []\n  });\n  // dataMeta: any = [];\n\n  constructor(\n    private translate: TranslateService,\n    private dms: DmsService,\n    private toast: NotificationsService,\n    private fb: FormBuilder) {\n\n    this.header = this.translate.instant('eo.manage.rights.document.title');\n    this.orgaLabel = this.translate.instant('eo.manage.rights.element.label');\n\n  }\n\n  ngOnInit() {\n    const orgaValue = [];\n    const shareChildren = [];\n    if (this.selection[0].isFolder) {\n      this.header = this.translate.instant('eo.manage.rights.folder.title');\n    }\n    this.selection[0].shares.forEach(avObject => avObject.sharechildren ? shareChildren.push(avObject.name) : orgaValue.push(avObject.name));\n\n    this.shareForm.patchValue({\n      orgaFieldFCN: orgaValue,\n      includeChildren: shareChildren\n    })\n  }\n\n\n  private _shareMessage() {\n    let shared = '';\n    let field = '';\n\n    if (this.shareForm.value.orgaFieldFCN.length > 0) {\n      shared = this.shareForm.value.orgaFieldFCN.toString();\n    } else if (this.shareForm.value.includeChildren.length > 0) {\n      shared = this.shareForm.value.includeChildren.toString();\n    } else {\n      this.toast.success(this.translate.instant('eo.manage.rights.message.notshared'));\n      return;\n    }\n    field = 'eo.manage.rights.message';\n\n    if (this.shareForm.value.orgaFieldFCN.length > 0 && this.shareForm.value.includeChildren.length > 0) {\n      shared = `${this.shareForm.value.orgaFieldFCN.toString()}, ${this.shareForm.value.includeChildren.toString()}`;\n    }\n    this.translate.get(field, {\n      title: this.selection[0].title,\n      shared: shared,\n    }).subscribe(val => this.toast.success(val));\n  }\n\n  private _getShareWith(): {id: string, shareChildren?: boolean}[] {\n    return [\n      ...(this.shareForm.value.orgaFieldFCN || []).map(o => ({id: o})),\n      ...(this.shareForm.value.includeChildren || []).map(o => ({id: o, shareChildren: true})),\n    ]\n  }\n\n  share() {\n    this.dms.share(\n      this.selection[0],\n      this._getShareWith()\n    ).subscribe(() => {\n      this._shareMessage();\n      this.finished.emit();\n    });\n  }\n\n  unshare() {\n    this.dms.share(this.selection[0], []).subscribe(() => {\n      this.toast.success(this.translate.instant('eo.manage.rights.message.notshared'));\n      this.finished.emit();\n    });\n\n  }\n\n  cancel() {\n    this.canceled.emit();\n  }\n\n}\n","<div class=\"eo-share-object\" eoTrapFocus yvcAutofocusChild>\n  <h2>{{header}}</h2>\n\n  <form [formGroup]=\"shareForm\" *ngIf=\"shareForm\">\n    <div class=\"fieldset\">\n\n      <div class=\"row\">\n        <eo-form-input [label]=\"orgaLabel\">\n          <eo-organization [removeCurrentUser]=\"true\" [multiselect]=\"true\" formControlName=\"orgaFieldFCN\"></eo-organization>\n        </eo-form-input>\n        <div class=\"desc\" *ngIf=\"selection[0].isFolder\" translate>eo.manage.rights.folder.label</div>\n      </div>\n\n      <div class=\"row\" *ngIf=\"selection[0].isFolder\">\n        <eo-form-input [label]=\"orgaLabel\">\n          <eo-organization [removeCurrentUser]=\"true\" [multiselect]=\"true\" formControlName=\"includeChildren\"></eo-organization>\n        </eo-form-input>\n        <div class=\"desc\" translate>eo.manage.rights.folder.include.children.label</div>\n      </div>\n    </div>\n  </form>\n  <div class=\"form-buttons\">\n    <button class=\"secondary\" (click)=\"cancel()\" translate>eo.manage.rights.cancel</button>\n    <button class=\"danger\" (click)=\"unshare()\" *ngIf=\"selection[0].additionalvisibility.length\"\n      translate>eo.manage.rights.stop</button>\n    <button class=\"primary\" (click)=\"share()\" [disabled]=\"shareForm.errors || !shareForm.dirty\"\n      translate>eo.manage.rights.apply</button>\n  </div>\n</div>","import {of as observableOf, Observable} from 'rxjs';\nimport {Component} from '@angular/core';\nimport {SignatureComponent} from './signature/signature.component';\nimport {DmsObjectTarget} from '../../action-target';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {DmsObject, SigningService, TranslateService} from '@eo-sdk/core';\n\n\n@Component({\n  selector: 'eo-signature-action',\n  template: ''\n})\nexport class SignatureActionComponent extends DmsObjectTarget {\n\n  label: string;\n  description: string;\n  priority = 2;\n  iconSrc = 'assets/_default/svg/ic_signature.svg';\n  group = 'common';\n  range = SelectionRange.SINGLE_SELECT;\n  extComponents = SignatureComponent;\n\n  constructor(private translate: TranslateService, private signingService: SigningService) {\n    super();\n    this.label = this.translate.instant('eo.action.signature.label');\n    this.description = this.translate.instant('eo.action.signature.description');\n  }\n\n  isExecutable(element: DmsObject): Observable<boolean> {\n    return observableOf(!this.signingService.signatureRequested(element)\n      && this.isAllowedMimeType(element)\n      && this.isAllowedObjectType(element)\n      && this.hasEditRights(element)\n      && !this.isFinalized(element));\n  }\n\n  isAllowedMimeType(item: DmsObject): boolean {\n    return item.content && (item.content.contents[0].mimetype === 'application/pdf'\n      || item.content.contents[0].mimetype === 'application/msword'\n      || item.content.contents[0].mimetype === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n      || item.content.contents[0].mimetype === 'application/vnd.ms-excel'\n      || item.content.contents[0].mimetype === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n      || item.content.contents[0].mimetype === 'application/vnd.ms-powerpoint'\n      || item.content.contents[0].mimetype === 'application/vnd.openxmlformats-officedocument.presentationml.presentation');\n  }\n\n  isAllowedObjectType(item: DmsObject): boolean {\n    return item.type.supertypes.includes('yuvsigning');\n  }\n\n  hasEditRights(item: DmsObject): boolean {\n    return item.rights.edit;\n  }\n\n  isFinalized(item: DmsObject): boolean {\n    return item.isFinalized;\n  }\n}\n","import {Component, ViewChild, EventEmitter, OnDestroy} from '@angular/core';\nimport {\n  Utils,\n  BpmService,\n  NotificationsService,\n  TranslateService,\n  SigningService,\n  SigningRequest,\n  EnaioEvent,\n  EventService,\n  DmsService,\n  SystemService,\n  LocalStorageService\n} from '@eo-sdk/core';\nimport {EoDialogComponent} from '../../../../ui/eo-dialog/eo-dialog.component';\nimport {ActionComponent} from '../../../interfaces/action-component.interface';\nimport {PendingChangesService} from '../../../../../eo-framework-core/pending-changes/pending-changes.service';\nimport {ObjectFormOptions} from '../../../../object-form';\nimport {FormGroup, UntypedFormBuilder} from '@angular/forms';\nimport {Subscription} from 'rxjs';\nimport {switchMap} from 'rxjs/operators';\n\n@Component({\n  selector: 'eo-signature',\n  templateUrl: './signature.component.html',\n  styleUrls: ['./signature.component.scss']\n})\nexport class SignatureComponent implements ActionComponent, OnDestroy {\n  selection: any[];\n  finished: EventEmitter<any> = new EventEmitter();\n  canceled: EventEmitter<any> = new EventEmitter();\n  processingRequest: boolean;\n  headerTitle: string;\n  headerDescription: string;\n  selected: any;\n  formOptions: ObjectFormOptions;\n  contents: {id: string, type: string}[];\n\n  // ID set by pendingChanges service when editing indexdata\n  // Used to finish the pending task when editing is done\n  pendingTaskIds: string[] = [];\n\n  @ViewChild('dialog') dialog: EoDialogComponent;\n  signingForm: FormGroup;\n  maxSigners: number;\n  signingFormListener: Subscription;\n  yuvsigtypeCodesystem = {\n    id: '1291BAB91B0D49D1A9A4DFCCF49A1666',\n    name: 'yuvsigtype',\n    entries: []\n  };\n  signatureTypeStorageKey = 'eo.signature.type';\n\n  constructor(private bpmService: BpmService,\n    private pendingChanges: PendingChangesService,\n    private translate: TranslateService,\n    private toaster: NotificationsService,\n    private signingService: SigningService,\n    private eventService: EventService,\n    private dmsService: DmsService,\n    private systemService: SystemService,\n    private storageService: LocalStorageService,\n    private fb: UntypedFormBuilder) {\n    const defaultSignatureType = this.storageService.getItem(this.signatureTypeStorageKey);\n    this.signingForm = this.fb.group({\n      yuvsigemailsubject: [''],\n      yuvsigemailbody: [''],\n      yuvsigtype: [defaultSignatureType ? defaultSignatureType : ''],\n      yuvsigners: [],\n    });\n    this.headerTitle = this.translate.instant('eo.action.signature.label');\n    this.headerDescription = this.translate.instant('eo.action.signature.description');\n\n    this.signingFormListener = this.signingForm.valueChanges.subscribe(() => this.onIndexDataChanged());\n    this.signingService.getInfo().subscribe((info) => {\n      if (info.signatureTypesEnabled) {\n        this.yuvsigtypeCodesystem.entries = this.systemService.getCodesystem(this.yuvsigtypeCodesystem.id).entries;\n        this.yuvsigtypeCodesystem.entries = this.yuvsigtypeCodesystem.entries.filter(entry => info.signatureTypesEnabled.includes(entry.data));\n      }\n\n      this.maxSigners = info.maxSigners || 6;\n\n      this.signingForm.patchValue({\n        yuvsigemailsubject: info.defaultEmailSubject,\n        yuvsigemailbody: info.defaultEmailBody\n      });\n    });\n  }\n\n  saveForm() {\n    this.processingRequest = true;\n    if (this.signingForm && !this.signingForm.invalid) {\n      const signers = (this.signingForm.get('yuvsigners').value || []).map(value => ({\n            signerName: value.yuvsignername,\n            signerEmail: value.yuvsigneremail,\n            signerOrder: value.yuvsignerorder,\n            signerPhone: value.yuvsignerphone\n          })\n        );\n      const signingData = {\n        emailSubject: this.signingForm.get('yuvsigemailsubject').value,\n        emailBody: this.signingForm.get('yuvsigemailbody').value,\n        signatureType: this.signingForm.get('yuvsigtype').value ? this.signingForm.get('yuvsigtype').value : this.yuvsigtypeCodesystem.entries[0].data,\n        signers\n      } as SigningRequest;\n      this.signingService\n        .signDocument(this.selection[0].id, signingData)\n        .pipe(\n          switchMap(() => this.dmsService.getDmsObject(this.selection[0].id))\n        )\n        .subscribe((dmsObject) => {\n          this.processingRequest = false;\n          this.toaster.success(this.translate.instant('eo.action.signature.request.success'));\n          this.storageService.setItem(this.signatureTypeStorageKey, signingData.signatureType);\n          this.eventService.trigger(EnaioEvent.DMS_OBJECT_UPDATED, dmsObject);\n          this.finish();\n        }, Utils.throw(error => {\n          if (error.status === 500) {\n            this.toaster.error(this.translate.instant('eo.error.connection.interrupted.title'), this.translate.instant('eo.error.connection.interrupted.text'));\n          } else {\n            this.toaster.error(error.error?.message);\n          }\n          this.processingRequest = false;\n        }));\n    }\n  }\n\n  finish() {\n    this.finishPending();\n    this.dialog.visible = false;\n    this.finished.emit();\n  }\n\n  cancel() {\n    if (!this.pendingChanges.checkForPendingTasks(this.pendingTaskIds)) {\n      this.finishPending();\n      this.dialog.visible = false;\n      this.canceled.emit();\n    }\n  }\n\n  onIndexDataChanged() {\n    if (this.signingForm.dirty) {\n      this.startPending();\n    } else {\n      this.finishPending();\n    }\n  }\n\n  getLocalizedForm(phoneRequired = false) {\n    return this.signingService.getLocalizedSigningForm(phoneRequired);\n  }\n\n  private startPending() {\n    // because this method will be called every time the form status changes,\n    // pending task will only be started once until it was finished\n    if (!this.pendingChanges.hasPendingTask(this.pendingTaskIds[0] || ' ')) {\n      this.pendingTaskIds = [this.pendingChanges.startTask()];\n    }\n  }\n\n  private finishPending() {\n    this.pendingChanges.finishTask(this.pendingTaskIds[0]);\n  }\n\n  ngOnDestroy(): void {\n    this.signingFormListener.unsubscribe();\n  }\n}\n","<eo-dialog [title]=\"headerTitle\"\n           [subtitle]=\"headerDescription\"\n           [visible]=\"true\"\n           [dirtyCheck]=\"pendingTaskIds\"\n           [minWidth]=\"600\"\n           [minHeight]=\"600\"\n           [styleClass]=\"'process-form-dialog'\" #dialog>\n\n  <section class=\"signature-form form-container\">\n    <form class=\"signing-form\" [formGroup]=\"signingForm\">\n      <eo-form-input [label]=\"'eo.action.signature.yuvsigning.yuvsigemailsubject' | translate\" [required]=\"true\">\n        <eo-string\n          [formControlName]=\"'yuvsigemailsubject'\"\n          [minLength]=\"3\"\n          [maxLength]=\"100\"\n          [required]=\"true\"\n        ></eo-string>\n      </eo-form-input>\n      <eo-form-input [label]=\"'eo.action.signature.yuvsigning.yuvsigemailbody' | translate\" [required]=\"true\">\n        <eo-string\n          [formControlName]=\"'yuvsigemailbody'\"\n          [multiline]=\"true\"\n          [size]=\"'medium'\"\n          [minLength]=\"3\"\n          [maxLength]=\"4000\"\n          [required]=\"true\"\n        ></eo-string>\n      </eo-form-input>\n      <eo-form-input *ngIf=\"yuvsigtypeCodesystem.entries.length > 1\" [required]=\"true\" [label]=\"'eo.action.signature.yuvsigning.yuvsigtype' | translate\">\n        <eo-codesystem\n          [formControlName]=\"'yuvsigtype'\"\n          [codesystem]=\"yuvsigtypeCodesystem\"\n          [required]=\"true\"\n        ></eo-codesystem>\n      </eo-form-input>\n      <div class=\"table\">\n        <eo-table [limit]=\"maxSigners\" [height]=\"'60vh'\" [minWidth]=\"'68vw'\" [hasPreviewFile]=\"false\" [params]=\"{\n        situation: 'CREATE',\n        element: getLocalizedForm(signingForm.get('yuvsigtype').value === 'advanced'),\n        size: 'small',\n        object: selection[0]\n      }\" [formControlName]=\"'yuvsigners'\"></eo-table>\n      </div>\n    </form>\n\n    <div class=\"actions\">\n      <div *ngIf=\"signingForm?.invalid\" class=\"invalid\" translate>eo.object.indexdata.form.invalid</div>\n      <eo-cta [active]=\"!processingRequest\" class=\"cta-wrapper\">\n        <button *ngIf=\"signingForm?.dirty\" (click)=\"signingForm.reset()\" class=\"button-reset\" translate>eo.action.signature.reset</button>\n        <button (click)=\"cancel()\" class=\"button-cancel\" translate>eo.action.signature.cancel</button>\n        <button (click)=\"saveForm()\" [disabled]=\"signingForm?.invalid || processingRequest || !signingForm.get('yuvsigners').value || !signingForm.get('yuvsigners').value.length\" class=\"primary\" translate>eo.action.signature.request</button>\n      </eo-cta>\n    </div>\n  </section>\n  <div class=\"loader-overlay__mask\" *ngIf=\"processingRequest\">\n    <eo-loading-spinner class=\"signature__loader\" [size]=\"'large'\"></eo-loading-spinner>\n  </div>\n</eo-dialog>\n","\nimport {of as observableOf, Observable} from 'rxjs';\nimport {SimpleAction} from '../../interfaces/action.interface';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService, UserService,DmsObject, BackendService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-unlock-action',\n  template: ``\n})\nexport class UnlockActionComponent extends DmsObjectTarget implements SimpleAction {\n  label: string;\n  description: string;\n  priority = 12;\n  iconSrc = 'assets/_default/svg/ic_lock_open.svg';\n  group = 'common';\n  range = SelectionRange.SINGLE_SELECT;\n\n  constructor(private translate: TranslateService,\n              private userService: UserService,\n              private backendService: BackendService) {\n    super();\n    this.label = this.translate.instant('eo.action.unlock.label');\n    this.description = this.translate.instant('eo.action.unlock.description');\n  }\n\n  isExecutable(item: DmsObject): Observable<boolean> {    \n    return observableOf(item.lock && (item.lock.by.me || this.userService.getCurrentUser().hasPrivilege('BREAK_LOCK')));\n  };\n\n  run(selection: DmsObject[]) {\n    this.backendService.del(`/dms/lock/${selection[0].id}${this.userService.getCurrentUser().hasPrivilege('BREAK_LOCK') ? '?breaklock=true' : ''}`).subscribe(() => delete selection[0].lock);\n  }\n}\n","import {of as observableOf} from 'rxjs';\nimport {DmsObjectTarget} from '../../action-target';\nimport {Component} from '@angular/core';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {TranslateService} from '@eo-sdk/core';\nimport {ComponentAction} from '../../interfaces/action.interface';\nimport {AddResubmissionComponent} from '../add-resubmission-action/add-resubmission/add-resubmission.component';\nimport {DmsObject, UserService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-update-resubmission-action',\n  template: ``\n})\nexport class UpdateResubmissionActionComponent extends DmsObjectTarget implements ComponentAction {\n  component = AddResubmissionComponent;\n  label: string;\n  description: string;\n  priority = 5;\n  iconSrc = 'assets/_default/svg/ic_resubmission.svg';\n  group = 'common';\n  range = SelectionRange.MULTI_SELECT;\n\n  constructor(private translate: TranslateService, private userService: UserService) {\n    super();\n    this.label = this.translate.instant('eo.action.update.resubmission.label');\n    this.description = this.translate.instant('eo.action.update.resubmission.description');\n  }\n\n  isExecutable(element: DmsObject) {\n    const hasPrivilege = this.userService.getCurrentUser().hasPrivilege('MANAGE_RESUBMISSIONS');\n    if (hasPrivilege && !window.location.href.includes('/versions') && !window.location.href.includes('/inbox')) {\n      return observableOf(!!element.resubmissions.length);\n    } else {\n      return observableOf(false);\n    }\n  }\n}\n","import {of as observableOf, Observable} from 'rxjs';\nimport {Component, Input} from '@angular/core';\nimport {DmsObjectTarget} from '../../action-target';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {\n  ExecutableProcess,\n  TranslateService,\n  DmsObject,\n  NotificationsService,\n  BpmService,\n  Utils\n} from '@eo-sdk/core';\nimport {SimpleProcessAction} from '../../interfaces/action.interface';\n\n\n@Component({\n  selector: 'eo-simple-workflow-actions',\n  template: ''\n})\nexport class SimpleWorkflowActionComponent extends DmsObjectTarget implements SimpleProcessAction {\n\n  label: string;\n  description: string;\n\n  priority = 0;\n  iconSrc = 'assets/_default/svg/ic_play.svg';\n  group = 'further';\n  range = SelectionRange.SINGLE_SELECT;\n  _executableProcess: ExecutableProcess;\n\n  @Input()\n  set executableProcess(executableProcess: ExecutableProcess) {\n    this._executableProcess = executableProcess;\n    this.label = executableProcess.title;\n    this.description = executableProcess.description;\n    this.range = 1;\n  }\n\n  get action() {\n    return this._executableProcess;\n  }\n\n  constructor(private toast: NotificationsService,\n              private translate: TranslateService,\n              private bpmService: BpmService) {\n    super();\n  }\n\n  isExecutable(element: DmsObject): Observable<boolean> {\n    return observableOf(this.isAllowedType(element));\n  }\n\n  isAllowedType(item: DmsObject): boolean {\n    const disabledType = ['sysemail'];\n    const {typeName} = item;\n    return !disabledType.some(type => typeName === type);\n  }\n\n  run(items: DmsObject[]): void {\n    const contents = items.map(i => {\n      return {\n        id: i.id,\n        type: i.typeName\n      }\n    });\n\n    this.bpmService\n      .startProcess(this._executableProcess.id, {}, contents)\n      .subscribe((res) => {\n        this.toast.success(this._executableProcess.title);\n      }, Utils.throw(() => {\n      }));\n  }\n}\n","import {of as observableOf, Observable} from 'rxjs';\nimport {Component, Input} from '@angular/core';\nimport {WorkflowComponent} from './workflow/workflow.component';\nimport {DmsObjectTarget} from '../../action-target';\nimport {SelectionRange} from '../../selection-range.enum';\nimport {DmsObject, ExecutableProcess} from '@eo-sdk/core';\nimport {ExternalProcessComponentAction} from '../../interfaces/action.interface';\n\n\n@Component({\n  selector: 'eo-workflow-action',\n  template: ''\n})\nexport class WorkflowActionComponent extends DmsObjectTarget implements ExternalProcessComponentAction {\n\n  label: string;\n  description: string;\n  priority = 9999;\n  iconSrc = 'assets/_default/svg/ic_bpm.svg';\n  iconId: string;\n  group = 'further';\n  range = SelectionRange.MULTI_SELECT;\n  extComponents = WorkflowComponent;\n  _executableProcess: ExecutableProcess;\n\n  @Input()\n  set executableProcess(executableProcess: ExecutableProcess) {\n    this._executableProcess = executableProcess;\n    this.label = executableProcess.title;\n    this.description = executableProcess.description;\n    this.iconId = executableProcess.iconid;\n  }\n\n  get executableProcess() {\n    return this._executableProcess;\n  }\n\n  constructor() {\n    super();\n  }\n\n  isExecutable(element: DmsObject): Observable<boolean> {\n    return observableOf(this.isAllowedType(element));\n  }\n\n  isAllowedType(item: DmsObject): boolean {\n    const disabledType = ['sysemail'];\n    const {typeName} = item;\n    return !disabledType.some(type => typeName === type);\n  }\n}\n","import {Component, Input, ViewChild, EventEmitter} from '@angular/core';\nimport {Utils, BpmService, NotificationsService, ExecutableProcess, DmsObject, TranslateService} from '@eo-sdk/core';\nimport {ObjectFormComponent} from '../../../../object-form/object-form/object-form.component';\nimport {EoDialogComponent} from '../../../../ui/eo-dialog/eo-dialog.component';\nimport {ActionComponent} from '../../../interfaces/action-component.interface';\nimport {PendingChangesService} from '../../../../../eo-framework-core/pending-changes/pending-changes.service';\nimport {ObjectFormOptions} from '../../../../object-form';\n\n@Component({\n  selector: 'eo-workflow',\n  templateUrl: './workflow.component.html',\n  styleUrls: ['./workflow.component.scss']\n})\nexport class WorkflowComponent implements ActionComponent {\n  selection: any[];\n  finished: EventEmitter<any> = new EventEmitter();\n  canceled: EventEmitter<any> = new EventEmitter();\n  processingRequest = false;\n  headerTitle: string;\n  headerDescription: string;\n  selected: any;\n  // workItem: any;\n  formOptions: ObjectFormOptions;\n  contents: {id: string, type: string}[];\n\n  // ID set by pendingChanges service when editing indexdata\n  // Used to finish the pending task when editing is done\n  pendingTaskIds: string[] = [];\n  private _executableProcess: ExecutableProcess;\n\n  @ViewChild('dialog') dialog: EoDialogComponent;\n  @ViewChild('bpmForm') bpmForm: ObjectFormComponent;\n\n  @Input()\n  set executableProcess(process: ExecutableProcess) {\n    this._executableProcess = process;\n    if (process) {\n\n      this.headerTitle = process.title;\n      this.headerDescription = process.description;\n\n      process.form.situation = 'CREATE';\n      this.formOptions = {\n        formModel: process.form,\n        data: process.data,\n        actions: process.actions,\n        objects: this.selection.filter(s => (s instanceof DmsObject))\n      };\n      this.contents = this.formOptions.objects.map(obj => ({id: obj.id, type: obj.typeName}));\n    }\n  }\n\n  get executableProcess() {\n    return this._executableProcess;\n  }\n\n  formData: any;\n  form: any;\n\n  constructor(private bpmService: BpmService,\n    private pendingChanges: PendingChangesService,\n    private translate: TranslateService,\n    private toaster: NotificationsService) {\n  }\n\n  private startPending() {\n    // because this method will be called every time the form status changes,\n    // pending task will only be started once until it was finished\n    if (!this.pendingChanges.hasPendingTask(this.pendingTaskIds[0] || ' ')) {\n      this.pendingTaskIds = [this.pendingChanges.startTask()];\n    }\n  }\n\n  private finishPending() {\n    this.pendingChanges.finishTask(this.pendingTaskIds[0]);\n  }\n\n  saveForm() {\n    this.processingRequest = true;\n    setTimeout(() => {\n      if (this.form && !this.form.invalid) {\n        this.formData = this.bpmForm.getFormData();\n        this.bpmService\n          .startProcess(this._executableProcess.id, this.formData, this.contents)\n          .subscribe(() => {\n            this.processingRequest = false;\n            this.toaster.success(this.translate.instant('eo.process.started', {processName: this._executableProcess.title}));\n            this.finish();\n          }, Utils.throw(error => {\n            this.toaster.error(error);\n            this.processingRequest = false;\n          }));\n      }\n    }, 500);\n  }\n\n  finish() {\n    this.finishPending();\n    this.dialog.visible = false;\n    this.finished.emit();\n  }\n\n  cancel() {\n    if (!this.pendingChanges.checkForPendingTasks(this.pendingTaskIds)) {\n      this.finishPending();\n      this.dialog.visible = false;\n      this.canceled.emit();\n    }\n  }\n\n  onIndexDataChanged(event) {\n    this.form = event;\n    this.formData = event.data;\n    if (this.form.dirty) {\n      this.startPending();\n    } else {\n      this.finishPending();\n    }\n  }\n}\n","<eo-dialog [title]=\"headerTitle\"\n           [subtitle]=\"headerDescription\"\n           [visible]=\"true\"\n           [dirtyCheck]=\"pendingTaskIds\"\n           [minWidth]=\"1000\"\n           [styleClass]=\"'process-form-dialog'\" #dialog>\n\n  <section class=\"process-form form-container\">\n    <div class=\"form\">\n      <eo-object-form [formOptions]=\"formOptions\" #bpmForm\n                      (statusChanged)=\"onIndexDataChanged($event)\">\n      </eo-object-form>\n    </div>\n\n    <div class=\"actions\">\n      <div *ngIf=\"form?.invalid\" class=\"invalid\" translate>eo.object.indexdata.form.invalid</div>\n      <eo-cta [active]=\"true\" class=\"cta-wrapper\">\n        <button *ngIf=\"form?.dirty\" (click)=\"bpmForm.resetForm()\" class=\"button-reset\" translate>eo.object.indexdata.reset</button>\n        <button (click)=\"cancel()\" class=\"button-cancel\" translate>eo.resubmission.cancel</button>\n        <button (click)=\"saveForm()\" [disabled]=\"form?.invalid || processingRequest\" class=\"primary\" translate>eo.executable.processes.execute</button>\n      </eo-cta>\n    </div>\n\n  </section>\n</eo-dialog>\n","export * from './action.module';\nexport * from './action-menu/action-menu.component';\nexport * from './action-service/action.service';\nexport * from './action-target';\nexport * from './selection-range.enum';\nexport * from './interfaces/action.interface';\nexport * from './interfaces/action-component.interface';\nexport * from './interfaces/action-list-entry';\nexport * from './action-menu/action-menu.component';\nexport * from './actions/open-document-action/open-document-action.component';\n","export enum SelectionRange {\n  SINGLE_SELECT,\n  MULTI_SELECT,\n  MULTI_SELECT_ONLY\n}\n","import {style, transition, trigger, animate, stagger, query, AnimationTriggerMetadata} from '@angular/animations'\n\n// animating entry of list items\nexport const listAnimation: AnimationTriggerMetadata = trigger('listAnimation', [\n  transition('* => *', [\n    query(':enter', style({transform: 'translateX(-32px)', opacity: 0}), {optional: true}),\n    query(':enter', stagger('50ms', [\n      animate('100ms ease-in', style('*'))\n    ]), {optional: true})\n  ])\n]);\n","import {PendingChangesService} from './../../../../../eo-framework-core/pending-changes/pending-changes.service';\nimport {mergeMap} from 'rxjs/operators';\nimport {Component, OnInit, OnDestroy, Output, EventEmitter} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {Router} from '@angular/router';\nimport {EoLocation, LocationService} from '../../../../../eo-framework-core/location/location.service';\nimport {ObjectType, Utils, PrepareService, SystemService} from '@eo-sdk/core';\nimport {TranslateService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-app-add-dialog',\n  templateUrl: './app-add-dialog.component.html',\n  styleUrls: ['./app-add-dialog.component.scss']\n})\nexport class AppAddDialogComponent implements OnInit, OnDestroy {\n\n  @Output() onClose = new EventEmitter();\n\n  rootTypes: ObjectType[] = [];\n  locationTypes: ObjectType[] = [];\n  locationParent: any;\n  private activeLocationSubscription: Subscription;\n  subfolder: any;\n  subFolderDescription: string;\n  autocompleteList: any;\n  autocompleteRes: any;\n  selectedNode: any;\n\n  constructor(private prepareService: PrepareService,\n              private router: Router,\n              private systemService: SystemService,\n              private translate: TranslateService,\n              private pendingChanges: PendingChangesService,\n              private locationService: LocationService) {\n  }\n\n  public prepare(type: ObjectType, isRootType = false) {\n    if (this.pendingChanges.check()) {\n      return;\n    }\n    let pid = null;\n    if (!isRootType && this.locationParent) {\n      pid = this.locationParent.id;\n    }\n\n    this.prepareService\n      .createPreparedItem(pid, type.name)\n      .subscribe(() => {\n          this.router.navigateByUrl('/prepare');\n        }, Utils.throw(null, this.translate.instant('eo.add.prepare.fail.title'), this.translate.instant('eo.add.prepare.fail.msg'))\n      );\n    this.onClose.emit();\n  }\n\n  public autocompleteFn(term: string){\n    this.autocompleteRes = this.autocompleteList.filter(type => {\n      return type.label.toLowerCase().indexOf(term.toLowerCase()) != -1;\n    })\n  }\n\n  onSelect(node) {\n    if(node.isSubfolder){\n      this.addToSubfolder();\n    } else {\n      this.prepare(node.type, node.isRootType);\n    }\n  }\n\n  preparedItemData(payload) {\n    const typeElement = this.systemService\n      .getObjectType(this.subfolder.type)\n      .elements\n      .filter(val => this.subfolder.data ? val.name === Object.keys(this.subfolder.data)[0] : null);\n\n    if (typeElement.length && typeElement[0].multiselect) {\n      Object.entries(payload).map(([key, value]) => payload[key] = [value]);\n    }\n    return payload;\n  }\n\n  addToSubfolder() {\n    if (this.pendingChanges.check()) {\n      return;\n    }\n    let pid = this.locationParent.id;\n    const {data, type} = this.subfolder;\n    const payload = this.preparedItemData(data);\n\n    this.prepareService\n      .createPreparedItem(pid, type ? type : null)\n      .pipe(\n        mergeMap(res => this.prepareService.updatePreparedItemIndexData(res.id, payload))\n      )\n      .subscribe(() => {\n        this.router.navigateByUrl('/prepare');\n      }, Utils.throw(null, this.translate.instant('eo.add.prepare.fail.title'), this.translate.instant('eo.add.prepare.fail.msg')));\n    this.onClose.emit();\n  }\n\n  private fetchRootTypes() {\n    this.prepareService\n      .getPrepareRootTypes()\n      .subscribe((types) => {\n        this.rootTypes = this.sortTypes(types);\n        this.createAutocompleteList();\n      });\n  }\n\n  private createAutocompleteList() {\n    this.autocompleteList = this.rootTypes.map(type => {\n      return {\n        label: type.label,\n        location: this.translate.instant('eo.add.title.location.common'),\n        isRootType: true,\n        isSubfolder: false,\n        type\n      };\n    }).concat(this.locationTypes.map(type => {\n      return {\n        label: type.label,\n        location: `${this.translate.instant('eo.add.title.location')} ${this.locationParent.title}`,\n        isRootType: false,\n        isSubfolder: false,\n        type\n      };\n    }));\n    if(this.subfolder) {\n      this.autocompleteList.push({\n        label: this.subfolder.title,\n        location: `${this.translate.instant('eo.add.title.location')} ${this.locationParent.title}`,\n        isRootType: false,\n        isSubfolder: true,\n      });\n    }\n  }\n\n  private sortTypes(types) {\n    return types.sort((a, b) => {\n\n      if (a.isContextFolder && !b.isContextFolder) {\n        return -1;\n      }\n      if (!a.isContextFolder && b.isContextFolder) {\n        return 1;\n      }\n      return Utils.sortValues('label').call(this, a, b);\n    });\n  }\n\n  private fetchAllowedChildTypes(loc: EoLocation) {\n    this.prepareService\n      .getPrepareChildTypes(loc.id)\n      .subscribe((res) => {\n        const {types, parent} = res;\n        this.locationParent = Utils.truncateString(parent, 30);\n        this.locationTypes = this.sortTypes(types);\n        this.locationParent.title = Utils.truncateString(parent['title'], 30);\n        if (loc.subFolder && this.isSubFolderAllowed(loc.subFolder, this.locationTypes)) {\n          this.subfolder = loc.subFolder;\n          this.subFolderDescription = loc.title + '; ' + this.subfolder.title;\n        }\n        this.createAutocompleteList();\n      });\n  }\n\n  isSubFolderAllowed(subFolder: any, locationTypes: ObjectType[]) {\n    return !!locationTypes.find(lt => this.systemService.implementsType(lt, subFolder.type));\n  }\n\n  ngOnInit() {\n    this.fetchRootTypes();\n    this.activeLocationSubscription = this.locationService.activeLocation$\n      .subscribe((loc: EoLocation) => {\n        if (loc) {\n          this.fetchAllowedChildTypes(loc);\n        } else {\n          this.locationTypes = [];\n          this.locationParent = null;\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    if (this.activeLocationSubscription) {\n      this.activeLocationSubscription.unsubscribe();\n    }\n  }\n\n  public trackByFn(index, item) {\n    return index;\n  }\n}\n","<section class=\"autocomplete\">\n  <yvc-autocomplete [(ngModel)]=\"selectedNode\" \n  #autocomplete\n    [autocompleteValues]=\"autocompleteRes\" field=\"label\"\n    [forceSelection]=\"true\"\n    (suggestionSelect)=\"onSelect($event)\"\n    (autocompleteFnc)=\"autocompleteFn($event)\">\n    \n    <ng-template let-item #chipTemplate>\n      <span class=\"ui-autocomplete-token-label\" title=\"{{item.label}} ({{item.location}})\">\n        <strong>{{item.label}}</strong>\n        <span>{{item.location}}</span>\n      </span>\n    </ng-template>\n  </yvc-autocomplete>\n</section>\n\n<section class=\"type-lists\">\n  <section class=\"section location\" *ngIf=\"locationParent\">\n    <div class=\"subhead\"><span translate>eo.add.title.location</span><span> \"{{locationParent.title}}\"</span></div>\n    <div class=\"type sub\" (click)=\"addToSubfolder()\" *ngIf=\"subfolder\">\n      <eo-icon [iconSrc]=\"'assets/_default/svg/ic_create_new_folder.svg'\"></eo-icon>\n      <div>\n        <div class=\"label\">{{'eo.add.title.location.subfolder'|translate: ({folder: subfolder.title})}}</div>\n        <div class=\"group\">{{subFolderDescription}}</div>\n      </div>\n    </div>\n    <div class=\"type\" *ngFor=\"let type of locationTypes; trackBy: trackByFn\" (click)=\"prepare(type)\">\n      <eo-icon [objectType]=\"type\"></eo-icon>\n      <div>\n        <div class=\"label\">{{type.label}}</div>\n        <div class=\"group\">{{type.group}}</div>\n      </div>\n    </div>\n  </section>\n  \n  <section class=\"section general\" *ngIf=\"rootTypes.length; else noRootTypes\">\n    <div class=\"subhead\"><span translate>eo.add.title.location.common</span></div>\n      <div class=\"type\" *ngFor=\"let type of rootTypes; trackBy: trackByFn\"\n           [ngClass]=\"{context: type.isContextFolder}\"\n           (click)=\"prepare(type, true)\">\n        <eo-icon [objectType]=\"type\"></eo-icon>\n        <div>\n          <div class=\"label\">{{type.label}}</div>\n          <div class=\"group\">{{type.group}}</div>\n        </div>\n      </div>\n  </section>\n</section>\n\n<ng-template #noRootTypes>\n  <div *ngIf=\"!locationParent\">\n    <span class=\"empty__root-types\" translate>eo.add.empty.root.types</span>\n  </div>\n</ng-template>\n","import {Component} from '@angular/core';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'eo-app-add',\n  templateUrl: './app-add.component.html',\n  styleUrls: ['./app-add.component.scss']\n})\nexport class AppAddComponent {\n\n  constructor(private router: Router) {\n  }\n\n  public close(evt?) {\n    this.router\n      .navigate([{outlets: {modal: null}}], {replaceUrl: true});\n  }\n}\n","<eo-dialog #dialog [title]=\"'eo.bar.button.file.tooltip' | translate\"\n           [visible]=\"true\"\n           [minWidth]=\"270\"\n           [minHeight]=\"580\"\n           [styleClass]=\"'add'\"\n           (hide)=\"close($event)\">\n\n  <eo-app-add-dialog (onClose)=\"(dialog.visible = false)\"></eo-app-add-dialog>\n\n</eo-dialog>\n","import {\n  Component,\n  ElementRef,\n  Input,\n  OnInit,\n  QueryList,\n  Renderer2,\n  ViewChildren\n} from '@angular/core';\nimport {NavigationStart, Router} from '@angular/router';\nimport {\n  BpmService,\n  Capabilities,\n  CapabilitiesService,\n  ClipboardService,\n  Config,\n  EnaioEvent,\n  EoUser,\n  EventService,\n  InboxService, InboxState,\n  PrepareService, TranslateService,\n  UserService\n} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {UserAvatarComponent} from '../../ui/user-avatar/user-avatar.component';\n@UntilDestroy()\n@Component({\n  selector: 'eo-app-bar',\n  templateUrl: './app-bar.component.html',\n  styleUrls: ['./app-bar.component.scss']\n})\nexport class AppBarComponent implements OnInit {\n\n  @Input() transparent = false;\n\n  preparedItemsCount: number;\n  inboxState: InboxState;\n  user: EoUser;\n  capabilities: Capabilities;\n  exeActions: boolean;\n  sidebarShow = false;\n  options: any;\n  iconTitles: any;\n  logo: string;\n  pageVisible = true;\n  docu: {link: string, label: string};\n  @ViewChildren(UserAvatarComponent) avatarComponents: QueryList<UserAvatarComponent>;\n\n  constructor(private userService: UserService,\n              private capabilityService: CapabilitiesService,\n              private translate: TranslateService,\n              private inboxService: InboxService,\n              private prepareService: PrepareService,\n              private clipboard: ClipboardService,\n              private renderer: Renderer2,\n              private router: Router,\n              private bpmService: BpmService,\n              private eventService: EventService,\n              private config: Config,\n              private elemRef: ElementRef,\n              ) {\n    this.capabilities = this.capabilityService.getCapabilities();\n    this.logo = this.config.getNavigationBarImage();\n    // listen for routing events to hide any active overlays\n    // on changing route\n    this.router\n      .events.pipe(\n      untilDestroyed(this))\n      .subscribe(event => {\n        if (event instanceof NavigationStart) {\n          this.sidebarShow = false;\n        }\n      });\n\n    this.userService\n      .user$.pipe(\n      untilDestroyed(this))\n      .subscribe(user => this.user = user);\n\n    if (this.capabilities.inbox) {\n      this.inboxService\n        .inboxState$.pipe(\n        untilDestroyed(this))\n        .subscribe((inboxState: InboxState) => {\n          if (this.inboxState && this.inboxState.unreadmessages < inboxState.unreadmessages) {\n            this.sendNotification();\n          }\n          this.inboxState = inboxState;\n        });\n      this.eventService.on(EnaioEvent.SYSTEM_STATUS_INBOX_CHANGED).subscribe(() => this.inboxService.refreshInboxState())\n    }\n\n    if (this.capabilities.intray) {\n      this.prepareService\n        .preparedItemCount$.pipe(\n        untilDestroyed(this))\n        .subscribe(count => {\n          this.preparedItemsCount = count;\n        });\n    }\n\n    this.translate\n      .onLangChange\n      .subscribe(() => this.setIconTitles());\n  }\n\n  openDashboard(openInNewWindow: boolean) {\n    if (openInNewWindow) {\n      window.open('/');\n    } else {\n      this.router.navigate(['/']);\n    }\n  }\n\n  getDocumentation() {\n    this.userService\n      .user$\n      .subscribe(data => {\n        const docu = this.config.getRaw('about.docu');\n        const link = docu.link.replace('###userLang###', data.userSettings.clientlocale.substring(0, 2));\n        this.docu = {...docu, link};\n      })\n  }\n\n  updateOnSchemaChange() {\n    this.eventService\n      .on(EnaioEvent.SCHEMA_LOCALE_CHANGED).pipe(\n      untilDestroyed(this))\n      .subscribe(() => {\n        this.bpmService\n          .getExecutableProcesses(null, null, null, null, true)\n          .subscribe(res => {\n            // this.exeActions = !!res.length;\n            this.exeActions = this.bpmService.hasMainExecutableProcesses;\n          });\n      });\n  }\n\n  onToggleProfileOverlay(){\n   setTimeout(() => {\n    this.elemRef.nativeElement.querySelector('#settings').focus();\n   });\n  }\n\n  setIconTitles() {\n    this.iconTitles = {\n      search: this.translate.instant('eo.bar.button.search.tooltip'),\n      file: this.translate.instant('eo.bar.button.file.tooltip'),\n      exeactions: this.translate.instant('eo.bar.button.execute.actions.tooltip'),\n      favorites: this.translate.instant('eo.bar.button.favorites.tooltip'),\n      prepare: this.translate.instant('eo.bar.button.prepare.tooltip'),\n      index: this.translate.instant('eo.bar.button.inbox.tooltip'),\n      profile: this.translate.instant('eo.bar.button.user.profile.title'),\n      about: this.translate.instant('eo.sidebar.help.manual.tooltip')\n    };\n  }\n\n\n  private sendNotification() {\n    if (Notification.permission === 'granted') {\n      this.initNotification();\n    } else if (Notification.permission !== 'denied') {\n      Notification.requestPermission().then(() => {\n        this.initNotification();\n      });\n    }\n  }\n\n  private initNotification() {\n    const title = this.translate.instant('eo.inbox.notification.title');\n    const body = this.translate.instant('eo.inbox.notification.body');\n    const icon = 'assets/_default/img/yuuvis-agent.png';\n\n    const notification = new Notification(title, {\n      body: body,\n      icon: icon\n    });\n\n    this.initNotificationClickListener(notification);\n  }\n\n  // This is listening for the navigation click event. When the client tab is active, it just navigates to the inbox route.\n  // If not, it opens a new tab and shows the inbox there.\n  private initNotificationClickListener(notification: Notification) {\n    notification.addEventListener('click', () => {\n      if (this.pageVisible) {\n        this.router.navigateByUrl('/inbox');\n      } else {\n        const fullPath = window.location.href;\n        const currentRoute = this.router.url;\n        const pathToNavigate = fullPath.replace(currentRoute, '') + '/inbox';\n        window.open(pathToNavigate, '_blank');\n      }\n    });\n  }\n\n  // This listener is needed to check, if the client tab is active or not\n  private initVisibilityChangeListener() {\n    document.addEventListener('visibilitychange', () => this.pageVisible = !this.pageVisible);\n  }\n\n  ngOnInit() {\n    this.updateOnSchemaChange();\n    this.setIconTitles();\n    this.getDocumentation();\n    this.exeActions = this.bpmService.hasMainExecutableProcesses;\n    // this.bpmService\n    //   .getExecutableProcesses(null, true)\n    //   .subscribe(res => {\n    //     this.exeActions = !!res.length;\n    //   });\n    this.initVisibilityChangeListener();\n  }\n}\n","<eo-side-bar (eoOutsideClick)=\"sidebarShow = !sidebarShow\" *ngIf=\"sidebarShow\">\n  <div class=\"navi\">\n    <ng-content select=\"eo-sidebar-plugin.navi\"></ng-content>\n  </div>\n  <div class=\"help\">\n    <ng-content select=\"eo-sidebar-plugin.help\"></ng-content>\n  </div>\n</eo-side-bar>\n\n<div class=\"eo-app-bar\" [ngClass]=\"{transparent: transparent}\" eoRtlAware>\n\n  <div class=\"left\">\n\n    <eo-icon id=\"app-menu\" class=\"menu white\" tabindex=\"0\"\n             (click)=\"sidebarShow = !sidebarShow\" (keyup.enter)=\"sidebarShow = !sidebarShow\"\n             [iconSrc]=\"'assets/_default/svg/ic_hamburger.svg'\"></eo-icon>\n    <eo-icon (click)=\"openDashboard($event.ctrlKey)\"  (auxclick)=\"openDashboard(true)\" \n              (keyup.enter)=\"openDashboard(false)\" tabindex=\"0\"\n              class=\"logo white\" [iconSrc]=\"logo\"></eo-icon>\n\n    <div class=\"actions\">\n      <a [routerLink]=\"[ {outlets: { modal: 'search' } } ]\">\n        <eo-icon id=\"app-search\" class=\"search white\" queryParamsHandling=\"preserve\"\n                [iconTitle]=\"iconTitles.search\"\n                [iconSrc]=\"'assets/_default/svg/ic_search.svg'\"></eo-icon>\n      </a>\n\n      <a [routerLink]=\"[ {outlets: { modal: 'add' } } ]\">\n        <eo-icon id=\"app-add\" class=\"add white\" *ngIf=\"capabilities.intray\"\n                [iconTitle]=\"iconTitles.file\"\n                [iconSrc]=\"'assets/_default/svg/ic_add.svg'\"></eo-icon>\n      </a>      \n      <a [routerLink]=\"[ {outlets: { modal: 'actions' } } ]\">\n        <eo-icon id=\"app-actions\" class=\"actions white\" *ngIf=\"exeActions\"\n                [iconTitle]=\"iconTitles.exeactions\"\n                [iconSrc]=\"'assets/_default/svg/ic_bpm_start.svg'\"></eo-icon>\n      </a>\n    </div>\n  </div>\n  <div class=\"right\">\n    <div class=\"sub\">\n      <eo-clipboard></eo-clipboard>\n    </div>\n    <a routerLink=\"/favorites\">\n      <eo-icon class=\"button white favorite\"\n              [iconTitle]=\"iconTitles.favorites\" *ngIf=\"capabilities.favorites\"\n              [iconSrc]=\"'assets/_default/svg/ic_favorite.svg'\"></eo-icon>\n    </a>\n    <a routerLink=\"/prepare\">\n      <eo-icon class=\"button white prepare\" *ngIf=\"capabilities.intray\"\n              [iconTitle]=\"iconTitles.prepare\"\n              [badge]=\"preparedItemsCount\" [iconSrc]=\"'assets/_default/svg/ic_prepare.svg'\"></eo-icon>\n    </a>\n    <a routerLink=\"/inbox\">\n      <eo-icon class=\"button white inbox\" [ngClass]=\"{alert: inboxState?.overduemessages > 0}\" *ngIf=\"capabilities.inbox\"\n              [iconTitle]=\"iconTitles.index\"\n              [badge]=\"inboxState?.totalmessages\" [iconSrc]=\"'assets/_default/svg/ic_inbox.svg'\"></eo-icon>\n    </a>\n    <a href=\"{{docu.link}}\" target=\"_blank\">\n      <eo-icon class=\"button white about\"\n              [iconTitle]=\"iconTitles.about\" [iconSrc]=\"'assets/_default/svg/ic_about.svg'\"></eo-icon>\n    </a>\n    <eo-overlay #userpanel (onToggle)=\"onToggleProfileOverlay()\">\n      <eo-user-avatar class=\"btn\" id=\"app-profile\" [showPresence]=\"true\" [title]=\"iconTitles.profile\" tabindex=\"0\"></eo-user-avatar>\n\n      <div class=\"eo-profile\" tabindex=\"-1\">\n        <div class=\"avatar\" tabindex=\"-1\">\n          <eo-user-avatar tabindex=\"-1\" ></eo-user-avatar>\n          <div class=\"overlay\" tabindex=\"-1\">\n            <div class=\"name\">{{user.firstname}} {{user.lastname}}</div>\n            <div class=\"mail\">{{user.email}}</div>\n            <div class=\"presence\" *ngIf=\"!user.present\" translate>eo.state.settings.presence.absent</div>\n          </div>\n        </div>\n        <div class=\"nav\" eoTrapFocus>\n          <div class=\"nav-item settings\" (click)=\"userpanel?.close()\" >\n            <a routerLink=\"/settings\" id=\"settings\" tabindex=\"0\" routerLinkActive=\"active-link\" focusable translate>eo.bar.button.settings.title</a>\n          </div>\n          <div class=\"nav-item logout\" *ngIf=\"!capabilities.sso\">\n            <a [routerLink]=\"['/enter', { logout: true }]\" routerLinkActive=\"active-link\" translate>eo.bar.button.logout.title</a>\n          </div>\n          <ng-content select=\"eo-sidebar-plugin.profile\"></ng-content>\n        </div>\n      </div>\n    </eo-overlay>\n\n\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {BpmService, ExecutableProcess, NotificationsService, TranslateService, Utils} from '@eo-sdk/core';\nimport {Router} from '@angular/router';\nimport {ObjectFormOptions} from '../../../object-form';\nimport {PendingChangesService} from '../../../../eo-framework-core/pending-changes/pending-changes.service';\n\n/**\n * Component rendering the app-bar action of starting executable processes.\n */\n\n@Component({\n  selector: 'eo-app-process',\n  templateUrl: './app-process.component.html',\n  styleUrls: ['./app-process.component.scss']\n})\nexport class AppProcessComponent implements OnInit {\n\n  processes: ExecutableProcess[];\n  selectedProcess: ExecutableProcess;\n\n  processForm: ObjectFormOptions;\n  title: string;\n  subtitle: string;\n  pendingTaskIds: string[] = [];\n\n  constructor(private router: Router,\n              private toaster: NotificationsService,\n              private translate: TranslateService,\n              private bpmService: BpmService,\n              private pendingChanges: PendingChangesService) {\n  }\n\n  close(evt?): void {\n    this.router.navigate([{outlets: {modal: null}}], {replaceUrl: true});\n  }\n\n  /**\n   * Select an executable process from the current list of processes.\n   * If the process requires some user input, this will render the input form or\n   * otherwise start the process right away.\n   * @param executableProcess Process to be selected/started\n   */\n  selectProcess(executableProcess: ExecutableProcess): void {\n    this.bpmService.getExecutableProcesses(null, false, true, executableProcess.id, true).subscribe(\n      res => {\n        executableProcess = res[0];\n        this.selectedProcess = JSON.parse(JSON.stringify(executableProcess)); // Only copies of the original processes are used.\n        if (this.selectedProcess.form) {\n          // create form options from the execitable process to be passed to the rendering form component\n          this.selectedProcess.form.situation = 'CREATE';\n          this.processForm = {\n            formModel: this.selectedProcess.form,\n            data: this.selectedProcess.data || {}\n          };\n        } else {\n          // start process right away\n          this.executeProcess(\n            this.selectedProcess,\n            {},\n            this.translate.instant('eo.process.started', {processName: this.selectedProcess.title})\n          );\n        }\n      }\n    );\n  }\n\n  /**\n   * Starts the currently selected executable process with data provided by\n   * the input form.\n   * @param formData Data to be passed to the process to be created\n   */\n  startProcessWithFormData(formData: any): void {\n    this.executeProcess(\n      this.selectedProcess,\n      formData,\n      this.translate.instant('eo.process.started', {processName: this.selectedProcess.title})\n    );\n  }\n\n  private executeProcess(executableProcess: ExecutableProcess, data: any, successMessage = ''): void {\n    this.cancelDialog();\n    this.close();\n\n    this.bpmService.startProcess(executableProcess.id, data, [])\n      .subscribe(() => {\n        this.toaster.success(successMessage);\n      }, Utils.throw(() => {\n          this.toaster.error(this.translate.instant(\n            'eo.process.started.fail',\n            {processName: executableProcess.title})\n          );\n        }\n      ));\n  }\n\n  formReset(event): void {\n    this.processForm = null;\n  }\n\n  cancelDialog(): void {\n    this.processForm = null;\n  }\n\n  onCancel(dialog): void {\n    if (!this.pendingChanges.checkForPendingTasks(this.pendingTaskIds)) {\n      this.finishPending();\n      dialog.visible = false;\n    }\n  }\n\n  private startPending() {\n    // because this method will be called every time the form status changes,\n    // pending task will only be started once until it was finished\n    if (!this.pendingChanges.hasPendingTask(this.pendingTaskIds[0] || ' ')) {\n      this.pendingTaskIds = [this.pendingChanges.startTask()];\n    }\n  }\n\n  private finishPending() {\n    this.pendingChanges.finishTask(this.pendingTaskIds[0]);\n  }\n\n  onIndexDataChanged(event) {\n    if (event.dirty) {\n      this.startPending();\n    } else {\n      this.finishPending();\n    }\n  }\n\n  ngOnInit() {\n    this.bpmService.getExecutableProcesses(null, true, null, null, true)\n      .subscribe(res => this.processes = res.sort(Utils.sortValues('title')));\n  }\n}\n","<eo-dialog [title]=\"'eo.bar.button.execute.actions.tooltip' | translate\"\n           [visible]=\"true\"\n           [minWidth]=\"400\"\n           [styleClass]=\"'more-actions'\"\n           (hide)=\"close($event)\">\n\n  <section *ngIf=\"processes?.length; else loading\">\n\n    <div class=\"process-item\" *ngFor=\"let process of processes\" (click)=\"selectProcess(process)\">\n      <eo-icon [iconId]=\"process.iconid\" *ngIf=\"process.iconid; else defaulticon\"></eo-icon>\n      <ng-template #defaulticon><eo-icon [iconSrc]=\"'assets/_default/svg/ic_bpm.svg'\"></eo-icon></ng-template>\n      <div class=\"pi-content\">\n        <div class=\"title\">{{process.title}}</div>\n        <div class=\"description\">{{process.description}}</div>\n      </div>\n    </div>\n\n  </section>\n\n  <ng-container *ngIf=\"!processForm; else tplProcessForm\" class=\"select-process\"></ng-container>\n\n  <ng-template #loading>\n    <eo-loading-spinner [size]=\"'medium'\"></eo-loading-spinner>\n  </ng-template>\n\n\n  <ng-template #tplProcessForm>\n\n    <eo-dialog [title]=\"selectedProcess?.title\"\n               [subtitle]=\"selectedProcess?.description\"\n               [visible]=\"true\"\n               [dirtyCheck]=\"pendingTaskIds\"\n               [minWidth]=\"1000\"\n               [styleClass]=\"'process-form-dialog'\"\n               (hide)=\"cancelDialog()\" #dialog>\n\n      <eo-process-form [formOptions]=\"processForm\"\n                      (onResetForm)=\"formReset($event)\"\n                      (onCancel)=\"onCancel(dialog)\"\n                      (onSaveForm)=\"startProcessWithFormData($event)\"\n                      (statusChanged)=\"onIndexDataChanged($event)\">\n      </eo-process-form>\n    </eo-dialog>\n  </ng-template>\n\n</eo-dialog>\n","import {forkJoin as observableForkJoin, from as observableFrom, of as observableOf, Subject, Subscription} from 'rxjs';\nimport {pluck, switchMap} from 'rxjs/operators';\nimport {AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, OnDestroy, OnInit, Output, Renderer2, TemplateRef, ViewChild, ViewEncapsulation} from '@angular/core';\nimport {NavigationExtras, Router} from '@angular/router';\nimport {PageTitleService} from '../../../../eo-framework-core/title/page-title.service';\nimport {ObjectFormComponent} from '../../../object-form/object-form/object-form.component';\nimport {\n  ObjectFormOptions,\n  FormStatusChangedEvent\n} from '../../../object-form/index';\nimport {NgForm} from '@angular/forms';\nimport {LocaleDatePipe} from '../../../../eo-framework-core/pipes/locale-date.pipe';\nimport {AppSearchService} from '../../../../eo-framework-core/search/app-search.service';\nimport {\n  Capabilities,\n  CapabilitiesService,\n  Logger,\n  NotificationsService,\n  ObjectType,\n  PrepareService,\n  QueryScope,\n  RangeValue,\n  SearchFilter,\n  SearchQuery,\n  SearchService,\n  SearchState,\n  StoredQueriesService,\n  StoredQuery,\n  SystemService,\n  TranslateService,\n  UserService,\n  Utils\n} from '@eo-sdk/core';\nimport {AutoComplete} from '@yuuvis/components/autocomplete';\nimport {ContextType, IdxSearch} from './app-search.interface';\nimport {YvcOverlayRef, YvcOverlayService} from '@yuuvis/components/overlay';\nimport {Dialog} from '@yuuvis/components/dialog';\n\n@Component({\n  selector: 'eo-app-search',\n  templateUrl: './app-search.component.html',\n  styleUrls: ['./app-search.component.scss'],\n  encapsulation: ViewEncapsulation.None\n  // todo: apply onPush change detection (agg search result right now doesn't update)\n  // changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AppSearchComponent implements OnInit, AfterViewInit, OnDestroy {\n  PARAMS = SearchQuery.BASE_PARAMS;\n  OPERATOR = SearchFilter.OPERATOR;\n  queryScope: QueryScope;\n\n  @ViewChild('tplSearch', {read: TemplateRef}) tplSearch: TemplateRef<any>;\n  @ViewChild('searchInput') searchInput: AutoComplete;\n  @ViewChild('xpinput') expertInput: ElementRef;\n  @ViewChild('idxform') indexdataForm: ObjectFormComponent;\n  @ViewChild('ctxform') contextForm: ObjectFormComponent;\n\n  private _overlayRef?: YvcOverlayRef;\n  private querySubscription: Subscription;\n  private queryStateSubscription: Subscription;\n  query: SearchQuery;\n  queryState: SearchState;\n  capabilities: Capabilities;\n  activeTabId?: string;\n  loading: boolean;\n\n  isStoredQuery: boolean;\n  isOwnQuery = false;\n  objectTypeGroups = [];\n  typeGroupTree = [];\n  autocompleteResults: string[];\n\n  idxSearch: IdxSearch;\n  currentContextFolderName;\n\n  expertModeQueryEmpty = false;\n  expertModeSupport = {\n    baseParams: [],\n    selectedGroup: null,\n    selectedType: null\n  };\n\n  filtersModel = {};\n  aggregationsModel = {};\n  datePipe: LocaleDatePipe;\n  sysRootContext = {\n    id: null,\n    name: ContextType.sysroot,\n    label: this.translate.instant('eo.add.title.location.common'),\n    situation: 'SEARCH',\n    mode: 'CONTEXT',\n    contextFormOptions: {\n      formModel: {name: ContextType.sysroot}\n    }\n  };\n\n  _selected: number = null;\n  set selected(index) {\n    this._selected = this._selected === index ? null : index;\n  }\n\n  get selected() {\n    return this._selected;\n  }\n\n  @Output()\n  public onExecuteSearch = new EventEmitter();\n\n  get storedQuery(): StoredQuery {\n    return this.query as StoredQuery;\n  }\n\n  constructor(\n    private appSearchService: AppSearchService,\n    private titleService: PageTitleService,\n    private overlay: YvcOverlayService,\n    private searchService: SearchService,\n    private systemService: SystemService,\n    private notifications: NotificationsService,\n    public translate: TranslateService,\n    private router: Router,\n    private renderer: Renderer2,\n    private cd: ChangeDetectorRef,\n    private storedQueriesService: StoredQueriesService,\n    private capabilityService: CapabilitiesService,\n    private userService: UserService,\n    private prepareService: PrepareService,\n    private logger: Logger\n  ) {\n\n    this.datePipe = new LocaleDatePipe(translate);\n\n    this.expertModeSupport.baseParams = Object.keys(SearchQuery.BASE_PARAMS).map(k => {\n      let data = SearchQuery.BASE_PARAMS[k];\n      return {\n        label: this.translate.instant('eo.global.baseparam.' + data),\n        data: data\n      };\n    });\n\n    this.aggregationsModel[SearchQuery.BASE_PARAMS.CREATED] = Object.keys(\n      SearchQuery.TIME_PERIOD_BUCKETS\n    ).map(k => {\n      return {\n        key: SearchQuery.TIME_PERIOD_BUCKETS[k],\n        value: '',\n        label: this.translate.instant(\n          'eo.search.agg.time.' + SearchQuery.TIME_PERIOD_BUCKETS[k]\n        )\n      };\n    });\n\n    this.aggregationsModel[SearchQuery.BASE_PARAMS.MODIFIED] = Object.keys(\n      SearchQuery.TIME_PERIOD_BUCKETS\n    ).map(k => {\n      return {\n        key: SearchQuery.TIME_PERIOD_BUCKETS[k],\n        value: '',\n        label: this.translate.instant(\n          'eo.search.agg.time.' + SearchQuery.TIME_PERIOD_BUCKETS[k]\n        )\n      };\n    });\n\n    this.aggregationsModel[SearchQuery.BASE_PARAMS.MIMETYPEGROUP] = Object.keys(\n      SearchQuery.MIMETYPEGROUP_BUCKETS\n    ).map(k => {\n      return {\n        key: SearchQuery.MIMETYPEGROUP_BUCKETS[k],\n        value: '',\n        label: SearchQuery.MIMETYPEGROUP_BUCKETS[k]\n      };\n    });\n\n    this.aggregationsModel[SearchQuery.BASE_PARAMS.FILESIZE] = Object.keys(\n      SearchQuery.FILE_SIZE_BUCKETS\n    ).map(k => {\n      return {\n        key: SearchQuery.FILE_SIZE_BUCKETS[k],\n        value: '',\n        label: this.translate.instant(\n          'eo.search.agg.filesize.' + SearchQuery.FILE_SIZE_BUCKETS[k]\n        )\n      };\n    });\n  }\n\n  onTabChange(tabId: string) {\n    this.activeTabId = tabId;\n    if (tabId === 'restrictType') {\n      this.appSearchService.setAggs({\n        type: {}\n      });\n    } else if (tabId === 'restrictCreated') {\n      this.appSearchService.setAggs({\n        type: {},\n        created: {}\n      });\n    } else if (tabId === 'restrictModification') {\n      this.appSearchService.setAggs({\n        type: {},\n        modified: {}\n      });\n    } else if (tabId === 'restrictFile') {\n      this.appSearchService.setAggs({\n        type: {},\n        mimetypegroup: {},\n        filesize: {}\n      });\n    }\n    this.appSearchService.aggregate();\n  }\n\n  private processQuery(query: SearchQuery) {\n    // IMPORTANT: never change the local query directly\n    // use searchService, so every components subscribed to the query\n    // will get the new value\n    this.query = query;\n    this.currentContextFolderName = this.query.contextFolderTypes.length\n      ? this.query.contextFolderTypes[0].name\n      : null;\n    this.isStoredQuery = query instanceof StoredQuery;\n\n    if (this.isStoredQuery) {\n      const user = this.userService.getCurrentUser();\n      this.isOwnQuery =\n        this.storedQuery.user.toLowerCase() === user.name.toLowerCase();\n    }\n\n    Object.keys(SearchQuery.BASE_PARAMS).forEach(k => this.processFilters(k));\n    // if we have an indexdata search using a context but the context was removed\n    if (\n      !this.query.contextFolderTypes.length &&\n      this.idxSearch &&\n      this.idxSearch.contextFormOptions\n    ) {\n      this.idxSearch.contextFormOptions = null;\n      this.idxSearch.contextFolderType = null;\n      setTimeout(() => {\n        this.updateSearchFilterFromFormData();\n      }, 0);\n    }\n\n    // decide whether or not to setup an indexdata search\n    const updateCausedByTypeToggle = this.query.__updateCause === SearchQuery.UPDATE_CAUSE.TOGGLED_TYPE;\n    if (this.query.types.length === 1 && !updateCausedByTypeToggle) {\n      // having just one target type and a context type setup means, that we are using indexdata search\n      this.indexdataSearch(\n        this.query.types[0],\n        this.query.contextFolderTypes.length > 0 ? this.query.contextFolderTypes[0] : null\n      );\n    } else if (\n      this.query.types.length === 1 &&\n      this.appSearchService.getIndexSearchQueryFilters(this.query).length > 0\n    ) {\n      // having just one target type and indexdata filters also means, that we are using indexdata search\n      this.indexdataSearch(this.query.types[0]);\n    } else if (this.query.types.length > 1) {\n      // reset indexdata search otherwise, because the current query may be reset from out side (e.g. by a stored query)\n      this.idxSearch = null;\n    }\n\n    if (query.expertMode) {\n      this.typeGroupTree = this.appSearchService.buildTypeGroupTree();\n    }\n    this.queryScope = query.scope;\n  }\n\n  public selectObjectType(type: ObjectType) {\n    /** set up the right type filter if not already done */\n    const queryTypesLength =\n      this.query.types.length > 1 || this.query.types.length === 0;\n    const queryTypesLengthAndName =\n      this.query.types.length === 1 && this.query.types[0].name !== type.name;\n    if (queryTypesLength || queryTypesLengthAndName) {\n      // setting object types will emit a new query. This will then take care of\n      // setting up the indexdata form\n      this.appSearchService.setQueryTypes([type]);\n    }\n  }\n\n  /**\n   * Sets up indexdata search for a given object type\n   * @param type - an object type\n   * @param contextFolderType - context folder type\n   */\n  public indexdataSearch(type: ObjectType, contextFolderType?: ObjectType) {\n    if (!type || this.query.types.length > 1) {\n      return;\n    }\n    if (this.query.types.length === 1 && this.query.types[0].name === type.name) {\n      /** even if we select a type that is already selected, we need to call aggregate as there may be context types involved */\n      this.appSearchService.setAggs({\n        type: {\n          sub: {\n            contextfoldertype: {}\n          }\n        }\n      }, true);\n      this.appSearchService.aggregate();\n    }\n\n    const isRootType = !!this.appSearchService.typesAllowedUnderSysroot.find(rT => rT.qname === type.qname);\n\n    this.idxSearch = {\n      type,\n      contextFolderType,\n      contextModels: isRootType ? [this.sysRootContext] : [],\n      formOptions: null\n    };\n\n    /** fetch context type models */\n    if (type.allowedcontexttypes.length) {\n      const toFetch = [];\n      type.allowedcontexttypes.forEach(contextType => {\n        const objectType = this.systemService.getObjectType(contextType.name);\n        if (objectType) {\n          toFetch.push(\n            this.systemService.getObjectTypeForm(\n              contextType.name,\n              'SEARCH',\n              'CONTEXT'\n            )\n          );\n        }\n      });\n      if (toFetch.length) {\n        observableForkJoin(toFetch).subscribe(formModels => {\n          /** abstract context types should not be used */\n          this.addContextModel(formModels);\n          /** if there was a context type provided by the query, we'll setup the right model as well */\n          if (contextFolderType) {\n            const model = this.idxSearch.contextModels.find(\n              m => m.name === contextFolderType.name\n            );\n\n            if (model) {\n              this.selectContext(model);\n            } else if (contextFolderType.name === ContextType.sysroot) {\n              this.selectContext(this.sysRootContext);\n            } else {\n              /** the provided context type does not exist any more, so just remove it */\n              this.idxSearch.contextFolderType = null;\n            }\n          }\n        });\n      }\n    }\n\n    let formData;\n    let idxFilters = this.appSearchService.getIndexSearchQueryFilters();\n    if (idxFilters && idxFilters.length > 0) {\n      // set up form data from indexdata query filters\n      formData = idxFilters;\n    }\n\n    const objectType = this.systemService.getObjectType(type.name);\n    if (objectType) {\n      this.systemService\n        .getObjectTypeForm(type.name, 'SEARCH')\n        .subscribe(model => {\n          this.idxSearch.formOptions = {\n            formModel: model,\n            data: formData\n          };\n        });\n    }\n  }\n\n  private processQueryState(queryState: SearchState) {\n    this.loading = false;\n    this.queryState = queryState;\n    if (this.idxSearch) {\n      this.idxSearch.contextAggregations = {};\n      if (queryState.aggregations.contextType.size) {\n        this.idxSearch.contextAggregations = this.buildContextAggregations(queryState.aggregations.contextType);\n      }\n    }\n\n    // save aggregations values\n    if (!this.aggregationsModel[SearchQuery.BASE_PARAMS.TYPE] || !this.query.types.length || queryState.lastChange !== SearchQuery.BASE_PARAMS.TYPE) {\n      this.aggregationsModel[SearchQuery.BASE_PARAMS.TYPE] = new Map(queryState.aggregations.type);\n    }\n\n    this.syncAggregations(SearchQuery.BASE_PARAMS.CREATED, SearchFilter.OPERATOR.RANGE);\n    this.syncAggregations(SearchQuery.BASE_PARAMS.MODIFIED, SearchFilter.OPERATOR.RANGE);\n    this.syncAggregations(SearchQuery.BASE_PARAMS.MIMETYPEGROUP, SearchFilter.OPERATOR.IN);\n    this.syncAggregations(SearchQuery.BASE_PARAMS.FILESIZE, SearchFilter.OPERATOR.RANGE);\n  }\n\n  buildContextAggregations(contextType) {\n    let contextAggregations = {};\n    contextType.forEach((value, key) => contextAggregations[key] = value);\n    return contextAggregations;\n  }\n\n  processFilters(k: string) {\n    let f: SearchFilter = this.query.filters.find(ff => ff.property === SearchQuery.BASE_PARAMS[k]);\n    if (!f) {\n      this.filtersModel[SearchQuery.BASE_PARAMS[k]] = {\n        value: null,\n        multiValue: [],\n        innerValue: []\n      };\n    } else if (\n      !this.filtersModel[f.property] ||\n      this.filtersModel[f.property].filter !== f\n    ) {\n      this.filtersModel[f.property] = {};\n      this.filtersModel[f.property].filter = f;\n      let value: any =\n        typeof f.firstValue === 'string' &&\n          f.operator === SearchFilter.OPERATOR.IN\n          ? JSON.parse(f.firstValue)\n          : f.firstValue.concat([]);\n      if (f.operator === SearchFilter.OPERATOR.RANGE) {\n        this.filtersModel[f.property].multiValue = value;\n        this.filtersModel[f.property].value = null;\n      } else {\n        if (\n          f.property === SearchQuery.BASE_PARAMS.CREATED ||\n          f.property === SearchQuery.BASE_PARAMS.MODIFIED\n        ) {\n          value = new RangeValue(f.operator, f.firstValue, f.secondValue);\n        }\n        this.filtersModel[f.property].value = value;\n        this.filtersModel[f.property].multiValue = null;\n      }\n      this.filtersModel[f.property].innerValue =\n        value instanceof Array ? value : [value];\n      this.filtersModel[f.property].label = [];\n      this.filtersModel[f.property].innerValue.forEach((v: any, i: number) => {\n        if (\n          f.property === SearchQuery.BASE_PARAMS.CREATOR ||\n          f.property === SearchQuery.BASE_PARAMS.MODIFIER\n        ) {\n          this.filtersModel[f.property].label[i] = new Subject();\n        } else {\n          this.filtersModel[f.property].label[i] = observableOf(\n            this.renderFilter(f, v)\n          );\n        }\n      });\n    }\n  }\n\n  syncAggregations(name, operator) {\n    this.aggregationsModel[name].forEach(agg => {\n      let a = this.queryState.aggregations[name].find(aa => aa.key === agg.key);\n      if (a && a.value !== agg.value) {\n        agg.value = a.value;\n      } else if (!a && this.queryState.lastChange !== name) {\n        agg.value = '';\n      }\n      agg.selected = this.isFilterActive(name, operator, agg.key);\n      agg.saved = !a && this.queryState.lastChange === name;\n    });\n\n    this.aggregationsModel[SearchQuery.BASE_PARAMS.MIMETYPEGROUP].sort(Utils.sortValues('value', 'desc'));\n  }\n\n  renderFilter(filter: SearchFilter, value: any) {\n    if (value instanceof RangeValue) {\n      return this.createDateRestriction(filter);\n    } else if (typeof value === 'string' && this.aggregationsModel[filter.property]) {\n      let agg = this.aggregationsModel[filter.property].find(a => a.key === value);\n      return agg.label;\n    }\n    return value;\n  }\n\n  createDateRestriction(filter: SearchFilter) {\n    switch (filter.operator) {\n      case SearchFilter.OPERATOR.RANGE:\n        return this.translate.instant(`eo.search.agg.time.${filter.firstValue}`);\n      case SearchFilter.OPERATOR.EQUAL:\n        return `= ${this.datePipe.transform(filter.firstValue, 'eoShortDate')}`;\n      case SearchFilter.OPERATOR.INTERVAL_INCLUDE_BOTH:\n        return `${this.datePipe.transform(filter.firstValue, 'eoShort')} - ${this.datePipe.transform(filter.secondValue, 'eoShort')}`;\n      case SearchFilter.OPERATOR.GREATER_OR_EQUAL:\n        return `${this.translate.instant('eo.search.agg.time.span.since')} ${this.datePipe.transform(filter.firstValue, 'eoShort')}`;\n      case SearchFilter.OPERATOR.LESS_OR_EQUAL:\n        return `${this.translate.instant('eo.search.agg.time.span.until')} ${this.datePipe.transform(filter.firstValue, 'eoShort')}`;\n      default:\n        return `(${filter.operator}) ${this.datePipe.transform(filter.firstValue, 'eoShort')}`;\n    }\n  }\n\n  resolveLabel(model: any, value: any[]) {\n    model.label.forEach((l, i) => l.next(value[i].title));\n  }\n\n  resolveSelection(aggs: any[], key: string, selected: boolean) {\n    return aggs\n      .filter(a => selected ? a.key !== key && a.selected : a.key === key || a.selected)\n      .map(a => a.key);\n  }\n\n  resetExpertModeInput() {\n    this.query.term = '';\n    this.appSearchService.aggregate();\n  }\n\n  public toggleExpertMode() {\n    if (this.typeGroupTree.length === 0) {\n      this.typeGroupTree = this.appSearchService.buildTypeGroupTree();\n    }\n    this.appSearchService.toggleExpertMode();\n    this.cd.detectChanges();\n    this.changeSearchInputFocus();\n  }\n\n  public setQueryScope(scope: QueryScope) {\n    this.appSearchService.setQueryScope(scope);\n  }\n\n  public xpSelectGroup(group) {\n    this.expertModeSupport.selectedGroup = group;\n    this.expertModeSupport.selectedType = null;\n  }\n\n  public xpSelectType(type) {\n    this.expertModeSupport.selectedType = type;\n  }\n\n  public xpAddToTerm(str) {\n    let term;\n    if (!this.query.term) {\n      term = str;\n    } else {\n      term = this.query.term + ' ' + str;\n    }\n    this.query.term = term + ':';\n    this.expertInput.nativeElement.focus();\n  }\n\n  public toggleType(_type: ObjectType) {\n    // do not directly toggle _type on the query, instead use the\n    // searchService to update the query store\n    this.appSearchService.toggleQueryType(_type);\n  }\n\n  public isTypeActive(_type: ObjectType) {\n    return !!this.query.types.find(t => t.id === _type.id);\n  }\n\n  public isTypeSaved(_type: ObjectType) {\n    return (!this.queryState.aggregations.type.get(_type.name) && this.queryState.lastChange === SearchQuery.BASE_PARAMS.TYPE);\n  }\n\n  getAggregationCount(_type: ObjectType) {\n    return ((this.isTypeSaved(_type) ? this.aggregationsModel[SearchQuery.BASE_PARAMS.TYPE].get(_type.name) : this.queryState.aggregations.type.get(_type.name)) || '');\n  }\n\n  private buildFilter(filterType, operator, key) {\n    if (key instanceof RangeValue) {\n      return new SearchFilter(filterType, key.operator, key.firstValue, key.secondValue, {time: key.operator !== this.OPERATOR.EQUAL, timezone: false});\n    } else {\n      return new SearchFilter(filterType, operator, key);\n    }\n  }\n\n  public setFilter(filterType: string, operator: string, key: any, form?: NgForm) {\n    let filter = this.buildFilter(filterType, operator, key);\n    let empty = this.isEmpty(filter);\n    let activeFilter = this.query.filters.find(ff => ff.property === filter.property);\n    let duplicate = this.isFilterActive(filterType, operator, key);\n\n    if (empty && activeFilter && activeFilter.operator !== SearchFilter.OPERATOR.RANGE) {\n      this.appSearchService.removeQueryFilter(filter);\n    } else if (!empty && !duplicate) {\n      this.appSearchService.addQueryFilter(filter);\n    }\n  }\n\n  public toggleFilter(filterType: string, operator: string, key: any, selected: boolean) {\n    let filter = this.buildFilter(filterType, operator, key);\n    if (filterType === this.PARAMS.FILESIZE) {\n      let folderFilter = this.buildFilter('folder', 'eq', false);\n      this.appSearchService.toggleQueryFilters([filter, folderFilter], !selected);\n    } else {\n      this.appSearchService.toggleQueryFilter(filter, !selected);\n    }\n  }\n\n  public isEmpty(value: any) {\n    return (\n      ((value instanceof RangeValue || value instanceof SearchFilter) &&\n        this.isEmpty(value.firstValue) &&\n        this.isEmpty(value.secondValue)) ||\n      (value == null || value.length === 0)\n    );\n  }\n\n  public isFilterActive(filterType: string, operator: string, key: any) {\n    let f = this.buildFilter(filterType, operator, key);\n    return !!this.query.filters.find(ff => ff.match(f.property, f.operator, f.firstValue, f.secondValue));\n  }\n\n  public resetFilter(model: any, value: string) {\n    if (model.innerValue instanceof Array && model.innerValue.length > 1) {\n      let filter = this.buildFilter(model.filter.property, model.filter.operator, model.innerValue.filter(f => f !== value));\n      this.appSearchService.addQueryFilter(filter);\n    } else {\n      this.appSearchService.removeQueryFilter(model.filter);\n    }\n  }\n\n  public autocompleteSuggest(evt?) {\n    setTimeout(() => {\n      let v = [];\n      // also trigger aggregations search\n      this.autocompleteSelect();\n      if (evt) {\n        this.appSearchService\n          .autocomplete(evt)\n          .pipe(switchMap(res => observableFrom(res).pipe(pluck('value'))))\n          .subscribe(res => v.push(res), () => { }, () => (this.autocompleteResults = v)\n          );\n      }\n    }, 1000);\n  }\n\n  expertTermChanged() {\n    this.expertModeQueryEmpty = false;\n  }\n\n  public autocompleteSelect() {\n    this.loading = this.appSearchService.aggregate();\n  }\n\n  autocompletePaste(e) {\n    setTimeout(() => {\n      this.query.term = e.target.value;\n      this.autocompleteSelect();\n    }, 0);\n  }\n\n  public executeSearch() {\n    this.expertModeQueryEmpty = false;\n    if (this.query.expertMode) {\n      // in expert search mode we pre-fetch results before executing the actual search\n      this.appSearchService.getSearchState({aggs: {type: {}}, ...this.query.getQueryJson()}).subscribe((queryState: SearchState) => {\n        // only execute the actual query when we've found something\n        if (!queryState.isEmpty) {\n          this.triggerSearch();\n        } else {\n          this.expertModeQueryEmpty = true;\n        }\n      }, Utils.throw(() => {\n        this.logger.error('Error fetching search result');\n        this.expertModeQueryEmpty = true;\n      })\n      );\n    } else {\n      this.triggerSearch();\n    }\n  }\n\n  // execute the actual search by routing to the result state which then will execute the\n  // query and display the results\n  private triggerSearch() {\n    this.query.resolveReference = true;\n    const uriParam = encodeURIComponent(Utils.formDataStringify(this.query.getQueryJson()));\n    this._overlayRef.close();\n    this.router.navigate([{outlets: {modal: null}}]).then(() => {\n      const uriParamQuery: NavigationExtras = {queryParams: {query: uriParam}};\n      this.router.navigate(['/result'], uriParamQuery);\n    });\n  }\n\n  public removeTerm() {\n    this.appSearchService.setTerm('');\n  }\n\n  public removeType(type: ObjectType) {\n    if (this.idxSearch) {\n      this.exitIndexdataSearch();\n    } else {\n      this.appSearchService.toggleQueryType(type);\n    }\n  }\n\n  public removeContextType() {\n    this.appSearchService.setContextType(null);\n  }\n\n  public removeFilter(filter: SearchFilter) {\n    this.appSearchService.removeQueryFilter(filter);\n\n    // if we are in indesdata search mode, removing a filter that is no baseparam filter\n    // requires the from model to be updated\n    if (this.idxSearch && !this.appSearchService.isBaseParamFilter(filter)) {\n      // todo: update form model/data\n      let idxFilters = this.appSearchService.getIndexSearchQueryFilters();\n      if (idxFilters && idxFilters.length > 0) {\n        // set up form data from indexdata query filters\n        this.idxSearch.formOptions.data = idxFilters;\n        this.indexdataForm.setFormData(idxFilters);\n      } else {\n        // if no filters are present reset the form\n        this.idxSearch.formOptions.data = {};\n        this.indexdataForm.resetForm();\n      }\n    }\n  }\n\n  addContextModel(formModels): void {\n    let models = [...formModels];\n    this.idxSearch.contextModels.push(...models);\n    this.idxSearch.contextModels.sort(Utils.sortValues('label'));\n  }\n\n  public exitIndexdataSearch() {\n    this.appSearchService.exitIndexdataSearch();\n    this.idxSearch = null;\n  }\n\n  setContext(contextFolderName: string) {\n    if (contextFolderName && this.currentContextFolderName !== contextFolderName) {\n      this.currentContextFolderName = contextFolderName;\n      const contextType = this.systemService.getObjectType(contextFolderName);\n      if (contextFolderName === ContextType.sysroot) {\n        this.appSearchService.setContextType({name: ContextType.sysroot, label: ContextType.sysroot} as ObjectType);\n      } else if (contextType) {\n        this.appSearchService.setContextType(contextType);\n      } else {\n        this.logger.error(`Context type '${contextFolderName}' not found.`);\n      }\n    } else {\n      this.appSearchService.setContextType(null);\n      this.currentContextFolderName = null;\n    }\n  }\n\n  /**\n   * Selects a context type for the current search\n   * @param ctx The context form model\n   */\n  private selectContext(ctx) {\n    if (this.idxSearch.contextFormOptions && this.idxSearch.contextFormOptions.formModel.name === ctx.name) {\n      this.appSearchService.setContextType(null);\n    } else {\n      let context;\n      if (ctx.name === ContextType.sysroot) {\n        context = ctx;\n      } else {\n        context = this.systemService.getObjectType(ctx.name);\n        this.idxSearch.contextFolderType = context;\n      }\n      this.appSearchService.setContextType(context);\n\n      let formData = {};\n      let idxFilters = this.appSearchService.getIndexSearchQueryFilters();\n      if (idxFilters && idxFilters.length > 0) {\n        formData = idxFilters;\n      }\n\n      this.idxSearch.contextFormOptions = {formModel: ctx, data: formData};\n    }\n  }\n\n  public onIndexDataChanged(event: FormStatusChangedEvent) {\n    // only trigger when values are changed as changes may also appear when scripts\n    // change other form element properties (eg. readonly, required flag)\n    if (event.indexdataChanged) {\n      this.updateSearchFilterFromFormData();\n    }\n  }\n\n  private updateSearchFilterFromFormData() {\n    if (!this.indexdataForm) {\n      return;\n    }\n\n    // add metadata filters for each form data entry\n    let idxFilters: SearchFilter[] = [];\n    let formData = this.indexdataForm.getFormData();\n    if (this.contextForm) {\n      formData = Object.assign(formData, this.contextForm.getFormData());\n    }\n\n    for (let key of Object.keys(formData)) {\n      const filters: SearchFilter[] = this.searchService.getSearchFilter(this.query.types, key, formData[key]).map(filter => {\n        // the search service does not like newline chars in case of multiline fields\n        if (Array.isArray(filter.firstValue)) {\n          filter.firstValue = filter.firstValue.map(value => value.replace(/\\n/g, ' '));\n        } else if (typeof filter.firstValue === 'string') {\n          filter.firstValue = filter.firstValue.replace(/\\n/g, ' ');\n        }\n        return filter;\n      });\n      filters.forEach(f => idxFilters.push(f));\n    }\n    this.appSearchService.setIndexSearchQueryFilters(idxFilters);\n  }\n\n  /**\n   * Gets the object type element for a filter, to be able to show the\n   * label for a filter in the search summary.\n   *\n   * @param filter - the filter to fetch object type element for\n   */\n  public getObjectTypeElementLabel(filter: SearchFilter) {\n    let ot = this.appSearchService.getTargetTypeElementByName(filter.property);\n    return ot ? ot.label : filter.property + ' - ' + filter.firstValue;\n  }\n\n  public saveQuery() {\n    // const queryParams: NavigationExtras = {queryParamsHandling : 'preserve'};\n    this._overlayRef.close();\n    this.router\n      .navigate([{outlets: {modal: null}}], {replaceUrl: true})\n      .then(() => this.router.navigate(['/stored-queries'], {queryParams: {create: true}}));\n  }\n\n  public updateStoredQuery() {\n    if (this.query instanceof StoredQuery) {\n      this.router.navigate([{outlets: {modal: null}}], {replaceUrl: true});\n      this.storedQueriesService.saveStoredQuery(this.query).subscribe(res => {\n        this._overlayRef.close();\n        this.notifications.success(this.translate.instant('eo.search.storedquery.save.success'));\n      }, Utils.throw(null, this.translate.instant('eo.search.storedquery.save.error')));\n    }\n  }\n\n  public resetQuery() {\n    this.appSearchService.reset();\n    this.activeTabId = undefined;\n\n    if (this.idxSearch) {\n      this.exitIndexdataSearch();\n    }\n  }\n\n  closeSearchMenu() {\n    this._overlayRef.close();\n  }\n\n  private focusSearchInput() {\n    if (this.searchInput) {\n      // TODO: this.searchInput.inputEL.nativeElement.focus();\n      this.cd.detectChanges();\n    }\n  }\n\n  private changeSearchInputFocus() {\n    if (this.query.expertMode) {\n      this.renderer.selectRootElement('.expert-search__input').focus();\n    } else {\n      this.focusSearchInput();\n    }\n  }\n\n  ngOnInit() {\n    this.capabilities = this.capabilityService.getCapabilities();\n    this.objectTypeGroups = this.appSearchService.objectTypeGroups;\n    this.objectTypeGroups[0].types = this.objectTypeGroups[0].types.filter(type => type.qname !== 'sysfolder' && type.qname !== 'sysdocument' && type.qname !== 'sysobject');\n    this.querySubscription = this.appSearchService.query$.subscribe(\n      (query: SearchQuery) => this.processQuery(query));\n    // subscribe to query state as well to fetch result count and aggregations as they change\n    this.queryStateSubscription = this.appSearchService.queryState$.subscribe((queryState: SearchState) => this.processQueryState(queryState));\n    this.appSearchService.aggregate();\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.searchInput.focusInput();\n    });\n    this._overlayRef = this.overlay.open(this.tplSearch, null, {\n      centered: false\n    });\n    this._overlayRef.afterClosed$.subscribe({\n      next: () => {\n        const queryParams: NavigationExtras = {queryParamsHandling: 'preserve'};\n        this.router.navigate([{outlets: {modal: null}}], queryParams);\n      }\n    })\n  }\n\n  ngOnDestroy() {\n    this.appSearchService.resetAggs();\n    this.querySubscription.unsubscribe();\n    this.queryStateSubscription.unsubscribe();\n  }\n}\n","<!-- <eo-dialog [visible]=\"true\" [styleClass]=\"'eo-app-search-dialog'\" [align]=\"'start'\" [minWidth]=\"'80vw'\"\n  [minHeight]=\"'100vh'\" (hide)=\"closeSearchMenu($event)\"> -->\n<!-- <yvc-dialog [options]=\"{lightDismiss: true}\" [template]=\"tplSearch\" (closed)=\"closeSearchMenu()\"></yvc-dialog> -->\n<ng-template #tplSearch>\n\n  <div class=\"eo-app-search\" [ngClass]=\"{expert: query.expertMode}\" eoRtlAware=\"full\" *ngIf=\"query\">\n\n    <div class=\"head\">\n\n      <div class=\"search\">\n        <form (submit)=\"executeSearch()\">\n          <div class=\"title\" translate>eo.search</div>\n\n          <eo-query-scope-select [selection]=\"queryScope\" (select)=\"setQueryScope($event)\"></eo-query-scope-select>\n\n          <div class=\"search-box\">\n\n            <yvc-autocomplete *ngIf=\"!query.expertMode; else expertInput\" #searchInput\n              [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"query.term\"\n              (autocompleteFnc)=\"autocompleteSuggest($event)\" [autocompleteValues]=\"autocompleteResults\"\n              (suggestionSelect)=\"autocompleteSelect()\" [minLength]=\"3\" (keydown.enter)=\"executeSearch()\" (paste)=\"autocompletePaste($event)\">\n            </yvc-autocomplete>\n\n            <ng-template #expertInput>\n              <input autofocus=\"autofocus\" class=\"expert-search__input\" #xpinput type=\"text\"\n                (ngModelChange)=\"expertTermChanged()\" [(ngModel)]=\"query.term\" [ngModelOptions]=\"{standalone: true}\">\n            </ng-template>\n\n            <button class=\"btn expert-mode\" type=\"button\" (click)=\"toggleExpertMode()\">\n              <!--<span translate>eo.search.mode.expert</span>-->\n              <eo-icon [iconSrc]=\"'assets/_default/svg/ic_expert-search.svg'\"\n                [iconTitle]=\"('eo.search.mode.expert' | translate)\" *ngIf=\"!query?.expertMode; else close\"></eo-icon>\n              <ng-template #close>\n                <eo-icon [iconSrc]=\"'assets/_default/svg/ic_expert-search.svg'\"\n                  [iconTitle]=\"('eo.search.mode.expert.close' | translate)\"></eo-icon>\n              </ng-template>\n            </button>\n\n            <button type=\"button\" class=\"btn expert-mode expert-mode__reset\" [ngClass]=\"{active: query.term}\"\n              (click)=\"resetExpertModeInput()\">\n              <eo-icon [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\"\n                [iconTitle]=\"('eo.search.clear.search' | translate)\"></eo-icon>\n            </button>\n\n            <button class=\"btn btn-default\" type=\"submit\" [disabled]=\"queryState.isEmpty\"\n              translate>eo.search.submit</button>\n          </div>\n        </form>\n      </div>\n\n      <div class=\"result\" *ngIf=\"!loading; else spinner\">{{queryState.totalCount | localeDecimal}}</div>\n      <ng-template #spinner>\n        <eo-loading-spinner class=\"search-aggregator__loader\" [size]=\"'medium'\" [mode]=\"'dark'\"></eo-loading-spinner>\n      </ng-template>\n      <eo-icon class=\"button white close\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\"\n        [iconTitle]=\"('eo.search.close' | translate)\" (click)=\"closeSearchMenu()\"></eo-icon>\n\n    </div>\n\n    <div class=\"body\" *ngIf=\"!query.expertMode; else expert\">\n\n      <yvc-tabs (tabChange)=\"onTabChange($event)\">\n\n        <!-- object type select -->\n        <ng-template [yvcTab]=\"{id: 'restrictType', label: 'eo.search.restrict.type' | translate}\">\n\n          <div class=\"object-types rest-box-container\" [ngClass]=\"{idxenabled: query.types.length < 1}\"\n            *ngIf=\"objectTypeGroups && !idxSearch\">\n            <div class=\"group rest-box\" *ngFor=\"let group of objectTypeGroups\">\n              <h3 *ngIf=\"group.label !== '0'\">{{group.label}}</h3>\n              <h3 *ngIf=\"group.label === '0'\" translate>{{'eo.search.group.general'}}</h3>\n              <div class=\"type\" *ngFor=\"let type of group.types\"\n                [ngClass]=\"{context: type.isContextFolder, folder: type.isFolder, abstract: type.isAbstract, selected: isTypeActive(type), saved: isTypeSaved(type)}\">\n\n                <div class=\"checkbox\" (click)=\"toggleType(type)\">\n                  <svg fill=\"#ffffff\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\" />\n                  </svg>\n                </div>\n                <div class=\"item\" (click)=\"selectObjectType(type)\">\n                  <eo-icon [objectType]=\"type\"></eo-icon>\n                  <div class=\"label\">{{type.label}} {{type.isAbstract ? '('+ ('eo.search.type.abstract' | translate) +\n                    ')' : ''}}</div>\n                  <div class=\"count\">{{getAggregationCount(type) | localeDecimal}}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"indexdata-search\" *ngIf=\"idxSearch\">\n            <h2>\n              <eo-icon class=\"button\" [iconSrc]=\"'assets/_default/svg/ic_arrow_back.svg'\"\n                (click)=\"exitIndexdataSearch()\"></eo-icon>\n              <span translate [translateParams]=\"{type: idxSearch.type.label}\">eo.search.objecttype.form</span>\n            </h2>\n\n            <div class=\"context\" *ngIf=\"idxSearch.contextModels.length\">\n\n              <div class=\"context-select\">\n                <div translate>eo.search.objecttype.form.context</div>\n                <div class=\"spacer\"></div>\n\n                <eo-context-search *ngFor=\"let ctx of idxSearch.contextModels; index as i\" [ctx]=\"ctx\" [query]=\"query\"\n                  [selected]=\"currentContextFolderName === ctx.name\"\n                  [disabled]=\"(currentContextFolderName && currentContextFolderName !== ctx.name)\"\n                  [idxSearch]=\"idxSearch\" (setContext)=\"setContext($event)\">\n                </eo-context-search>\n              </div>\n\n              <section class=\"context form\">\n                <eo-object-form class=\"dark\" #ctxform\n                  *ngIf=\"idxSearch.contextFormOptions && idxSearch.contextFormOptions?.formModel?.elements?.length\"\n                  [formOptions]=\"idxSearch.contextFormOptions\" (statusChanged)=\"onIndexDataChanged($event)\">\n                </eo-object-form>\n              </section>\n            </div>\n\n\n            <section class=\"object-type form\" *ngIf=\"idxSearch.formOptions\">\n              <eo-object-form #idxform [formOptions]=\"idxSearch.formOptions\"\n                (statusChanged)=\"onIndexDataChanged($event)\" (onFormReady)=\"idxform.focusForm()\">\n              </eo-object-form>\n            </section>\n          </div>\n        </ng-template>\n\n        <!-- created tab -->\n        <ng-template [yvcTab]=\"{id: 'restrictCreated', label: 'eo.search.restrict.creation' | translate }\">\n          <div class=\"created rest-box-container\" *ngIf=\"queryState.aggregations\">\n\n            <div class=\"rest-box box-timespan\">\n              <h3 translate>eo.search.agg.time.span</h3>\n              <div class=\"rest-item\" *ngFor=\"let agg of aggregationsModel[PARAMS.CREATED]\"\n                (click)=\"toggleFilter(PARAMS.CREATED, OPERATOR.RANGE, agg.key, agg.selected)\"\n                [ngClass]=\"{selected: agg.selected, saved: agg.saved}\">\n                <div class=\"label\">{{agg.label}}</div>\n                <div class=\"count\">{{agg.value | localeDecimal}}</div>\n              </div>\n            </div>\n\n            <div class=\"rest-box box-timespan-custom\">\n              <h3 translate>eo.search.agg.time.span.custom</h3>\n              <form #createdForm=\"ngForm\">\n                <eo-form-input [label]=\"'eo.search.agg.time.span' | translate\">\n                  <eo-datetime-range #createdField [(ngModel)]=\"filtersModel[PARAMS.CREATED].value\" name=\"range\"\n                    [operator]=\"filtersModel[PARAMS.CREATED].value ? filtersModel[PARAMS.CREATED].value.operator : OPERATOR.EQUAL\"\n                    [withTime]=\"createdField.searchOption && createdField.searchOption !== OPERATOR.EQUAL\"\n                    (ngModelChange)=\"setFilter(PARAMS.CREATED, OPERATOR.EQUAL, $event, createdForm)\">\n                  </eo-datetime-range>\n                </eo-form-input>\n              </form>\n            </div>\n\n            <div class=\"rest-box box-creator\">\n              <h3 translate>eo.search.agg.creator</h3>\n              <form #creatorForm=\"ngForm\">\n                <eo-form-input [label]=\"'eo.search.agg.createdby' | translate\">\n                  <eo-organization [multiselect]=\"true\" [(ngModel)]=\"filtersModel[PARAMS.CREATOR].value\" name=\"creator\"\n                    (onValueResolved)=\"resolveLabel(filtersModel[PARAMS.CREATOR], $event)\" [situation]=\"'SEARCH'\"\n                    (ngModelChange)=\"setFilter(PARAMS.CREATOR, OPERATOR.IN, $event, creatorForm)\"></eo-organization>\n                </eo-form-input>\n              </form>\n            </div>\n\n          </div>\n        </ng-template>\n\n        <ng-template [yvcTab]=\"{id: 'restrictModification', label: 'eo.search.restrict.modification' | translate}\">\n          <div class=\"modified rest-box-container\" *ngIf=\"queryState.aggregations\">\n\n            <div class=\"rest-box box-timespan\">\n              <h3 translate>eo.search.agg.time.span</h3>\n              <div class=\"rest-item\" *ngFor=\"let agg of aggregationsModel[PARAMS.MODIFIED]\"\n                (click)=\"toggleFilter(PARAMS.MODIFIED, OPERATOR.RANGE, agg.key, agg.selected)\"\n                [ngClass]=\"{selected: agg.selected, saved: agg.saved}\">\n                <div class=\"label\">{{agg.label}}</div>\n                <div class=\"count\">{{agg.value | localeDecimal}}</div>\n              </div>\n            </div>\n\n            <div class=\"rest-box box-timespan-custom\">\n              <h3 translate>eo.search.agg.time.span.custom</h3>\n              <form #modifiedForm=\"ngForm\">\n                <eo-form-input [label]=\"'eo.search.agg.time.span' | translate\">\n                  <eo-datetime-range #modifiedField [(ngModel)]=\"filtersModel[PARAMS.MODIFIED].value\" name=\"range\"\n                    [operator]=\"filtersModel[PARAMS.MODIFIED].value ? filtersModel[PARAMS.MODIFIED].value.operator : OPERATOR.EQUAL\"\n                    [withTime]=\"modifiedField.searchOption && modifiedField.searchOption !== OPERATOR.EQUAL\"\n                    (ngModelChange)=\"setFilter(PARAMS.MODIFIED, OPERATOR.EQUAL, $event, modifiedForm)\">\n                  </eo-datetime-range>\n                </eo-form-input>\n              </form>\n            </div>\n\n            <div class=\"rest-box box-modifier\">\n              <h3 translate>eo.search.agg.modifier</h3>\n              <form #modifierForm=\"ngForm\">\n                <eo-form-input [label]=\"'eo.search.agg.modifiedby' | translate\">\n                  <eo-organization [multiselect]=\"true\" [(ngModel)]=\"filtersModel[PARAMS.MODIFIER].value\"\n                    name=\"modifier\" (onValueResolved)=\"resolveLabel(filtersModel[PARAMS.MODIFIER], $event)\"\n                    [situation]=\"'SEARCH'\"\n                    (ngModelChange)=\"setFilter(PARAMS.MODIFIER, OPERATOR.IN, $event, modifierForm)\"></eo-organization>\n                </eo-form-input>\n              </form>\n            </div>\n          </div>\n        </ng-template>\n\n        <ng-template [yvcTab]=\"{id: 'restrictFile', label: 'eo.search.restrict.file' | translate}\">\n          <div class=\"file rest-box-container\" *ngIf=\"queryState.aggregations\">\n\n            <div class=\"rest-box box-mimetype-group\">\n              <h3 translate>eo.search.restrict.mimetypegroup</h3>\n              <div class=\"rest-item\" *ngFor=\"let agg of aggregationsModel[PARAMS.MIMETYPEGROUP]\"\n                (click)=\"setFilter(PARAMS.MIMETYPEGROUP, OPERATOR.IN, resolveSelection(aggregationsModel[PARAMS.MIMETYPEGROUP], agg.key, agg.selected))\"\n                [ngClass]=\"{selected: agg.selected, saved: agg.saved}\">\n                <div class=\"checkbox\">\n                  <svg fill=\"#ffffff\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\" />\n                  </svg>\n                </div>\n                <div class=\"label\">{{agg.label}}</div>\n                <div class=\"count\">{{agg.value | localeDecimal}}</div>\n              </div>\n            </div>\n\n            <div class=\"rest-box box-filesize\">\n              <h3 translate>eo.search.restrict.filesize</h3>\n              <div class=\"rest-item\" *ngFor=\"let agg of aggregationsModel[PARAMS.FILESIZE]\"\n                (click)=\"toggleFilter(PARAMS.FILESIZE, OPERATOR.RANGE, agg.key, agg.selected)\"\n                [ngClass]=\"{selected: agg.selected, saved: agg.saved}\">\n                <div class=\"label\">{{agg.label}}</div>\n                <div class=\"count\">{{agg.value | localeDecimal}}</div>\n              </div>\n            </div>\n\n            <div class=\"rest-box box-filename\">\n              <h3 translate>eo.search.restrict.filename</h3>\n              <form #filenameForm=\"ngForm\">\n                <eo-form-input [label]=\"'eo.search.restrict.filename' | translate\">\n                  <eo-string [autocomplete]=\"true\" [qname]=\"'filename'\"\n                    [(ngModel)]=\"filtersModel[PARAMS.FILENAME].value\" name=\"filename\"\n                    (ngModelChange)=\"setFilter(PARAMS.FILENAME, OPERATOR.EQUAL, $event, filenameForm)\"></eo-string>\n                </eo-form-input>\n              </form>\n            </div>\n          </div>\n        </ng-template>\n      </yvc-tabs>\n\n      <!-- summary of the current search filters -->\n      <div class=\"summary-panel\">\n\n        <div class=\"headline stored-query\" *ngIf=\"isStoredQuery; else reghead\">\n          <div class=\"pre\" translate>eo.search.aside.summary.storedquery</div>\n          <div class=\"stored-query-name\">{{storedQuery.name}}</div>\n        </div>\n\n        <ng-template #reghead>\n          <div class=\"headline\" translate>eo.search.aside.summary</div>\n        </ng-template>\n\n        <section class=\"query-types\">\n          <div class=\"section section-searchterm\" *ngIf=\"query.term\">\n            <div class=\"title\" translate>eo.search.aside.summary.term</div>\n            <div class=\"filter\">\n              <div class=\"label\">{{query.term}}</div>\n              <eo-icon [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" (click)=\"removeTerm()\"></eo-icon>\n            </div>\n          </div>\n\n          <div class=\"section section-contexttype\" *ngIf=\"query.contextFolderTypes.length\">\n            <div class=\"title\" translate>eo.search.aside.summary.contextfoldertypes</div>\n            <div class=\"filter\" *ngFor=\"let type of query.contextFolderTypes\">\n              <div class=\"label\">{{type.label}}</div>\n              <eo-icon [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" (click)=\"removeContextType()\"></eo-icon>\n            </div>\n          </div>\n\n          <div class=\"section section-objecttype\" *ngIf=\"query.types.length\">\n            <div class=\"title\" translate>eo.search.aside.summary.types</div>\n            <div class=\"filter\" *ngFor=\"let type of query.types\">\n              <div class=\"label\">{{type.label}}</div>\n              <eo-icon [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" (click)=\"removeType(type)\"></eo-icon>\n            </div>\n          </div>\n\n          <ng-template #filterTemplate let-filter let-translate>\n            <ng-container *ngIf=\"filter.innerValue.length\">\n              <div class=\"filter\" *ngFor=\"let val of filter.innerValue; index as i\">\n                <div class=\"label\">{{filter.label[i] | async}}</div>\n                <eo-icon [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" (click)=\"resetFilter(filter, val)\"></eo-icon>\n              </div>\n            </ng-container>\n          </ng-template>\n\n          <div class=\"section section-creation\"\n            *ngIf=\"filtersModel[PARAMS.CREATED].innerValue.length || filtersModel[PARAMS.CREATOR].innerValue.length\">\n            <div class=\"title\" translate>eo.search.restrict.creation</div>\n            <ng-template [ngTemplateOutlet]=\"filterTemplate\"\n              [ngTemplateOutletContext]=\"{ $implicit: filtersModel[PARAMS.CREATED] }\"></ng-template>\n            <ng-template [ngTemplateOutlet]=\"filterTemplate\"\n              [ngTemplateOutletContext]=\"{ $implicit: filtersModel[PARAMS.CREATOR] }\"></ng-template>\n          </div>\n\n          <div class=\"section section-modification\"\n            *ngIf=\"filtersModel[PARAMS.MODIFIED].innerValue.length || filtersModel[PARAMS.MODIFIER].innerValue.length\">\n            <div class=\"title\" translate>eo.search.restrict.modification</div>\n            <ng-template [ngTemplateOutlet]=\"filterTemplate\"\n              [ngTemplateOutletContext]=\"{ $implicit: filtersModel[PARAMS.MODIFIED] }\"></ng-template>\n            <ng-template [ngTemplateOutlet]=\"filterTemplate\"\n              [ngTemplateOutletContext]=\"{ $implicit: filtersModel[PARAMS.MODIFIER] }\"></ng-template>\n          </div>\n\n          <div class=\"section section-mimetypegroup\"\n            *ngIf=\"filtersModel[PARAMS.MIMETYPEGROUP].innerValue.length || filtersModel[PARAMS.FILESIZE].innerValue.length || filtersModel[PARAMS.FILENAME].innerValue.length\">\n            <div class=\"title\" translate>eo.search.restrict.file</div>\n            <ng-template [ngTemplateOutlet]=\"filterTemplate\"\n              [ngTemplateOutletContext]=\"{ $implicit: filtersModel[PARAMS.MIMETYPEGROUP] }\"></ng-template>\n            <ng-template [ngTemplateOutlet]=\"filterTemplate\"\n              [ngTemplateOutletContext]=\"{ $implicit: filtersModel[PARAMS.FILESIZE] }\"></ng-template>\n            <ng-template [ngTemplateOutlet]=\"filterTemplate\"\n              [ngTemplateOutletContext]=\"{ $implicit: filtersModel[PARAMS.FILENAME] }\"></ng-template>\n          </div>\n        </section>\n\n        <div class=\"actions\" *ngIf=\"query.term || query.filters.length || query.types.length; else emptySearch\">\n\n          <ng-container *ngIf=\"isStoredQuery; else regactions\">\n            <button class=\"secondary btn-reset\" (click)=\"resetQuery()\" translate>eo.search.storedquery.close</button>\n            <button class=\"primary grey btn-update\" (click)=\"updateStoredQuery()\"\n              *ngIf=\"capabilities.storedqueries && isOwnQuery\" translate>eo.search.storedquery.update</button>\n            <button class=\"primary grey btn-save\" (click)=\"saveQuery()\"\n              *ngIf=\"capabilities.storedqueries && !isOwnQuery\" translate>eo.search.save</button>\n            <button class=\"primary btn-submit\" (click)=\"executeSearch()\" [disabled]=\"queryState.isEmpty\"\n              translate>eo.search.submit</button>\n          </ng-container>\n\n          <ng-template #regactions>\n            <button class=\"primary grey btn-reset\" (click)=\"resetQuery()\" translate>eo.search.reset</button>\n            <button class=\"primary grey btn-save\" (click)=\"saveQuery()\"\n              *ngIf=\"capabilities.storedqueries && !isOwnQuery\" translate>eo.search.save</button>\n            <button class=\"primary btn-submit\" (click)=\"executeSearch()\" [disabled]=\"queryState.isEmpty\"\n              translate>eo.search.submit</button>\n          </ng-template>\n\n\n        </div>\n\n        <ng-template #emptySearch>\n          <div class=\"empty-search\" translate>eo.search.summary.empty</div>\n        </ng-template>\n\n      </div>\n\n\n    </div>\n\n    <!-- expert mode body panel containing explanations -->\n    <ng-template #expert>\n      <div class=\"body expert\">\n\n        <div class=\"empty\" *ngIf=\"expertModeQueryEmpty\"><span translate>eo.search.mode.expert.result.empty</span></div>\n\n        <!--\n        <h2><span translate>eo.search.mode.expert</span></h2>\n        <div class=\"intro\" translate>eo.search.mode.expert.intro</div>\n\n        <div class=\"base-params fields\">\n          <h2 translate>eo.search.mode.expert.support.baseparams</h2>\n          <div class=\"items\">\n            <div class=\"item\" *ngFor=\"let el of expertModeSupport.baseParams\" (click)=\"xpAddToTerm(el.data)\">\n              <div class=\"label\"><span>{{el.label}}</span></div>\n              <div class=\"data\">{{el.data}}</div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"system-types fields\">\n\n          <div class=\"column column-group\">\n            <h2 translate>eo.search.mode.expert.support.group</h2>\n            <div class=\"items\">\n              <div class=\"item\" *ngFor=\"let group of typeGroupTree\"\n                   [ngClass]=\"{selected: expertModeSupport.selectedGroup && group.id === expertModeSupport.selectedGroup.id}\"\n                   (click)=\"xpSelectGroup(group)\">\n                <div *ngIf=\"group.label !== '0'\">{{group.label}}</div>\n                <div *ngIf=\"group.label === '0'\">{{'eo.search.group.general' | translate}}</div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"column column-type\" *ngIf=\"expertModeSupport.selectedGroup\">\n            <h2 translate>eo.search.mode.expert.support.type</h2>\n            <div class=\"items\">\n              <div class=\"item\" *ngFor=\"let type of expertModeSupport.selectedGroup.tree\"\n                   [ngClass]=\"{selected: expertModeSupport.selectedType && type.id === expertModeSupport.selectedType.id}\"\n                   (click)=\"xpSelectType(type)\">\n                <div>{{type.label}}</div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"column section-field\" *ngIf=\"expertModeSupport.selectedType\">\n            <h2 translate>eo.search.mode.expert.support.field</h2>\n            <div class=\"items\">\n              <div class=\"item\" *ngFor=\"let el of expertModeSupport.selectedType.children\" (click)=\"xpAddToTerm(el.data)\">\n                <div class=\"label\"><span>{{el.label}}</span><span class=\"type\">{{el.type}}</span></div>\n                <div class=\"data\">{{el.data}}</div>\n              </div>\n            </div>\n          </div>\n\n        </div>\n\n        -->\n      </div>\n    </ng-template>\n  </div>\n  <!-- </eo-dialog> -->\n</ng-template>\n","import {ObjectType} from '@eo-sdk/core';\nimport {ObjectFormOptions} from '../../../object-form/object-form-options.interface';\n\nexport interface IdxSearch {\n    type: ObjectType;\n    contextFolderType: ObjectType;\n    contextModels?: any[];\n    contextAggregations?: {};\n    contextFormOptions?: ObjectFormOptions;\n    formOptions?: ObjectFormOptions;\n  }\n  \n  export enum ContextType {\n    'sysroot' = 'sysroot'\n  }","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {SearchQuery} from '@eo-sdk/core';\nimport {IdxSearch} from '../app-search/app-search.interface';\n\n@Component({\n  selector: 'eo-context-search',\n  templateUrl: './context-search.component.html',\n  styleUrls: ['./context-search.component.scss']\n})\nexport class ContextSearchComponent {\n\n  @Input() ctx;\n  @Input() query: SearchQuery;\n  @Input() idxSearch: IdxSearch;\n  @Input() selected = null;\n  @Input() disabled = null;\n\n  @Output() setContext: EventEmitter<String> = new EventEmitter<String>();\n\n  get isSelected() {\n    return this.selected;\n  }\n\n  get isDisabled() {\n    return this.disabled || this.noResults;\n  }\n\n  get noResults() {\n    const contextAggregations = this.idxSearch ? this.idxSearch.contextAggregations : null;\n    const contextFolderTypes = this.query ? this.query.contextFolderTypes : null;\n    return contextAggregations && !contextAggregations[this.ctx.name] && !(contextFolderTypes && contextFolderTypes.length)\n  }\n\n  settingContext(name) {\n    if (!this.noResults) {\n      this.setContext.emit(name);\n    }\n  }\n}\n","<div class=\"ctx-item\"  [ngClass]=\"{noResult: noResults, disabled: isDisabled, selected: isSelected}\" (click)=\"settingContext(ctx.name)\">\n  <span>{{ctx.label}}</span>\n  <span class=\"count\">\n    <div class=\"badge\" *ngIf=\"idxSearch.contextAggregations && idxSearch.contextAggregations[ctx.name]\">{{idxSearch.contextAggregations[ctx.name]}}</div>\n  </span>\n  <eo-icon class=\"open\" [iconSrc]=\"'assets/_default/svg/ic_arrow_down.svg'\"></eo-icon>\n  <eo-icon class=\"close\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\"></eo-icon>\n</div>\n","import {ChangeDetectorRef, Component, ElementRef, EventEmitter, OnInit, Output} from '@angular/core';\nimport {DomSanitizer, SafeResourceUrl} from '@angular/platform-browser';\nimport {Capabilities, CapabilitiesService, Config, UserService} from '@eo-sdk/core';\n\n\n\n@Component({\n  selector: 'eo-side-bar',\n  templateUrl: './side-bar.component.html',\n  styleUrls: ['./side-bar.component.scss']\n})\nexport class SideBarComponent implements OnInit {\n\n  capabilities: Capabilities;\n  backgroundImage: SafeResourceUrl;\n\n  userLang: string;\n  docu: { link: string, label: string };\n\n  @Output()\n  public eoOutsideClick = new EventEmitter();\n\n  constructor(private capabilityService: CapabilitiesService,\n              private config: Config,\n              private sanitizer: DomSanitizer,\n              private elemRef: ElementRef) {\n\n  }\n\n  getCapabilities() {\n    this.capabilities = this.capabilityService.getCapabilities();\n  }\n\n  setBackgroundImage() {\n    this.backgroundImage = this.sanitizer.bypassSecurityTrustStyle(`url(${this.config.getSideBarHeaderImage()})`);\n  }\n\n  close() {\n    this.eoOutsideClick.emit();\n  }\n\n  ngOnInit() {\n    this.elemRef.nativeElement.querySelector('[tabindex=\"0\"]').focus();\n    this.getCapabilities();\n    this.setBackgroundImage();\n  }\n}\n","<div class=\"eo-side-bar\" eoTrapFocus>\n  <eo-icon (click)=\"close()\" (keydown.enter)=\"close()\" tabindex=\"0\" class=\"button white close\"\n    [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" focusable></eo-icon>\n\n  <div class=\"head\" [style.background-image]=\"backgroundImage\"></div>\n\n  <div class=\"body\">\n        <div class=\"navigation\">\n          <div class=\"nav-item\" *ngIf=\"capabilities.favorites\">\n            <a routerLink=\"/favorites\" routerLinkActive=\"active-link\"\n               translate>eo.view.navigation.favorites</a>\n          </div>\n          <div class=\"nav-item\" *ngIf=\"capabilities.inbox\">\n            <a routerLink=\"/inbox\" routerLinkActive=\"active-link\"\n               translate>eo.view.navigation.inbox</a>\n          </div>\n\n          <div class=\"nav-item\" *ngIf=\"capabilities.intray\">\n            <a routerLink=\"/prepare\" routerLinkActive=\"active-link\"\n               translate>eo.view.navigation.prepare</a>\n          </div>\n\n          <div class=\"nav-item\" *ngIf=\"capabilities.bpm\">\n            <a routerLink=\"/process\" routerLinkActive=\"active-link\"\n               translate>eo.view.navigation.process</a>\n          </div>\n\n          <div class=\"nav-item\" *ngIf=\"capabilities.notifications\">\n            <a routerLink=\"/notifications\" routerLinkActive=\"active-link\"\n              translate>eo.view.navigation.notifications</a>\n          </div>\n\n          <div class=\"nav-item\" *ngIf=\"capabilities.storedqueries\">\n            <a routerLink=\"/stored-queries\" routerLinkActive=\"active-link\"\n              translate>eo.view.navigation.storedqueries</a>\n          </div>\n\n          <div class=\"nav-item\" *ngIf=\"capabilities.recyclebin\">\n            <a routerLink=\"/recyclebin\" routerLinkActive=\"active-link\"\n               translate>eo.view.navigation.recyclebin</a>\n          </div>\n          <ng-content select=\".navi\"></ng-content>\n          <div class=\"nav-item\" >\n            <a routerLink=\"/about\" translate>eo.sidebar.help.about.tooltip</a>\n          </div>\n        </div>\n  </div>\n</div>\n","import {RouterModule, Routes} from '@angular/router';\nimport {AppSearchComponent} from './app-bar/app-search/app-search.component';\nimport {AppAddComponent} from './app-bar/app-add/app-add.component';\nimport {NgModule} from '@angular/core';\nimport {AppProcessComponent} from './app-bar/app-process/app-process.component';\n\nconst routes: Routes = [\n  {\n    path: 'search',\n    component: AppSearchComponent,\n    outlet: 'modal'\n  },\n  {\n    path: 'add',\n    component: AppAddComponent,\n    outlet: 'modal'\n  },\n  {\n    path: 'actions',\n    component: AppProcessComponent,\n    outlet: 'modal'\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AppShellRoutingModule {\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {UiModule} from '../ui/ui.module';\nimport {AppBarComponent} from './app-bar/app-bar.component';\nimport {ContextSearchComponent} from './app-bar/context-search/context-search.component';\nimport {SideBarComponent} from './app-bar/side-bar/side-bar.component';\nimport {AppSearchComponent} from './app-bar/app-search/app-search.component';\nimport {AppAddComponent} from './app-bar/app-add/app-add.component';\nimport {EoSharedModule} from '@eo-sdk/core';\nimport {YvcTabsModule} from '@yuuvis/components/tabs';\n\nimport {AppShellRoutingModule} from './app-shell-routing.module';\nimport {ShortcutsModule} from '../shortcuts/shortcuts.module';\nimport {FormElementsModule} from '../form-elements/form-elements.module';\nimport {ObjectFormModule} from '../object-form/object-form.module';\nimport {AppAddDialogComponent} from './app-bar/app-add/app-add-dialog/app-add-dialog.component';\nimport {ActionModule} from '../actions/action.module';\nimport {UtilModule} from '../util/util.module';\nimport {CtaModule} from '../cta/cta.module';\nimport {AppProcessComponent} from './app-bar/app-process/app-process.component';\nimport {ProcessFormModule} from '../process-form/process-form.module';\nimport {YvcAutocompleteModule} from '@yuuvis/components/autocomplete';\nimport {YvcDialogModule} from '@yuuvis/components/dialog';\n\n/**\n * Module holding the base components of the application shell like application bar, side, search etc.\n */\n\n@NgModule({\n  imports: [\n    AppShellRoutingModule,\n    CommonModule,\n    FormsModule,\n    UiModule,\n    UtilModule,\n    EoSharedModule,\n    YvcTabsModule,\n    FormElementsModule,\n    ObjectFormModule,\n    ShortcutsModule,\n    ActionModule,\n    CtaModule,\n    ProcessFormModule,\n    YvcAutocompleteModule,\n    YvcDialogModule,\n  ],\n  exports: [AppBarComponent],\n  declarations: [\n    AppBarComponent,\n    SideBarComponent,\n    AppSearchComponent,\n    AppAddComponent,\n    AppAddDialogComponent,\n    ContextSearchComponent,\n    AppProcessComponent,\n  ]\n})\nexport class EoAppShellModule {\n}\n","export * from './app-shell.module';\nexport * from './app-bar/app-bar.component';\n\nexport * from './app-bar/app-add/app-add.component';\nexport * from './app-bar/app-add/app-add-dialog/app-add-dialog.component';\n\nexport * from './app-bar/app-search/app-search.component';\nexport * from './app-bar/context-search/context-search.component';\n\nexport * from './app-bar/side-bar/side-bar.component';\n\n\n\n\n","import {Component, Input} from '@angular/core';\n\n@Component({\n  selector: 'eo-cta',\n  templateUrl: './cta.component.html',\n  styleUrls: ['./cta.component.scss']\n})\nexport class CtaComponent {\n\n  @Input() active = false;\n}\n","<section class=\"cta\" [ngClass]=\"{active: active}\">\n  <ng-content></ng-content>\n</section>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CtaComponent } from './component/cta.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [CtaComponent],\n  exports: [CtaComponent]\n})\nexport class CtaModule { }\n","export * from './cta.module';\nexport * from './component/cta.component';\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {RouterModule} from '@angular/router';\nimport {YvcTabsModule} from '@yuuvis/components/tabs';\nimport {PipesModule} from '../eo-framework-core/pipes/pipes.module';\nimport {AccordionModule} from './accordion/accordion.module';\nimport {ActionModule} from './actions/action.module';\nimport {EoAppShellModule} from './app-shell/app-shell.module';\nimport {CtaModule} from './cta/cta.module';\nimport {ErrorModule} from './error/error.module';\nimport {FormElementsModule} from './form-elements/form-elements.module';\nimport {FrameComponent} from './frame/frame.component';\nimport {GridModule} from './grid/grid.module';\nimport {DuetimeInfoComponent} from './inbox-details/duetimeInfo/duetimeInfo.component';\nimport {InboxDetailsComponent} from './inbox-details/inbox-details.component';\nimport {ListContainerModule} from './list-container/list-container.module';\nimport {MediaModule} from './media/media.module';\nimport {ObjectDetailsModule} from './object-details/object-details.module';\nimport {ObjectFormModule} from './object-form/object-form.module';\nimport {ObjectStateDetailsComponent} from './object-state-details/object-state-details.component';\nimport {PluginsModule} from './plugins/plugins.module';\nimport {PrepareContentExistsInfoComponent} from './prepare-details/prepare-content-exists-info/prepare-content-exists-info.component';\nimport {PrepareDetailsComponent} from './prepare-details/prepare-details.component';\nimport {ProcessDetailsComponent} from './process/details/process-details.component';\nimport {ProcessHistoryComponent} from './process/history/process-history.component';\nimport {ProcessFileComponent} from './process/process-file/process-file.component';\nimport {QuickSearchModule} from './quick-search/quick-search.module';\nimport {ResultListModule} from './result-list/result-list.module';\nimport {SettingsModule} from './settings/settings.module';\nimport {ShortcutsModule} from './shortcuts/shortcuts.module';\nimport {StoredQueryModule} from './stored-query/stored-query.module';\nimport {TreeModule} from './tree/tree.module';\nimport {UiModule} from './ui/ui.module';\nimport {UploadOverlayComponent} from './upload-overlay/upload-overlay.component';\nimport {UtilModule} from './util/util.module';\nimport {YvcSplitViewModule} from '@yuuvis/components/split-view';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    EoAppShellModule,\n    ObjectFormModule,\n    UiModule,\n    ObjectDetailsModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MediaModule,\n    TreeModule,\n    ShortcutsModule,\n    QuickSearchModule,\n    UtilModule,\n    StoredQueryModule,\n    GridModule,\n    PipesModule,\n    ListContainerModule,\n    CtaModule,\n    ErrorModule,\n    SettingsModule,\n    AccordionModule,\n    PluginsModule,\n    RouterModule,\n    ActionModule,\n    YvcTabsModule,\n    YvcSplitViewModule\n  ],\n  declarations: [\n    UploadOverlayComponent,\n    PrepareDetailsComponent,\n    InboxDetailsComponent,\n    ProcessHistoryComponent,\n    ProcessDetailsComponent,\n    ProcessFileComponent,\n    FrameComponent,\n    ObjectStateDetailsComponent,\n    DuetimeInfoComponent,\n    PrepareContentExistsInfoComponent\n  ],\n  exports: [\n    MediaModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ObjectFormModule,\n    EoAppShellModule,\n    UiModule,\n    PipesModule,\n    ResultListModule,\n    ObjectDetailsModule,\n    TreeModule,\n    ShortcutsModule,\n    QuickSearchModule,\n    UtilModule,\n    StoredQueryModule,\n    GridModule,\n    UploadOverlayComponent,\n    FormElementsModule,\n    PrepareDetailsComponent,\n    InboxDetailsComponent,\n    ListContainerModule,\n    ErrorModule,\n    ProcessDetailsComponent,\n    ProcessHistoryComponent,\n    ProcessFileComponent,\n    SettingsModule,\n    AccordionModule,\n    PluginsModule,\n    FrameComponent,\n    ObjectStateDetailsComponent\n  ]\n})\nexport class EoFrameworkModule {\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {NotFoundComponent} from './not-found/not-found.component';\nimport {Error404Component} from './error404/error404.component';\nimport {UiModule} from '../ui/ui.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    UiModule\n  ],\n  declarations: [\n    NotFoundComponent,\n    Error404Component\n  ],\n  exports: [\n    NotFoundComponent,\n    Error404Component\n  ]\n})\nexport class ErrorModule {\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'eo-error404',\n  templateUrl: './error404.component.html',\n  styleUrls: ['./error404.component.scss']\n})\nexport class Error404Component {\n}\n","<section class=\"not-found\">\n  <header class=\"header\">\n    <h3 class=\"title\">\n      <span translate>eo.status.404.title</span>\n      <span class=\"description\" translate>eo.status.404.description</span>\n    </h3>\n    <eo-icon class=\"icon\" [iconSrc]=\"'assets/_default/svg/ic_error.svg'\"></eo-icon>\n  </header>\n</section>\n\n","export * from './error.module';\nexport * from './error404/error404.component';\nexport * from './not-found/not-found.component';\n","import {Component} from '@angular/core';\nimport {Title} from '@angular/platform-browser';\nimport {PageTitleService} from '../../../eo-framework-core/title/page-title.service';\n\n/**\n * Used as 404 state for apps routing\n */\n\n@Component({\n  selector: 'eo-not-found',\n  template: '<eo-error404></eo-error404>'\n})\nexport class NotFoundComponent {\n\n  constructor(private titleService: PageTitleService) {\n    this.titleService.setDefaultTitle();\n  }\n\n\n}\n","import {Component, forwardRef, Input} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\n\n@Component({\n  selector: 'eo-checkbox',\n  templateUrl: './checkbox.component.html',\n  styleUrls: ['./checkbox.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => CheckboxComponent),\n      multi: true\n    }\n  ]\n})\nexport class CheckboxComponent implements ControlValueAccessor {\n\n  value: boolean;\n\n  @Input() tristate = false;\n  @Input() readonly: boolean;\n  //@Input() filter: any;\n\n  constructor() {\n  }\n\n  reset(): void {\n    this.value = null;\n    this.propagateChange(this.value);\n  }\n\n  propagateChange = (_: any) => {\n  }\n\n  writeValue(value: any): void {\n    if (typeof value === 'undefined') {\n      this.value = null;\n    } else {\n      this.value = value;\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  onChange(value) {\n    this.propagateChange(this.value);\n  }\n\n}\n","<yvc-checkbox [(ngModel)]=\"value\" (ngModelChange)=\"onChange($event)\"\n[tristate]=\"tristate\"\n[readonly]=\"readonly\"></yvc-checkbox>\n\n","import {Component, forwardRef, Input, OnInit, ViewChild} from '@angular/core';\nimport {ControlValueAccessor, NG_VALIDATORS, NG_VALUE_ACCESSOR, UntypedFormControl, Validator} from '@angular/forms';\nimport {ICodeSystem, SystemService} from '@eo-sdk/core';\nimport {AutoComplete} from '@yuuvis/components/autocomplete';\n\nimport {TreeNode} from '../../tree/tree.component.interface';\n\n@Component({\n  selector: 'eo-codesystem',\n  templateUrl: './codesystem.component.html',\n  styleUrls: ['./codesystem.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => CodesystemComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => CodesystemComponent),\n      multi: true\n    }\n  ]\n})\nexport class CodesystemComponent\n  implements OnInit, ControlValueAccessor, Validator {\n  @ViewChild('autocomplete') autoCompleteInput: AutoComplete;\n  @ViewChild('button') autoCompleteButton;\n\n  display = false;\n  private dirty = false;\n  private isValid = true;\n  value;\n  //codesystemElement;\n  tree: TreeNode[];\n  private _selectedNodes: any;\n  set selectedNodes(n: any) {\n    this._selectedNodes = structuredClone(n);\n  }\n  get selectedNodes() {\n    return this._selectedNodes;\n  }\n\n  autocompleteRes;\n  autocompleteValues: TreeNode[] = [];\n\n  /** filter function that can be set by form script developers. When set this function will be private filterFunction: Function; */\n\n  /** current form situation */\n  @Input() situation: string;\n  @Input() pickerTitle: string;\n  @Input() placeholder: string;\n  @Input() codesystem: ICodeSystem;\n  @Input() multiselect: boolean;\n  @Input() readonly: boolean;\n  @Input() inputStyleClass = '';\n\n  private _filterFunc: Function;\n  private _disablingFilterFunc: Function;\n\n  @Input('filterFunction')\n  set filterFunction(func: Function) {\n    this._filterFunc = func;\n    this.buildTree();\n  }\n\n  @Input('disablingFilterFunction')\n  set disablingFilterFunction(func: Function) {\n    this._disablingFilterFunc = func;\n    this.buildTree();\n  }\n\n  constructor(private systemService: SystemService) {\n  }\n\n  protected _getCodesystemByQname(qname: string): ICodeSystem {\n    const cs: Partial<ICodeSystem> = {};\n    const objectType = this.systemService.getObjectType(qname.split('.')[0]);\n    if (objectType && objectType.elements) {\n      const el = objectType.elements.find(e => e.qname === qname) || {};\n      Object.assign(cs, el.codesystem);\n    }\n    cs.entries = this.systemService.getCodesystem(this.codesystem.id).entries;\n    return (cs as ICodeSystem);\n  }\n\n  ngOnInit() {\n    /** load codesystem entries if they aren't attached */\n    if (this.codesystem && !this.codesystem.entries) {\n      this.codesystem.entries = this.systemService.getCodesystem(this.codesystem.id).entries;\n    }\n    // in search situation codesystems are always multiselectable\n    if (this.situation === 'SEARCH') {\n      this.multiselect = true;\n    }\n    this.buildTree();\n  }\n\n  propagateChange = (_: any) => {\n  };\n\n  writeValue(value: any): void {\n    this.dirty = false;\n    this.value = value || null;\n    const values = !this.value || Array.isArray(this.value) ? this.value || [] : [this.value];\n    if (value === null || value === undefined) {\n      if (this.multiselect) {\n        this.selectedNodes = [];\n      } else {\n        this.selectedNodes = null;\n      }\n    }\n    const nodes = !this.selectedNodes || Array.isArray(this.selectedNodes) ? this.selectedNodes || [] : [this.selectedNodes];\n\n    if (this.codesystem && (nodes.length !== values.length || nodes.some((n, i) => n.data.data !== values[i]))) {\n      this.buildTree();\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  // handler invoked when an entry was selected using the autocomplete input\n  onAutoCompleteSelect(node?) {\n    const wasInvalid = !this.isValid;\n    this.isValid = true;\n    //this.updateTree();\n    this.setFormControlValue(wasInvalid);\n  }\n\n  onAutocompleteValueChange(v: any) {\n    if (v === null) {\n      this.selectedNodes = null\n      this.setFormControlValue();\n    }\n  }\n\n  // handler invoked when an entry was deselected using the autocomplete input\n  onAutoCompleteUnselect(node?) {\n    this.selectedNodes = this.selectedNodes.filter(\n      sNode => sNode.id !== node.id\n    );\n    //this.updateTree();\n    this.setFormControlValue();\n  }\n\n  // triggered when the selection was changed by\n  onTreeSelectionChanged(evt) {\n    if (!this.multiselect) {\n      // hide the dialog\n      this.display = false;\n    }\n    const wasInvalid = !this.isValid;\n    this.isValid = true;\n    this.setFormControlValue(wasInvalid);\n  }\n\n  onClear() {\n    if (!this.multiselect) {\n      this.selectedNodes = null;\n    }\n    this.setFormControlValue();\n  }\n\n  /**\n   * Sets and propagates the form controls value based on the components inner values. Propagates only\n   * when the value has changed.\n   * @param forcePropagation - forces propagation even if the value hasn't been changed\n   */\n  private setFormControlValue(forcePropagation?: boolean) {\n    let v;\n    let changed: boolean;\n    if (this.multiselect) {\n      v = this.selectedNodes.map(node => node.data.data);\n      changed =\n        !this.value ||\n        !(\n          v.length === this.value.length &&\n          v.every(val => this.value.some(curVal => curVal === val))\n        );\n    } else {\n      v = this.selectedNodes ? this.selectedNodes.data.data : null;\n      changed = v !== this.value;\n    }\n    // only propagate the change if the value is different from the current one\n    // otherwise we would always set the dirty flag although nothing changed\n    if (changed || forcePropagation) {\n      this.value = v;\n      this.propagateChange(this.value);\n    }\n  }\n\n  // build the tree for the dialog\n  private buildTree() {\n\n    this.selectedNodes = this.multiselect ? [] : null;\n    this.autocompleteValues = [];\n    let tree: TreeNode[] = [];\n    for (let i = 0; i < this.codesystem.entries.length; i++) {\n      this.addTreeNode(tree, this.codesystem.entries[i]);\n    }\n    this.tree = tree;\n  }\n\n  private addTreeNode(parentNode: TreeNode[], codesystemEntry) {\n    if (this._filterFunc && !this._filterFunc(codesystemEntry)) {\n      return;\n    }\n    let node: TreeNode = this.csEntryToTreeNode(codesystemEntry);\n    if (node.selectable) {\n      /** add selectable nodes to autocomplete values */\n      this.autocompleteValues.push(node);\n    }\n    if (codesystemEntry.subentries) {\n      node.children = [];\n\n      for (let i = 0; i < codesystemEntry.subentries.length; i++) {\n        this.addTreeNode(node.children, codesystemEntry.subentries[i]);\n      }\n    }\n    this.checkSelected(node);\n    parentNode.push(node);\n  }\n\n  // some nodes are only visible in some cases.\n  private isHidden(codesystemEntry) {\n    return (\n      (this.situation === 'CREATE' && !codesystemEntry.allowedonnew) ||\n      (this.situation === 'EDIT' && !codesystemEntry.allowedonupdate) ||\n      (this._disablingFilterFunc && this._disablingFilterFunc(codesystemEntry))\n    );\n  }\n\n  private checkSelected(node: TreeNode) {\n    if (!this.value) {\n      return;\n    }\n    if (this.multiselect) {\n      for (let i = 0; i < this.value.length; i++) {\n        if (node.data.data === this.value[i]) {\n          node.selected = true;\n          this.selectedNodes.push(node);\n        }\n      }\n    } else {\n      if (node.data.data === this.value) {\n        node.selected = true;\n        this.selectedNodes = node;\n      }\n    }\n  }\n\n  autocompleteFn(term: string) {\n    this.autocompleteRes = this.autocompleteValues.filter(acNode => {\n      if (this._filterFunc && !this._filterFunc(acNode.data)) {\n        return false;\n      }\n      // skip nodes that are already selected\n      if (this.multiselect) {\n        if (\n          this.selectedNodes.find(node => acNode.data.data === node.data.data)\n        ) {\n          return false;\n        }\n      }\n      return acNode.name.toLowerCase().indexOf(term.toLowerCase()) !== -1;\n    });\n  }\n\n  // transform codesystem entry to tree node\n  private csEntryToTreeNode(codesystemEntry): TreeNode {\n    // determine whether or not the tree node should be selectable\n    let selectable = false;\n    if (this.codesystem.allelementsselectable) {\n      // case: all elements are selectable. This means that not only leaf nodes\n      // are selectable but also their parent nodes\n      selectable = true;\n    } else {\n      // case: only leaf nodes are selectable\n      selectable = !(\n        codesystemEntry.subentries && codesystemEntry.subentries.length > 0\n      );\n    }\n    return {\n      id: codesystemEntry.id,\n      name: codesystemEntry.defaultrepresentation,\n      children: [],\n      expanded: false,\n      selected: false,\n      selectable: selectable && !this.isHidden(codesystemEntry),\n      data: codesystemEntry\n    };\n  }\n\n  showDialog(event?, display = true) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n      //ignore synthetized events on enter\n      if (event.type === 'click' && event.detail === 0) {\n        return;\n      }\n    }\n    this.display = !!display;\n  }\n\n  // returns null when valid else the validation object\n  public validate(c: UntypedFormControl) {\n    return this.isValid\n      ? null\n      : {\n        codesystem: {\n          valid: false\n        }\n      };\n  }\n}\n","<eo-dialog [title]=\"pickerTitle || ''\" [(visible)]=\"display\" *ngIf=\"display\">\n  <eo-tree [tree]=\"tree\" [isDisplayed]=\"display\" *ngIf=\"display\" [options]=\"{multiselect: multiselect}\"\n    [(ngModel)]=\"selectedNodes\" (ngModelChange)=\"onTreeSelectionChanged($event)\" [readonly]=\"readonly\"\n    [isDisplayed]=\"display\" (keyup.enter)=\"showDialog($event, false)\">\n  </eo-tree>\n</eo-dialog>\n\n<div class=\"eo-codesystem\" *ngIf=\"codesystem\"\n  [ngClass]=\"{full: selectedNodes && selectedNodes.length === autocompleteValues.length, readonly: readonly}\">\n\n  <yvc-autocomplete #autocomplete (suggestionSelect)=\"onAutoCompleteSelect($event)\"\n    (suggestionUnselect)=\"onAutoCompleteUnselect($event)\"\n    [autocompleteValues]=\"autocompleteRes\" field=\"name\" [disabled]=\"readonly\" [placeholder]=\"placeholder\"\n    [forceSelection]=\"true\" (autocompleteFnc)=\"autocompleteFn($event)\" [multiple]=\"multiselect\"\n    (ngModelChange)=\"onAutocompleteValueChange($event)\"\n    [(ngModel)]=\"selectedNodes\">\n  </yvc-autocomplete>\n  <button type=\"button\" #button (click)=\"showDialog($event, $event.detail)\" *ngIf=\"!readonly\"\n    (keyup.arrowDown)=\"showDialog($event)\" (keyup.enter)=\"showDialog($event)\" (keyup.space)=\"showDialog($event)\">\n    <eo-icon [iconSrc]=\"'assets/_default/svg/ic_arrow_down.svg'\"></eo-icon>\n  </button>\n</div>","import {Component, forwardRef, Input, OnDestroy} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {TranslateService} from '@eo-sdk/core';\nimport {DatepickerLabels} from '@yuuvis/components/datepicker';\nimport {Subscription} from 'rxjs';\nimport {LocaleDatePipe} from '../../../eo-framework-core/pipes/locale-date.pipe';\n\n@Component({\n  selector: 'eo-date',\n  templateUrl: './date.component.html',\n  styleUrls: ['./date.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DateComponent),\n      multi: true,\n    }\n  ],\n})\nexport class DateComponent implements ControlValueAccessor, OnDestroy {\n\n  @Input() withTime: boolean = false;\n  @Input() readonly: boolean = false;\n\n  private _sub: Subscription;\n  private datePipe: LocaleDatePipe;\n  value: Date | null = null;\n  labels?: DatepickerLabels;\n  locale: string = this.translate.currentLang;\n\n  constructor(private translate: TranslateService) {\n    this.datePipe = new LocaleDatePipe(translate);\n    this._setLabels(this.locale)\n    this._sub = this.translate.onLangChange.subscribe({\n      next: (lang) => {\n        this.locale = lang.lang;\n        this._setLabels(this.locale)\n      }\n    })\n  }\n\n  propagateChange = (_: any) => { };\n  validationChange = () => { };\n\n  writeValue(value: any): void {\n    this.value = value || null;\n  }\n\n  registerOnChange(fn: () => void): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnValidatorChange?(fn: () => void): void {\n    this.validationChange = fn;\n  }\n\n  registerOnTouched(fn: () => void): void { }\n\n  onValueChange(e) {\n    this.propagateChange(e);\n  }\n\n  formatDate(value: Date) {\n    return !value ? null :\n      this.withTime ? value.toISOString().replace(':00.000', '') : this.datePipe.transform(value, 'yyyy-MM-dd');\n  }\n\n  private _setLabels(iso: string) {\n    this.labels = {\n      calendarApply: this.translate.instant('eo.datepicker.calendar.select'),\n      calendarCancel: this.translate.instant('eo.datepicker.calendar.cancel'),\n      shortcut: {today: this.translate.instant('eo.datepicker.calendar.today'), }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this._sub!.unsubscribe();\n  }\n}\n","<yvc-datepicker [calendar]=\"true\" [disabled]=\"readonly\" [locale]=\"locale\" [withTime]=\"withTime\" [labels]=\"labels\"\n    [hour12]=\"locale === 'en'\" [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"value\"\n    (ngModelChange)=\"onValueChange($event)\"></yvc-datepicker>","import {Directive, Input, HostListener} from '@angular/core';\n\n@Directive({\n  selector: '[eoYearRange]'\n})\nexport class YearRangeDirective {\n\n  private _selectedYear: string;\n  @Input() rangeMin = 0;\n  @Input() rangeMax = 9999;\n\n  @HostListener('input', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    const input = event.target as HTMLInputElement;\n    const year = +input.value;\n\n    if (year && year < this.rangeMin) {\n      input.value = '' + this.rangeMin;\n    } else if (year && year > this.rangeMax) {\n      input.value = input.value.slice(0, -1);\n    } else {\n      this.selectedYear = `${year}`;\n      input.value = this.selectedYear;\n    }\n  }\n\n  set selectedYear(year: string) {\n    this._selectedYear = year;\n  }\n\n  get selectedYear() {\n    return this._selectedYear;\n  }\n\n  constructor() {\n  }\n}\n","import {Component, Input, OnInit, forwardRef, HostBinding} from '@angular/core';\nimport {\n  UntypedFormGroup,\n  UntypedFormControl,\n  ControlValueAccessor,\n  Validator,\n  UntypedFormBuilder,\n  NG_VALUE_ACCESSOR,\n  NG_VALIDATORS\n} from '@angular/forms';\nimport {RangeValue, SearchFilter, TranslateService} from '@eo-sdk/core';\nimport {LocaleDatePipe} from '../../../eo-framework-core/pipes/locale-date.pipe';\n\n@Component({\n  selector: 'eo-datetime-range',\n  templateUrl: './datetime-range.component.html',\n  styleUrls: ['./datetime-range.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DatetimeRangeComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => DatetimeRangeComponent),\n      multi: true,\n    }\n  ],\n  host: {\n    class: 'form-element-range'\n  }\n})\nexport class DatetimeRangeComponent implements OnInit, ControlValueAccessor, Validator {\n\n  @Input() withTime: boolean;\n  @Input() pickerTitle: string;\n  @Input() operator = 'eq';\n\n  @HostBinding('class.swap') swapInputs: boolean = false;\n\n  rangeForm: UntypedFormGroup;\n  value: RangeValue;\n  private isValid = true;\n\n  // options for search situation\n  public availableSearchOptions = [\n    {label: RangeValue.getOperatorLabel(SearchFilter.OPERATOR.EQUAL), value: SearchFilter.OPERATOR.EQUAL},\n    {label: RangeValue.getOperatorLabel(SearchFilter.OPERATOR.GREATER_OR_EQUAL), value: SearchFilter.OPERATOR.GREATER_OR_EQUAL},\n    {label: RangeValue.getOperatorLabel(SearchFilter.OPERATOR.LESS_OR_EQUAL), value: SearchFilter.OPERATOR.LESS_OR_EQUAL},\n    {label: RangeValue.getOperatorLabel(SearchFilter.OPERATOR.INTERVAL_INCLUDE_BOTH), value: SearchFilter.OPERATOR.INTERVAL_INCLUDE_BOTH}\n  ];\n  // the selected search option\n  public searchOption: string;\n  datePipe: LocaleDatePipe;\n\n  constructor(private fb: UntypedFormBuilder, public translate: TranslateService) {\n    this.datePipe = new LocaleDatePipe(translate);\n  }\n\n  createForm() {\n    this.rangeForm = this.fb.group({\n      dateValue: [],\n      dateValueFrom: []\n    });\n  }\n\n  onFormValueChange() {\n    this.rangeForm.valueChanges.subscribe(() => this.onValueChange());\n  }\n\n  propagateChange = (_: any) => {}\n  validationChange = () => {};\n\n  writeValue(value: RangeValue): void {\n    this._setValue(value);\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnValidatorChange?(fn: () => void): void {\n    this.validationChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  onValueChange() {\n\n    let dateValue = this.formatDate(this.rangeForm.get('dateValue').value);\n    if (this.searchOption === SearchFilter.OPERATOR.INTERVAL_INCLUDE_BOTH) {\n      let dateValueFrom = this.formatDate(this.rangeForm.get('dateValueFrom').value) || new Date().toISOString();\n\n      if (dateValueFrom || dateValue) {\n        this.isValid = this.rangeForm.valid && !!dateValueFrom && !!dateValue;\n        this.swapInputs = dateValueFrom && dateValue && dateValueFrom > dateValue;\n        this._setValue(new RangeValue(\n          this.searchOption,\n          this.swapInputs ? dateValue : dateValueFrom,\n          this.swapInputs ? dateValueFrom : dateValue\n        ));\n        this.validationChange();\n      }\n    } else {\n      this.swapInputs = false;\n      this.isValid = this.rangeForm.valid;\n      this._setValue(!this.isValid || !dateValue ? null : new RangeValue(this.searchOption, dateValue));\n    }\n    this.propagateChange(this.value);\n  }\n\n  private _setValue(value: RangeValue, emitEvent = false) {\n    if (JSON.stringify(this.value) === JSON.stringify(value)) return;\n    if (value && value instanceof RangeValue && (value.firstValue || value.secondValue)) {\n\n      let match = this.availableSearchOptions.find((o) => o.value === value.operator);\n      this.searchOption = match ? match.value : this.availableSearchOptions[0].value;\n\n      const fV = value.firstValue ? new Date(value.firstValue) : null;\n      const sV = value.secondValue ? new Date(value.secondValue) : null;\n      this.value = value;\n\n      if (!value.secondValue) {\n        if (JSON.stringify(this.rangeForm.value.dateValue) !== JSON.stringify(fV)) {\n          this.rangeForm.patchValue({\n            dateValue: fV\n          }, {emitEvent});\n        }\n      } else {\n        if (JSON.stringify(this.rangeForm.value.dateValueFrom) !== JSON.stringify(fV)) {\n          this.rangeForm.patchValue({\n            dateValueFrom: fV\n          }, {emitEvent});\n        }\n        if (JSON.stringify(this.rangeForm.value.dateValue) !== JSON.stringify(sV)) {\n          this.rangeForm.patchValue({\n            dateValue: sV\n          }, {emitEvent});\n        }\n      }\n\n    } else {\n      this.value = null;\n      this.rangeForm.reset();\n    }\n  }\n\n  formatDate(value: Date): string {\n    return !value ? null :\n      this.withTime ? value.toISOString().replace(':00.000', '') : this.datePipe.transform(value, 'yyyy-MM-dd');\n  }\n\n  // returns null when valid else the validation object\n  public validate(c: UntypedFormControl) {\n\n    let err;\n    if (this.searchOption === SearchFilter.OPERATOR.EQUAL) {\n      err = {\n        datecontrol: {\n          valid: false,\n        }\n      };\n    } else {\n      err = {\n        daterange: {\n          valid: false,\n        }\n      };\n    }\n    return (this.isValid) ? null : err;\n  }\n\n  ngOnInit() {\n    this.searchOption = this.operator;\n    this.createForm();\n    this.onFormValueChange();\n  }\n}\n","<form class=\"eo-datetime-range\" [formGroup]=\"rangeForm\">\n  <eo-date *ngIf=\"searchOption === 'gtelte'\" [withTime]=\"withTime\"\n    formControlName=\"dateValueFrom\"></eo-date>\n\n  <yvc-dropdown [(ngModel)]=\"searchOption\" (ngModelChange)=\"onValueChange()\" [ngModelOptions]=\"{standalone: true}\"\n    [options]=\"availableSearchOptions\"></yvc-dropdown>\n\n  <eo-date [withTime]=\"withTime\" formControlName=\"dateValue\"></eo-date>\n</form>","import {Component, forwardRef, OnInit, Input, ViewChild, ElementRef} from '@angular/core';\nimport {\n  UntypedFormControl,\n  ControlValueAccessor,\n  Validator,\n  NG_VALUE_ACCESSOR,\n  NG_VALIDATORS\n} from '@angular/forms';\nimport {AutoComplete} from '@yuuvis/components/autocomplete';\nimport {TreeNode} from '../../tree/tree.component.interface';\n\n\n@Component({\n  selector: 'eo-dynamic-list',\n  templateUrl: './dynamic-list.component.html',\n  styleUrls: ['./dynamic-list.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DynamicListComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => DynamicListComponent),\n      multi: true,\n    }\n  ]\n})\nexport class DynamicListComponent implements ControlValueAccessor, Validator, OnInit {\n\n  @ViewChild('autocomplete') autoCompleteInput: AutoComplete;\n  @ViewChild('button') autoCompleteButton;\n\n  @Input() situation: string;\n  @Input() multiselect: boolean;\n  @Input() pickerTitle: string;\n  @Input() readonly: boolean;\n\n  private _filterFunc: Function;\n\n  @Input('filterFunction')\n  set filterFunction(func: Function) {\n    this._filterFunc = func;\n    if (this._list) {\n      this.buildTree();\n    }\n  }\n\n  private _list: any;\n\n  @Input('listObject')\n  set listObject(lo: any) {\n    if (lo) {\n      this._list = lo;\n      if (lo.config && lo.config.valueField) {\n        if(this.selectedNodes){\n          if (this.multiselect) {\n            this.selectedNodes =  this.selectedNodes.map(sn => {\n              sn[lo.config.valueField] = sn[this.valueField];\n              return sn;\n            });\n          } else {\n            this.selectedNodes[lo.config.valueField] = this.selectedNodes[this.valueField];\n          }\n        }\n        this.valueField = lo.config.valueField;\n      }\n      if (lo.config && lo.config.descriptionField) {\n        this.descriptionField = lo.config.descriptionField;\n      }\n      if (lo.config && lo.config.subEntriesField) {\n        this.subEntriesField = lo.config.subEntriesField;\n      }\n      this.buildTree();\n    }\n  }\n\n  get list() {\n    return this._list;\n  }\n\n  valueField = 'value';\n  subEntriesField = 'entries';\n  descriptionField = 'description';\n  display = false;\n  private dirty = false;\n  private isValid = true;\n  value;\n  tree: TreeNode[];\n  private _selectedNodes: any;\n  set selectedNodes(n: any) {\n    this._selectedNodes = structuredClone(n);\n  }\n  get selectedNodes() {\n    return this._selectedNodes;\n  }\n  autocompleteRes;\n  autocompleteValues: TreeNode[] = [];\n\n  constructor() {\n  }\n\n  propagateChange = (_: any) => {\n  }\n\n  writeValue(value: any): void {\n    this.dirty = false;\n    this.value = value || null;\n    const values = !this.value || Array.isArray(this.value) ? this.value || [] : [this.value];\n    if (value === null || value === undefined) {\n      if (this.multiselect) {\n        this.selectedNodes = [];\n      } else {\n        this.selectedNodes = null;\n      }\n    } else {\n      if (this.multiselect) {\n        this.selectedNodes = values.map(v => {\n          let node = {};\n          node[this.valueField] = v;\n          return node;\n        });\n      } else {\n        let node = {};\n        node[this.valueField] = value;\n        this.selectedNodes = node;\n      }\n    }\n    const nodes = !this.selectedNodes || Array.isArray(this.selectedNodes) ? this.selectedNodes || [] : [this.selectedNodes];\n\n    if (this._list && (nodes.length !== values.length || nodes.some((n, i) => n[this.valueField] !== values[i]))) {\n      this.buildTree();\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  onAutoCompleteSelect(node?) {\n    const wasInvalid = !this.isValid;\n    this.isValid = true;\n    this.setFormControlValue(wasInvalid);\n  }\n\n  onAutoCompleteUnselect(node?) {\n    this.selectedNodes = this.selectedNodes.filter((sNode) => sNode.value !== node.value);\n    this.setFormControlValue();\n  }\n\n  onTreeSelectionChanged(evt) {\n    if (!this.multiselect) {\n      this.display = false;\n    }\n    const wasInvalid = !this.isValid;\n    this.isValid = true;\n    this.setFormControlValue(wasInvalid);\n  }\n\n  onClear() {\n    if (!this.multiselect) {\n      this.selectedNodes = null;\n    }\n    this.setFormControlValue();\n  }\n\n  /**\n   * Sets and propagates the form controls value based on the components inner values. Propagates only\n   * when the value has changed.\n   * @param forcePropagation - forces propagation even if the value hasn't been changed\n   */\n  private setFormControlValue(forcePropagation?: boolean) {\n    let v;\n    let changed: boolean;\n    if (this.multiselect) {\n      v = this.selectedNodes ? this.selectedNodes.map((node) => node[this.valueField]) : [];\n      changed = !this.value || !(v.length === this.value.length && v.every((val) => this.value.some((curVal) => curVal === val)));\n    } else {\n      v = this.selectedNodes ? this.selectedNodes.data[this.valueField] : null;\n      changed = v !== this.value;\n    }\n    if (changed || forcePropagation) {\n      this.value = v;\n      this.propagateChange(this.value);\n    }\n  }\n\n  private buildTree() {\n    this.autocompleteValues = [];\n    let tree: TreeNode[] = [];\n    for (let i = 0; i < this._list.entries.length; i++) {\n      this.addTreeNode(tree, this._list.entries[i]);\n    }\n    this.tree = tree;\n  }\n\n  private addTreeNode(parentNode: TreeNode[], listEntry) {\n    if (this.filterFunction && !this.filterFunction(listEntry)) {\n      return;\n    }\n    let node: TreeNode = this.listEntryToTreeNode(listEntry);\n    if (node.selectable) {\n      this.autocompleteValues.push(node);\n    }\n    if (listEntry[this.subEntriesField]) {\n      node.children = [];\n      for (let i = 0; i < listEntry[this.subEntriesField].length; i++) {\n        this.addTreeNode(node.children, listEntry[this.subEntriesField][i]);\n      }\n    }\n    this.checkSelected(node);\n    parentNode.push(node);\n  }\n\n  private checkSelected(node: TreeNode) {\n    if (!this.value) {\n      return;\n    }\n    if (this.multiselect) {\n      for (let i = 0; i < this.value.length; i++) {\n        const isTreeNodeValueInValue = node.data[this.valueField] === this.value[i];\n        if (isTreeNodeValueInValue) {\n          const selectedNodeThatHasValue = this.selectedNodes.find(sN => sN[this.valueField] === this.value[i]);\n          if(!selectedNodeThatHasValue) {\n            node.selected = true;\n            this.selectedNodes.push(node);\n          } else {\n            selectedNodeThatHasValue.selected = true;\n          }\n        }\n      }\n    } else {\n      if (node.data[this.valueField] === this.value) {\n        node.selected = true;\n        this.selectedNodes = node;\n      }\n    }\n  }\n\n  autocompleteFn(term: string) {\n\n    this.autocompleteRes = this.autocompleteValues.filter((acNode) => {\n      if (this.filterFunction && !this.filterFunction(acNode.data)) {\n        return false;\n      }\n      if (this.multiselect) {\n        if (this.selectedNodes.find((node) => acNode.data[this.valueField] === node.data[this.valueField])) {\n          return false;\n        }\n      }\n      return acNode.data[this.valueField].toLowerCase().indexOf(term.toLowerCase()) !== -1 ||\n        (acNode.data[this.descriptionField] && acNode.data[this.descriptionField].toLowerCase().indexOf(term.toLowerCase()) !== -1);\n    });\n  }\n\n  private listEntryToTreeNode(listEntry): TreeNode {\n    let selectable = false;\n    if (this._list && this._list.config && this._list.config.allelementsselectable) {\n      selectable = true;\n    } else {\n      selectable = !(listEntry[this.subEntriesField] && listEntry[this.subEntriesField].length > 0);\n    }\n\n    let treeNode = {\n      id: listEntry.id ? listEntry.id : listEntry[this.valueField],\n      name: listEntry[this.descriptionField] ? listEntry[this.valueField] + ' (' + listEntry[this.descriptionField] + ')' : listEntry[this.valueField],\n      children: [],\n      expanded: false,\n      selected: false,\n      selectable: selectable,\n      data: listEntry\n    };\n    treeNode[this.valueField] = listEntry[this.valueField];\n    treeNode[this.descriptionField] = listEntry[this.descriptionField];\n    treeNode[this.subEntriesField] = listEntry[this.subEntriesField];\n\n    return treeNode;\n  }\n\n  showDialog(event?, display = true) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n      //ignore synthetized events on enter\n      if (event.type === 'click' && event.detail === 0) {\n        return;\n      }\n    }\n    this.display = !!display;\n  }\n\n  ngOnInit() {\n    if (this.situation === 'SEARCH') {\n      this.multiselect = true;\n    }\n  }\n\n  public validate(c: UntypedFormControl) {\n    return (this.isValid) ? null : {\n      dynamiclist: {\n        valid: false,\n      },\n    };\n  }\n}\n","<eo-dialog #listDialog [title]=\"pickerTitle\" [(visible)]=\"display\" [ngClass]=\"{empty: !(list?.entries?.length)}\"\n  [styleClass]=\"'dynlist-dialog'\" *ngIf=\"display\">\n\n  <eo-tree [tree]=\"tree\" *ngIf=\"display && tree\" [isDisplayed]=\"display\" [options]=\"{multiselect: multiselect}\"\n    [(ngModel)]=\"selectedNodes\" (keyup.enter)=\"showDialog($event, false)\"\n    (ngModelChange)=\"onTreeSelectionChanged($event)\">\n  </eo-tree>\n\n  <div class=\"empty\" *ngIf=\"!(list?.entries?.length)\">\n    <div translate>eo.form.property.dynamic.list.empty</div>\n  </div>\n</eo-dialog>\n\n<div class=\"eo-dynamic-list\" [ngClass]=\"{full: selectedNodes && selectedNodes.length === autocompleteValues.length}\">\n\n  <yvc-autocomplete [(ngModel)]=\"selectedNodes\" #autocomplete (suggestionSelect)=\"onAutoCompleteSelect($event)\"\n    [disabled]=\"readonly\" (suggestionUnselect)=\"onAutoCompleteUnselect($event)\" [forceSelection]=\"true\"\n    [autocompleteValues]=\"autocompleteRes\" field=\"{{valueField}}\" \n    (autocompleteFnc)=\"autocompleteFn($event)\"\n    [multiple]=\"multiselect\">\n\n    <!-- (onClear)=\"onClear()\" -->\n\n    <ng-template let-item #chipTemplate>\n      <div>\n        <div class=\"value\">{{item[valueField]}}</div>\n        <!-- <div class=\"description\">{{item[descriptionField]}}</div> -->\n      </div>\n    </ng-template>\n  </yvc-autocomplete>\n\n  <button #button class=\"ui-button\" *ngIf=\"!readonly\" [disabled]=\"readonly\" (click)=\"showDialog($event, $event.detail)\"\n    (keyup.arrowDown)=\"showDialog($event)\" (keyup.enter)=\"showDialog($event)\" (keyup.space)=\"showDialog($event)\">\n    <eo-icon [iconSrc]=\"'assets/_default/svg/ic_arrow_down.svg'\"></eo-icon>\n  </button>\n</div>","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { YvcAutocompleteModule } from '@yuuvis/components/autocomplete';\nimport { YvcCheckboxModule } from '@yuuvis/components/checkbox';\nimport { YvcChipsModule } from '@yuuvis/components/chips';\nimport { YvcDatepickerModule } from '@yuuvis/components/datepicker';\nimport { YvcDropdownModule } from '@yuuvis/components/dropdown';\nimport { YvcIconModule } from '@yuuvis/components/icon';\n\nimport { AccordionModule } from '../accordion/accordion.module';\nimport { TreeModule } from '../tree/tree.module';\nimport { UiModule } from '../ui/ui.module';\nimport { CheckboxComponent } from './checkbox/checkbox.component';\nimport { CodesystemComponent } from './codesystem/codesystem.component';\nimport { DateComponent } from './date/date.component';\nimport { DatetimeRangeComponent } from './datetime-range/datetime-range.component';\nimport { YearRangeDirective } from './date/year-range/year-range.directive';\nimport { DynamicListComponent } from './dynamic-list/dynamic-list.component';\nimport { FormInputComponent } from './form-input/form-input.component';\nimport { InputFocusDirective } from './form-input/input-focus/input-focus.directive';\nimport { IdReferenceComponent } from './id-reference/id-reference.component';\nimport { ReferenceFinderEntryComponent } from './id-reference/reference-finder-entry/reference-finder-entry.component';\nimport { ReferenceFinderComponent } from './id-reference/reference-finder/reference-finder.component';\nimport { NumberRangeComponent } from './number-range/number-range.component';\nimport { NumberComponent } from './number/number.component';\nimport { OrganizationComponent } from './organization/organization.component';\nimport { PasswordComponent } from './password/password.component';\nimport { ReferenceComponent } from './reference/reference.component';\nimport { StringComponent } from './string/string.component';\n\n@NgModule({\n  imports: [\n    YvcIconModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    UiModule,\n    TreeModule,\n    // InputTextModule,\n    // DialogModule,\n    // InputMaskModule,\n    // CheckboxModule,\n    // TriStateCheckboxModule,\n    // InputTextareaModule,\n    // ChipsModule,\n    // DropdownModule,\n    RouterModule,\n    // SharedModule,\n    AccordionModule,\n    YvcChipsModule,\n    YvcCheckboxModule,\n    YvcAutocompleteModule,\n    YvcDropdownModule,\n    YvcDatepickerModule\n  ],\n  declarations: [\n    FormInputComponent,\n    CodesystemComponent,\n    DatetimeRangeComponent,\n    NumberComponent,\n    NumberRangeComponent,\n    OrganizationComponent,\n    CheckboxComponent,\n    StringComponent,\n    ReferenceComponent,\n    DynamicListComponent,\n    InputFocusDirective,\n    PasswordComponent,\n    IdReferenceComponent,\n    YearRangeDirective,\n    ReferenceFinderComponent,\n    ReferenceFinderEntryComponent,\n    DateComponent\n  ],\n  exports: [\n    FormInputComponent,\n    CodesystemComponent,\n    DateComponent,\n    DatetimeRangeComponent,\n    NumberComponent,\n    NumberRangeComponent,\n    OrganizationComponent,\n    CheckboxComponent,\n    StringComponent,\n    ReferenceComponent,\n    DynamicListComponent,\n    PasswordComponent,\n    IdReferenceComponent,\n    YearRangeDirective\n  ]\n})\nexport class FormElementsModule { }\n","import {Component, EventEmitter, HostBinding, Input, Output} from '@angular/core';\n\n// Wrapper for base functionality of form fields\n\n@Component({\n  selector: 'eo-form-input',\n  templateUrl: './form-input.component.html',\n  styleUrls: ['./form-input.component.scss']\n})\nexport class FormInputComponent {\n\n  toggled = false;\n  _label: string;\n\n  @Input('label')\n  set label(val: string) {\n    this._label = val;\n  }\n\n  @Input() tag: { label: string, title: string };\n  @Input() description: string;\n  @Input() skipToggle: boolean;\n\n  @Input('isNull')\n  set isNull(n: boolean) {\n    this.toggled = n;\n  };\n\n  @Input('invalid')\n  set invalid(iv: boolean) {\n    this.isInvalid = iv;\n  }\n\n  @Input('disabled')\n  set disabled(d: boolean) {\n    this.isDisabled = d;\n  }\n\n  @Input('required')\n  set required(d: boolean) {\n    this.isRequired = d;\n  }\n\n  @HostBinding('class.disabled') isDisabled;\n  @HostBinding('class.invalid') isInvalid;\n  @HostBinding('class.required') isRequired;\n\n  @Output() onToggleLabel = new EventEmitter<boolean>();\n\n  toggle() {\n    if (!this.skipToggle) {\n      this.toggled = !this.toggled;\n      this.onToggleLabel.emit(this.toggled);\n    }\n  }\n}\n","<div class=\"fe-wrapper\" eoInputFocus [disabled]=\"isDisabled\">\n  <div class=\"tag\" *ngIf=\"tag\" title=\"{{tag.title}}\">{{tag.label}}</div>\n  <label class=\"form-input__label\" (click)=\"toggle()\">{{_label}}</label>\n  <div class=\"control\">\n    <ng-content *ngIf=\"!toggled; else tplnull\"></ng-content>\n\n    <ng-template #tplnull><span translate>eo.form.input.null</span></ng-template>\n  </div>\n</div>\n<div class=\"description\" *ngIf=\"description\" translate>{{description}}</div>\n\n","import {Directive, Renderer2, ElementRef, HostListener, Input} from '@angular/core';\n\n@Directive({\n  selector: '[eoInputFocus]'\n})\nexport class InputFocusDirective {\n  formInput: ElementRef = this.element.nativeElement;\n  @Input() disabled = false;\n\n  constructor(private renderer: Renderer2, private element: ElementRef) {\n  }\n\n  @HostListener('focusin', ['$event'])\n  onFocusIn(evt) {\n    if (!this.disabled) {\n      this.renderer.addClass(this.formInput, 'focused');\n    }\n  }\n\n  @HostListener('focusout', ['$event'])\n  onFocusOut(evt) {\n    this.renderer.removeClass(this.formInput, 'focused');\n  }\n}\n","import {\n  animate,\n  AnimationTriggerMetadata,\n  state,\n  style,\n  transition,\n  trigger\n} from '@angular/animations';\n\nexport const fadeInOut: AnimationTriggerMetadata = trigger('fadeInOut', [\n  state(\n    'void',\n    style({\n      opacity: 0\n    })\n  ),\n  transition('void <=> *', animate(200))\n]);\n","import {ReferenceService} from './../../../eo-framework-core/references/reference.service';\nimport {Component, forwardRef, Input, OnInit, ViewChild} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR, Validator, UntypedFormControl, NG_VALIDATORS} from '@angular/forms';\nimport {\n  Clipboard,\n  ClipboardService,\n  DmsObject,\n  ObjectType,\n  SearchResult, SearchService,\n  SystemService, Utils\n} from '@eo-sdk/core';\nimport {debounceTime, map} from 'rxjs/operators';\nimport {AutoComplete} from '@yuuvis/components/autocomplete';\n\nexport interface DataToRenderItem {\n  id: string;\n  title?: string;\n  typeName: string;\n  description?: string;\n  state?: string;\n}\n\n@Component({\n  selector: 'eo-id-reference',\n  templateUrl: './id-reference.component.html',\n  styleUrls: ['./id-reference.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => IdReferenceComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => IdReferenceComponent),\n      multi: true\n    }\n  ]\n})\nexport class IdReferenceComponent implements ControlValueAccessor, OnInit, Validator {\n  private value; // model value\n  _innerValues: DataToRenderItem[] = []; // inner ng-model value\n  clipboard: Clipboard;\n  referenceType: ObjectType;\n  subTypes: ObjectType[];\n  tooltipTypeHint: string;\n  visibleDialog = false;\n\n  autocompleteRes;\n\n  @Input() readonly: boolean;\n  @Input() multiselect: boolean;\n  @Input() situation: string;\n  @Input() contextId: string;\n  @Input() exceptionIDs: string[];\n  @ViewChild('autocomplete') autoCompleteInput: AutoComplete;\n\n  set innerValues(data: DataToRenderItem[]) {\n    if (data) {\n      this._innerValues = data;\n    } else {\n      this._innerValues = [];\n    }\n  }\n\n  get innerValues() {\n    return this._innerValues;\n  }\n\n  @Input()\n  set dataToRender(data: DataToRenderItem[]) {\n    if (data) {\n      this.innerValues = data;\n    } else {\n      this.innerValues = [];\n    }\n  }\n\n  @Input()\n  set reference(ref: any) {\n    this.referenceType = ref ? this.system.getObjectType(ref.type) : null;\n    this.subTypes = this.getSubTypes(this.referenceType?.name, this.system.getObjectTypes());\n    this.tooltipTypeHint = this.createTooltipTypeHint(this.referenceType, this.subTypes);\n  }\n\n  @Input() queryFilters: {\n    [fieldQname: string]: {o: string, v1: any, v2: any}\n  };\n\n  @Input() objectTypesFilter: string[];\n\n  private getSubTypes(typeName, types) {\n    let subTypes = [];\n    types.forEach(objectType => {\n      if (!!objectType.supertypes.find(sT => sT === typeName)) {\n        subTypes.push(objectType);\n      }\n    });\n    return subTypes;\n  }\n\n  private createTooltipTypeHint(referenceType, subTypes = []) {\n    return referenceType ? `(${[referenceType.label, ...subTypes.map(types => types.label)].join(', ')})` : '';\n  }\n\n  constructor(private clipboardService: ClipboardService, private system: SystemService,\n    private referenceService: ReferenceService,\n    private searchService: SearchService) {\n    this.clipboardService.clipboard$.subscribe(clipboard => (this.clipboard = clipboard));\n    this.clipboard = this.clipboardService.get();\n  }\n\n  showDialog() {\n    this.visibleDialog = !this.visibleDialog;\n  }\n\n  get selectionDisabled() {\n    return this.multiselect ? false : this.innerValues.length;\n  }\n\n  get isDisabled() {\n    return (\n      !this.referenceType ||\n      this.readonly ||\n      this.clipboard.action === 1 ||\n      !this.clipboard.elements.length ||\n      this.containsIncorrectTypes(\n        this.clipboard.elements,\n        this.referenceType,\n        this.subTypes\n      ) ||\n      this.containsIncorrectContext(this.clipboard.elements, this.contextId)\n    );\n  }\n\n  private containsIncorrectTypes(clipboardElements, refType, subTypes) {\n    return !!clipboardElements.find(cbEl => !(cbEl.typeName === refType.name || subTypes.find(sT => sT.name === cbEl.typeName)));\n  }\n\n  private containsIncorrectContext(clipboardElements, contextId) {\n    return !!clipboardElements.find(cbEl => {\n      if (!contextId) {\n        return false;\n      }\n      return !cbEl.contextFolder || cbEl.contextFolder.id !== contextId;\n    });\n  }\n\n  paste(content?: DmsObject[]) {\n    this.linkDmsObject(content);\n    this.showDialog();\n    this.propagateChange(this.value);\n  }\n\n  private linkDmsObject(content?: DmsObject[]) {\n    (content || this.clipboard.elements).forEach((dmsObject: DmsObject) => {\n      const {id, title, description, typeName} = dmsObject;\n      this.innerValues.push({id, title, description, typeName});\n    });\n    this.innerValues = Utils.uniqBy(this.innerValues, 'id');\n    if (this.multiselect) {\n      this.value = this.innerValues.map(iv => iv.id);\n    } else {\n      this.value = this.innerValues[0].id;\n    }\n  }\n\n  removeItem(item) {\n    this.innerValues = this.innerValues.filter(iv => iv.id !== item.id);\n    this.value = this.multiselect\n      ? Utils.uniqBy(this.innerValues, 'id').map(iv => iv.id)\n      : null;\n    this.propagateChange(this.value);\n  }\n\n  writeValue(value: any): void {\n    if (value) {\n      this.value = value;\n      this.updateInnerValues(this.value);\n    } else {\n      this.value = null;\n      this.innerValues = [];\n    }\n  }\n\n  private updateInnerValues(value) {\n    const values = Array.isArray(value) ? value : [value];\n    this.innerValues = this.innerValues.filter(iV => {\n      // remove innerValues, where the id was removed from value\n      return values.find(v => v === iV.id);\n    });\n    const newValues = values.filter(v => {\n      return !this.innerValues.find(iV => iV.id === v);\n    });\n    if (newValues.length) {\n      this.referenceService.fetchIDReferenceMetaData(newValues).subscribe(newInnerValues => {\n        this.innerValues = this.innerValues.concat(newInnerValues);\n      });\n    }\n  }\n\n  propagateChange = (value: any) => { };\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void { }\n\n  public validate(c: UntypedFormControl) {\n    return null;\n  }\n\n  // handler invoked when an entry was selected using the autocomplete input\n  onAutoCompleteSelect(evt?) {\n    if (!Array.isArray(this.innerValues)) {\n      this.innerValues = [this.innerValues];\n    }\n    this.innerValues = Utils.uniqBy(this.innerValues, 'id');\n    if (this.multiselect) {\n      this.value = this.innerValues.map(iv => iv.id);\n    } else {\n      this.value = this.innerValues[0].id;\n    }\n    this.propagateChange(this.value);\n  }\n\n  autocompleteFn(term: string) {\n    let q: any = {\n      fields: ['title', 'description', 'type'],\n      types: [this.referenceType.name],\n      term: term,\n      filters: this.queryFilters,\n      options: {withcontext: true, highlighting: false}\n    };\n\n    if (this.objectTypesFilter) {\n      q.types = this.objectTypesFilter;\n    }\n\n    if (this.contextId) {\n      if (q.filters) {\n        q.filters.contextfolderid = {v1: this.contextId, o: 'eq'};\n      } else {\n        q.filters = {contextfolderid: {v1: this.contextId, o: 'eq'}};\n      }\n    }\n\n    this.searchService\n      .executeQuery(q)\n      .pipe(\n        debounceTime(500),\n        map(item => item ? this.searchService.createResultFromResponse(item) : [])\n      ).subscribe((result: SearchResult) => {\n        this.autocompleteRes = result.hits;\n      });\n  }\n\n  onAutoCompleteBlur() {\n    this.autoCompleteInput.clearInput();\n  }\n\n  ngOnInit() {\n    if (this.situation === 'SEARCH') {\n      this.multiselect = true;\n    }\n  }\n}\n","<div class=\"eo-id-reference\">\n  <yvc-autocomplete [(ngModel)]=\"innerValues\" [minLength]=\"1\" #autocomplete\n    (suggestionSelect)=\"onAutoCompleteSelect($event)\" (suggestionUnselect)=\"removeItem($event)\"\n    (blur)=\"onAutoCompleteBlur()\" [autocompleteValues]=\"autocompleteRes\" field=\"title\" [disabled]=\"readonly\"\n    [forceSelection]=\"true\" (autocompleteFnc)=\"autocompleteFn($event)\" [multiple]=\"true\">\n\n    <!-- [styleClass]=\"!multiselect && innerValues.length === 1 ? 'xxx' : ''\"> -->\n\n    <ng-template #chipTemplate let-item>\n      <a *ngIf=\"!item.state || item.state === 'OK'\" class=\"link router-link\"\n        [routerLink]=\"['/object', item.id, {outlets: {modal: null}}]\" [queryParams]=\"{type: referenceType.qname}\">\n        <svg focusable=\"false\" class=\"ref-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"\n          viewBox=\"0 0 24 24\">\n          <path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8\n        13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\">\n          </path>\n        </svg>\n      </a>\n      <eo-icon [objectType]=\"referenceType\" title=\"{{referenceType?.label}}\" class=\"ref-type-icon\" [ngClass]=\"{'deleted-reference-label': item.state && (item.state === 'RECYCLED' || item.state === 'GONE')}\"></eo-icon>\n      <span *ngIf=\"!(item.state && (item.state === 'RECYCLED' || item.state === 'GONE')); else deleted\" class=\"label\" eoRtlAware=\"full\">\n        <span *ngIf=\"item.title || referenceType?.label; else noAccess\">\n          {{item.title || referenceType?.label}}\n        </span>\n      </span>\n      <ng-template #noAccess>\n        <span class=\"label no-access-reference-label\">{{('eo.references.noAccess' | translate)}}</span>\n      </ng-template>\n      <ng-template #deleted>\n        <span class=\"label deleted-reference-label\">{{('eo.references.deleted' | translate)}}</span>\n      </ng-template>\n    </ng-template>\n  </yvc-autocomplete>\n\n  <ng-template #notFound><span class=\"label\">{{innerValues && innerValues.length ? ('eo.references.not.available' |\n      translate) : ''}}</span></ng-template>\n\n  <button #button class=\"ui-button\" *ngIf=\"!readonly\"\n    title=\"{{('eo.references.search' | translate) + ' ' + tooltipTypeHint}}\" [disabled]=\"selectionDisabled\"\n    (click)=\"showDialog()\">\n    <eo-icon [iconSrc]=\"'assets/_default/svg/ic_none.svg'\"></eo-icon>\n  </button>\n</div>\n\n<eo-dialog [title]=\"('eo.references.add' | translate)\" [subtitle]=\"referenceType?.label\" [(visible)]=\"visibleDialog\"\n  [minWidth]=\"577\" [minHeight]=\"590\" [styleClass]=\"'reference-field-dialog'\" #dialog>\n\n  <eo-reference-finder *ngIf=\"dialog.visible\" [isDisabled]=\"isDisabled\" [types]=\"referenceType.qname\"\n    [multiselect]=\"multiselect\" [currentSelection]=\"innerValues\" [clipboard]=\"clipboard\" [contextId]=\"contextId\"\n    [exceptionIDs]=\"exceptionIDs\" [queryFilters]=\"queryFilters\" (addDmsObjects)=\"paste($event)\">\n  </eo-reference-finder>\n</eo-dialog>\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {ReferenceItem} from '../interface/reference-finder.interface';\n\n@Component({\n  selector: 'eo-reference-finder-entry',\n  templateUrl: './reference-finder-entry.component.html',\n  styleUrls: ['./reference-finder-entry.component.scss']\n})\nexport class ReferenceFinderEntryComponent {\n  @Input() list: ReferenceItem;\n  @Input() multiselect: boolean;\n  @Input() marked: boolean;\n  @Output() selectReference: EventEmitter<any> = new EventEmitter<any>();\n\n  get link() {\n    return this.list && this.list.link ? this.list.link.replace(new RegExp('^/'), '') : '';\n  }\n\n  constructor() {}\n\n  select(item: ReferenceItem, add = false, selectedAble = true) {\n    if (selectedAble) {\n      this.selectReference.emit({ item, add });\n    }\n  }\n}\n","<div tabindex=\"-1\" class=\"resultsList\" *ngIf=\"list\" [class.disabled]=\"list?.disabled\" [class.selected]=\"list?.selected\" [class.marked]=\"marked\">\n    <a class=\"link\" [href]=\"link\" target=\"_blank\">\n      <eo-icon class=\"link\" [iconSrc]=\"'ic_link.svg'\"  [iconTitle]=\"'eo.object.details' | translate\"></eo-icon>\n    </a>\n    <div class=\"content\" [class.singleselect]=\"!multiselect\">\n      <div class=\"select\" *ngIf=\"multiselect\" (click)=\"select(list, false, !list?.disabled)\" [class.selected]=\"list?.selected\" [class.disabled]=\"list?.disabled\">\n        <svg fill=\"#ffffff\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\n        </svg>\n      </div>\n      \n      <div class=\"details\" [class.width-clipboard]=\"list?.clipboard\"\n      (click)=\"select(list, false, !list?.disabled && !list?.selected)\" (dblclick)=\"select(null, true, !list?.disabled)\">\n        \n        <eo-icon class=\"icon\" [objectType]=\"list?.objectType\"  [iconTitle]=\"list?.objectType?.label\"></eo-icon>\n        <div class=\"title\">\n          {{list?.title}}\n        </div>\n        <span class=\"extra\" *ngIf=\"list?.contextFolder\">{{'eo.references.search.contextfolder' | translate}}: {{list?.contextFolder?.title}} - {{list?.contextFolder?.description}}</span>\n        <div class=\"description\">\n         {{list?.description}}\n        </div>\n      </div>\n    </div>\n  </div>","import {Component, EventEmitter, Input, Output, HostListener, ViewChildren, QueryList, ElementRef, AfterViewInit, ViewChild} from '@angular/core';\nimport {Clipboard, SearchResult} from '@eo-sdk/core';\nimport {Subject} from 'rxjs';\nimport {fadeInOut} from '../animation/reference-finder.animation';\nimport {\n  ReferenceItem,\n  ReferenceSearchCounter\n} from '../interface/reference-finder.interface';\nimport {ReferenceFinderService} from '../service/reference-finder.service';\nimport {debounceTime} from 'rxjs/operators';\n\n@Component({\n  selector: 'eo-reference-finder',\n  templateUrl: './reference-finder.component.html',\n  styleUrls: ['./reference-finder.component.scss'],\n  animations: [fadeInOut]\n})\nexport class ReferenceFinderComponent implements AfterViewInit {\n\n  @ViewChildren('entry', {read: ElementRef}) entries: QueryList<ElementRef>;\n  @ViewChild('searchInput') searchInput!: ElementRef;\n\n  searchTerm$ = new Subject<string>();\n  searchResultCount: ReferenceSearchCounter;\n  selectedItems = [];\n  resultList: ReferenceItem[] = [];\n  private _currentSelection: ReferenceItem[];\n  clipboardItems: ReferenceItem[] = [];\n  clipboardOpen = true;\n  _markedItem: ReferenceItem;\n  searching = false;\n\n  set markedItem(item: ReferenceItem) {\n    this._markedItem = item;\n    this.scrollItemIntoView(this._markedItem);\n  }\n\n  get markedItem() {\n    return this._markedItem;\n  }\n\n  @Input() isDisabled: boolean;\n  @Input() types: string;\n  @Input() multiselect: boolean;\n  @Input() contextId: string;\n  @Input() exceptionIDs: string[];\n\n  @Input() queryFilters: {[fieldQname: string]: {o: string, v1: any, v2: any}};\n\n  @Input()\n  set currentSelection(selection: ReferenceItem[]) {\n    this._currentSelection = selection;\n  }\n  get currentSelection(): ReferenceItem[] {\n    return this._currentSelection;\n  }\n\n  @Input()\n  set clipboard(clipboard: Clipboard) {\n    this.clipboardItems = this.referenceFinderService.generateReferenceItemsFromDmsObjects(clipboard.elements, this.currentSelection, this.isDisabled);\n  }\n  @Output() addDmsObjects: EventEmitter<any> = new EventEmitter<any>();\n\n  @HostListener('keydown', ['$event'])\n  onKey(event) {\n    if (event.which === 40) { // arrow down\n      if (!this.markedItem && (this.clipboardItems.length || this.resultList.length)) {\n        this.markedItem = (this.clipboardItems.length && this.clipboardOpen) ? this.clipboardItems[0] : this.resultList[0];\n      } else {\n        let index;\n        if (this.clipboardItems && this.clipboardOpen) {\n          index = this.clipboardItems.findIndex(item => item.id === this.markedItem.id);\n          if (index >= 0) {\n            index++;\n            if (index === this.clipboardItems.length && !this.resultList.length) {\n              index = 0;\n              this.markedItem = this.clipboardItems[index]\n            } else if (index === this.clipboardItems.length && this.resultList.length) {\n              index = 0;\n              this.markedItem = this.resultList[index];\n            } else {\n              this.markedItem = this.clipboardItems[index];\n            }\n          }\n        }\n        if ((index === undefined || index === -1) && this.resultList.length) {\n          index = this.resultList.findIndex(item => item.id === this.markedItem.id);\n          if (index >= 0) {\n            index++;\n            if (index === this.resultList.length && this.clipboardOpen) {\n              index = 0;\n              this.markedItem = this.clipboardItems[index]\n            } else if (index === this.resultList.length && !this.clipboardOpen) {\n              index = 0;\n              this.markedItem = this.resultList[index];\n            } else {\n              this.markedItem = this.resultList[index];\n            }\n          } else {\n            index = 0;\n            this.markedItem = this.resultList[index];\n          }\n        }\n      }\n    }\n    else if (event.which === 38) { // arrow up\n      if (!this.markedItem && (this.clipboardItems.length || this.resultList.length)) {\n        this.markedItem = (this.clipboardItems.length && this.clipboardOpen) ? this.clipboardItems[0] : this.resultList[0];\n      } else {\n        let index;\n        if (this.clipboardItems && this.clipboardOpen) {\n          index = this.clipboardItems.findIndex(item => item.id === this.markedItem.id);\n          if (index >= 0) {\n            index--;\n            if (index === -1 && this.resultList.length) {\n              index = this.resultList.length - 1;\n              this.markedItem = this.resultList[index]\n            } else if (index === -1 && !this.resultList.length) {\n              index = this.clipboardItems.length - 1;\n              this.markedItem = this.clipboardItems[index];\n            } else {\n              this.markedItem = this.clipboardItems[index];\n            }\n          }\n        }\n        if ((index === undefined || index === -1) && this.resultList.length) {\n          index = this.resultList.findIndex(item => item.id === this.markedItem.id);\n          if (index >= 0) {\n            index--;\n            if (index === -1 && this.clipboardOpen) {\n              index = this.clipboardItems.length - 1;\n              this.markedItem = this.clipboardItems[index]\n            } else if (index === -1 && !this.clipboardOpen) {\n              index = this.resultList.length - 1;\n              this.markedItem = this.resultList[index];\n            } else {\n              this.markedItem = this.resultList[index];\n            }\n          } else {\n            index = this.resultList.length - 1;\n            this.markedItem = this.resultList[index];\n          }\n        }\n      }\n    }\n    else if (event.which === 13 && event.ctrlKey) { // ctrl + enter\n      if (this.markedItem && !this.markedItem.disabled) {\n        this.selectReference({item: this.markedItem, add: true});\n      }\n    }\n    else if (event.which === 13) { // enter\n      if (this.markedItem && !this.markedItem.disabled) {\n        this.selectReference({item: this.markedItem, add: !this.multiselect});\n      }\n    }\n  }\n\n  constructor(private referenceFinderService: ReferenceFinderService) {\n    this.searching = true;\n    this.searchTerm$.pipe(debounceTime(500)).subscribe(searchTerm => {\n      this.referenceFinderService.findReferences(searchTerm, [this.types], this.contextId, this.queryFilters)\n        .subscribe((searchResult: SearchResult) => {\n          const hits = (this.exceptionIDs && searchResult.hits) ? searchResult.hits.filter(hit => !this.exceptionIDs.includes(hit.id)) : searchResult.hits;\n          if (hits && hits.length) {\n            this.clipboardOpen = false;\n            this.resultList = this.referenceFinderService.generateResults(this.clipboardItems, hits, this.currentSelection, this.types);\n          } else {\n            this.searchTerm$.next('*');\n            this.clipboardOpen = true;\n          }\n          this.markedItem = null;\n          this.searching = false;\n        });\n    });\n  }\n\n  get loadingReferences(): boolean {\n    return !!this.resultList.length;\n  }\n\n  get disableAdd(): boolean {\n    return !this.selectedItems.length;\n  }\n\n  get copyOnly(): boolean {\n    return this.clipboardItems.length && !this.resultList.length;\n  }\n\n  get searchOnly(): boolean {\n    return this.resultList.length && !this.clipboardItems.length;\n  }\n\n  selectAllEntries(){\n    [...this.clipboardItems, ...this.resultList].filter(item => !item.selected).forEach(item => this.selectReference({item: item, add: false}))\n  }\n\n  selectReference(selectReference: {item: ReferenceItem; add: boolean}) {\n    const {item, add} = selectReference;\n    if (item && !item.disabled) {\n      if (this.multiselect) {\n        !item.clipboard\n          ? (this.resultList = this.referenceFinderService.selectOnMultisSelect(this.resultList, item))\n          : (this.clipboardItems = this.referenceFinderService.selectOnMultisSelect(this.clipboardItems, item));\n      } else {\n        if (!item.clipboard) {\n          this.resultList = this.referenceFinderService.selectOnSingleSelect(this.resultList, item);\n          this.clipboardItems.forEach(item => item.selected = false);\n        } else {\n          this.clipboardItems = this.referenceFinderService.selectOnSingleSelect(this.clipboardItems, item);\n          this.resultList.forEach(item => item.selected = false);\n        }\n      }\n\n      this.selectedItems = this.referenceFinderService.generateSeletecItems(this.resultList, this.clipboardItems, this.currentSelection);\n    }\n    if (add) {\n      this.addItems();\n    }\n  }\n\n  addItems() {\n    this.addDmsObjects.emit(this.selectedItems);\n  }\n\n  private scrollItemIntoView(item){\n    if (item) {\n      let index = this.clipboardItems.findIndex(i => i.id === item.id);\n      if (index === -1 && this.resultList.length) {\n        index = this.resultList.findIndex(i => i.id === item.id) + this.clipboardItems.length;\n      }\n      this.entries.toArray()[index].nativeElement.scrollIntoView(false);\n    } else if (this.entries.toArray().length) {\n      this.entries.toArray()[0].nativeElement.scrollIntoView(false);\n    }\n  }\n\n  ngAfterViewInit() {\n    // initially load everything and focus into the search field\n    this.searchTerm$.next('*');\n    this.searchInput.nativeElement.focus();\n  }\n}\n","\n<section class=\"reference-finder-search--input\">\n  <input #searchInput autofocus tabindex=\"1\" (input)=\"searchTerm$.next($event.target.value)\" class=\"search\" type=\"text\" placeholder=\"{{('eo.search.result.term' | translate)}}\"/>\n</section>\n\n<section class=\"reference-finder--content\" *ngIf=\"!searching; else loading\">\n  <div class=\"results\">\n    <eo-simple-accordion *ngIf=\"clipboardItems.length && !copyOnly\"\n    [header]=\"'eo.clipboard.type.copy' | translate\"\n    [selected]=\"clipboardOpen\"\n    (selectChange)=\"clipboardOpen = $event;\"\n    class=\"results-accordion\">\n        <eo-reference-finder-entry *ngFor=\"let list of clipboardItems\" #entry\n          [@fadeInOut]\n          [list]=\"list\"\n          [multiselect]=\"multiselect\"\n          (selectReference)=\"selectReference($event)\"\n          [marked]=\"list.id === markedItem?.id\"\n        >\n      </eo-reference-finder-entry>\n    </eo-simple-accordion>\n\n    <section *ngIf=\"clipboardItems.length && copyOnly\">\n      <eo-reference-finder-entry *ngFor=\"let list of clipboardItems\" #entry\n        [@fadeInOut]\n        [list]=\"list\"\n        [multiselect]=\"multiselect\"\n        (selectReference)=\"selectReference($event)\"\n        [marked]=\"list.id === markedItem?.id\"\n      >\n      </eo-reference-finder-entry>\n    </section>\n    <div class=\"padding\"></div>\n\n    <eo-simple-accordion *ngIf=\"resultList.length && !searchOnly\" [header]=\"'eo.search.title' | translate\" class=\"results-accordion\">\n      <eo-reference-finder-entry *ngFor=\"let list of resultList\" #entry\n        [@fadeInOut]\n        [list]=\"list\"\n        [multiselect]=\"multiselect\"\n        (selectReference)=\"selectReference($event)\"\n        [marked]=\"list.id === markedItem?.id\"\n      >\n      </eo-reference-finder-entry>\n    </eo-simple-accordion>\n\n    <section *ngIf=\"resultList.length && searchOnly\">\n      <eo-reference-finder-entry *ngFor=\"let list of resultList\" #entry\n        [@fadeInOut]\n        [list]=\"list\"\n        [multiselect]=\"multiselect\"\n        (selectReference)=\"selectReference($event)\"\n        [marked]=\"list.id === markedItem?.id\"\n      >\n      </eo-reference-finder-entry>\n    </section>\n  </div>\n\n  <div class=\"cta\">\n    <button type=\"button\" *ngIf=\"multiselect\" (click)=\"selectAllEntries()\">{{('eo.cta.button.select.all' | translate)}}</button>\n    <button type=\"button\" class=\"add\" (click)=\"addItems()\" *ngIf=\"!disableAdd\" [@fadeInOut]  [class.active]=\"!disableAdd\" [disabled]=\"disableAdd\" [title]=\"'eo.cta.button.add' | translate\">\n      {{('eo.cta.button.add' | translate)}}\n    </button>\n  </div>\n</section>\n\n<ng-template #loading>\n  <div class=\"loader-overlay__mask\">\n    <eo-loading-spinner class=\"reference__loader\" [size]=\"'large'\"></eo-loading-spinner>\n  </div>\n</ng-template>\n","import {Injectable} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {SearchResult, SearchService, SystemService, DmsObject} from '@eo-sdk/core';\nimport {BehaviorSubject, Observable, of} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {\n  ReferenceItem,\n  ReferenceSearch\n} from '../interface/reference-finder.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ReferenceFinderService {\n  private referencesLoader = new BehaviorSubject<boolean>(false);\n  public referencesLoader$: Observable<boolean> = this.referencesLoader.asObservable();\n\n  constructor(\n    private searchService: SearchService,\n    private systemService: SystemService,\n    private router: Router\n  ) {}\n\n  private searchReferences(searchText: string, types: string[], contextId?: string, queryFilters?: any): Observable<SearchResult | string[]> {\n    if (searchText) {\n      let q: any = {\n        fields: ['title', 'description', 'type'],\n        types: types,\n        term: searchText,\n        filters: queryFilters,\n        options: {withcontext: true, highlighting: false}\n      };\n\n      if (contextId) {\n        if(q.filters){\n          q.filters.contextfolderid = {v1: contextId, o: 'eq'};\n        } else {\n          q.filters = {contextfolderid: {v1: contextId, o: 'eq'}};\n        }\n      }\n\n      return this.searchService\n        .executeQuery(q)\n        .pipe(\n          map(item => item ? this.searchService.createResultFromResponse(item) : [])\n        );\n    }\n    return of([]);\n  }\n\n  private createResultList(list: ReferenceSearch[], currentSelection, types): ReferenceItem[] {\n    if (list.length) {\n      return list.map(el =>\n        this.generateResultElement(el, currentSelection, types)\n      );\n    }\n  }\n\n  private getReferenceUrl(id: string): string {\n    if (id) {\n      return this.router.createUrlTree(['object', id]).toString().replace(/\\(modal:\\w+\\)$/g, '');\n    }\n  }\n\n  selectOnMultisSelect(list: ReferenceItem[], item: ReferenceItem): ReferenceItem[] {\n    const index = list.findIndex(el => el.id === item.id);\n    list[index].selected = !list[index].selected;\n    return list;\n  }\n\n  selectOnSingleSelect(list: ReferenceItem[], item: ReferenceItem): ReferenceItem[] {\n    list.forEach(entry => entry.id === item.id && !entry.selected ? (entry.selected = true) : (entry.selected = false));\n    return list;\n  }\n\n  generateSeletecItems(search: ReferenceItem[], clipboard: ReferenceItem[], selection: ReferenceItem[]): ReferenceItem[] {\n    const selCB = clipboard.filter(el => el.selected && !selection.find(cS => cS.id === el.id));\n    const searchRes = search.filter(el => el.selected && !selection.find(cS => cS.id === el.id));\n    return [...selCB, ...searchRes];\n  }\n\n  findReferences(searchTerm: string, types = [], contextId?: string, queryFilters?: any) {\n    return this.searchReferences(searchTerm, types, contextId, queryFilters);\n  }\n\n  generateResults(list, hits, currentSelection, types) {\n    const results = [...list, ...this.createResultList(hits, currentSelection, types)];\n    return results.filter((item, index) => (index === results.findIndex(obj => obj.id === item.id && !item.clipboard)));\n  }\n\n  generateReferenceItemsFromDmsObjects(dmsObjects: DmsObject[], currentSelection: ReferenceItem[], disabled = false): ReferenceItem[] {\n    return dmsObjects\n      .map(obj => ({\n        ...obj,\n        objectType: obj.type,\n        clipboard: true,\n        link: this.getReferenceUrl(obj.id),\n        disabled: !disabled ? !!currentSelection.find(cS => cS.id === obj.id) : disabled,\n        selected: !!currentSelection.find(cS => cS.id === obj.id)\n      }));\n  }\n\n  generateResultElement(element: ReferenceSearch, currentSelection: ReferenceItem[], types: string): ReferenceItem {\n    const objectType = this.systemService.getObjectType(element.type);\n    const disabled = !!currentSelection.find(cS => cS.id === element.id);\n\n    const {description, title, id} = element;\n\n    return {\n      description,\n      title,\n      id,\n      contextFolder: element.context,\n      objectType,\n      selected: disabled,\n      typeName: types,\n      disabled,\n      clipboard: false,\n      link: this.getReferenceUrl(id)\n    };\n  }\n}\n","export * from './form-elements.module';\nexport * from './checkbox/checkbox.component';\nexport * from './codesystem/codesystem.component';\nexport * from './date/date.component';\nexport * from './date/year-range/year-range.directive';\nexport * from './datetime-range/datetime-range.component';\nexport * from './dynamic-list/dynamic-list.component';\nexport * from './form-input/form-input.component';\nexport * from './form-input/input-focus/input-focus.directive';\nexport * from './id-reference/id-reference.component';\nexport * from './number/number.component';\nexport * from './number-range/number-range.component';\nexport * from './organization/organization.component';\nexport * from './password/password.component';\nexport * from './reference/reference.component';\nexport * from './string/string.component';\n","import {Component, forwardRef, HostBinding, Input} from '@angular/core';\nimport {\n  UntypedFormGroup,\n  UntypedFormControl,\n  ControlValueAccessor,\n  Validator,\n  NG_VALUE_ACCESSOR,\n  NG_VALIDATORS\n} from '@angular/forms';\nimport {RangeValue, SearchFilter} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-number-range',\n  templateUrl: './number-range.component.html',\n  styleUrls: ['./number-range.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => NumberRangeComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => NumberRangeComponent),\n      multi: true,\n    }\n  ],\n  host: {\n    class: 'form-element-range'\n  }\n})\nexport class NumberRangeComponent implements ControlValueAccessor, Validator {\n\n  @Input() scale;\n  @Input() precision;\n  @Input() grouping;\n  @Input() pattern;\n  @Input() readonly: boolean;\n\n  @HostBinding('class.swap') swapInputs: boolean = false;\n\n  public rangeForm = new UntypedFormGroup({\n    numberValue: new UntypedFormControl(),\n    numberValueFrom: new UntypedFormControl()\n  });\n\n  value: RangeValue;\n  private isValid = true;\n\n  // options for search situation\n  public availableSearchOptions = [\n    {label: RangeValue.getOperatorLabel(SearchFilter.OPERATOR.EQUAL), value: SearchFilter.OPERATOR.EQUAL},\n    {label: RangeValue.getOperatorLabel(SearchFilter.OPERATOR.GREATER_OR_EQUAL), value: SearchFilter.OPERATOR.GREATER_OR_EQUAL},\n    {label: RangeValue.getOperatorLabel(SearchFilter.OPERATOR.LESS_OR_EQUAL), value: SearchFilter.OPERATOR.LESS_OR_EQUAL},\n    {label: RangeValue.getOperatorLabel(SearchFilter.OPERATOR.INTERVAL_INCLUDE_BOTH), value: SearchFilter.OPERATOR.INTERVAL_INCLUDE_BOTH}\n  ];\n  // the selected search option\n  public searchOption = this.availableSearchOptions[0].value;\n\n  constructor() {\n    this.rangeForm.valueChanges.forEach(() => {\n        this.onValueChange();\n      }\n    );\n  }\n\n  propagateChange = (_: any) => {\n  }\n\n  writeValue(value: RangeValue): void {\n    if (value && value instanceof RangeValue && (value.firstValue != null || value.secondValue != null)) {\n\n      let match = this.availableSearchOptions.find((o) => o.value === value.operator);\n      this.searchOption = match ? match.value : this.availableSearchOptions[0].value;\n\n      this.value = value;\n      if (value.secondValue == null) {\n        this.rangeForm.setValue({\n          numberValueFrom: null,\n          numberValue: value.firstValue ? value.firstValue : null\n        });\n      } else {\n        this.rangeForm.setValue({\n          numberValueFrom: value.firstValue ? value.firstValue : null,\n          numberValue: value.secondValue ? value.secondValue : null\n        });\n      }\n\n    } else {\n      this.value = null;\n      this.rangeForm.reset();\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  onValueChange() {\n\n    this.isValid = this.rangeForm.valid;\n    if (this.searchOption === SearchFilter.OPERATOR.INTERVAL_INCLUDE_BOTH) {\n      this.isValid = this.rangeForm.valid && this.rangeForm.get('numberValueFrom').value != null && this.rangeForm.get('numberValue').value != null;\n      \n      const fromVal = this.rangeForm.get('numberValueFrom').value;\n      const toVal = this.rangeForm.get('numberValue').value;      \n      this.swapInputs = fromVal && toVal && parseFloat(fromVal) > parseFloat(toVal);      \n      this.value = !this.isValid ? null : new RangeValue(\n        this.searchOption,\n        this.swapInputs ? toVal : fromVal,\n        this.swapInputs ? fromVal : toVal\n      );\n    } else {\n      this.swapInputs = false;\n      this.value = !this.isValid || this.rangeForm.get('numberValue').value === null ? null : new RangeValue(\n        this.searchOption,\n        this.rangeForm.get('numberValue').value\n      );\n    }\n    this.propagateChange(this.value);\n  }\n\n  // returns null when valid else the validation object\n  public validate(c: UntypedFormControl) {\n    let err;\n    if (this.searchOption === SearchFilter.OPERATOR.EQUAL) {\n      err = {\n        number: {\n          valid: false,\n        }\n      };\n    } else {\n      err = {\n        numberrange: {\n          valid: false,\n        }\n      };\n    }\n    return (this.isValid) ? null : err;\n  }\n}\n","<form class=\"eo-number-range\" [formGroup]=\"rangeForm\">\n\n  <eo-number *ngIf=\"searchOption === 'gtelte'\"\n             [readonly]=\"readonly\"\n             [scale]=\"scale\"\n             [precision]=\"precision\"\n             [grouping]=\"grouping\"\n             [pattern]=\"pattern\"\n             formControlName=\"numberValueFrom\"></eo-number>\n\n  <yvc-dropdown class=\"no-trigger\" [(ngModel)]=\"searchOption\"\n              (ngModelChange)=\"onValueChange()\"\n              [disableClearButton]=\"true\"\n              [ngModelOptions]=\"{standalone: true}\"\n              [options]=\"availableSearchOptions\"></yvc-dropdown>\n\n  <eo-number [scale]=\"scale\"\n             [readonly]=\"readonly\"\n             [precision]=\"precision\"\n             [grouping]=\"grouping\"\n             [pattern]=\"pattern\"\n             formControlName=\"numberValue\"></eo-number>\n\n</form>\n","import {Component, forwardRef, Input} from '@angular/core';\nimport {ControlValueAccessor, UntypedFormControl, NG_VALIDATORS, NG_VALUE_ACCESSOR, Validator} from '@angular/forms';\nimport {TranslateService} from '@eo-sdk/core';\nimport {LocaleNumberPipe} from '../../../eo-framework-core/pipes/locale-number.pipe';\nimport {UtilitiesService} from '../../util/services/utilities.service';\n\n@Component({\n  selector: 'eo-number',\n  templateUrl: './number.component.html',\n  styleUrls: ['./number.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => NumberComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => NumberComponent),\n      multi: true,\n    }\n  ]\n})\nexport class NumberComponent implements ControlValueAccessor, Validator {\n\n  // model value\n  value: number;\n  // inner value\n  innerValue: string;\n  _scale: number;\n  _precision: number;\n  _pattern: string;\n  _grouping: boolean;\n  validationErrors = [];\n  numberPipe: LocaleNumberPipe;\n\n  /**\n   * Number of digits allowed after the comma\n   */\n  @Input() set scale(val) {\n    this._scale = Math.min(val || 0, 30);\n  };\n\n  /**\n   * Number of digits allowed before the comma\n   */\n  @Input() set precision(val) {\n    this._precision = Math.min(val || 100, 100);\n  };\n\n  /**\n   * Display localized separators (e.g. 1.000.000) in the number value\n   */\n  @Input() set grouping(val: boolean) {\n    this._grouping = val;\n  };\n\n  @Input() set pattern(val) {\n    this._pattern = val;\n  };\n\n  @Input() readonly: boolean;\n\n  constructor(private translate: TranslateService) {\n    this.numberPipe = new LocaleNumberPipe(this.translate);\n  }\n\n  get scale() {\n    return this._scale;\n  }\n\n  get precision() {\n    return this._precision;\n  }\n\n  get grouping() {\n    return this._grouping;\n  }\n\n  get pattern() {\n    return this._pattern;\n  }\n\n  propagateChange = (_: any) => {\n  }\n\n  writeValue(value: any): void {\n    this.value = value != null ? value : null;\n    this.innerValue = value != null ? this.numberPipe.numberToString(value, this.grouping, this.pattern, this.scale) : null;\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  onValueChange(evt) {\n    this.validationErrors = [];\n\n    if (UtilitiesService.isEmpty(evt)) {\n      this.value = null;\n      this.propagateChange(this.value);\n      return;\n    }\n\n    // validate input\n    const val = this.numberPipe.stringToNumber(evt);\n    // general number validation\n    if (isNaN(val) || typeof val !== 'number') {\n      this.validationErrors.push({\n        key: 'number'\n      });\n    } else {\n\n      // check precision\n      const prePointDigits = this.precision - this.scale;\n      if (val.toFixed(0).length > prePointDigits) {\n        this.validationErrors.push({\n          key: 'precision',\n          translateKey: 'eo.form.property.number.precision',\n          translateValues: {\n            prepointdigits: prePointDigits\n          }\n        });\n      }\n      // check scale\n      if (val % 1 && val.toString().split('.')[1].length > this.scale) {\n        this.validationErrors.push({\n          key: 'scale',\n          translateKey: 'eo.form.property.number.scale',\n          translateValues: {\n            scale: this.scale\n          }\n        });\n      }\n\n      if (!this.validationErrors.length) {\n        this.value = val;\n      }\n    }\n    this.propagateChange(this.value);\n  }\n\n  // called when the input looses focus\n  public format() {\n    if (!this.readonly && typeof this.value === 'number' && this.validationErrors.length === 0) {\n      this.innerValue = this.numberPipe.numberToString(this.value, this.grouping, this.pattern, this.scale);\n    }\n  }\n\n  // called when the input get focus\n  public unformat() {\n    if (!this.readonly && typeof this.value === 'number' && this.validationErrors.length === 0) {\n      this.innerValue = this.numberPipe.transform(this.value, false, this.pattern, this.scale);\n    }\n  }\n\n  // returns null when valid else the validation object\n  public validate(c: UntypedFormControl) {\n\n    let ret = null;\n    if (this.validationErrors.length > 0) {\n      ret = {};\n      for (let e of this.validationErrors) {\n        ret[e.key] = {\n          valid: false,\n          translateKey: e.translateKey,\n          translateValues: e.translateValues\n        };\n      }\n    }\n    return ret;\n  }\n}\n","<input type=\"text\" [(ngModel)]=\"innerValue\" (focus)=\"unformat()\" (blur)=\"format()\"\n       [readonly]=\"readonly\"\n       (ngModelChange)=\"onValueChange($event)\">\n\n","import {\n  AfterContentChecked,\n  Component,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  Input,\n  Output,\n  ViewChild\n} from '@angular/core';\nimport {ControlValueAccessor, NG_VALIDATORS, NG_VALUE_ACCESSOR, Validator} from '@angular/forms';\nimport {BackendService, SystemService, TranslateService, UserService, Utils} from '@eo-sdk/core';\nimport {AutoComplete} from '@yuuvis/components/autocomplete';\nimport {forkJoin as observableForkJoin, of as observableOf, Subscription} from 'rxjs';\n\nexport interface OrganizationFilter {\n  type?: string;        // The type of the organization unit ('USER' or 'GROUP') to be displayed\n  groups?: string[];    // an array of group names to filter autocomplete results with\n  roles?: string[];     // an array of role names to filter autocomplete results with\n  activeonly?: boolean; // whether or not to fetch only active organization objects\n}\n\n@Component({\n  selector: 'eo-organization',\n  templateUrl: './organization.component.html',\n  styleUrls: ['./organization.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => OrganizationComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => OrganizationComponent),\n      multi: true\n    }\n  ]\n})\nexport class OrganizationComponent implements ControlValueAccessor, AfterContentChecked, Validator {\n\n  @ViewChild('autocomplete') autoCompleteInput: AutoComplete;\n\n  icon = {\n    user: '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" viewBox=\"0 -960 960 960\" width=\"20\"><path d=\"M480-480q-60 0-102-42t-42-102q0-60 42-102t102-42q60 0 102 42t42 102q0 60-42 102t-102 42ZM192-192v-96q0-23 12.5-43.5T239-366q55-32 116.5-49T480-432q63 0 124.5 17T721-366q22 13 34.5 34t12.5 44v96H192Z\"/></svg>',\n    group: '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" viewBox=\"0 -960 960 960\" width=\"20\"><path d=\"M96-192v-92q0-26 12.5-47.5T143-366q54-32 114.5-49T384-432q66 0 126.5 17T625-366q22 13 34.5 34.5T672-284v92H96Zm648 0v-92q0-42-19.5-78T672-421q39 8 75.5 21.5T817-366q22 13 34.5 34.5T864-284v92H744ZM384-480q-60 0-102-42t-42-102q0-60 42-102t102-42q60 0 102 42t42 102q0 60-42 102t-102 42Zm336-144q0 60-42 102t-102 42q-8 0-15-.5t-15-2.5q25-29 39.5-64.5T600-624q0-41-14.5-76.5T546-765q8-2 15-2.5t15-.5q60 0 102 42t42 102Z\"/></svg>'\n  }\n\n  remoteUrl = '/organization/query?q=';\n  minLength = 2;\n  wildCard = '*';\n  @HostBinding('class.readonly') _readonly: boolean;\n\n  @Output()\n  onValueResolved = new EventEmitter();\n  // emitted when value changed holding the resolved data_meta\n  @Output()\n  onDataMetaChanged = new EventEmitter();\n\n  autocompleteRes: any[];\n  // model value\n  value;\n  currentUserId: string;\n  // inner ng-model value\n  innerValue: any[] = [];\n  error: any = {};\n  deletedItemID: string;\n  @Input() removeCurrentUser: boolean;\n  @Input() situation: string;\n  @Input() multiselect: boolean;\n  @Input() set readonly(r: boolean) {\n    this._readonly = r;\n  }\n  get readonly() {\n    return this._readonly;\n  }\n  @Input() set dataMeta(dM: any) {\n    if (dM) {\n      this.innerValue = Array.isArray(dM) ? dM : [dM];\n    }\n  }\n  @Input() placeholder: string;\n  // list of values that should not be selectable\n  @Input() exceptions: string[] = [];\n  @Input() filterObject: OrganizationFilter;\n\n  constructor(private backend: BackendService,\n    private translate: TranslateService,\n    private systemService: SystemService,\n    public userService: UserService,\n  ) {\n    this.currentUserId = this.userService.getCurrentUser().id;\n  }\n\n  public validate() {\n    return null;\n  }\n\n  private buildAutocompleteUri(query: string): string {\n    const params = {\n      q: query,\n      activeonly: (this.situation !== 'SEARCH') ? 'true' : 'false',\n      details: true\n    };\n\n    if (this.filterObject) {\n      if (this.filterObject.type) {\n        params['scope'] = this.filterObject.type;\n      }\n      if (this.filterObject.groups) {\n        params['groupfilter'] = this.filterObject.groups;\n      }\n      if (this.filterObject.roles) {\n        params['rolefilter'] = this.filterObject.roles;\n      }\n      if (this.filterObject.hasOwnProperty('activeonly')) {\n        params['activeonly'] = this.filterObject.activeonly ? 'true' : 'false';\n      }\n    }\n    return Utils.buildUri('/organization/query', params);\n  }\n\n  propagateChange = (_: any) => {\n  }\n\n  writeValue(value: any): void {\n    if (value) {\n      this.value = value;\n      this.resolveFn(value);\n    } else {\n      this.value = null;\n      this.innerValue = [];\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  private propagate() {\n    this.propagateChange(this.value);\n    this.onDataMetaChanged.emit(this.innerValue);\n  }\n\n  autocompleteFn(term: string) {\n    if (term.length >= this.minLength || term === this.wildCard) {\n      if (this.multiselect || (!this.multiselect && this.innerValue.length === 0)) {\n        this.backend.getJson(this.buildAutocompleteUri(term))\n          .subscribe((res) => {\n            // autocomplete values should be unique and not part of the exceptions\n            this.autocompleteRes = res.filter(v => (!this.value || this.value.indexOf(v.name) === -1) && this.exceptions.indexOf(v.name) === -1 && (!this.removeCurrentUser || this.currentUserId !== v.id))\n              .sort(Utils.sortValues('title'));\n          },\n            Utils.throw(null,\n              this.translate.instant('eo.form.property.organization.request.error.title'),\n              this.translate.instant('eo.form.property.organization.request.error.msg')\n            )\n          );\n      } else {\n        this.autocompleteRes = [];\n      }\n    } else {\n      this.autocompleteRes = [];\n    }\n  }\n\n  resolveFn(value: any): Subscription {\n    let map = (value instanceof Array ? value : [value]).map(v => {\n      let match = this.innerValue.find(iv => iv.name === v);\n      return match ? observableOf(match) : this.systemService.getOrganizationObject(v);\n    });\n    return observableForkJoin(map).subscribe(data => {\n      this.innerValue = data;\n      this.onValueResolved.emit(this.innerValue);\n    });\n  }\n\n  // handle selection changes to the model\n  onUnselect(value) {\n    this.innerValue = this.innerValue.filter(v => v.name !== value.name);\n    let _value = this.innerValue.map(v => v.name);\n    this.value = this.multiselect ? _value : null;\n    if (!this.multiselect) {\n      this.clearInnerInput();\n    }\n    this.propagate();\n  }\n\n  // handle selection changes to the model\n  onSelect(value) {\n    if (this.multiselect) {\n      this.value = this.innerValue.map(v => v.name);\n    } else {\n      // internal autocomplete control is always set to multiselect\n      // so the resolved value is always an array\n      this.value = this.innerValue[0].name;\n    }\n    this.propagate();\n  }\n\n  onAutoCompleteBlur() {\n    this.clearInnerInput();\n  }\n\n  private clearInnerInput() {\n    this.autoCompleteInput.clearInput();\n  }\n\n  ngAfterContentChecked() {\n    if (this.situation === 'SEARCH') {\n      this.multiselect = true;\n    }\n  }\n}\n","<div class=\"eo-organization\" [ngClass]=\"{acInputHidden: !multiselect && innerValue.length}\">\n\n  <yvc-autocomplete [(ngModel)]=\"innerValue\" #autocomplete (suggestionSelect)=\"onSelect($event)\"\n    [placeholder]=\"placeholder\" (suggestionUnselect)=\"onUnselect($event)\" (blur)=\"onAutoCompleteBlur()\"\n    [disabled]=\"readonly\" [autocompleteValues]=\"autocompleteRes\" field=\"id\"\n    [forceSelection]=\"true\"\n    (autocompleteFnc)=\"autocompleteFn($event)\" [multiple]=\"true\">\n\n    <ng-template #autocompleteOptionTemplate let-item>\n      <div class=\"org-item\">\n        <yvc-icon [svg]=\"item.type === 'group' ?  icon.group : icon.user\"></yvc-icon>\n        <span *ngIf=\"(item.firstname?.length && item.lastname?.length) || item.type === 'group'\">{{item.title}}\n          ({{item.name}})</span>\n        <span *ngIf=\"!item.firstname?.length && !item.lastname?.length && item.type !== 'group'\">({{item.name}})</span>\n        <span *ngIf=\"!item.firstname?.length && item.lastname?.length\">{{item.lastname}} ({{item.name}})</span>\n        <span *ngIf=\"item.firstname?.length && !item.lastname?.length\">{{item.firstname}} ({{item.name}})</span>\n      </div>\n    </ng-template>\n\n    <ng-template #chipTemplate let-item>\n      <div class=\"org-item\">\n        <yvc-icon [svg]=\"item.type === 'group' ?  icon.group : icon.user\"></yvc-icon>\n        <span\n          *ngIf=\"(item.firstname?.length && item.lastname?.length && item.active) || item.type === 'group'\">{{item.title}}\n          ({{item.name}})</span>\n        <span *ngIf=\"(!item.firstname?.length && !item.lastname?.length && !item.active && !item.type)\"\n          class=\"deleted-user-label\">{{'eo.form.property.organization.error.usernotfound'|translate}}</span>\n        <span\n          *ngIf=\"!item.firstname?.length && !item.lastname?.length && item.active && item.type !== 'group'\">({{item.name}})</span>\n        <span *ngIf=\"!item.firstname?.length && item.lastname?.length\">{{item.lastname}} ({{item.name}})</span>\n        <span *ngIf=\"item.firstname?.length && !item.lastname?.length\">{{item.firstname}} ({{item.name}})</span>\n      </div>\n    </ng-template>\n    \n  </yvc-autocomplete>\n</div>","<section [formGroup]=\"parent\" class=\"password-input\">\n  <input  class=\"\"\n          autocomplete=\"off\"\n          [type]=\"showPassword ? 'text' : 'password'\"\n          [pattern]=\"pattern\"\n          [placeholder]=\"placeholder\"\n          autocomplete=\"new-password\"\n          formControlName=\"{{element}}\">\n\n  <a *ngIf=\"canChangepasswordVisiblety\" (click)=\"showPassword = !showPassword\">\n    <eo-icon class=\"password-input__icon-show\"\n             [iconSrc]=\"'assets/_default/svg/ic_eye.svg'\"\n             [iconTitle]=\"('eo.password.reset.toogle.icon' | translate)\"\n             [ngClass]=\"{'visible': showPassword}\"></eo-icon>\n  </a>\n</section>\n","import {Component, Input, Output, EventEmitter} from '@angular/core';\nimport {UntypedFormGroup} from '@angular/forms';\n\n@Component({\n  selector: 'eo-password',\n  templateUrl: './password.component.html',\n  styleUrls: ['./password.component.scss']\n})\nexport class PasswordComponent {\n\n  showPassword = false;\n  @Input() pattern = '';\n  @Input() parent: UntypedFormGroup;\n  @Input() element: string;\n  @Input() placeholder = '';\n  @Input() canChangepasswordVisiblety: boolean;\n  @Input() set passwordVisible(val: boolean) {\n    this.showPassword = val;\n  }\n}\n\n","import {Component, forwardRef, Input, ViewChild, Output, EventEmitter} from '@angular/core';\nimport {\n  ControlValueAccessor,\n  NG_VALUE_ACCESSOR,\n  Validator,\n  UntypedFormControl,\n  NG_VALIDATORS\n} from '@angular/forms';\nimport {SearchService, Utils} from '@eo-sdk/core';\nimport {AutoComplete} from '@yuuvis/components/autocomplete';\n\n@Component({\n  selector: 'eo-reference',\n  templateUrl: './reference.component.html',\n  styleUrls: ['./reference.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => ReferenceComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => ReferenceComponent),\n      multi: true\n    }\n  ]\n})\nexport class ReferenceComponent implements ControlValueAccessor, Validator {\n\n  @ViewChild('autocomplete') autoCompleteInput: AutoComplete;\n\n  @Input() readonly: boolean;\n  @Input() multiselect: boolean;\n  /**\n   * Property to search for, aswell as the object type\n   */\n  @Input() reference: {element: string, type: string};\n  @Input() minLength: number;\n  @Input() maxLength: number;\n\n  @Output() onReferenceClicked = new EventEmitter();\n\n  autocompleteRes: any[];\n  // model value\n  private value;\n  // inner ng-model value\n  innerValue: {value: string, title: string}[] = [];\n\n  constructor(private searchService: SearchService) {\n  }\n\n  propagateChange = (value: any) => {\n  }\n\n  tranformValue(valueIsArray, value) {\n    return valueIsArray ? value.map(v => {\n      return {\n        value: v,\n        title: null\n      }\n    }) : [{\n      value: value,\n      title: null\n    }];\n  }\n\n  writeValue(value: any): void {\n\n    if (value) {\n      const valueIsArray = Array.isArray(value);\n      this.value = valueIsArray ? Array.from(new Set(value)) : value;\n\n      // transform value to inner value\n      this.innerValue = this.tranformValue(valueIsArray, this.value);\n    } else {\n      this.value = null;\n      this.innerValue = [];\n    }\n\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  autocompleteResult(res = null, query = '') {\n    const value = this.value ? this.value : [];\n    if (res && res.hits && res.hits.total.value) {\n      const results = res.hits.hits\n        .filter(h => !value.includes(h._source[this.reference.element]))\n        .map(h => ({value: h._source[this.reference.element], title: h._source.title}));\n      this.autocompleteRes = Utils.uniqBy(results, 'value');\n    } else {\n      this.autocompleteRes = [];\n    }\n  }\n\n  autocompleteFn(term: string) {\n    if (this.multiselect || !this.innerValue.length) {\n      const {type, element} = this.reference;\n      const q = {\n        filters: {},\n        types: [type],\n        fields: [\n          'title',\n          element\n        ],\n        options: {\n          sort: {\n            title: {\n              order: 'asc'\n            }\n          }\n        }\n      };\n\n      // todo: add condition to remove the values that are already set when regex operator is supported\n      q.filters[element] = {\n        o: 'eq',\n        v1: `${term}*`\n      };\n\n      this.searchService\n        .executeQuery(q)\n        .subscribe(res => this.autocompleteResult(res, term), () => this.autocompleteResult(null, term))\n    } else {\n      this.autocompleteResult(null, term);\n    }\n  }\n\n  // handle selection changes to the model\n  onUnselect(item) {\n    this.innerValue = this.innerValue.filter(iv => iv.value !== item.value);\n    this.value = this.multiselect ? Utils.uniqBy(this.innerValue, 'value').map(iv => iv.value) : null;\n    if (!this.multiselect) {\n      this.clearInnerInput();\n    }\n    this.propagateChange(this.value);\n  }\n\n  // handle selection changes to the model\n  onSelect(selectedItem) {\n\n    if (typeof selectedItem === 'string') selectedItem = {\n      value: selectedItem,\n      title: selectedItem\n    }\n\n    this.innerValue.push(selectedItem);\n    this.innerValue = Utils.uniqBy(this.innerValue, 'value');\n\n    if (this.multiselect) {\n      this.value = this.innerValue.map(iv => iv.value);\n    } else {\n      this.value = this.innerValue[0].value;\n    }\n    this.propagateChange(this.value);\n  }\n\n  onAutoCompleteBlur() {\n    this.clearInnerInput();\n  }\n\n  onKeyUpEnter(event) {\n    const input = event.target.value.trim();\n    if (input.length) {\n      this.onSelect({value: input, title: input});\n    }\n    this.clearInnerInput();\n  }\n\n  private clearInnerInput() {\n    this.autoCompleteInput.clearInput();\n    this.autocompleteResult();\n  }\n\n  getItemLinkParams(item) {\n    const query = {\n      types: [this.reference.type],\n      filters: {}\n    };\n    query.filters[this.reference.element] = {\n      o: 'eq',\n      v1: item.value\n    };\n    return {\n      query: encodeURIComponent(JSON.stringify(query))\n    };\n  }\n\n  // returns null when valid else the validation object\n  public validate(c: UntypedFormControl) {\n    let err;\n\n    if (this.value && this.value !== null) {\n      if (this.multiselect) {\n        if (this.value.length > 0 && !!this.value.find(v => v.length < this.minLength)) {\n          err = {};\n          err['minlength'] = {\n            valid: false\n          }\n        }\n        if (this.value.length > 0 && !!this.value.find(v => v.length > this.maxLength)) {\n          err = {};\n          err['maxlength'] = {\n            valid: false\n          }\n        }\n      } else {\n        if (this.value.length > 0 && this.value.length < this.minLength) {\n          err = {};\n          err['minlength'] = {\n            valid: false\n          }\n        }\n        if (this.value.length > this.maxLength) {\n          err = {};\n          err['maxlength'] = {\n            valid: false\n          }\n        }\n      }\n    }\n    return err ? err : null;\n  }\n}\n","<div class=\"eo-form-reference\" [ngClass]=\"{acInputHidden: !multiselect && !!innerValue.length}\">\n\n  <yvc-autocomplete [ngModel]=\"innerValue\" #autocomplete (suggestionSelect)=\"onSelect($event)\"\n    (suggestionUnselect)=\"onUnselect($event)\" [disabled]=\"readonly\" [multiple]=\"true\"\n    [autocompleteValues]=\"autocompleteRes\" [field]=\"'value'\" [forceSelection]=\"true\" (blur)=\"onAutoCompleteBlur()\"\n    (keyup.enter)=\"onKeyUpEnter($event)\" (autocompleteFnc)=\"autocompleteFn($event)\">\n\n    <!-- template for the suggest list -->\n    <ng-template let-item #autocompleteOptionTemplate>\n      <span class=\"yvc-autocomplete-token-label\" title=\"{{item.value}} ({{item.title}})\">\n        <strong>{{item.value}}</strong>\n        <span>{{item.title}}</span>\n      </span>\n    </ng-template>\n\n    <!-- template for the selected items -->\n    <ng-template let-item #chipTemplate>\n      <a class=\"link router-link\" [routerLink]=\"['/result']\" [queryParams]=\"getItemLinkParams(item)\">\n        <svg focusable=\"false\" class=\"ref-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"\n          viewBox=\"0 0 24 24\">\n          <path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8\n          13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\">\n          </path>\n        </svg>\n      </a>\n      <span class=\"yvc-autocomplete-token-label\">{{item.value}}</span>\n\n    </ng-template>\n  </yvc-autocomplete>\n</div>\n","import {Component, forwardRef, Input} from '@angular/core';\nimport {\n  UntypedFormControl,\n  ControlValueAccessor,\n  Validator,\n  NG_VALUE_ACCESSOR,\n  NG_VALIDATORS\n} from '@angular/forms';\nimport {BackendService, EnvironmentService, Utils, FormatedMailTo} from '@eo-sdk/core';\n\n\n@Component({\n  selector: 'eo-string',\n  templateUrl: './string.component.html',\n  styleUrls: ['./string.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => StringComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => StringComponent),\n      multi: true\n    }\n  ]\n})\nexport class StringComponent implements ControlValueAccessor, Validator {\n\n  private _autocomplete: boolean;\n  @Input()\n  set autocomplete(autoCom: boolean) {\n    this._autocomplete = autoCom;\n  }\n\n  get autocomplete() {\n    return this._autocomplete;\n  }\n\n  @Input() multiselect: boolean;\n  @Input() multiline: boolean;\n  @Input() readonly: boolean;\n  @Input() autofocus: boolean;\n\n  @Input() classification: string;\n  @Input() situation: string;\n  @Input() regex: string;\n  @Input() qname: string;\n  // could be small, medium, large\n  @Input() size: string;\n  @Input() minLength: number;\n  @Input() maxLength: number;\n\n  autocompleteRes: any[];\n  formatedValue: FormatedMailTo;\n  // model value\n  value;\n  valid: boolean;\n\n  constructor(private backend: BackendService, private envService: EnvironmentService) {\n  }\n\n  propagateChange = (_: any) => {\n  };\n\n  onKeyUpEnter(event) {\n    // applies to multiselect and autocomplete\n    const input = event.target.value.trim();\n    if (input) {\n      this.value = this.value ? this.value : [];\n      this.value = [...this.value, input];\n      this.propagateChange(this.value);\n      event.target.value = '';\n    }\n  }\n\n  writeValue(value: any): void {\n    this.formatedValue = Utils.formatMailTo(value, this.classification === 'email');\n    this.value = value || null;\n    this._validate();\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  onValueChange(evt) {\n    this.formatedValue = Utils.formatMailTo(evt, this.classification === 'email');\n    this.value = evt.length ? evt : null;\n    this.propagateChange(this.value);\n  }\n\n  onBlur() {\n    if (this.trimValue()) {\n      this.propagateChange(this.value);\n    }\n  }\n\n  /**\n   * Trims the current value and returns wether or not it has been trimmed\n   */\n  private trimValue(): boolean {\n    if (this.value) {\n      if (this.multiselect) {\n        const lengthBefore = this.value.join('').length;\n        this.value = this.value.map(v => v.trim());\n        return this.value.join('').length !== lengthBefore;\n      } else {\n        const lengthBefore = this.value.length;\n        this.value = this.value.trim();\n        return this.value.length !== lengthBefore;\n      }\n    }\n    return false;\n  }\n\n  autocompleteFn(term: string) {\n    const uri = `/autocomplete/element?prefix=${encodeURIComponent(term)}&qname=${this.qname}`;\n    const base = this.backend.getSearchBase();\n    this.backend\n      .getJson(uri, base)\n      .subscribe(res => {\n        let r = [];\n        res.forEach(i => r.push(i.value));\n        this.autocompleteRes = r;\n      });\n  }\n\n  private validateClassification(string): boolean {\n\n    if (this.situation === 'SEARCH') {\n      return true;\n    } else {\n      let pattern;\n      if (this.classification === 'email') {\n        pattern = /^(?:(.+?)\\s*<(\\w+)([\\-+.][\\w]+)*@(\\w[\\-\\w]*\\.){1,5}([A-Za-z]{2,6})>|[\"']{1}(.+?)[\"']{1}\\s*<(\\w+)([\\-+.][\\w]+)*@(\\w[\\-\\w]*\\.){1,5}([A-Za-z]{2,6})>|(\\w+)([\\-+.][\\w]+)*@(\\w[\\-\\w]*\\.){1,5}([A-Za-z]{2,6}))$/;\n      } else if (this.classification === 'url') {\n        pattern = /(http|ftp|https):\\/\\/[\\w-]+(\\.[\\w-]+)+([\\w.,@?^=%&amp;:\\/~+#-]*[\\w@?^=%&amp;\\/~+#-])?/;\n      }\n      return pattern ? pattern.test(string) : true;\n    }\n  }\n\n  private _validate() {\n    let err;\n    // validate regular expression\n    if (this.value && this.regex) {\n      if (this.multiselect) {\n        if (this.value.length > 0 && !!this.value.find(v => !RegExp(this.regex).test(v))) {\n          err = {};\n          err['regex'] = {\n            valid: false\n          }\n        }\n      } else {\n        if (!RegExp(this.regex).test(this.value)) {\n          err = {};\n          err['regex'] = {\n            valid: false\n          }\n        }\n      }\n    }\n    // validate classification settings\n    if (this.value && this.classification) {\n      if (this.multiselect) {\n        for (let v of this.value) {\n          if (!this.validateClassification(v)) {\n            err = {};\n            err['classification' + this.classification] = {\n              valid: false\n            };\n          }\n        }\n      } else {\n        if (!this.validateClassification(this.value)) {\n          err = {};\n          err['classification' + this.classification] = {\n            valid: false\n          };\n        }\n      }\n    }\n    // validate length here when multiselect\n    if (this.value && this.value !== null) {\n      if (this.multiselect) {\n        if (this.value.length > 0 && !!this.value.find(v => v.length < this.minLength)) {\n          err = {};\n          err['minlength'] = {\n            valid: false\n          }\n        }\n        if (this.value.length > 0 && !!this.value.find(v => v.length > this.maxLength)) {\n          err = {};\n          err['maxlength'] = {\n            valid: false\n          }\n        }\n      } else {\n        if (this.value.length > 0 && this.value.length < this.minLength) {\n          err = {};\n          err['minlength'] = {\n            valid: false\n          }\n        }\n        if (this.value.length > this.maxLength) {\n          err = {};\n          err['maxlength'] = {\n            valid: false\n          }\n        }\n      }\n    }\n    // validate invalid if only whitespaces\n    if (this.value && this.value !== null) {\n      if (this.multiselect) {\n        for (let v of this.value) {\n          if (v.length && !v.trim().length) {\n            err = {};\n            err['onlyWhitespaces'] = {\n              valid: false\n            }\n          }\n        }\n      } else {\n        if (this.value.length && !this.value.trim().length) {\n          err = {};\n          err['onlyWhitespaces'] = {\n            valid: false\n          }\n        }\n      }\n    }\n    this.valid = !err;\n    return err || null;\n  }\n\n  // returns null when valid else the validation object\n  public validate(c: UntypedFormControl) {\n    return this._validate();\n  }\n}\n","<div class=\"eo-form-string\">\n\n  <input *ngIf=\"!multiline && !multiselect && !autocomplete\" type=\"text\" (blur)=\"onBlur()\" [readonly]=\"readonly\"\n    [disabled]=\"readonly\" [(ngModel)]=\"value\" (ngModelChange)=\"onValueChange($event)\" />\n\n  <!-- single line input with autocomplete -->\n  <yvc-autocomplete *ngIf=\"!multiline && !multiselect && autocomplete\" #autocomplete [(ngModel)]=\"value\"\n    [disabled]=\"readonly\" [autocompleteValues]=\"autocompleteRes\" (blur)=\"onBlur()\"\n    (suggestionSelect)=\"onValueChange($event)\" (ngModelChange)=\"onValueChange($event)\"\n    (autocompleteFnc)=\"autocompleteFn($event)\">\n  </yvc-autocomplete>\n\n  <!-- single line input with multiselect-->\n  <yvc-chips *ngIf=\"!multiline && multiselect && !autocomplete\" [(ngModel)]=\"value\" [disabled]=\"readonly\"\n    (blur)=\"onBlur()\" (ngModelChange)=\"onValueChange($event)\">\n  </yvc-chips>\n\n<!-- single line input with multiselect and autocomplete -->\n  <yvc-autocomplete *ngIf=\"!multiline && multiselect && autocomplete\"\n    [autocompleteValues]=\"autocompleteRes\" [multiple]=\"true\" [disabled]=\"readonly\"\n    (blur)=\"onBlur()\" (autocompleteFnc)=\"autocompleteFn($event)\"\n    [(ngModel)]=\"value\" (ngModelChange)=\"onValueChange($event)\">\n  </yvc-autocomplete>\n\n  <!-- multi line text inputs -->\n  <textarea class=\"input-textarea size-{{size}}\" *ngIf=\"multiline\"\n    (blur)=\"onBlur()\" [(ngModel)]=\"value\" [readonly]=\"readonly\" [disabled]=\"readonly\"\n    (ngModelChange)=\"onValueChange($event)\"></textarea>\n\n  <div class=\"classify\" [ngClass]=\"{empty: !value || situation === 'SEARCH'}\">\n    <a target=\"_blank\" href=\"mailto:{{formatedValue}}\" *ngIf=\"classification === 'email' && valid\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" viewBox=\"0 -960 960 960\" width=\"20\"><path d=\"M180.309-212.001q-27.008 0-45.658-18.662-18.65-18.662-18.65-45.686v-407.626q0-27.024 18.65-45.524t45.658-18.5h599.382q27.008 0 45.658 18.662 18.65 18.662 18.65 45.686v407.626q0 27.024-18.65 45.524t-45.658 18.5H180.309ZM480-449.694 168-633.309v357q0 5.385 3.462 8.847 3.462 3.462 8.847 3.462h599.382q5.385 0 8.847-3.462 3.462-3.462 3.462-8.847v-357L480-449.694ZM480-517l305.846-179H174.154L480-517ZM168-633.309V-696-276.309q0 5.385 3.462 8.847 3.462 3.462 8.847 3.462H168v-369.309Z\"/></svg>\n    </a>\n    <a target=\"_blank\" href=\"{{value}}\" *ngIf=\"classification === 'url' && valid\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" viewBox=\"0 -960 960 960\" width=\"20\"><path d=\"M480-116.001q-75.154 0-141.499-28.462-66.346-28.461-115.962-78.076-49.615-49.616-78.076-115.962Q116.001-404.846 116.001-480q0-75.769 28.462-141.807 28.461-66.038 78.076-115.654 49.616-49.615 115.962-78.076Q404.846-843.999 480-843.999q75.769 0 141.807 28.462 66.038 28.461 115.654 78.076 49.615 49.616 78.076 115.654Q843.999-555.769 843.999-480q0 75.154-28.462 141.499-28.461 66.346-78.076 115.962-49.616 49.615-115.654 78.076Q555.769-116.001 480-116.001Zm0-53.845q21.616-21.616 40.539-70.424 18.923-48.808 29.077-108.808H410.384q10.923 61.539 29.462 110.347 18.538 48.808 40.154 68.885Zm-64.46-5q-19-30-34.308-75.539t-23.462-98.693H197.076q31.693 69.309 89.501 115.194 57.809 45.885 128.963 59.038Zm128.92 0q71.154-13.153 128.963-59.038 57.808-45.885 89.501-115.194H602.23Q592.153-295.539 576.845-250q-15.308 45.539-32.385 75.154Zm79.463-226.23h173.693q4.231-21.308 6.039-40.731 1.808-19.424 1.808-38.193t-1.808-38.693q-1.808-19.923-6.039-40.231H623.923q1.231 19.385 1.154 40.385-.077 21-.077 40.539t.077 39.539q.077 20-1.154 37.385Zm-218.308 0h148.77q2.769-22.308 3.462-41.347.692-19.038.692-37.577 0-18.539-.692-38.077-.693-19.539-3.462-40.847h-148.77q-2.769 21.308-3.462 40.847-.692 19.538-.692 38.077 0 18.539.692 38.077.693 19.539 3.462 40.847Zm-243.231 0h173.693q-1.231-19.385-1.154-40.385.077-21 .077-40.539t-.077-39.539q-.077-20 1.154-37.385H162.384q-4.231 21.308-6.039 40.731-1.808 19.424-1.808 38.193t1.808 38.193q1.808 19.423 6.039 40.731ZM602.23-610.922h160.694Q730.846-681 674-726.116q-56.847-45.115-129.54-59.423 19 31.923 33.923 76.885 14.924 44.962 23.847 97.732Zm-191.846 0h139.232q-10.923-61.154-30.039-110.924-19.115-49.769-39.577-68.308-20.462 18.539-39.577 68.308-19.116 49.77-30.039 110.924Zm-213.308 0H357.77q8.923-52.77 23.847-97.732 14.923-44.962 33.923-76.885-73.077 14.308-129.732 59.616-56.654 45.308-88.732 115.001Z\"/></svg>\n    </a>\n  </div>\n\n</div>","import {Component, HostBinding, HostListener, OnInit} from '@angular/core';\nimport {Router, NavigationEnd} from '@angular/router';\nimport {Location} from '@angular/common';\nimport {GlobalShortcutComponent} from '../shortcuts/global-shortcut-component.interface';\nimport {\n  UploadRegistryService,\n  Capabilities,\n  CapabilitiesService,\n  UploadTarget,\n  UserService,\n  AuthService,\n  EoUser,\n  NotificationsService,\n  Config,\n  TranslateService, EnvironmentEnaio\n} from '@eo-sdk/core';\nimport { PendingChangesService } from '../../eo-framework-core/pending-changes/pending-changes.service';\n\n@Component({\n  selector: 'eo-frame',\n  templateUrl: './frame.component.html',\n  styleUrls: ['./frame.component.scss']\n})\nexport class FrameComponent implements OnInit {\n\n\n  @HostBinding('class.dashboard') transparentBar = false;\n  @HostBinding('class.view-no-bar') noBar = 0;\n  @HostBinding('class.view-no-header') noHeader = 0;\n  @HostBinding('class.object-state') isObjectState = true;\n\n  initError: any;\n  authenticated = false;\n  dir = 'ltr'; // default direction - Left To Right\n  isMobileEnv: boolean = EnvironmentEnaio.isMobileEnvironment();\n  capabilities: Capabilities;\n  docu: {link: string, label: string};\n\n  // shortcut actions\n  shortcuts: GlobalShortcutComponent = {\n    id: 'eo.app',\n    label: this.translate.instant('eo.shortcuts.general.title'),\n    labelKey: 'eo.shortcuts.general.title',\n    actions: [\n      {\n        name: this.translate.instant('eo.shortcuts.action.add'),\n        nameKey: 'eo.shortcuts.action.add',\n        shortcut: 'C',\n        onExecuteAction: () => {\n          this.router.navigate([{outlets: {modal: 'add'}}]);\n        },\n        isHidden: () => {\n          return this.capabilities ? !this.capabilities.intray : true;\n        }\n      },\n      {\n        name: this.translate.instant('eo.shortcuts.action.search'),\n        nameKey: 'eo.shortcuts.action.search',\n        shortcut: 'F',\n        onExecuteAction: () => {\n          this.router.navigate([{outlets: {modal: 'search'}}]);\n        }\n      },\n      {\n        name: this.translate.instant('eo.shortcuts.action.logout'),\n        nameKey: 'eo.shortcuts.action.logout',\n        shortcut: 'L',\n        onExecuteAction: () => {\n          this.router.navigate([{outlets: {modal: null, primary: ['enter', {logout: true}]}}]);\n        }\n      },\n      {\n        name: this.translate.instant('eo.shortcuts.action.adjust.view'),\n        nameKey: 'eo.shortcuts.action.adjust.view',\n        shortcut: 'V',\n        onExecuteAction: () => this.adjustView(),\n        isHidden: () => {\n          return this.transparentBar;\n        }\n      },\n      {\n        name: this.translate.instant('eo.sidebar.help.manual'),\n        nameKey: 'eo.sidebar.help.manual',\n        shortcut: 'D',\n        onExecuteAction: () => {\n          window.open(this.docu.link);\n        },\n      }\n    ]\n  };\n  // navigation shortcuts\n  navShortcuts: GlobalShortcutComponent = {\n    id: 'eo.app.nav',\n    label: this.translate.instant('eo.view.navigation.title'),\n    labelKey: 'eo.view.navigation.title',\n    actions: [\n      {\n        name: this.translate.instant('eo.shortcuts.action.dashboard'),\n        nameKey: 'eo.shortcuts.action.dashboard',\n        shortcut: '0',\n        onExecuteAction: () => {\n          this.router.navigateByUrl('/dashboard');\n        }\n      },\n      {\n        name: this.translate.instant('eo.view.navigation.inbox'),\n        nameKey: 'eo.view.navigation.inbox',\n        shortcut: '1',\n        onExecuteAction: () => {\n          this.router.navigateByUrl('/inbox');\n        },\n        isHidden: () => {\n          return this.capabilities ? !this.capabilities.inbox : true;\n        }\n      },\n      {\n        name: this.translate.instant('eo.view.navigation.prepare'),\n        nameKey: 'eo.view.navigation.prepare',\n        shortcut: '2',\n        onExecuteAction: () => {\n          this.router.navigateByUrl('/prepare');\n        },\n        isHidden: () => {\n          return this.capabilities ? !this.capabilities.intray : true;\n        }\n      },\n      {\n        name: this.translate.instant('eo.view.navigation.favorites'),\n        nameKey: 'eo.view.navigation.favorites',\n        shortcut: '3',\n        onExecuteAction: () => {\n          this.router.navigateByUrl('/favorites');\n        },\n        isHidden: () => {\n          return this.capabilities ? !this.capabilities.favorites : true;\n        }\n      },\n      {\n        name: this.translate.instant('eo.bar.button.settings.title'),\n        nameKey: 'eo.bar.button.settings.title',\n        shortcut: '4',\n        onExecuteAction: () => {\n          this.router.navigateByUrl('/settings');\n        }\n      },\n      {\n        name: this.translate.instant('eo.view.navigation.process'),\n        nameKey: 'eo.view.navigation.process',\n        shortcut: '5',\n        onExecuteAction: () => {\n          this.router.navigateByUrl('/process');\n        }\n      },\n      {\n        name: this.translate.instant('eo.view.navigation.notifications'),\n        nameKey: 'eo.view.navigation.notifications',\n        shortcut: '6',\n        onExecuteAction: () => {\n          this.router.navigateByUrl('/notifications');\n        }\n      },\n      {\n        name: this.translate.instant('eo.view.navigation.storedqueries'),\n        nameKey: 'eo.view.navigation.storedqueries',\n        shortcut: '7',\n        onExecuteAction: () => {\n          this.router.navigateByUrl('/stored-queries');\n        }\n      },\n      {\n        name: this.translate.instant('eo.view.navigation.recyclebin'),\n        nameKey: 'eo.view.navigation.recyclebin',\n        shortcut: '8',\n        onExecuteAction: () => {\n          this.router.navigateByUrl('/recyclebin');\n        }\n      },\n    ]\n  };\n\n\n  // @HostListener allows us to also guard against browser refresh, close, etc.\n  @HostListener('window:beforeunload', ['$event'])\n  unloadNotification($event: any) {\n    return !this.pendingChanges.check();\n  }\n  \n  @HostBinding('attr.data-roles') roles = '';\n\n  constructor(private notify: NotificationsService,\n              private userService: UserService,\n              private router: Router,\n              private config: Config,\n              private location: Location,\n              public translate: TranslateService,\n              private authService: AuthService,\n              private pendingChanges: PendingChangesService,\n              private capabilitiesService: CapabilitiesService,\n              private uploadRegistry: UploadRegistryService) {\n\n    // this.capabilities = this.capabilitiesService.getCapabilities();\n\n    // Initialization of the core components is done, so we check its state\n    // Any errors during global initialization?\n    // if (this.init.getState().error !== null) {\n    //   this.initError = {\n    //     cause: this.init.getState().error\n    //   }\n    // }\n\n    this.userService\n      .user$\n      .subscribe((user: EoUser) => {\n        this.dir = user ? user.uiDirection : 'ltr';\n        this.roles = user?.roles?.map(r => r.name).join(';') || '';\n      });\n\n    this.router\n      .events\n      .subscribe(event => {\n        if (event instanceof NavigationEnd) {\n          this.setStyle();\n        }\n      });\n\n    this.authService\n      .authenticated$\n      .subscribe(authenticated => setTimeout(() => {\n        this.authenticated = authenticated;\n        // fetch capabilities again once a user is authenticated\n        if (authenticated) {\n          this.capabilities = this.capabilitiesService.getCapabilities();\n        }\n      }));\n\n    // add root upload target\n    let rootTarget = new UploadTarget('root', UploadTarget.ROOT);\n    rootTarget.onUploadSuccess = () => this.router.navigate(['/prepare']);\n    this.uploadRegistry.register(rootTarget);\n\n    this.setStyle();\n  }\n\n  getDocumentation() {\n    this.userService\n      .user$\n      .subscribe(data => {\n        const docu = this.config.getRaw('about.docu');\n        const link = docu.link.replace('###userLang###', data.userSettings.clientlocale.substring(0, 2));\n        this.docu = {...docu, link};\n      })\n  }\n\n  ngOnInit() {\n    this.getDocumentation();\n  }\n\n  private setStyle() {\n    this.transparentBar = !!this.location.path().match(/\\/dashboard|\\/enter/);\n    this.isObjectState = !!this.location.path().match(/\\/object\\//);\n  }\n\n  adjustView() {\n    this.noBar = (this.noBar + 1) % 3;\n    this.noHeader = this.noBar === 2 ? 1 : 0;\n  }\n}\n\n","<!-- global upload component -->\n<eo-upload-overlay *ngIf=\"authenticated && capabilities?.intray\"></eo-upload-overlay>\n\n<!-- main application skeleton -->\n<div class=\"application\" [dir]=\"dir\" [eoShortcuts]=\"navShortcuts\">\n\n  <div class=\"app\" *ngIf=\"!initError\" [eoShortcuts]=\"shortcuts\">\n    <eo-app-bar [transparent]=\"transparentBar\" *ngIf=\"authenticated\">\n      <eo-sidebar-plugin class=\"navi\" [type]=\"'sidebar-navigation'\"></eo-sidebar-plugin>\n      <eo-sidebar-plugin class=\"help\" [type]=\"'sidebar-help'\"></eo-sidebar-plugin>\n      <eo-sidebar-plugin class=\"profile\" [type]=\"'sidebar-profile'\"></eo-sidebar-plugin>\n    </eo-app-bar>\n    <div class=\"eo-app-content\">\n      <router-outlet></router-outlet>\n    </div>\n  </div>\n\n  <!-- app init failed notification -->\n  <div class=\"init-error\" *ngIf=\"initError\">\n    <eo-icon [iconSrc]=\"'assets/_default/svg/ic_error.svg'\"></eo-icon>\n    <div class=\"message\">\n      <div translate>eo.app.init.fail.title</div>\n      <div class=\"cause\" translate>eo.app.init.fail.message</div>\n      <div class=\"cause error\">{{initError.cause}}</div>\n    </div>\n  </div>\n\n  <div class=\"overlay\">\n    <!--<ng-progress [positionUsing]=\"'marginLeft'\" [minimum]=\"0.3\" [maximum]=\"1\"-->\n    <!--[speed]=\"300\" [showSpinner]=\"false\"-->\n    <!--[direction]=\"dir === 'rtl' ? 'rightToLeftIncreased' : 'leftToRightIncreased'\"-->\n    <!--[color]=\"'#bb3f5a'\" [trickleSpeed]=\"300\" [thick]=\"true\" [ease]=\"'linear'\"-->\n    <!--&gt;</ng-progress>-->\n  </div>\n  <router-outlet name=\"modal\"></router-outlet>\n  <eo-global-shortcuts *ngIf=\"authenticated && !isMobileEnv\"></eo-global-shortcuts>\n  <eo-action-menu></eo-action-menu>\n  <section #externalDialog></section>\n</div>\n","import { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\nimport {GridComponent} from './../grid.component';\nimport {combineLatest} from 'rxjs/operators';\nimport {Component, EventEmitter, HostBinding, Input, OnInit, Output, OnChanges, SimpleChanges} from '@angular/core';\nimport {TranslateService} from '@eo-sdk/core';\nimport {UserService, SearchService, EoUser, FieldDefinition, SearchQuery, ObjectType, Utils} from '@eo-sdk/core';\nimport {GridService} from '../../../eo-framework-core/api/grid.service';\n\n@Component({\n  selector: 'eo-column-configurator',\n  templateUrl: './column-configurator.component.html',\n  styleUrls: ['./column-configurator.component.scss']\n})\nexport class ColumnConfiguratorComponent implements OnInit, OnChanges {\n  isDefaultConfig = true;\n  hasPrivilege = false;\n  info: string;\n  @Input() configType: ObjectType | null;\n  @Input() configContext: ObjectType | null;\n  currentFields: any[];\n  availableFields: any[];\n\n  @Output() onConfigChanged = new EventEmitter();\n\n  @HostBinding('class.visible')\n  @Input() visible = false;\n\n  @Input() eoGrid: GridComponent;\n  private originalFields: any[];\n  alignmentValue = 'Automatic';\n\n  constructor(\n    private searchService: SearchService,\n    private userService: UserService,\n    public translate: TranslateService) {\n\n    this.userService\n      .user$\n      .subscribe((user: EoUser) => {\n        this.hasPrivilege = user.hasPrivilege('EDIT_PROFILE_SET');\n      });\n  }\n\n  // reset a column configuration to its default\n  resetDefault() {\n    //this.initConfig(true);\n    this.searchService.removeResultFieldDefinition(this.configType, this.configContext).subscribe(() => this.toggleConfigMode(true));\n\n  }\n\n\n  /**\n   * save the currentFields configuration\n   *\n   * @param boolean asDefault\n   */\n  saveConfig(asDefault = false): void {\n    let data = new FieldDefinition([], [], [], [], []);\n    data.elements = this.currentFields.map(col => {\n      if (col.confmeta.sort) {\n        data.sortorder.push({\n          qname: col.qname,\n          direction: col.confmeta.sort\n        });\n      }\n      if (col.confmeta.group) {\n        data.grouporder.push({\n          qname: col.qname\n        });\n      }\n      if (col.confmeta.pinned) {\n        data.pinned.push({\n          qname: col.qname\n        });\n      }\n      if (col.confmeta.alignmentx) {\n        data.alignmentx.push({\n          qname: col.qname,\n          value: col.confmeta.alignmentx\n        });\n      }\n\n      return {\n        qname: col.qname\n      };\n    });\n\n    this.searchService\n      .saveResultFieldDefinition(this.configType, this.configContext, data, asDefault && this.hasPrivilege)\n      .subscribe(() => this.toggleConfigMode(true));\n  }\n\n  /**\n   * Initialize the lists columns for the currentFields config.\n   *\n   * @param loadDefaults - if set to true, the configs default configuration will be loaded\n   * instead of the one that was configured by the user.\n   */\n  initConfig(loadDefaults) {\n\n    this.createConfigInfo(this.configType, this.configContext);\n\n    this.searchService.fetchResultFieldDefinition(this.configType, this.configContext, loadDefaults ? 'DEFAULT' : null).pipe(combineLatest(\n      this.searchService.fetchResultFieldDefinition(this.configType, this.configContext, 'ALL'),\n      (current: FieldDefinition, available: FieldDefinition) => {\n        return {current, available};\n      })).subscribe((res: any) => {\n        res.current.elements.forEach((el: any) => {\n          let sortEntry = res.current.sortorder.find((a: any) => el.qname === a.qname);\n          // let groupEntry = res.current.grouporder.find((a: any) => el.qname === a.qname);\n          let pinnedEntry = res.current.pinned.find((a: any) => el.qname === a.qname);\n          let alignmentEntry = res.current.alignmentx.find((a: any) => el.qname === a.qname);\n          el.confmeta = {\n            sort: sortEntry ? (sortEntry.direction || '').toLowerCase() : null,\n            // group: !!groupEntry,\n            pinned: !!pinnedEntry,\n            modified: false,\n            alignmentx: alignmentEntry ? alignmentEntry.value : null\n          };\n        });\n\n        this.isDefaultConfig = res.current.mode !== 'USER';\n        this.originalFields = res.current.elements;\n\n        this.currentFields = this.eoGrid.columns.filter(column => column.isVisible()).map(({colDef, sort, pinned}: any, index) => {\n          const i = this.originalFields.findIndex(f => GridService.qnameMatch(f.qname, colDef.refData.qname)), field = this.originalFields[i];\n          return {...field, confmeta: {sort, pinned, alignmentx: field.confmeta.alignmentx,\n              modified: i !== index || (field.confmeta.sort || '') !== (sort || '') || !!field.confmeta.alignmentx}};\n        });\n\n        this.availableFields = res.available.elements.filter((col: any) => {\n          return !this.currentFields.find((c: any) => c.qname === col.qname);\n        }).map(el => {\n          el.confmeta = {modified: !!this.originalFields.find((c: any) => c.qname === el.qname)};\n          return el;\n        }).sort(Utils.sortValues('label'));\n      }\n    );\n  }\n\n  /**\n   * Creates the info object that will be displayed to the user indicating what particular result list\n   * is going to be configured. If none of the params is provided, we got a general fulltext result.\n   *\n   * @param [type] - the configurations target object type\n   * @param [context] - the context object type\n   */\n  createConfigInfo(type, context) {\n    if (type && type.label && context) {\n      this.translate.get('eo.column.config.info.type.context', {\n        type: type.label,\n        context: context.label\n      }).subscribe(text => this.info = text);\n    } else if (type && type.label) {\n      this.translate.get('eo.column.config.info.type', {\n        type: type.label\n      }).subscribe(text => this.info = text);\n    } else {\n      this.translate.get('eo.column.config.info.fulltext').subscribe(text => this.info = text);\n    }\n  }\n\n  markItem(field, group) {\n    if (field && group) {\n      field.confmeta.modified = true;\n    }\n  }\n\n  drop(event: CdkDragDrop<any>, group: 'current' | 'available') {\n    transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);\n    this.markItem(event.item.data, group);\n  }\n\n  toggleConfigMode(refresh = false) {\n    this.onConfigChanged.emit(refresh);\n  }\n\n  togglePrevent(item, $event) {\n    $event.preventDefault();\n    $event.stopPropagation();\n    this.markItem(item, 'current');\n  }\n\n  toggleSort(item, $event) {\n    this.togglePrevent(item, $event);\n    if (!item.confmeta.sort) {\n      item.confmeta.sort = 'asc';\n    } else if (item.confmeta.sort === 'asc') {\n      item.confmeta.sort = 'desc';\n    } else if (item.confmeta.sort === 'desc') {\n      item.confmeta.sort = null;\n    }\n  }\n\n  toggleAlignment(item, $event) {\n    this.togglePrevent(item, $event);\n    if (!item.confmeta.alignmentx) {\n      item.confmeta.alignmentx = 'right';\n    } else if (item.confmeta.alignmentx === 'right') {\n      item.confmeta.alignmentx = 'center';\n    } else if (item.confmeta.alignmentx === 'center') {\n      item.confmeta.alignmentx = 'left';\n    } else if (item.confmeta.alignmentx === 'left') {\n      item.confmeta.alignmentx = null;\n    }\n  }\n\n  // toggleGroup(item, $event) {\n  //   this.togglePrevent(item, $event);\n  //   item.confmeta.group = !item.confmeta.group;\n  // }\n\n  togglePinned(item, $event) {\n    this.togglePrevent(item, $event);\n    item.confmeta.pinned = !item.confmeta.pinned;\n  }\n\n  ngOnInit() {\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.visible && (changes.configType || changes.configContext)) {\n      this.initConfig(false);\n    }\n  }\n\n}\n","<div class=\"configurator\">\n\n  <div class=\"bar\">\n    <div class=\"title\" translate>eo.column.config.title</div>\n    <button (click)=\"resetDefault()\" *ngIf=\"!isDefaultConfig\" translate>eo.column.config.action.resetdefault</button>\n    <button (click)=\"toggleConfigMode()\" translate>eo.column.config.action.close</button>\n    <button (click)=\"saveConfig(true)\" class=\"primary\" [disabled]=\"!currentFields?.length\" *ngIf=\"hasPrivilege\" translate>eo.column.config.action.save.default</button>\n    <button (click)=\"saveConfig()\" class=\"primary\" [disabled]=\"!currentFields?.length\" translate>eo.column.config.action.save</button>\n  </div>\n\n  <div class=\"info\" *ngIf=\"info\">{{info}}</div>\n\n  <div class=\"column-config\" cdkDropListGroup>\n\n    <div class=\"scroller current\">\n      <div class=\"headline\" translate>eo.column.config.headline.current</div>\n      <div class=\"items\" cdkDropList (cdkDropListDropped)=\"drop($event, 'current')\" [cdkDropListData]=\"currentFields\">\n        <div class=\"item\" cdkDragHandle cdkDrag [cdkDragData]=\"field\" *ngFor=\"let field of currentFields; index as i\">\n          <div class=\"entry\" [ngClass]=\"{modified: field.confmeta.modified, sfe: field.selectedforenrichment}\">\n            <div class=\"label\" [ngClass]=\"{baseparam: field.baseparameter}\">{{field.label}}</div>\n            <div class=\"group\" [ngClass]=\"{on: field.confmeta.pinned}\" (click)=\"togglePinned(field, $event)\" translate>\n              <span class=\"config-label\" translate>eo.column.config.pinned</span>\n            </div>\n            <!--<div class=\"group\" [ngClass]=\"{on: field.confmeta.group}\" (click)=\"toggleGroup(field, $event)\" translate>eo.column.config.group</div>-->\n            <div class=\"sort\" [ngClass]=\"{on: field.confmeta.sort, asc: field.confmeta.sort === 'asc', desc: field.confmeta.sort === 'desc', disabled: !field.sortable}\"\n            (click)=\"field.sortable && toggleSort(field, $event)\"><span class=\"config-label\" translate>eo.column.config.sort</span></div>\n            <div class=\"alignment\" [ngClass]=\"{on: field.confmeta.alignmentx, left: field.confmeta.alignmentx === 'left',\n            right: field.confmeta.alignmentx === 'right', center: field.confmeta.alignmentx === 'center'}\"\n                 (click)=\"toggleAlignment(field, $event)\"><span class=\"config-label\" translate>eo.column.config.alignment</span>\n              <img *ngIf=\"field.confmeta.alignmentx === 'center'\" class=\"center-second\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEUAAAD///8AAAAAAAAAAAAAAAAAAAAAAAB5sPD/AAAACHRSTlMAAAEnK2xwihv2e6MAAAAkSURBVAgdBcGBAQAgDMMgmvn/zcIGMO6xUBHXIqLkYkmQDfABCHAAOCt/xSYAAAAASUVORK5CYII=\">\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n\n    <div class=\"scroller available\">\n      <div class=\"headline\" translate>eo.column.config.headline.available</div>\n      <div class=\"items\" cdkDropList (cdkDropListDropped)=\"drop($event, 'available')\" [cdkDropListData]=\"availableFields\">\n        <div class=\"item\" cdkDragHandle cdkDrag [cdkDragData]=\"field\" *ngFor=\"let field of availableFields; index as i\">\n          <div class=\"entry\" [ngClass]=\"{modified: field.confmeta.modified, sfe: field.selectedforenrichment}\">\n            <div class=\"label\" [ngClass]=\"{baseparam: field.baseparameter}\">{{field.label}}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n</div>\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {GridComponent} from '../../grid.component';\nimport {OverlayComponent} from '../../../ui/overlay/overlay.component';\nimport {ColDef, Utils as AgUtils} from '@ag-grid-community/core';\nimport {AsyncSubject} from 'rxjs';\nimport {ListSettingsService} from '../services/list-settings.service';\n\n@Component({\n  selector: 'eo-custom-sort',\n  templateUrl: './custom-sort.component.html',\n  styleUrls: ['./custom-sort.component.scss']\n})\nexport class CustomSortComponent {\n\n  @Input() eoGrid: GridComponent;\n  @Input() overlay: OverlayComponent;\n  @Input() id = '#sort';\n\n  private _sortFields: any[] = [];\n  model: any[] = [];\n\n  @Output() change: EventEmitter<any> = new EventEmitter<any>();\n  @Output() active: EventEmitter<any> = new EventEmitter<any>();\n\n\n  @Input() set sortFields(opts: any[]) {\n    this._sortFields = this.settingsService.setupSettings(this.id, opts, 'field', 'sort');\n    if (this.sortFields && this.sortFields.some(f => f.sort)) {\n      setTimeout(() => this.sort('', ''), 0);\n    }\n  }\n\n  get sortFields() {\n    return this._sortFields;\n  }\n\n\n  constructor(private settingsService: ListSettingsService) {\n  }\n\n  static sortColDefs(sortFields: ColDef[]): ColDef[] {\n    const val = sortFields.map(f => ({...f, sortable: true, hide: true, comparator: (a, b) => AgUtils.defaultComparator(a, b, true)}) as ColDef);\n    return val;\n  }\n\n  onChange() {\n    let isActive = !!this.model.length;\n    this.active.emit(isActive);\n    let evt = new CustomEvent('change', {detail: this.model});\n    this.change.emit(evt);\n    this.settingsService.saveSettings(this.id, this.model, 'colId', 'sort');\n    this.updateGrid(this.eoGrid, evt);\n    if (this.overlay) {\n      this.overlay.active = isActive;\n    }\n  }\n\n  sort(field, sort) {\n    if (field) {\n      this.sortFields.find(f => f.field === field).sort = sort;\n    }\n    this.model = this.sortFields\n      .filter(f => f.sort)\n      .map(f => ({colId: f.field, sort: f.sort}));\n    this.onChange();\n  }\n\n  updateGrid(grid: GridComponent | AsyncSubject<GridComponent>, evt: CustomEvent) {\n    if (grid instanceof AsyncSubject) {\n      grid.subscribe(g => this.updateGrid(g, evt));\n    } else if (grid && grid.isReady && evt.detail) {\n      grid.api.setSortModel(evt.detail);\n    }\n  }\n\n  reset() {\n    this.sortFields.forEach(f => (f.sort = ''));\n    this.model = [];\n    this.onChange();\n  }\n}\n","<div class=\"sort\">\n  <div class=\"sort-title\" translate>eo.sort.by</div>\n  <div class=\"sort-option\" *ngFor=\"let sortBy of sortFields\" [ngClass]=\"{asc: sortBy.sort === 'asc', desc: sortBy.sort === 'desc'}\">\n    <eo-icon class=\"asc\" [iconTitle]=\"'eo.sort.asc' | translate\" [iconSrc]=\"'assets/_default/svg/ic_arrow_up.svg'\" (click)=\"sort(sortBy.field, 'asc')\"></eo-icon>\n    <eo-icon class=\"desc\" [iconTitle]=\"'eo.sort.desc' | translate\" [iconSrc]=\"'assets/_default/svg/ic_arrow_down.svg'\" (click)=\"sort(sortBy.field, 'desc')\"></eo-icon>\n    <span class=\"title\">{{sortBy.headerName}}</span>\n    <eo-icon class=\"clear\" [iconTitle]=\"'eo.sort.clear' | translate:{value: sortBy.headerName}\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" (click)=\"sort(sortBy.field, '')\"></eo-icon>\n  </div>\n</div>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'eo-empty-list',\n  templateUrl: './empty.component.html',\n  styleUrls: ['./empty.component.scss']\n})\nexport class EmptyComponent {\n\n}\n","<div class=\"empty__wrapper\">\n  <ng-content select=\"\"></ng-content>\n</div>\n","import { Input, ViewChild, ViewContainerRef, Injectable } from '@angular/core';\n\nimport {IAfterGuiAttachedParams, IDoesFilterPassParams, IFilterParams, RowNode} from '@ag-grid-community/core';\nimport {IFilterAngularComp} from '@ag-grid-community/angular';\n\n@Injectable()\nexport abstract class AbstractFilterComponent implements IFilterAngularComp {\n  params: IFilterParams;\n  valueGetter: (rowNode: RowNode) => any;\n  public value: any;\n\n  @ViewChild('input', {read: ViewContainerRef}) public input;\n\n  @Input() id = '#filter';\n\n  @Input()\n  set filterParams(params: IFilterParams) {\n    this.params = Object.assign({}, this.params, params);\n    if (this.defaultValue) {\n      setTimeout(() => this.onChange(this.defaultValue), 0);\n    }\n  }\n  get filterParams() {\n    return this.params;\n  }\n\n  get defaultValue() {\n    return this.params && this.params.context && this.params.context.defaultValue;\n  }\n\n  onChange(newValue, oldValue?): void {\n    if (this.value !== newValue) {\n      this.value = newValue;\n      this.params.filterChangedCallback();\n    }\n  }\n\n  agInit(params: IFilterParams): void {\n    if (!this.valueGetter) {\n      this.valueGetter = params.valueGetter;\n    }\n    this.filterParams = params;\n  }\n\n  reset() {\n    this.value = null;\n  }\n\n  isFilterActive(): boolean {\n    return this.value !== null && this.value !== undefined && this.value.length;\n  }\n\n  doesExternalFilterPass(rowNode: RowNode): boolean {\n    return true;\n  }\n\n  doesFilterPass(params: IDoesFilterPassParams): boolean {\n    return this.doesExternalFilterPass(params.node);\n  }\n\n  getModel(): any {\n    return {value: this.value};\n  }\n\n  setModel(model: any): void {\n    this.value = model ? model.value : '';\n  }\n\n  afterGuiAttached(params: IAfterGuiAttachedParams): void {\n    this.input.element.nativeElement.focus();\n  }\n\n}\n","import {Component, Input, AfterViewInit, QueryList, ContentChildren, Output, EventEmitter} from '@angular/core';\nimport {GridComponent} from '../../../grid.component';\nimport {OverlayComponent} from '../../../../ui/overlay/overlay.component';\nimport {AbstractFilterComponent} from '../abstract-filter.component';\nimport {TextFilterComponent} from '../text/text-filter.component';\nimport {SetFilterComponent} from '../setFilters/set-filter.component';\nimport {IFilterParams, RowNode} from '@ag-grid-community/core';\nimport {AsyncSubject} from 'rxjs';\n\n@Component({\n  selector: 'eo-custom-filter',\n  templateUrl: './custom-filter.component.html',\n  styleUrls: ['./custom-filter.component.scss']\n})\nexport class CustomFilterComponent implements AfterViewInit {\n\n  @Input() overlay: OverlayComponent;\n  @Input() eoGrid: GridComponent;\n\n  @Input() activeFilter: boolean;\n  @Input() isFilterActive: boolean;\n\n  @Output() change: EventEmitter<any> = new EventEmitter<any>();\n  @Output() active: EventEmitter<any> = new EventEmitter<any>();\n  @Output() onResetFilters: EventEmitter<any> = new EventEmitter<any>();\n\n  allFilters: AbstractFilterComponent[] = [];\n\n  @ContentChildren(TextFilterComponent) textFilters: QueryList<TextFilterComponent>;\n  @ContentChildren(SetFilterComponent) setFilters: QueryList<SetFilterComponent>;\n\n\n  doesExternalFilterPass(node: RowNode) {\n    return this.allFilters\n      .filter(f => f.isFilterActive())\n      .every(f => f.doesExternalFilterPass(node));\n  }\n\n  onChange() {\n    this.isFilterActive = !!this.allFilters.filter(f => f.isFilterActive()).length;\n    this.active.emit(this.isFilterActive);\n    let evt = new CustomEvent('change', {detail: this.doesExternalFilterPass.bind(this)});\n    this.change.emit(evt);\n    this.updateGrid(this.eoGrid, evt);\n    if (this.overlay) {\n      this.overlay.active = this.isFilterActive;\n    }\n  }\n\n  updateGrid(grid: GridComponent | AsyncSubject<GridComponent>, evt: CustomEvent) {\n    if (grid instanceof AsyncSubject) {\n      grid.subscribe(g => this.updateGrid(g, evt));\n    } else if (grid && grid.isReady && evt.detail) {\n      grid.gridOptions.isExternalFilterPresent = () => true;\n      grid.gridOptions.doesExternalFilterPass = (node) => evt.detail(node);\n      grid.api.onFilterChanged();\n    }\n  }\n\n  setupFilter(filter: AbstractFilterComponent) {\n    filter.agInit(<IFilterParams>{\n      filterChangedCallback: () => this.onChange(),\n      valueGetter: (node) => ''\n    });\n    this.allFilters.push(filter);\n  }\n\n  resetFilter() {\n    this.allFilters.forEach(f => f.reset());\n    this.onChange();\n  }\n\n  ngAfterViewInit() {\n    this.textFilters.forEach(f => this.setupFilter(f));\n    this.setFilters.forEach(f => this.setupFilter(f));\n  }\n}\n","<div class=\"filter\">\n  <ng-content></ng-content>\n\n</div>\n<eo-cta [active]=\"isFilterActive\">\n<eo-reset-filter [isFilterActive]=\"isFilterActive\" (click)=\"resetFilter()\"></eo-reset-filter>\n</eo-cta>\n","import {Component, Input} from '@angular/core';\nimport {IFilterParams, RowNode} from '@ag-grid-community/core';\nimport {Utils} from '@eo-sdk/core';\nimport {AbstractFilterComponent} from '../abstract-filter.component';\nimport {ListSettingsService} from '../../services/list-settings.service';\n\n// @dynamic\n@Component({\n  selector: 'eo-set-filter',\n  templateUrl: `./set-filter.component.html`,\n  styleUrls: ['./set-filter.component.scss']\n})\nexport class SetFilterComponent extends AbstractFilterComponent {\n\n  private _options: any[] = [];\n  @Input() title = '';\n  @Input() searchLimit = 10;\n  @Input() operator = 'OR'; // AND | OR\n\n  @Input() set options(opts: any[]) {\n    this._options = this.defaultValue ? opts || [] : this.settingsService.setupSettings(this.id, opts);\n    if (this.options && this.params && this.isFilterActive()) {\n      setTimeout(() => this.params.filterChangedCallback(), 0);\n    }\n  }\n\n  @Input() set filterParams(params: IFilterParams) {\n    super.filterParams = params;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  constructor(private settingsService: ListSettingsService) {\n    super();\n    this.id = '#set';\n  }\n\n  static uniqBy(list: any[], prop: string, options: any[]) {\n    const u = {};\n    list.forEach(a => u[Utils.getProperty(a, prop)] = true);\n    return options.filter(t => u[t.qname]);\n  }\n\n  static uniqByProperty<T>(arr: Array<T>, prop: string): Array<T> {\n    return arr.filter((element, index, array) => array.map(a => Utils.getProperty(a, prop)).indexOf(Utils.getProperty(element, prop)) === index);\n  }\n\n  doesExternalFilterPass(rowNode: RowNode): boolean {\n    return this.operator !== 'OR' ? this.options.every(opt => !opt.value || opt.filter(rowNode)) : this.options.some(opt => opt.value ? opt.filter(rowNode) : false);\n  }\n\n  isFilterActive(): boolean {\n    return this.options.some(f => this.operator !== 'OR' ? f.value : !f.value);\n  }\n\n  onChange(newValue: any, item?: any): void {\n    if (item) {\n      item.value = newValue;\n    } else {\n      this.options.forEach(o => (o.value = newValue));\n    }\n    if (!this.defaultValue) {\n      this.settingsService.saveSettings(this.id, this.options);\n    }\n    this.params.filterChangedCallback();\n  }\n\n  onSearchChange(newValue: any): void {\n    const parse = html => (new DOMParser).parseFromString(html, 'text/html').documentElement.textContent;\n    this.options.forEach(o => (o.hidden = newValue.trim() ? !parse(o.label).toLowerCase().match(newValue.trim().toLowerCase()) : false));\n  }\n\n  reset() {\n    this.settingsService.saveSettings(this.id);\n    this.options.forEach(o => (o.value = this.operator === 'OR'));\n  }\n\n}\n","<header class=\"filter__header\">\n  <h3 class=\"filter__title title\" *ngIf=\"title\">{{title}}</h3>\n  <input *ngIf=\"options?.length > searchLimit\" #input (ngModelChange)=\"onSearchChange($event)\" [ngModel]=\"''\"\n    class=\"form-control\" placeholder=\"{{ 'eo.resultlist.grid.searchOoo' | translate}}\">\n</header>\n<div class=\"option flex-row\" *ngFor=\"let item of options\" [hidden]=\"item.hidden\">\n  <eo-checkbox (ngModelChange)=\"onChange($event, item)\" [ngModel]=\"item.value\" [tristate]=\"false\"></eo-checkbox>\n  <label [title]=\"item.label\" [innerHTML]=\"item.label | safeHtml\"></label>\n</div>\n","import {Component, Input} from '@angular/core';\nimport {IFilterParams, RowNode} from '@ag-grid-community/core';\nimport {ListSettingsService} from '../../services/list-settings.service';\nimport {AbstractFilterComponent} from '../abstract-filter.component';\nimport {LocalStorageService, UserService, Utils} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-text-filter',\n  templateUrl: './text-filter.component.html',\n  styleUrls: ['./text-filter.component.scss']\n})\nexport class TextFilterComponent extends AbstractFilterComponent {\n\n  @Input() title = '';\n  @Input() placeholder = 'eo.filter.input.placeholder';\n  @Input() enableSave = false;\n  private focused = false;\n  savedFilters = [];\n\n  @Input() set filterParams(params: IFilterParams) {\n    super.filterParams = params;\n  }\n\n  @Input()\n  set matchFields(fields: string[]) {\n    this.valueGetter = (rowNode: RowNode) => fields.map(f => Utils.getProperty(rowNode.data, f)).join('\\n');\n    const value = this.defaultValue || this.settingsService.setupSettings(this.id, [{id: 'text', value: this.value}])[0].value;\n    setTimeout(() => this.onChange(value), 0);\n  }\n\n  constructor(private settingsService: ListSettingsService,\n              private storageService: LocalStorageService,\n              private userService: UserService) {\n    super();\n    this.id = '#text';\n    this.getSavedFilters();\n  }\n\n  onChange(newValue, oldValue?): void {\n    if (this.value !== newValue) {\n      this.value = newValue;\n      if (!this.defaultValue) {\n        this.settingsService.saveSettings(this.id, this.value ? {'text': this.value} : '');\n      }\n      this.params.filterChangedCallback();\n    }\n  }\n\n  doesExternalFilterPass(rowNode: RowNode): boolean {\n    const filterTerms = this.value.toLowerCase().split(' ');\n    const rowValue = this.valueGetter(rowNode).toString().toLowerCase();\n    const everyTermFound = !filterTerms.find(term => rowValue.indexOf(term) === -1);\n    return everyTermFound;\n  }\n\n  reset() {\n    super.reset();\n    this.settingsService.saveSettings(this.id);\n  }\n\n  focusout () {\n    this.focused = false;\n  }\n\n  getSavedFilters() {\n    if (this.userService.getCurrentUser().userSettings.savedInboxFilter) {\n      this.savedFilters = this.userService.getCurrentUser().userSettings.savedInboxFilter;\n    } else {\n      this.savedFilters = this.storageService.getItem('eo.inbox.filter.suggestions') ? this.storageService.getItem('eo.inbox.filter.suggestions') : [];\n    }\n  }\n\n  saveFilter(term: string) {\n    if (term && !this.savedFilters.includes(term)) {\n      this.savedFilters.push(term);\n      this.userService.changeSavedInboxFilters(this.savedFilters).subscribe();\n    }\n  }\n\n  removeFilter(term: string) {\n    this.savedFilters = this.savedFilters.filter(t => t !== term);\n    this.userService.changeSavedInboxFilters(this.savedFilters).subscribe();\n  }\n\n  focus () {\n    if (!this.focused) {\n      this.focused = true;\n\n      // Timeout for cross browser compatibility (Chrome)\n      setTimeout(() => { document.execCommand('selectall', false, null); });\n    }\n  }\n}\n","<header class=\"filter__header\">\n  <h3 class=\"filter__title title\" *ngIf=\"title\">{{title}}</h3>\n</header>\n<div class=\"flex-row\">\n  <eo-form-input>\n    <input (ngModelChange)=\"onChange($event)\" [ngModel]=\"value\" class=\"form-control\"\n           placeholder=\"{{ placeholder | translate}}\" (focus)=\"focus()\" (focusout)=\"focusout()\">\n  </eo-form-input>\n  <eo-icon class=\"save-filter-icon\" *ngIf=\"enableSave\" [ngClass]=\"{'disable-save-filter': !value || savedFilters.includes(value)}\"\n           (click)=\"saveFilter(value)\"\n           [iconTitle]=\"'eo.filter.save' | translate\"\n           [iconSrc]=\"'assets/_default/svg/ic_add.svg'\"></eo-icon>\n</div>\n<div *ngIf=\"enableSave && savedFilters && savedFilters.length !== 0\">\n  <h4 class=\"filter__title saved-filters-title\" translate>eo.filter.save.title</h4>\n  <div class=\"saved-filters-container\">\n    <div class=\"saved-filter flex-row\" *ngFor=\"let savedFilter of savedFilters\">\n      <span class=\"saved-filter-text\" (click)=\"onChange(savedFilter, value)\">{{savedFilter}}</span>\n      <eo-icon class=\"remove-filter-icon\" (click)=\"removeFilter(savedFilter)\"\n               [iconTitle]=\"'eo.filter.delete' | translate\"\n               [iconSrc]=\"'assets/_default/svg/ic_trash.svg'\"></eo-icon>\n    </div>\n  </div>\n</div>\n","import {UntypedFormGroup, UntypedFormBuilder, Validators} from '@angular/forms';\nimport {Component, OnInit, EventEmitter, Output, Input, OnChanges} from '@angular/core';\n\n@Component({\n  selector: 'eo-pagination',\n  templateUrl: './pagination.component.html',\n  styleUrls: ['./pagination.component.scss']\n})\nexport class PaginationComponent implements OnInit {\n  pagingForm: UntypedFormGroup;\n  pagination: {page: number, pages: number, relation: string};\n\n  @Input() set settings(settings: {total: number, size: number, page?: number, relation?: string}) {\n    this.pagination = settings && {\n      pages: Math.ceil(settings.total / settings.size),\n      page: settings.page || 1,\n      relation: settings.relation || 'eq'\n    };\n    if (this.pagination) {\n      this.pagingForm.get('page').setValue(this.pagination.page);\n      this.pagingForm.get('page').setValidators(\n        [Validators.required, Validators.pattern('[0-9]+'), Validators.min(1), Validators.max(this.isGreater ? 100000 : this.pagination.pages)]);\n    }\n  }\n\n  @Output() pageChanged = new EventEmitter();\n\n  constructor(private fb: UntypedFormBuilder) {\n    this.pagingForm = this.fb.group({\n      page: [1]\n    });\n  }\n\n  onPagingFormSubmit() {\n    if (this.pagingForm.valid) {\n      this.goToPage(this.pagingForm.value.page);\n    }\n  }\n\n  goToPage(page: number) {\n    this.pagination.page = page;\n    this.pagingForm.get('page').setValue(this.pagination.page);\n    this.pageChanged.emit(page);\n  }\n\n  get isGreater() {\n    return this.pagination.relation === 'gte';\n  }\n\n  ngOnInit() {\n  }\n\n}\n","<div class=\"controls flex-row\" *ngIf=\"pagination && pagination.pages > 1\">\n  <button [disabled]=\"pagination.page === 1\" (click)=\"goToPage(1)\">\n    <eo-icon class=\"first\" [iconSrc]=\"'assets/_default/svg/ic_arrow_last.svg'\" ></eo-icon>\n  </button>\n  <button [disabled]=\"pagination.page <= 1\" (click)=\"goToPage(pagination.page - 1)\">\n    <eo-icon class=\"prev\" [iconSrc]=\"'assets/_default/svg/ic_arrow_next.svg'\" ></eo-icon>\n  </button>\n\n  <form (ngSubmit)=\"onPagingFormSubmit()\" [formGroup]=\"pagingForm\">\n    <input type=\"number\" formControlName=\"page\" />\n    <div>{{ pagination.pages }}{{ isGreater ? '+' : '' }}</div>\n  </form>\n\n  <button [disabled]=\"isGreater ? false : pagination.page >= pagination.pages\" (click)=\"goToPage(pagination.page + 1)\">\n    <eo-icon class=\"next\" [iconSrc]=\"'assets/_default/svg/ic_arrow_next.svg'\" ></eo-icon>\n  </button>\n  <button [disabled]=\"isGreater ? true : pagination.page === pagination.pages\" (click)=\"goToPage(pagination.pages)\">\n    <eo-icon class=\"last\" [iconSrc]=\"'assets/_default/svg/ic_arrow_last.svg'\" ></eo-icon>\n  </button>\n</div>","import {Component, Input} from '@angular/core';\nimport {GridComponent} from '../../grid.component';\n\n@Component({\n  selector: 'eo-quick-filter',\n  template: `\n    <div class=\"qSearch flex-row\" *ngIf=\"eoGrid?.gridOptions?.rowData\" [style.alignItems]=\"'center'\">\n      <label>\n        <eo-icon class=\"small\" [iconSrc]=\"'assets/_default/svg/ic_quickfilter.svg'\" [style.margin.px]=\"4\"></eo-icon>\n      </label>\n      <eo-form-input>\n        <input (keyup)=\"eoGrid.onQuickFilterChanged($event)\" class=\"qInput\" [style.border]=\"'none'\"\n               placeholder=\"{{'eo.filter.input.placeholder' | translate}}\"/>\n      </eo-form-input>\n    </div>\n  `,\n  styles: []\n})\nexport class QuickFilterComponent {\n\n  @Input() eoGrid: GridComponent;\n  value = '';\n}\n","<div class=\"secondary\">\n  <button *ngIf=\"isFilterActive\" translate>eo.reset.filter</button>\n</div>\n<eo-icon *ngIf=\"!isFilterActive\" class=\"button primary refresh-button\"\n         [iconSrc]=\"'assets/_default/svg/ic_refresh.svg'\"\n         [iconTitle]=\"('eo.list.refresh' | translate)\"></eo-icon>\n","import {Component, Input} from '@angular/core';\n\n@Component({\n  selector: 'eo-reset-filter',\n  templateUrl: './reset-filter.component.html',\n  styleUrls: ['./reset-filter.component.scss']\n})\nexport class ResetFilterComponent {\n  @Input() isFilterActive: boolean;\n}\n","import {Injectable} from '@angular/core';\nimport {LocalStorageService} from '@eo-sdk/core';\nimport {UtilitiesService} from '../../../util/services/utilities.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ListSettingsService {\n  constructor(private storageService: LocalStorageService) {\n  }\n\n  get prefix(): string {\n    return 'eo.list.settings.';\n  }\n\n  setupSettings(id: string, options: any[], idKey = 'id', valueKey = 'value') {\n    const storedSettings = this.storageService.getItem(this.prefix + id);\n    if (storedSettings) {\n      (options || []).forEach(o => o[valueKey] = storedSettings.hasOwnProperty(o[idKey]) ? storedSettings[o[idKey]] : o[valueKey]);\n    }\n    return options || [];\n  }\n\n  saveSettings(id: string, options?: any, idKey = 'id', valueKey = 'value') {\n    if (!UtilitiesService.isEmpty(options)) {\n      this.storageService.setItem(this.prefix + id, !Array.isArray(options) ? options : options.reduce((obj, o) => {\n        obj[o[idKey]] = o[valueKey];\n        return obj;\n      }, {}));\n    } else {\n      this.storageService.removeItem(this.prefix + id);\n    }\n  }\n\n  clearSettings() {\n    this.storageService.clear((key: string) => key.startsWith(this.prefix));\n  }\n\n}\n","import {debounceTime} from 'rxjs/operators';\nimport {Component, HostBinding, Input, AfterContentInit} from '@angular/core';\nimport {GridComponent} from '../../grid.component';\n\n@Component({\n  selector: 'eo-total-count',\n  templateUrl: './total-count.component.html',\n  styleUrls: ['./total-count.component.scss']\n})\nexport class TotalCountComponent implements AfterContentInit {\n\n  @Input() eoGrid: GridComponent;\n\n  @HostBinding('class.outside-grid')\n  @Input() outsideGrid = false;\n  @Input() gridCount: any;\n\n  ngAfterContentInit() {\n    if (this.eoGrid) {\n      this.eoGrid\n        .eoGridCountChanged\n        .asObservable()\n        .pipe(\n          debounceTime(100)\n        )\n        .subscribe(gridCount => this.gridCount = gridCount);\n    }\n  }\n\n}\n","<div class=\"count-container\" *ngIf=\"gridCount\" [ngClass]=\"{'outside-grid': outsideGrid}\">\n  <div class=\"row-count\" *ngIf=\"gridCount.rowCount < gridCount.totalCount\">{{gridCount.rowCount | localeDecimal}}</div>\n  <div class=\"total-count\">{{gridCount.totalCount | localeDecimal}}{{gridCount.relation === 'gte' ? '+' : ''}}</div>\n  <div class=\"text\">&nbsp;{{'eo.search.result.hits' | translate}}</div>\n</div>\n","\nimport {filter} from 'rxjs/operators';\nimport {Component, ViewChild} from '@angular/core';\nimport {CodesystemComponent} from '../../form-elements/codesystem/codesystem.component';\nimport {IFilterAngularComp} from '@ag-grid-community/angular';\nimport {IAfterGuiAttachedParams, IDoesFilterPassParams} from '@ag-grid-community/core';\nimport {EnaioEvent, SystemService, EventService} from '@eo-sdk/core';\nimport {EoDialogComponent} from '../../ui/eo-dialog/eo-dialog.component';\nimport {TranslateService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-codesystem-filter',\n  templateUrl: '../../form-elements/codesystem/codesystem.component.html',\n  styleUrls: ['../../form-elements/codesystem/codesystem.component.scss']\n})\nexport class CodesystemFilterComponent extends CodesystemComponent implements IFilterAngularComp {\n  params: any = {};\n  column: any;\n  multiselect = true;\n  situation = 'SEARCH';\n\n  @ViewChild(EoDialogComponent) eoDialog: EoDialogComponent;\n\n  constructor(systemService: SystemService, translate: TranslateService, private eventService: EventService) {\n    super(systemService);\n    this.placeholder = translate.instant('eo.filter.input.placeholder');\n  }\n\n  onValueChange() {\n    if (!this.params.filterParams || !this.params.filterParams.applyButton) {\n      this.params.api.onFilterChanged();\n      // TODO: still necessary?\n      // setTimeout(() => {\n      //   this.autoCompleteButton.nativeElement.style.top = this.autoCompleteInput.multiInputEL.nativeElement.offsetTop + 'px';\n      // }, 0);\n    }\n  }\n\n  onAutoCompleteSelect(node) {\n    super.onAutoCompleteSelect(node);\n    this.onValueChange();\n  }\n\n  onAutoCompleteUnselect(node) {\n    super.onAutoCompleteUnselect(node);\n    this.onValueChange();\n  }\n\n  onTreeSelectionChanged(evt) {\n    super.onTreeSelectionChanged(evt);\n    this.onValueChange();\n  }\n\n  isFilterActive() {\n    return !!(this.value && this.value.length);\n  }\n\n  doesFilterPass(params: IDoesFilterPassParams) {\n    if (this.selectedNodes && this.selectedNodes.length) {\n      const value = params.data[this.params.colDef.field];\n      return (Array.isArray(value) ? value : [value])\n        .some(val => !!~this.selectedNodes.map(v => v.name).indexOf(val));\n    }\n    return false;\n  }\n\n  getModel() {\n    return this.value && this.value.length ? {\n      filterType: 'CodesystemFilterComponent',\n      filter: this.value\n    } : null;\n  }\n\n  setModel(value: any) {\n    this.writeValue(value);\n  }\n\n  agInit(params: any) {\n    this.params = params;\n    this.codesystem = this._getCodesystemByQname(this.params.colDef.refData.qname);\n    this.pickerTitle = this.params.colDef.headerName;\n\n    this.eventService.on(EnaioEvent.EO_DIALOG_STACK_CHANGED).pipe(\n      filter((event: any) => event && this.params.column && this.params.column.isMenuVisible())\n    ).subscribe((event: any) => {\n      let elements = this.params.api['filterManager'].popupService.popupList;\n      if (event.data.active) {\n        elements.push({element: document.body});\n      } else {\n        setTimeout(() => {\n          this.params.api['filterManager'].popupService.popupList = elements.filter(el => el.element !== document.body);\n        }, 0);\n      }\n    });\n  }\n\n  afterGuiAttached(params: IAfterGuiAttachedParams): void {\n    // TODO: still necessary?\n    // this.autoCompleteInput.multiInputEL.nativeElement.focus();\n  }\n}\n","import {filter} from 'rxjs/operators';\nimport {Component, ViewChild} from '@angular/core';\nimport {IDateAngularComp} from '@ag-grid-community/angular';\nimport {EoDialogComponent} from '../../ui/eo-dialog/eo-dialog.component';\nimport {EnaioEvent, EventService} from '@eo-sdk/core';\nimport {TranslateService} from '@eo-sdk/core';\nimport {DateFilter, IAfterGuiAttachedParams, IFilterParams, Utils} from '@ag-grid-community/core';\nimport {DateComponent} from '../../form-elements/date/date.component';\n\n// custom condition for DateTime values\nconst createCondition = DateFilter.prototype['createCondition'];\n\nDateFilter.prototype['createCondition'] = function(position) {\n  return Object.assign(createCondition.call(this, position), this.dateCompFrom1.dateComp._frameworkComponentInstance.serialize());\n};\n\n@Component({\n  selector: 'eo-datetime-custom',\n  templateUrl: '../../form-elements/date/date.component.html',\n  styleUrls: ['../../form-elements/date/date.component.scss']\n})\nexport class DatetimeFilterComponent extends DateComponent implements IDateAngularComp {\n\n  params: any = {};\n  column: any;\n  filterParams: IFilterParams;\n  // filterInstance: DateFilter;\n  filterInstance: any;\n\n  @ViewChild(EoDialogComponent) eoDialog: EoDialogComponent;\n\n  constructor(translate: TranslateService, private eventService: EventService) {\n    super(translate);\n  }\n\n  serialize() {\n    return this.filterInstance['_filterModel'] = {\n      dateTo: super.formatDate(this.filterInstance['dateCompTo1'].getDate()),\n      dateFrom: super.formatDate(this.filterInstance['dateCompFrom1'].getDate()),\n      type: this.filterInstance.getCondition1Type(),\n      withTime: this.withTime,\n      filterType: 'date'\n    };\n  }\n\n  onValueChange(e: any) {\n    this.serialize();\n    this.params.onDateChanged();\n  }\n\n  setDate(value) {\n    this.writeValue(value);\n  }\n\n  getDate() {\n    return this.value ? this.value : null;\n  }\n\n  agInit(params: any): void {\n    this.params = params;\n    this.filterParams = params.filterParams;\n    this.withTime = this.filterParams['withTime'];\n    // this.pickerTitle = this.filterParams.colDef.headerName;\n\n    setTimeout(() => {\n      this.filterInstance = this.filterParams.api.getFilterInstance(this.filterParams.colDef.field);\n      this.filterInstance.serialize = this.serialize.bind(this);\n    }, 0);\n\n    this.eventService.on(EnaioEvent.EO_DIALOG_STACK_CHANGED).pipe(\n      filter((event: any) => event && this.filterParams.column && this.filterParams.column.isMenuVisible())\n    ).subscribe((event: any) => {\n        let elements = this.filterParams.api['filterManager'].popupService.popupList;\n        if (event.data.active) {\n          elements.push({element: document.body});\n        } else {\n          setTimeout(() => {\n            this.filterParams.api['filterManager'].popupService.popupList = elements.filter(el => el.element !== document.body);\n          }, 0);\n        }\n      });\n  }\n\n  afterGuiAttached(params: IAfterGuiAttachedParams): void {\n    // this.inputMask.el.nativeElement.focus();\n  }\n}\n","import { IFilterAngularComp } from '@ag-grid-community/angular';\nimport { IAfterGuiAttachedParams, IDoesFilterPassParams } from '@ag-grid-community/core';\nimport { Component, ViewChild } from '@angular/core';\nimport { EnaioEvent, EventService, TranslateService } from '@eo-sdk/core';\nimport { filter } from 'rxjs/operators';\n\nimport { DynamicListComponent } from '../../form-elements/dynamic-list/dynamic-list.component';\nimport { EoDialogComponent } from '../../ui/eo-dialog/eo-dialog.component';\n\n\n@Component({\n  selector: 'eo-dynamic-list-filter',\n  templateUrl: '../../form-elements/dynamic-list/dynamic-list.component.html',\n  styleUrls: ['../../form-elements/dynamic-list/dynamic-list.component.scss']\n})\nexport class DynamicListFilterComponent extends DynamicListComponent implements IFilterAngularComp {\n  params: any = {};\n  column: any;\n  multiselect = true;\n  situation = 'SEARCH';\n\n  @ViewChild(EoDialogComponent) eoDialog: EoDialogComponent;\n\n  constructor(translate: TranslateService, private eventService: EventService) {\n    super();\n  }\n\n  onValueChange() {\n    if (!this.params.filterParams || !this.params.filterParams.applyButton) {\n      this.params.api.onFilterChanged();\n      // TODO: still necessary?\n      // setTimeout(() => {\n      //   this.autoCompleteButton.nativeElement.style.top = this.autoCompleteInput.multiInputEL.nativeElement.offsetTop + 'px';\n      // }, 0);\n    }\n  }\n\n  onAutoCompleteSelect(node) {\n    super.onAutoCompleteSelect(node);\n    this.onValueChange();\n  }\n\n  onAutoCompleteUnselect(node) {\n    super.onAutoCompleteUnselect(node);\n    this.onValueChange();\n  }\n\n  onTreeSelectionChanged(evt) {\n    super.onTreeSelectionChanged(evt);\n    this.onValueChange();\n  }\n\n  isFilterActive() {\n    return !!(this.value && this.value.length);\n  }\n\n  doesFilterPass(params: IDoesFilterPassParams) {\n    if (this.selectedNodes && this.selectedNodes.length) {\n      const value = params.data[this.params.colDef.field];\n      return (Array.isArray(value) ? value : [value])\n        .some(val => !!~this.selectedNodes.map(v => v.name).indexOf(val));\n    }\n    return false;\n  }\n\n  getModel() {\n    return this.value && this.value.length ? {\n      filterType: 'DynamicListFilterComponent',\n      filter: this.value\n    } : null;\n  }\n\n  setModel(value: any) {\n    this.writeValue(value);\n  }\n\n  agInit(params: any) {\n    this.params = params;\n    this.listObject = {entries: (this.params.colDef.filterParams.values || []).map(value => ({value}))};\n    this.pickerTitle = this.params.colDef.headerName;\n\n    setTimeout(() => {\n      this.column = this.params.api.columnController.gridColumns.find(col => col.menuVisible);\n    }, 0);\n\n    this.eventService.on(EnaioEvent.EO_DIALOG_STACK_CHANGED).pipe(\n      filter((event: any) => event && this.params.column && this.params.column.isMenuVisible())\n    ).subscribe((event: any) => {\n        let elements = this.params.api['filterManager'].popupService.popupList;\n        if (event.data.active) {\n          elements.push({element: document.body});\n        } else {\n          setTimeout(() => {\n            this.params.api['filterManager'].popupService.popupList = elements.filter(el => el.element !== document.body);\n          }, 0);\n        }\n      });\n  }\n\n  afterGuiAttached(params: IAfterGuiAttachedParams): void {\n    // this.autoCompleteInput.multiInputEL.nativeElement.focus();\n  }\n}\n","import {NumberFilter} from '@ag-grid-community/core';\n\nexport class FilesizeFilter extends NumberFilter {\n  filter = 'eoFilesizeFilter';\n}\n\nFilesizeFilter.prototype['stringToFloat'] = function(value) {\n  const number = this.simpleFilterParams.context.fileSizePipe.stringToNumber(value);\n  return isNaN(number) ? null : number;\n};\n","import {Component} from '@angular/core';\nimport {GridService} from './../../../eo-framework-core/api/grid.service';\nimport {IFilterAngularComp} from '@ag-grid-community/angular';\nimport {IAfterGuiAttachedParams, IDoesFilterPassParams} from '@ag-grid-community/core';\nimport {SetFilterComponent} from '../extensions/filter/setFilters/set-filter.component';\n\n@Component({\n  selector: 'eo-list-filter',\n  templateUrl: '../extensions/filter/setFilters/set-filter.component.html',\n  styleUrls: ['../extensions/filter/setFilters/set-filter.component.scss']\n})\nexport class ListFilterComponent extends SetFilterComponent implements IFilterAngularComp {\n  params: any = {};\n  operator = 'OR';\n\n  constructor(private gridApi: GridService) {\n    super(null);\n  }\n\n  onValueChange() {\n    this.value = this.isFilterActive() ? [''].concat(this.options.filter(o => o.value).map(o => o.val)) : null;\n    if (!this.params.filterParams || !this.params.filterParams.applyButton) {\n      this.params.api.onFilterChanged();\n    }\n  }\n\n  doesFilterPass(params: IDoesFilterPassParams) {\n    const value = params.data[this.params.colDef.field];\n    return this.options.some(opt => opt.value ? value === opt.val : false);\n  }\n\n  getModel() {\n    return this.value && this.value.length ? {\n      filterType: 'ListFilterComponent',\n      filter: this.value\n    } : null;\n  }\n\n  setModel(value: any) {\n    this.value = value;\n    (this.options || []).forEach(o => (o.value = this.value && this.value.length ? this.value.contains(o.val) : true));\n  }\n\n  agInit(params: any) {\n    this.params = params;\n    this.params.context = {defaultValue: true};\n    this.params.filterChangedCallback = () => this.onValueChange();\n    this.options = (this.params.colDef.filterParams.values || [])\n    .map(val => ({value: true, val, label: this.params.colDef.cellRenderer({value: val, context: this.gridApi.getContext()}) }));\n  }\n\n  afterGuiAttached(params: IAfterGuiAttachedParams): void {\n    // this.autoCompleteInput.multiInputEL.nativeElement.focus();\n  }\n}\n","import {Component} from '@angular/core';\nimport {OrganizationComponent} from '../../form-elements/organization/organization.component';\nimport {IFilterAngularComp} from '@ag-grid-community/angular';\nimport {IAfterGuiAttachedParams, IDoesFilterPassParams} from '@ag-grid-community/core';\nimport {SystemService, BackendService, UserService} from '@eo-sdk/core';\nimport {TranslateService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-organization-filter',\n  templateUrl: '../../form-elements/organization/organization.component.html',\n  styleUrls: ['../../form-elements/organization/organization.component.scss']\n})\nexport class OrganizationFilterComponent extends OrganizationComponent implements IFilterAngularComp {\n  params: any = {};\n  multiselect = true;\n\n  constructor(backend: BackendService, systemService: SystemService, translate: TranslateService, userService: UserService) {\n    super(backend, translate, systemService, userService);\n    this.placeholder = translate.instant('eo.filter.input.placeholder');\n  }\n\n  onValueChange() {\n    if (!this.params.filterParams || !this.params.filterParams.applyButton) {\n      this.params.api.onFilterChanged();\n    }\n  }\n\n  onSelect(value) {\n    super.onSelect(value);\n    this.onValueChange();\n  }\n\n  onUnselect(value) {\n    super.onUnselect(value);\n    this.onValueChange();\n  }\n\n  isFilterActive() {\n    return !!(this.value && this.value.length);\n  }\n\n  doesFilterPass(params: IDoesFilterPassParams) {\n    if (this.innerValue && this.innerValue.length) {\n      // todo: super hotfix - COOL-8989 - solves problem with resolving of ORGANIZATION value (via qname)\n      const value = params.data[this.params.colDef.field] || params.data[this.params.colDef.refData.qname];\n      return (Array.isArray(value) ? value : [value])\n        .some(val => !!~this.innerValue.map(v => v.title).indexOf(val));\n    }\n    return false;\n  }\n\n  getModel() {\n    return this.value && this.value.length ? {\n      filterType: 'OrganizationFilterComponent',\n      filter: this.value\n    } : null;\n  }\n\n  setModel(value: any) {\n    this.writeValue(value);\n  }\n\n  agInit(params: any) {\n    this.params = params;\n  }\n\n  afterGuiAttached(params: IAfterGuiAttachedParams): void {\n    // this.autoCompleteInput.multiInputEL.nativeElement.focus();\n  }\n}\n","import {SimpleFilter} from '@ag-grid-community/core';\nimport {SearchFilter} from '@eo-sdk/core';\n\nexport class GridFilter {\n  public static operator(property: string, filter: any) {\n    let firstValue = Array.isArray(filter) ? filter : (filter.filter || filter.dateFrom);\n    const secondValue = filter.filterTo || filter.dateTo;\n    const op = Array.isArray(firstValue) ? SearchFilter.OPERATOR.IN :\n      filter.type === SimpleFilter.GREATER_THAN ? SearchFilter.OPERATOR.GREATER_THAN :\n        filter.type === SimpleFilter.GREATER_THAN_OR_EQUAL ? SearchFilter.OPERATOR.GREATER_OR_EQUAL :\n          filter.type === SimpleFilter.LESS_THAN ? SearchFilter.OPERATOR.LESS_THAN :\n            filter.type === SimpleFilter.LESS_THAN_OR_EQUAL ? SearchFilter.OPERATOR.LESS_OR_EQUAL :\n              filter.type === SimpleFilter.IN_RANGE ? SearchFilter.OPERATOR.INTERVAL_INCLUDE_BOTH :\n                SearchFilter.OPERATOR.EQUAL;\n    \n    firstValue = firstValue && typeof firstValue === 'string' ? firstValue.replace(/\\*/g, '\\\\*') : firstValue; // wildcard needs to be escaped\n\n    firstValue = filter.type === SimpleFilter.CONTAINS ? `*${firstValue}*` :\n      filter.type === SimpleFilter.STARTS_WITH ? `${firstValue}*` :\n        filter.type === SimpleFilter.ENDS_WITH ? `*${firstValue}` :\n          op === SearchFilter.OPERATOR.IN ? firstValue.filter(f => f !== '') :\n            firstValue;\n\n    return new SearchFilter(property, op, firstValue, secondValue, filter.filterType === 'date' ? {time: !!filter.withTime} : undefined);\n  }\n}\n","import {ClientSideRowModelModule} from '@ag-grid-community/client-side-row-model';\nimport {CellPosition, ColDef, Column, GridApi, GridOptions, Module, RowNode} from '@ag-grid-community/core';\nimport {Component, EventEmitter, HostListener, Input, Output, ViewChild, ViewEncapsulation} from '@angular/core';\nimport {debounceTime} from 'rxjs/operators';\nimport {RowGroupingModule} from './row-grouping/row-grouping.module';\n\nimport {Router} from '@angular/router';\nimport {EoUser, TranslateService, UserService} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {Subject} from 'rxjs';\nimport {GridService} from '../../eo-framework-core/api/grid.service';\nimport {PendingChangesService} from '../../eo-framework-core/pending-changes/pending-changes.service';\nimport {CodesystemFilterComponent} from './filters/codesystem-filter.component';\nimport {DatetimeFilterComponent} from './filters/datetime-filter.component';\nimport {DynamicListFilterComponent} from './filters/dynamic-list-filter.component';\nimport {ListFilterComponent} from './filters/list-filter.component';\nimport {OrganizationFilterComponent} from './filters/organization-filter.component';\nimport {ILoader} from './loader.interface';\n@UntilDestroy()\n@Component({\n  selector: 'eo-grid',\n  templateUrl: './grid.component.html',\n  styleUrls: ['./grid.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class GridComponent {\n\n  public modules: Module[] = [ClientSideRowModelModule, RowGroupingModule];\n\n  overlayLoadingTemplate: string;\n  frameworkComponents = {\n    agDateInput: DatetimeFilterComponent,\n    OrganizationFilterComponent: OrganizationFilterComponent,\n    CodesystemFilterComponent: CodesystemFilterComponent,\n    DynamicListFilterComponent: DynamicListFilterComponent,\n    ListFilterComponent: ListFilterComponent\n  };\n\n  private _gridOptions: GridOptions;\n  private _options: any = {};\n  private _gridCount: any = {};\n  private pinnedColumn: ColDef = {\n    headerName: '',\n    filter: false,\n    sortable: false,\n    resizable: false,\n    suppressMenu: true,\n    suppressMovable: true,\n    suppressNavigable: true,\n    suppressPaste: true,\n    suppressSizeToFit: true,\n    pinned: 'left',\n    width: 1,\n    field: '__selectionField',\n    valueGetter: () => ''\n  };\n\n  @ViewChild('agGrid') agGrid;\n\n  @Output() eoGridCountChanged = new EventEmitter<any>();\n  @Output() eoGridSelectionChanged = new EventEmitter<any>();\n  @Output() eoGridFocusChanged = new EventEmitter<any>();\n  @Output() eoGridCellClick = new EventEmitter<any>();\n  @Output() eoGridDoubleClick = new EventEmitter<any>();\n  @Output() eoGridContextMenuClick = new EventEmitter<any>();\n  @Output() eoGridColumnResized = new EventEmitter<any>();\n\n  private colResizeDebouncer = new Subject();\n  private calculateDebouncer = new Subject();\n  private focusedRowID = '';\n\n  @Input() selectFirst = true;\n  @Input() selectionLimit: number;\n  @Input() sizeToFit = false;\n  @Input() fullWidth = false;\n  @Input() showHeader = false;\n  @Input() showFooter = false;\n  @Input() loaderContent: ILoader = {show: false, image: null, text: null};\n  @Input()\n  set options(options: any) {\n    this._options = options;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  @Input()\n  set gridOptions(gridOptions: GridOptions) {\n    Object.assign(this._gridOptions, gridOptions, {\n      context: Object.assign(this._gridOptions.context, gridOptions.context),\n      columnDefs: gridOptions.columnDefs ? [this.pinnedColumn].concat(gridOptions.columnDefs) : null\n    });\n  }\n\n  get gridOptions() {\n    return this._gridOptions;\n  }\n\n  get contextCount() {\n    return typeof this.gridOptions.context.count === 'number' ? this.gridOptions.context.count : this.gridOptions.context.count.value;\n  }\n\n  get contextRelation() {\n    return typeof this.gridOptions.context.count === 'number' ? 'eq' : this.gridOptions.context.count.relation;\n  }\n\n  @HostListener('keydown.control.alt.shift.c', ['$event'])\n  @HostListener('keydown.control.shift.c', ['$event'])\n  @HostListener('keydown.control.alt.c', ['$event'])\n  @HostListener('keydown.control.c', ['$event'])\n  copyCellHandler(event: KeyboardEvent) {\n    this.gridApi.copyToClipboard(event, this.gridOptions);\n  }\n\n  constructor(private translate: TranslateService,\n    private userService: UserService,\n    public gridApi: GridService,\n    private router: Router,\n    private pendingChanges: PendingChangesService\n  ) {\n\n    this._gridOptions = <GridOptions>{\n      context: gridApi.getContext(),\n      animateRows: true,\n      headerHeight: 30,\n      rowHeight: 48,\n      rowBuffer: 20,\n      rowSelection: 'multiple',\n      rowDeselection: true,\n      multiSortKey: 'ctrl',\n      accentedSort: true,\n      suppressContextMenu: true,\n      overlayLoadingTemplate: ' ',\n      overlayNoRowsTemplate: ' ',\n      getRowNodeId: (data) => data.id || data,\n      localeTextFunc: (key, defaultValue) => {\n        let gridKey = 'eo.resultlist.grid.' + key;\n        let value = translate.instant(gridKey);\n        return ~value.indexOf(gridKey) ? defaultValue : value;\n      }\n    };\n\n    this.loadingMessage();\n    this.getUser();\n\n    this.pendingChanges.tasks$\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe(tasks => (this.gridOptions.suppressCellSelection = !!tasks.length));\n\n    this.colResizeDebouncer.pipe(\n      debounceTime(1000))\n      .subscribe(col => this.eoGridColumnResized.emit(col));\n\n    this.calculateDebouncer.pipe(\n      debounceTime(100))\n      .subscribe(() => this.calculateRowCount());\n  }\n\n  loadingMessage() {\n    let loaderContent = '';\n\n    if (this.loaderContent.show) {\n      if (this.loaderContent.image) {\n        loaderContent = `<span class=\"ag-overlay-loading-center\"><img [src]=\"${this.loaderContent.image}\" alt=\"loader image\"></span>`;\n      } else {\n        loaderContent = `<span class=\"ag-overlay-loading-center\">${this.translate.instant(this.loaderContent.text)}</span>`;\n      }\n    }\n    this.overlayLoadingTemplate = loaderContent;\n  }\n\n  private getUser() {\n    this.userService.user$.subscribe((user: EoUser) => {\n      (this.gridOptions || this._gridOptions).enableRtl = (user.uiDirection === 'rtl');\n      this.pinnedColumn.pinned = (user.uiDirection === 'rtl') ? 'right' : 'left';\n    });\n  }\n\n  private calculateRowCount() {\n    let rowCount = 0;\n    let totalCount = this.contextCount;\n    let rowIndex = this.gridOptions.context.rowIndex;\n    let selection = this.gridOptions.context.selection;\n\n    if (this.api && this.gridOptions.rowData) {\n      this.api.forEachNodeAfterFilter(n => n.group || rowCount++);\n    } else {\n      rowCount = this.gridOptions.context.rowCount || 0;\n    }\n    if (this.selectFirst && !this.api.getFocusedCell() && (rowIndex !== null || !this.focusedRowID)) {\n      setTimeout(() => this.selectRow(rowIndex || 0, selection), 200);\n    } else {\n      this.updateFocus();\n    }\n    this._gridCount = {totalCount, rowCount, relation: this.contextRelation};\n    this.eoGridCountChanged.emit(this._gridCount);\n  }\n\n  updateFocus(id = this.focusedRowID) {\n    const cell = this.api.getFocusedCell();\n    const row: RowNode = this.api.getRowNode(id);\n    if (!this.options.filterActive && (cell && cell.rowIndex) !== (row && row.rowIndex)) {\n      if (row) {\n        this.api.setFocusedCell(row.rowIndex, (this.gridOptions.columnDefs[1] as ColDef).field);\n      } else {\n        this.api.clearFocusedCell();\n      }\n    }\n  }\n\n  onCellClicked($event) {\n\n    if ($event.rowIndex !== null) {\n      if (!$event.node.group && $event.data) {\n        if ($event.colDef.cellClass === 'router-link-cell') {\n          this.gridApi.openRouterLink($event.event, 'ag-row');\n        }\n\n        this.eoGridCellClick.emit($event);\n      }\n    }\n  }\n\n  onCellDoubleClicked($event) {\n\n    if ($event.rowIndex !== null) {\n      if (!$event.node.group && $event.data) {\n        this.eoGridDoubleClick.emit($event);\n      }\n    }\n  }\n\n  onMouseDown($event: any) {\n    if (this.gridOptions.suppressCellSelection) {\n      if (!this.pendingChanges.check()) {\n        this.gridOptions.suppressCellSelection = false;\n        let rowIndex = this.gridApi.getRowIndex($event.target, 'ag-body');\n        if (rowIndex !== null) {\n          //select row only on left click\n          this.selectRow(rowIndex, $event.button === 0 ? null : [], !$event.ctrlKey);\n          if ($event.button === 2) {\n            //open context menu on right click\n            let node = this.api.getModel().getRow(rowIndex);\n            this.onContextMenuClicked({rowIndex, node, data: node.data});\n          }\n        }\n      } else {\n        $event.preventDefault();\n        $event.stopImmediatePropagation();\n      }\n    }\n  }\n\n  onCellFocused($event) {\n    if (this.gridOptions.suppressCellSelection) {\n      return this.updateFocus();\n    }\n    if ($event.rowIndex !== null) {\n      $event.focusedNode = this.api.getModel().getRow($event.rowIndex);\n      if ($event.focusedNode && !$event.focusedNode.group && $event.focusedNode.data) {\n        this.focusedRowID = $event.focusedNode.id;\n        this.eoGridFocusChanged.emit($event.focusedNode.data);\n      }\n    }\n  }\n\n  onContextMenuClicked($event) {\n    if ($event.rowIndex !== null && !$event.node.group && $event.data) {\n      let selectedNodes = this.api.getSelectedNodes().map(n => n.data).filter(d => d);\n      if (selectedNodes.length && selectedNodes.some(n => n.id === $event.data.id)) {\n        this.eoGridContextMenuClick.emit(selectedNodes);\n      } else {\n        this.eoGridContextMenuClick.emit([$event.data]);\n      }\n    }\n  }\n\n  onSelectionChanged($event) {\n    let selectedNodes = this.api.getSelectedNodes().map(n => n.data).filter(d => d);\n    if (this.selectionLimit && selectedNodes.length > this.selectionLimit) {\n      this.selectRow(this.api.getFocusedCell().rowIndex);\n    } else {\n      this.eoGridSelectionChanged.emit(selectedNodes);\n    }\n  }\n\n  onColumnResized($event) {\n    if ($event.column) {\n      this.colResizeDebouncer.next($event.column);\n    }\n  }\n\n  onModelUpdated() {\n    this.calculateDebouncer.next({});\n  }\n\n  onReady() {\n    if (this.sizeToFit) {\n      this.api.sizeColumnsToFit();\n    }\n  }\n\n  onQuickFilterChanged($event) {\n    this.api.setQuickFilter($event.target.value);\n  }\n\n  selectRow(row: any, selection?: number[], clearSelection = true, position = null) {\n    if (!this.api) {\n      return;\n    }\n\n    const rowNode = typeof row === 'number' ? this.api.getModel().getRow(row) : this.api.getRowNode(this.gridOptions.getRowNodeId(row));\n    let index = rowNode ? rowNode.rowIndex : 0;\n\n    if (rowNode && rowNode.data) {\n      if (selection) {\n        selection.forEach((rowIndex, i) => {\n          this.api.getModel().getRow(rowIndex).setSelected(true, i === 0);\n        });\n        this.gridOptions.context.selection = null; //reset initial selection\n      } else {\n        rowNode.setSelected(true, clearSelection);\n      }\n\n      this.api.setFocusedCell(index, (this.gridOptions.columnDefs[1] as ColDef).field);\n      this.scrollToRow(index, position);\n      this.gridOptions.context.rowIndex = null; //reset initial rowIndex\n    } else if (index > 0 && this.contextCount) {\n      this.selectRow(--index, selection, clearSelection);\n    } else {\n      this.api.clearFocusedCell();\n      this.eoGridFocusChanged.emit(null);\n    }\n  }\n\n  scrollToRow(index?: number, position = null) {\n    this.api.ensureIndexVisible(index === undefined ? (this.api.getFocusedCell() ? this.api.getFocusedCell().rowIndex : 0) : index, position);\n  }\n\n  selectRowById(id, position = '') {\n    const rowNodeId = this.gridOptions.getRowNodeId(id);\n    const rowNode = this.api.getRowNode(rowNodeId);\n    if (rowNode) {\n      rowNode.setSelected(true);\n      this.selectRow(rowNode.rowIndex, [], true, position);\n    }\n  }\n\n  setColumnDefs(columnDefs: ColDef[]) {\n    this.api.setColumnDefs(columnDefs ? [this.pinnedColumn].concat(columnDefs) : null);\n  }\n\n  setRowData(data: any[] = [], row?: any) {\n    this.gridOptions.context.count = data.length;\n    this.gridOptions.context.rowIndex = row;\n    this.api.clearFocusedCell();\n    this.api.setRowData(data);\n  }\n\n  private processSoftData(data: any[] = []) {\n    let remove = data.filter(i => i.__removed).map(i => {\n      delete i.__removed;\n      return i;\n    });\n\n    let update = data.filter(i => i.__updated).map(i => {\n      delete i.__updated;\n      return i;\n    });\n\n    // finally remove items from array\n    remove.forEach(i => data.splice(data.indexOf(i), 1));\n\n    let applyUpdate = remove.length || update.length;\n\n    return {applyUpdate, remove, update};\n  }\n\n  updateRowData(data: any[] = [], row?: any, selection?: number[]) {\n\n    let {applyUpdate, remove, update} = this.processSoftData(data);\n    if (!applyUpdate) {\n      return this.setRowData(data, row);\n    }\n\n    this.gridOptions.context.count = data.length;\n    let lastFocusedCell: CellPosition = this.api.getFocusedCell();\n    this.api.updateRowData({remove, update});\n    this.api.redrawRows();\n    setTimeout(_ => {\n      this.selectRow(lastFocusedCell ? lastFocusedCell.rowIndex : (row || 0), selection);\n    }, this.contextCount ? 500 : 0);\n  }\n\n  updateRows(data: any[] = []) {\n\n    let {applyUpdate, remove, update} = this.processSoftData(data);\n    if (!applyUpdate) {\n      return false;\n    }\n\n    this.gridOptions.context.count = this.contextCount - remove.length;\n    let lastFocusedIndex = this.api.getFocusedCell() ? this.api.getFocusedCell().rowIndex : 0;\n\n    this.api.updateRowData({remove, update});\n\n    setTimeout(_ => {\n      this.selectRow(lastFocusedIndex);\n    }, this.contextCount ? 500 : 0);\n  }\n\n  get columns(): Column[] {\n    return this.gridOptions.columnApi.getAllGridColumns().filter(c => c.getColId() !== this.pinnedColumn.field);\n  }\n\n  get api(): GridApi {\n    return this.gridOptions.api;\n  }\n\n  get isReady() {\n    return !!this.api;\n  }\n\n  get isEmpty() {\n    return !this._gridCount.totalCount && (!this.api || !Object.keys(this.api.getFilterModel()).length);\n  }\n\n  get isEmptyRows() {\n    return !this._gridCount.rowCount;\n  }\n\n  public refreshView() {\n    this.api.refreshView();\n  }\n}\n","<div class=\"eo-grid-empty\" [hidden]=\"!(isEmpty || isEmptyRows)\">\n  <ng-content select=\".empty\"></ng-content>\n</div>\n<div class=\"eo-grid-header\" *ngIf=\"showHeader\" [hidden]=\"isEmpty\">\n  <ng-content select=\".header\"></ng-content>\n</div>\n<ag-grid-angular #agGrid class=\"ag-theme-balham\" [modules]=\"modules\"\n                 [hidden]=\"isEmpty\"\n                 [ngClass]=\"{'hide-header': showHeader, 'enable-footer': showFooter, 'full-width': fullWidth}\"\n                 [gridOptions]=\"gridOptions\"\n                 [frameworkComponents]=\"frameworkComponents\"\n                 (modelUpdated)=\"onModelUpdated()\"\n                 (cellFocused)=\"onCellFocused($event)\"\n                 (cellContextMenu)=\"onContextMenuClicked($event)\"\n                 (contextmenu)=\"$event.stopPropagation();$event.preventDefault()\"\n                 (mousedown)=\"onMouseDown($event)\"\n                 (cellClicked)=\"onCellClicked($event)\"\n                 (cellDoubleClicked)=\"onCellDoubleClicked($event)\"\n                 (selectionChanged)=\"onSelectionChanged($event)\"\n                 (columnResized)=\"onColumnResized($event)\"\n                 (gridReady)=\"onReady()\">\n</ag-grid-angular>\n<div class=\"eo-grid-footer\" *ngIf=\"showFooter\" [hidden]=\"isEmpty\">\n  <ng-content select=\".footer\"></ng-content>\n</div>\n","import {ANALYZE_FOR_ENTRY_COMPONENTS, ModuleWithProviders, NgModule} from '@angular/core';\nimport {EventService, EnaioEvent, Config} from '@eo-sdk/core';\nimport {UiModule} from '../ui/ui.module';\nimport {AgGridModule} from '@ag-grid-community/angular';\n\nimport {GridComponent} from './grid.component';\nimport {ColumnConfiguratorComponent} from './column-configurator/column-configurator.component';\nimport {UtilModule} from '../util/util.module';\nimport {TotalCountComponent} from './extensions/total-count/total-count.component';\nimport {QuickFilterComponent} from './extensions/quick-filter/quick-filter.component';\nimport {CustomSortComponent} from './extensions/custom-sort/custom-sort.component';\nimport {CustomFilterComponent} from './extensions/filter/custom/custom-filter.component';\nimport {TextFilterComponent} from './extensions/filter/text/text-filter.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {SetFilterComponent} from './extensions/filter/setFilters/set-filter.component';\nimport {FormElementsModule} from '../form-elements/form-elements.module';\nimport {CtaModule} from '../cta/cta.module';\nimport {DatetimeFilterComponent} from './filters/datetime-filter.component';\nimport {OrganizationFilterComponent} from './filters/organization-filter.component';\nimport {CodesystemFilterComponent} from './filters/codesystem-filter.component';\nimport {DynamicListFilterComponent} from './filters/dynamic-list-filter.component';\nimport {TreeModule} from '../tree/tree.module';\nimport {ResetFilterComponent} from './extensions/reset-filter/reset-filter.component';\nimport {EmptyComponent} from './extensions/empty/empty.component';\nimport { PaginationComponent } from './extensions/pagination/pagination.component';\nimport {ListFilterComponent} from './filters/list-filter.component';\nimport {DragDropModule} from '@angular/cdk/drag-drop';\nimport {YvcAutocompleteModule} from '@yuuvis/components/autocomplete';\nimport {YvcIconModule} from '@yuuvis/components/icon';\nimport {YvcDatepickerModule} from '@yuuvis/components/datepicker';\n\n\n@NgModule({\n  imports: [\n    UiModule,\n    UtilModule,\n    FormsModule,\n    ReactiveFormsModule,\n    FormElementsModule,\n    TreeModule,\n    CtaModule,\n    YvcAutocompleteModule,\n    YvcIconModule,\n    YvcDatepickerModule,\n    DragDropModule,\n    AgGridModule.withComponents([TextFilterComponent, SetFilterComponent, DatetimeFilterComponent, CodesystemFilterComponent, OrganizationFilterComponent,\n      DynamicListFilterComponent, ListFilterComponent])\n  ],\n  declarations: [GridComponent, ColumnConfiguratorComponent, TotalCountComponent, QuickFilterComponent,\n    CustomSortComponent, CustomFilterComponent, TextFilterComponent, SetFilterComponent, DatetimeFilterComponent,\n    CodesystemFilterComponent, OrganizationFilterComponent, ResetFilterComponent, EmptyComponent, PaginationComponent, DynamicListFilterComponent, ListFilterComponent],\n  exports: [GridComponent, ColumnConfiguratorComponent, TotalCountComponent, QuickFilterComponent,\n    CustomSortComponent, CustomFilterComponent, TextFilterComponent, SetFilterComponent, DatetimeFilterComponent,\n    CodesystemFilterComponent, OrganizationFilterComponent, ResetFilterComponent, EmptyComponent, PaginationComponent, DynamicListFilterComponent, ListFilterComponent]\n})\nexport class GridModule {\n\n  constructor(private event: EventService, private config: Config) {\n    this.event\n      .on(EnaioEvent.EO_LICENSE_GRID)\n      .subscribe(() => {});\n  }\n\n  static withComponents(components: any[] = []): ModuleWithProviders<AgGridModule> {\n    return {\n      ngModule: AgGridModule,\n      providers: [{\n          provide: ANALYZE_FOR_ENTRY_COMPONENTS,\n          useValue: components,\n          multi: true,\n        }]\n    };\n  }\n}\n","export * from './grid.module';\nexport * from './grid.component';\nexport * from './grid-filter.model';\nexport * from './loader.interface';\nexport * from './column-configurator/column-configurator.component';\nexport * from './extensions/custom-sort/custom-sort.component';\nexport * from './extensions/empty/empty.component';\nexport * from './extensions/filter/abstract-filter.component';\nexport * from './extensions/filter/custom/custom-filter.component';\nexport * from './extensions/filter/setFilters/set-filter.component';\nexport * from './extensions/filter/setFilters/set-filters.interface';\nexport * from './filters/dynamic-list-filter.component';\nexport * from './filters/list-filter.component';\nexport * from './extensions/filter/text/text-filter.component';\nexport * from './extensions/quick-filter/quick-filter.component';\nexport * from './extensions/reset-filter/reset-filter.component';\nexport * from './extensions/services/list-settings.service';\nexport * from './extensions/total-count/total-count.component';\nexport * from './filters/codesystem-filter.component';\nexport * from './filters/datetime-filter.component';\nexport * from './extensions/pagination/pagination.component';\nexport * from './filters/organization-filter.component';\n","import {\n    Autowired,\n    Bean,\n    ChangedPath,\n    Column,\n    ColumnController,\n    Context,\n    EventService,\n    GetDataPath,\n    GridOptionsWrapper,\n    IRowNodeStage,\n    NumberSequence,\n    PostConstruct,\n    RowNode,\n    RowNodeTransaction,\n    SelectableService,\n    SelectionController,\n    StageExecuteParams,\n    ValueService,\n    _\n} from \"@ag-grid-community/core\";\n\ninterface GroupInfo {\n    key: string; // e.g. 'Ireland'\n    field: string | null; // e.g. 'country'\n    rowGroupColumn: Column | null;\n}\n\ninterface GroupingDetails {\n    pivotMode: boolean;\n    includeParents: boolean;\n    expandByDefault: number;\n    changedPath: ChangedPath;\n    rootNode: RowNode;\n    groupedCols: Column[];\n    groupedColCount: number;\n    transaction: RowNodeTransaction;\n    rowNodeOrder: { [id: string]: number };\n}\n\n@Bean('groupStage')\nexport class GroupStage implements IRowNodeStage {\n\n    @Autowired('selectionController') private selectionController: SelectionController;\n    @Autowired('gridOptionsWrapper') private gridOptionsWrapper: GridOptionsWrapper;\n    @Autowired('columnController') private columnController: ColumnController;\n    @Autowired('selectableService') private selectableService: SelectableService;\n    @Autowired('valueService') private valueService: ValueService;\n    @Autowired('eventService') private eventService: EventService;\n    @Autowired('context') private context: Context;\n\n    // if doing tree data, this is true. we set this at create time - as our code does not\n    // cater for the scenario where this is switched on / off dynamically\n    private usingTreeData: boolean;\n    private getDataPath: GetDataPath | undefined;\n\n    // we use a sequence variable so that each time we do a grouping, we don't\n    // reuse the ids - otherwise the rowRenderer will confuse rowNodes between redraws\n    // when it tries to animate between rows. we set to -1 as others row id 0 will be shared\n    // with the other rows.\n    private groupIdSequence = new NumberSequence(1);\n\n    // when grouping, these items are of note:\n    // rowNode.parent: RowNode: set to the parent\n    // rowNode.childrenAfterGroup: RowNode[] = the direct children of this group\n    // rowNode.childrenMapped: string=>RowNode = children mapped by group key (when groups) or an empty map if leaf group (this is then used by pivot)\n    // for leaf groups, rowNode.childrenAfterGroup = rowNode.allLeafChildren;\n\n    private oldGroupingDetails: GroupingDetails;\n\n    @PostConstruct\n    private postConstruct(): void {\n        this.usingTreeData = this.gridOptionsWrapper.isTreeData();\n        if (this.usingTreeData) {\n            this.getDataPath = this.gridOptionsWrapper.getDataPathFunc();\n        }\n    }\n\n    public execute(params: StageExecuteParams): void {\n\n        const details = this.createGroupingDetails(params);\n\n        if (details.transaction) {\n            this.handleTransaction(details);\n        } else {\n            const afterColsChanged = params.afterColumnsChanged === true;\n            this.shotgunResetEverything(details, afterColsChanged);\n        }\n\n        this.sortGroupsWithComparator(details.rootNode);\n\n        this.selectableService.updateSelectableAfterGrouping(details.rootNode);\n    }\n\n    private createGroupingDetails(params: StageExecuteParams): GroupingDetails {\n        const {rowNode, changedPath, rowNodeTransaction, rowNodeOrder} = params;\n\n        const groupedCols = this.usingTreeData ? null : this.columnController.getRowGroupColumns();\n        const isGrouping = this.usingTreeData || (groupedCols && groupedCols.length > 0);\n        const usingTransaction = isGrouping && _.exists(rowNodeTransaction);\n\n        const details: GroupingDetails = {\n            // someone complained that the parent attribute was causing some change detection\n            // to break is some angular add-on - which i never used. taking the parent out breaks\n            // a cyclic dependency, hence this flag got introduced.\n            includeParents: !this.gridOptionsWrapper.isSuppressParentsInRowNodes(),\n            expandByDefault: this.gridOptionsWrapper.isGroupSuppressRow() ?\n                -1 : this.gridOptionsWrapper.getGroupDefaultExpanded(),\n            groupedCols: groupedCols,\n            rootNode: rowNode,\n            pivotMode: this.columnController.isPivotMode(),\n            groupedColCount: this.usingTreeData || !groupedCols ? 0 : groupedCols.length,\n            rowNodeOrder: rowNodeOrder,\n\n            // important not to do transaction if we are not grouping, as otherwise the 'insert index' is ignored.\n            // ie, if not grouping, then we just want to shotgun so the rootNode.allLeafChildren gets copied\n            // to rootNode.childrenAfterGroup and maintaining order (as delta transaction misses the order).\n            transaction: usingTransaction ? rowNodeTransaction : null,\n\n            // if no transaction, then it's shotgun, changed path would be 'not active' at this point anyway\n            changedPath: changedPath\n        };\n\n        return details;\n    }\n\n    private handleTransaction(details: GroupingDetails): void {\n        const tran = details.transaction;\n        if (tran.add) {\n            this.insertNodes(tran.add, details, false);\n        }\n        if (tran.update) {\n            this.moveNodesInWrongPath(tran.update, details);\n        }\n        if (tran.remove) {\n            this.removeNodes(tran.remove, details);\n        }\n        if (details.rowNodeOrder) {\n            this.sortChildren(details);\n        }\n    }\n\n    // this is used when doing delta updates, eg Redux, keeps nodes in right order\n    private sortChildren(details: GroupingDetails): void {\n        details.changedPath.forEachChangedNodeDepthFirst(rowNode => {\n            _.sortRowNodesByOrder(rowNode.childrenAfterGroup, details.rowNodeOrder);\n        });\n    }\n\n    private sortGroupsWithComparator(rootNode: RowNode): void {\n        // we don't do group sorting for tree data\n        if (this.usingTreeData) {\n            return;\n        }\n\n        const comparator = this.gridOptionsWrapper.getDefaultGroupSortComparator();\n        if (_.exists(comparator)) {\n            recursiveSort(rootNode);\n        }\n\n        function recursiveSort(rowNode: RowNode): void {\n            const doSort = _.exists(rowNode.childrenAfterGroup) &&\n                // we only want to sort groups, so we do not sort leafs (a leaf group has leafs as children)\n                !rowNode.leafGroup;\n\n            if (doSort) {\n                rowNode.childrenAfterGroup.sort(comparator);\n                rowNode.childrenAfterGroup.forEach((childNode: RowNode) => recursiveSort(childNode));\n            }\n        }\n    }\n\n    private getExistingPathForNode(node: RowNode, details: GroupingDetails): GroupInfo[] {\n        const res: GroupInfo[] = [];\n\n        // when doing tree data, the node is part of the path,\n        // but when doing grid grouping, the node is not part of the path so we start with the parent.\n        let pointer = this.usingTreeData ? node : node.parent;\n        while (pointer && pointer !== details.rootNode) {\n            res.push({\n                key: pointer.key,\n                rowGroupColumn: pointer.rowGroupColumn,\n                field: pointer.field\n            });\n            pointer = pointer.parent;\n        }\n        res.reverse();\n        return res;\n    }\n\n    private moveNodesInWrongPath(childNodes: RowNode[], details: GroupingDetails): void {\n\n        childNodes.forEach(childNode => {\n\n            // we add node, even if parent has not changed, as the data could have\n            // changed, hence aggregations will be wrong\n            if (details.changedPath.isActive()) {\n                details.changedPath.addParentNode(childNode.parent);\n            }\n\n            const infoToKeyMapper = (item: GroupInfo) => item.key;\n            const oldPath: string[] = this.getExistingPathForNode(childNode, details).map(infoToKeyMapper);\n            const newPath: string[] = this.getGroupInfo(childNode, details).map(infoToKeyMapper);\n\n            const nodeInCorrectPath = _.compareArrays(oldPath, newPath);\n\n            if (!nodeInCorrectPath) {\n                this.moveNode(childNode, details);\n            }\n        });\n    }\n\n    private moveNode(childNode: RowNode, details: GroupingDetails): void {\n\n        this.removeNodesInStages([childNode], details);\n        this.insertOneNode(childNode, details, true);\n\n        // hack - if we didn't do this, then renaming a tree item (ie changing rowNode.key) wouldn't get\n        // refreshed into the gui.\n        // this is needed to kick off the event that rowComp listens to for refresh. this in turn\n        // then will get each cell in the row to refresh - which is what we need as we don't know which\n        // columns will be displaying the rowNode.key info.\n        childNode.setData(childNode.data);\n\n        // we add both old and new parents to changed path, as both will need to be refreshed.\n        // we already added the old parent (in calling method), so just add the new parent here\n        if (details.changedPath.isActive()) {\n            const newParent = childNode.parent;\n            details.changedPath.addParentNode(newParent);\n        }\n    }\n\n    private removeNodes(leafRowNodes: RowNode[], details: GroupingDetails): void {\n        this.removeNodesInStages(leafRowNodes, details);\n        if (details.changedPath.isActive()) {\n            leafRowNodes.forEach(rowNode => details.changedPath.addParentNode(rowNode.parent));\n        }\n    }\n\n    private removeNodesInStages(leafRowNodes: RowNode[], details: GroupingDetails): void {\n        this.removeNodesFromParents(leafRowNodes, details);\n        this.postRemoveCreateFillerNodes(leafRowNodes, details);\n        this.postRemoveRemoveEmptyGroups(leafRowNodes, details);\n    }\n\n    private forEachParentGroup(details: GroupingDetails, child: RowNode, callback: (parent: RowNode) => void): void {\n        let pointer = child.parent;\n        while (pointer && pointer !== details.rootNode) {\n            callback(pointer);\n            pointer = pointer.parent;\n        }\n    }\n\n    private removeNodesFromParents(nodesToRemove: RowNode[], details: GroupingDetails): void {\n\n        const batchRemover: BatchRemover = new BatchRemover();\n\n        nodesToRemove.forEach(nodeToRemove => {\n\n            this.removeFromParent(nodeToRemove, batchRemover);\n\n            // remove from allLeafChildren. we clear down all parents EXCEPT the Root Node, as\n            // the ClientSideNodeManager is responsible for the Root Node.\n            this.forEachParentGroup(details, nodeToRemove, parentNode => {\n                batchRemover.removeFromAllLeafChildren(parentNode, nodeToRemove);\n            });\n\n        });\n\n        batchRemover.flush();\n    }\n\n    private postRemoveCreateFillerNodes(nodesToRemove: RowNode[], details: GroupingDetails): void {\n        nodesToRemove.forEach(nodeToRemove => {\n\n            // if not group, and children are present, need to move children to a group.\n            // otherwise if no children, we can just remove without replacing.\n            const replaceWithGroup = nodeToRemove.hasChildren();\n            if (replaceWithGroup) {\n                const oldPath = this.getExistingPathForNode(nodeToRemove, details);\n                // because we just removed the userGroup, this will always return new support group\n                const newGroupNode = this.findParentForNode(nodeToRemove, oldPath, details);\n\n                // these properties are the ones that will be incorrect in the newly created group,\n                // so copy them from the old childNode\n                newGroupNode.expanded = nodeToRemove.expanded;\n                newGroupNode.allLeafChildren = nodeToRemove.allLeafChildren;\n                newGroupNode.childrenAfterGroup = nodeToRemove.childrenAfterGroup;\n                newGroupNode.childrenMapped = nodeToRemove.childrenMapped;\n\n                newGroupNode.childrenAfterGroup.forEach(rowNode => rowNode.parent = newGroupNode);\n            }\n\n        });\n    }\n\n    private postRemoveRemoveEmptyGroups(nodesToRemove: RowNode[], details: GroupingDetails): void {\n        // we do this multiple times, as when we remove groups, that means the parent of just removed\n        // group can then be empty. to get around this, if we remove, then we check everything again for\n        // newly emptied groups. the max number of times this will execute is the depth of the group tree.\n        let checkAgain = true;\n\n        const groupShouldBeRemoved = (rowNode: RowNode): boolean => {\n\n            // because of the while loop below, it's possible we already moved the node,\n            // so double check before trying to remove again.\n            const mapKey = this.getChildrenMappedKey(rowNode.key, rowNode.rowGroupColumn);\n            const parentRowNode = rowNode.parent;\n            const groupAlreadyRemoved = (parentRowNode && parentRowNode.childrenMapped) ?\n                        !parentRowNode.childrenMapped[mapKey] : true;\n\n            if (groupAlreadyRemoved) {\n                // if not linked, then group was already removed\n                return false;\n            } else {\n                // if still not removed, then we remove if this group is empty\n                return rowNode.isEmptyRowGroupNode();\n            }\n        };\n\n        while (checkAgain) {\n            checkAgain = false;\n            const batchRemover: BatchRemover = new BatchRemover();\n            nodesToRemove.forEach(nodeToRemove => {\n                // remove empty groups\n                this.forEachParentGroup(details, nodeToRemove, rowNode => {\n                    if (groupShouldBeRemoved(rowNode)) {\n                        checkAgain = true;\n                        this.removeFromParent(rowNode, batchRemover);\n                        // we remove selection on filler nodes here, as the selection would not be removed\n                        // from the RowNodeManager, as filler nodes don't exist on the RowNodeManager\n                        rowNode.setSelected(false);\n                    }\n                });\n            });\n            batchRemover.flush();\n        }\n    }\n\n    // removes the node from the parent by:\n    // a) removing from childrenAfterGroup (using batchRemover if present, otherwise immediately)\n    // b) removing from childrenMapped (immediately)\n    // c) setRowTop(null) - as the rowRenderer uses this to know the RowNode is no longer needed\n    private removeFromParent(child: RowNode, batchRemover?: BatchRemover) {\n        if (child.parent) {\n            if (batchRemover) {\n                batchRemover.removeFromChildrenAfterGroup(child.parent, child);\n            } else {\n                _.removeFromArray(child.parent.childrenAfterGroup, child);\n            }\n        }\n        const mapKey = this.getChildrenMappedKey(child.key, child.rowGroupColumn);\n        if (child.parent && child.parent.childrenMapped) {\n            child.parent.childrenMapped[mapKey] = undefined;\n        }\n        // this is important for transition, see rowComp removeFirstPassFuncs. when doing animation and\n        // remove, if rowTop is still present, the rowComp thinks it's just moved position.\n        child.setRowTop(null);\n    }\n\n    private addToParent(child: RowNode, parent: RowNode | null) {\n        const mapKey = this.getChildrenMappedKey(child.key, child.rowGroupColumn);\n        if (parent) {\n            if (parent.childrenMapped) {\n                parent.childrenMapped[mapKey] = child;\n            }\n            parent.childrenAfterGroup.push(child);\n        }\n    }\n\n    private areGroupColsEqual(d1: GroupingDetails, d2: GroupingDetails): boolean {\n\n        if (d1 == null || d2 == null) { return false; }\n\n        if (d1.pivotMode !== d2.pivotMode) { return false; }\n\n        if (!_.compareArrays(d1.groupedCols, d2.groupedCols)) { return false; }\n\n        return true;\n    }\n\n    private shotgunResetEverything(details: GroupingDetails, afterColumnsChanged: boolean): void {\n\n        const skipStage = afterColumnsChanged ?\n            this.usingTreeData || this.areGroupColsEqual(details, this.oldGroupingDetails)\n            : false;\n        this.oldGroupingDetails = details;\n        if (skipStage) { return; }\n\n        // because we are not creating the root node each time, we have the logic\n        // here to change leafGroup once.\n        // we set .leafGroup to false for tree data, as .leafGroup is only used when pivoting, and pivoting\n        // isn't allowed with treeData, so the grid never actually use .leafGroup when doing treeData.\n        details.rootNode.leafGroup = this.usingTreeData ? false : details.groupedCols.length === 0;\n\n        // we are doing everything from scratch, so reset childrenAfterGroup and childrenMapped from the rootNode\n        details.rootNode.childrenAfterGroup = [];\n        details.rootNode.childrenMapped = {};\n\n        this.insertNodes(details.rootNode.allLeafChildren, details, false);\n    }\n\n    private insertNodes(newRowNodes: RowNode[], details: GroupingDetails, isMove: boolean): void {\n        newRowNodes.forEach(rowNode => {\n            this.insertOneNode(rowNode, details, isMove);\n            if (details.changedPath.isActive()) {\n                details.changedPath.addParentNode(rowNode.parent);\n            }\n        });\n    }\n\n    private insertOneNode(childNode: RowNode, details: GroupingDetails, isMove: boolean): void {\n\n        const path: GroupInfo[] = this.getGroupInfo(childNode, details);\n\n        const parentGroup = this.findParentForNode(childNode, path, details);\n        if (!parentGroup.group) {\n            console.warn(`ag-Grid: duplicate group keys for row data, keys should be unique`,\n                [parentGroup.data, childNode.data]);\n        }\n\n        if (this.usingTreeData) {\n            this.swapGroupWithUserNode(parentGroup, childNode, isMove);\n        } else {\n            childNode.parent = parentGroup;\n            childNode.level = path.length;\n            parentGroup.childrenAfterGroup.push(childNode);\n        }\n    }\n\n    private findParentForNode(childNode: RowNode, path: GroupInfo[], details: GroupingDetails): RowNode {\n        let nextNode: RowNode = details.rootNode;\n\n        path.forEach((groupInfo, level) => {\n            nextNode = this.getOrCreateNextNode(nextNode, groupInfo, level, details);\n            // node gets added to all group nodes.\n            // note: we do not add to rootNode here, as the rootNode is the master list of rowNodes\n            nextNode.allLeafChildren.push(childNode);\n        });\n\n        return nextNode;\n    }\n\n    private swapGroupWithUserNode(fillerGroup: RowNode, userGroup: RowNode, isMove: boolean) {\n        userGroup.parent = fillerGroup.parent;\n        userGroup.key = fillerGroup.key;\n        userGroup.field = fillerGroup.field;\n        userGroup.groupData = fillerGroup.groupData;\n        userGroup.level = fillerGroup.level;\n        // AG-3441 - preserve the existing expanded status of the node if we're moving it, so that\n        // you can drag a sub tree from one parent to another without changing its expansion\n        if (!isMove) {\n            userGroup.expanded = fillerGroup.expanded;\n        }\n\n        // we set .leafGroup to false for tree data, as .leafGroup is only used when pivoting, and pivoting\n        // isn't allowed with treeData, so the grid never actually use .leafGroup when doing treeData.\n        userGroup.leafGroup = fillerGroup.leafGroup;\n\n        // always null for userGroups, as row grouping is not allowed when doing tree data\n        userGroup.rowGroupIndex = fillerGroup.rowGroupIndex;\n\n        userGroup.allLeafChildren = fillerGroup.allLeafChildren;\n        userGroup.childrenAfterGroup = fillerGroup.childrenAfterGroup;\n        userGroup.childrenMapped = fillerGroup.childrenMapped;\n\n        this.removeFromParent(fillerGroup);\n        userGroup.childrenAfterGroup.forEach((rowNode: RowNode) => rowNode.parent = userGroup);\n        this.addToParent(userGroup, fillerGroup.parent);\n    }\n\n    private getOrCreateNextNode(parentGroup: RowNode, groupInfo: GroupInfo, level: number,\n                                details: GroupingDetails): RowNode {\n\n        const mapKey = this.getChildrenMappedKey(groupInfo.key, groupInfo.rowGroupColumn);\n        let nextNode = parentGroup.childrenMapped ? parentGroup.childrenMapped[mapKey] as RowNode : undefined;\n        if (!nextNode) {\n            nextNode = this.createGroup(groupInfo, parentGroup, level, details);\n            // attach the new group to the parent\n            this.addToParent(nextNode, parentGroup);\n        }\n\n        return nextNode;\n    }\n\n    private createGroup(groupInfo: GroupInfo, parent: RowNode, level: number, details: GroupingDetails): RowNode {\n        const groupNode = new RowNode();\n        this.context.wireBean(groupNode);\n\n        groupNode.group = true;\n        groupNode.field = groupInfo.field;\n        groupNode.rowGroupColumn = groupInfo.rowGroupColumn;\n        groupNode.groupData = {};\n\n        const groupDisplayCols: Column[] = this.columnController.getGroupDisplayColumns();\n\n        groupDisplayCols.forEach(col => {\n            // newGroup.rowGroupColumn=null when working off GroupInfo, and we always display the group in the group column\n            // if rowGroupColumn is present, then it's grid row grouping and we only include if configuration says so\n            const displayGroupForCol = this.usingTreeData || (groupNode.rowGroupColumn ? col.isRowGroupDisplayed(groupNode.rowGroupColumn.getId()) : false);\n            if (displayGroupForCol) {\n                groupNode.groupData[col.getColId()] = groupInfo.key;\n            }\n        });\n\n        // we use negative number for the ids of the groups, this makes sure we don't clash with the\n        // id's of the leaf nodes.\n        groupNode.id = (this.groupIdSequence.next() * -1).toString();\n        groupNode.key = groupInfo.key;\n\n        groupNode.level = level;\n        groupNode.leafGroup = this.usingTreeData ? false : level === (details.groupedColCount - 1);\n\n        // if doing pivoting, then the leaf group is never expanded,\n        // as we do not show leaf rows\n        if (details.pivotMode && groupNode.leafGroup) {\n            groupNode.expanded = false;\n        } else {\n            groupNode.expanded = this.isExpanded(details.expandByDefault, level);\n        }\n\n        groupNode.allLeafChildren = [];\n        // why is this done here? we are not updating the children could as we go,\n        // i suspect this is updated in the filter stage\n\n        groupNode.setAllChildrenCount(0);\n\n        groupNode.rowGroupIndex = this.usingTreeData ? null : level;\n\n        groupNode.childrenAfterGroup = [];\n        groupNode.childrenMapped = {};\n\n        groupNode.parent = details.includeParents ? parent : null;\n\n        return groupNode;\n    }\n\n    private getChildrenMappedKey(key: string, rowGroupColumn: Column | null): string {\n        if (rowGroupColumn) {\n            // grouping by columns\n            return rowGroupColumn.getId() + '-' + key;\n        } else {\n            // tree data - we don't have rowGroupColumns\n            return key;\n        }\n    }\n\n    private isExpanded(expandByDefault: number, level: number) {\n        if (expandByDefault === -1) {\n            return true;\n        } else {\n            return level < expandByDefault;\n        }\n    }\n\n    private getGroupInfo(rowNode: RowNode, details: GroupingDetails): GroupInfo[] {\n        if (this.usingTreeData) {\n            return this.getGroupInfoFromCallback(rowNode);\n        } else {\n            return this.getGroupInfoFromGroupColumns(rowNode, details);\n        }\n    }\n\n    private getGroupInfoFromCallback(rowNode: RowNode): GroupInfo[] {\n        const keys: string[] | null = this.getDataPath ? this.getDataPath(rowNode.data) : null;\n\n        if (keys === null || keys === undefined || keys.length === 0) {\n            _.doOnce(\n                () => console.warn(`getDataPath() should not return an empty path for data`, rowNode.data),\n                'groupStage.getGroupInfoFromCallback'\n            );\n        }\n        const groupInfoMapper = (key: string | null) => ({key, field: null, rowGroupColumn: null}) as GroupInfo;\n        return keys ? keys.map(groupInfoMapper) : [];\n    }\n\n    private getGroupInfoFromGroupColumns(rowNode: RowNode, details: GroupingDetails) {\n        const res: GroupInfo[] = [];\n        details.groupedCols.forEach(groupCol => {\n            let key: string = this.valueService.getKeyForNode(groupCol, rowNode);\n            let keyExists = key !== null && key !== undefined;\n\n            // unbalanced tree and pivot mode don't work together - not because of the grid, it doesn't make\n            // mathematical sense as you are building up a cube. so if pivot mode, we put in a blank key where missing.\n            // this keeps the tree balanced and hence can be represented as a group.\n            if (details.pivotMode && !keyExists) {\n                key = ' ';\n                keyExists = true;\n            }\n\n            if (keyExists) {\n                const item = {\n                    key: key,\n                    field: groupCol.getColDef().field,\n                    rowGroupColumn: groupCol\n                } as GroupInfo;\n                res.push(item);\n            }\n        });\n        return res;\n    }\n}\n\ninterface RemoveDetails {\n    removeFromChildrenAfterGroup: {[id:string]: boolean};\n    removeFromAllLeafChildren: {[id:string]: boolean};\n}\n\n// doing _.removeFromArray() multiple times on a large list can be a bottleneck.\n// when doing large deletes (eg removing 1,000 rows) then we would be calling _.removeFromArray()\n// a thousands of times, in particular RootNode.allGroupChildren could be a large list, and\n// 1,000 removes is time consuming as each one requires traversing the full list.\n// to get around this, we do all the removes in a batch. this class manages the batch.\n//\n// This problem was brought to light by a client (AG-2879), with dataset of 20,000\n// in 10,000 groups (2 items per group), then deleting all rows with transaction,\n// it took about 20 seconds to delete. with the BathRemoved, the reduced to less than 1 second.\nclass BatchRemover {\n\n    private allSets: {[parentId: string]: RemoveDetails} = {};\n    private allParents: RowNode[] = [];\n\n    public removeFromChildrenAfterGroup(parent: RowNode, child: RowNode): void {\n        const set = this.getSet(parent);\n        set.removeFromChildrenAfterGroup[child.id] = true;\n    }\n\n    public removeFromAllLeafChildren(parent: RowNode, child: RowNode): void {\n        const set = this.getSet(parent);\n        set.removeFromAllLeafChildren[child.id] = true;\n    }\n\n    private getSet(parent: RowNode): RemoveDetails {\n        if (!this.allSets[parent!.id]) {\n            this.allSets[parent!.id] = {\n                removeFromAllLeafChildren: {},\n                removeFromChildrenAfterGroup: {}\n            };\n            this.allParents.push(parent!);\n        }\n        return this.allSets[parent!.id];\n    }\n\n    public flush(): void {\n        this.allParents.forEach(parent => {\n            const nodeDetails = this.allSets[parent.id];\n            parent.childrenAfterGroup = parent.childrenAfterGroup.filter(child => {\n                    const res = !nodeDetails.removeFromChildrenAfterGroup[child.id];\n                    return res;\n            });\n            parent.allLeafChildren = parent.allLeafChildren.filter(child => !nodeDetails.removeFromAllLeafChildren[child.id]);\n        });\n        this.allSets = {};\n        this.allParents.length = 0;\n    }\n}","import { ModuleNames } from \"@ag-grid-community/core\";\nimport { GroupStage } from \"./group-stage\";\n\nexport var RowGroupingModule = {\n  moduleName: ModuleNames.RowGroupingModule,\n  beans: [GroupStage]\n};\n","<ng-container *ngIf=\"isOverDue; else notOverDue\">\n  <div class=\"notice duetime pastDue\"\n    [translateParams]=\"{date: item?.duetime | localeDate}\"\n    translate>eo.process.task.overdue</div>\n</ng-container>\n  \n<ng-template #notOverDue>\n  <div class=\"notice duetime\"\n    [translateParams]=\"{date: item?.duetime | localeDate}\"\n    translate>eo.process.task.due</div>\n</ng-template>","import {Component, OnInit, Input} from '@angular/core';\nimport {InboxItem} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-duetimeInfo',\n  templateUrl: './duetimeInfo.component.html',\n  styleUrls: ['./duetimeInfo.component.scss']\n})\nexport class DuetimeInfoComponent implements OnInit {\n\n  _item: InboxItem;\n  isOverDue: boolean;\n  @Input()\n  set item(item: InboxItem) {\n    this._item = item;\n    this.isOverDue = item.duetime && item.isOverdue();\n  }\n\n  get item(): InboxItem {\n    return this._item;\n  }\n\n  constructor() {}\n\n  ngOnInit() {\n  }\n\n}\n","import {\n  AfterViewInit,\n  Component,\n  HostBinding,\n  Input,\n  OnInit,\n  ViewChild\n} from '@angular/core';\nimport {NavigationExtras, Router} from '@angular/router';\nimport {\n  BpmService,\n  Clipboard,\n  ClipboardAction,\n  ClipboardService,\n  EnaioEvent,\n  EventService,\n  FileEntry,\n  InboxItem,\n  InboxService,\n  LocalStorageService,\n  NotificationsService,\n  TranslateService,\n  UserService,\n  Utils,\n  WorkItem,\n  WorkItemAction,\n  WorkItemHistoryEntry\n} from '@eo-sdk/core';\nimport {Observable, Subscription} from 'rxjs';\nimport {catchError, map} from 'rxjs/operators';\nimport {EmptyState} from '../../eo-framework-core/empty-state/empty-state.interface';\nimport {PendingChangesService} from '../../eo-framework-core/pending-changes/pending-changes.service';\nimport {SelectionConfig, SelectionService} from '../../eo-framework-core/selection/selection.service';\nimport {FormStatusChangedEvent} from '../object-form/form-status-changed-event.interface';\nimport {ObjectFormOptions} from '../object-form/object-form-options.interface';\nimport {ObjectFormComponent} from '../object-form/object-form/object-form.component';\nimport {CellRenderer} from './../../eo-framework-core/api/grid.service';\n// import {TabPanelComponent} from '../tab-container/tab-panel/tab-panel.component';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {IndexData} from '../ui/indexdata-summary/indexdata-summary.component';\n@UntilDestroy()\n@Component({\n  selector: 'eo-inbox-details',\n  templateUrl: './inbox-details.component.html',\n  styleUrls: ['./inbox-details.component.scss']\n})\nexport class InboxDetailsComponent  implements OnInit, AfterViewInit {\n  @ViewChild('bpmForm') bpmFormEl: ObjectFormComponent;\n\n  private defaultWorkItemAction: WorkItemAction;\n\n  // ID set by pendingChanges service when editing indexdata\n  // Used to finish the pending task when editing is done\n  private pendingTaskId: string;\n\n  private _item: InboxItem;\n  workItem: WorkItem;\n  history: WorkItemHistoryEntry[];\n  // flag indicating whether or not the work item is locked by the user\n  locked: boolean;\n  // COOL-11506\n  preventClickThrough: boolean;\n  // current clipboard contents\n  clipboard: Clipboard;\n\n  // used for handling SUBSCRIPTIONS and RESUBMISSIONS\n  settings: {\n    description: string;\n    actionTitle: string;\n  };\n  formState: FormStatusChangedEvent;\n  formOptions: ObjectFormOptions;\n  selectedContentFileId: string;\n  workItemIndexdata: IndexData;\n  performerShow: boolean;\n  substituteShow: boolean;\n  actionProcessing: Subscription | any = {closed: true};\n  initializing: Subscription | any = {closed: true};\n  filesAdding: Subscription | any = {closed: true};\n  loadError: boolean;\n  storageKeyLastItemID = 'eo.inbox.lastItemID';\n\n  // externalPanels = new QueryList<TabPanelComponent>();\n  // @ContentChildren(TabPanelComponent) tabPanels: QueryList<TabPanelComponent>;\n  // @ContentChildren(TabPluginComponent) tabPlugins: QueryList<\n  //   TabPluginComponent\n  // >;\n\n  @Input() emptyState: EmptyState;\n  @Input() applySelection: SelectionConfig;\n\n  @Input('item')\n  set item(i: InboxItem) {\n    this._item = i;\n    if (i) {\n      // reset values\n      this.workItem = null;\n      this.history = [];\n      this.locked = false;\n      setTimeout(() => this.process());\n    } else {\n      this.selection.find(this.applySelection.out).focus(null);\n    }\n  }\n\n  get item() {\n    return this._item;\n  }\n\n  @HostBinding('attr.data-type') get dataType() {\n    return this.item ? this.item.type : 'none';\n  }\n\n  constructor(\n    private bpmService: BpmService,\n    private userService: UserService,\n    private inboxService: InboxService,\n    private selection: SelectionService,\n    private router: Router,\n    private eventService: EventService,\n    private clipboardService: ClipboardService,\n    private translate: TranslateService,\n    private pendingChanges: PendingChangesService,\n    private notify: NotificationsService,\n    private storageService: LocalStorageService\n  ) {\n    this.defaultWorkItemAction = {\n      code: 0,\n      title: this.translate.instant('eo.process.task.actions.default.title'),\n      type: 'FORWARD'\n    };\n  }\n\n  refresh() {\n    if (this.item.type === InboxItem.TYPE_BPM) {\n      this.createBPMWorkItem();\n    } else {\n      this.item = this._item;\n    }\n  }\n\n  onFormStatusChanged(evt: FormStatusChangedEvent) {\n    this.formState = evt;\n    if (this.formState.dirty) {\n      this.startPending();\n    } else {\n      this.finishPending();\n    }\n  }\n\n  private startPending() {\n    // because this method will be called every time the form status changes,\n    // pending task will only be started once until it was finished\n    if (!this.pendingChanges.hasPendingTask(this.pendingTaskId || ' ')) {\n      this.pendingTaskId = this.pendingChanges.startTask();\n    }\n  }\n\n  private finishPending() {\n    this.pendingChanges.finishTask(this.pendingTaskId);\n  }\n\n  /**\n   * Process the current inbox item\n   */\n  private process(): void {\n    this.loadError = false;\n    this.initializing.closed = false;\n\n    switch (this.item.type) {\n      case InboxItem.TYPE_BPM: {\n        this.initializing = this.createBPMWorkItem();\n        break;\n      }\n      case InboxItem.TYPE_SUBSCRIPTION: {\n        this.createDMSItem('subscription');\n        break;\n      }\n      case InboxItem.TYPE_RESUBMISSION: {\n        this.createDMSItem('resubmission');\n        break;\n      }\n    }\n  }\n\n  createDMSItem(dmsType) {\n    this.settings = {\n      description: this.translate.instant(\n        `eo.process.details.task.${dmsType}.description`\n      ),\n      actionTitle: this.translate.instant(\n        `eo.process.details.button.${dmsType}.remove`\n      )\n    };\n    this.openWorkItemContent(this.item.target);\n    this.initializing.closed = true;\n  }\n\n  private addDefaultActionIfEmpty = (res: WorkItem): WorkItem => {\n    if (!res.actions?.length) {\n      res.actions = [this.defaultWorkItemAction];\n    }\n    return res;\n  }\n\n  // for items of type 'BPM' fetch work item for more informations\n  createBPMWorkItem() {\n    return this.bpmService\n      .getWorkItem(this.item.sourceId, this.item.id)\n      .pipe(map(this.addDefaultActionIfEmpty))\n      .subscribe(\n        res => {\n          this.workItem = res;\n          this.setupWorkItem();\n          this.setFormOptions(\n            this.workItem.form,\n            this.workItem.data,\n            this.workItem.actions\n          );\n          // auto-select first attached content\n          this.openWorkItemContent(\n            this.workItem.file.length ? this.workItem.file[0] : null\n          );\n        },\n        () => {\n          this.loadError = true;\n          this.notify.error(\n            this.translate.instant('eo.process.details.workitem.load.fail'),\n            this.translate.instant(\n              'eo.process.details.workitem.load.fail.description'\n            )\n          );\n        }\n      );\n  }\n\n  private setFormOptions(form, data, actions: WorkItemAction[]) {\n    if (form) {\n      form.situation = 'EDIT';\n      this.formOptions = {\n        ...{\n          formModel: form,\n          data: data,\n          actions: actions ? this.transformActions(actions) : {},\n          // form script will be provided with the list of file entries\n          // attached to the current work item\n          objects: this.workItem.file\n        }\n      };\n    } else {\n      this.transformActions(actions);\n    }\n  }\n\n  private updateInboxSate() {\n    this.inboxService.refreshInboxState();\n  }\n\n  private transformActions(actions) {\n    let transformedActions = {};\n    actions.forEach(a => {\n      if (a.feasible === undefined) {\n        a.feasible = true;\n      }\n      a.feasibility = value => {\n        if (value !== undefined) {\n          a.feasible = value;\n        }\n        return a.feasible;\n      };\n      transformedActions[a.code.toString()] = a;\n    });\n    return transformedActions;\n  }\n\n  /* Locks a work item (personalize) */\n  lockWorkItem() {\n    this.actionProcessing = this.bpmService\n      .lockWorkItem(this.workItem)\n      .pipe(map(this.addDefaultActionIfEmpty))\n      .subscribe(res => {\n        const {actions, data, form} = res;\n        this.workItem = res;\n        this.setupWorkItem();\n        this.setFormOptions(form, data, actions);\n        this.updateInboxSate();\n      }, error => {\n        if (error.status === 409) {\n          Utils.throw(null, this.translate.instant('eo.bpm.event.script.execution.error'), this.workItem.title).call(this, {});\n        } else {\n          Utils.throw(null, this.translate.instant('eo.process.activity.lock.denied'), this.workItem.title).call(this, {});\n        }\n      });\n  }\n\n  /**\n   * Un-Locks a work item (de-personalize)\n   */\n  unlockWorkItem() {\n    if (!this.pendingChanges.check()) {\n      this.actionProcessing = this.bpmService\n        .unlockWorkItem(this.workItem)\n        .subscribe(res => {\n          this.workItem = res;\n          this.setupWorkItem();\n          this.updateInboxSate();\n        }, Utils.throw(null, this.translate.instant('eo.process.activity.unlock.denied'), this.workItem.title));\n    }\n  }\n\n  /**\n   * Executes a work items action.\n   * @param action The action to be executes\n   */\n  executeWorkItemAction(action: WorkItemAction) {\n    this.preventClickThrough = true;\n    setTimeout(() => {\n      this.preventClickThrough = false;\n    }, 1000);\n    setTimeout(() => {\n      if (!this.formState || !this.formState.invalid) {\n        if (action.url) {\n          // process external action by saving work item and redirect to actions url\n          if (this.bpmFormEl) {\n            this.actionProcessing = this.saveWorkItem().subscribe(() => {\n              this.openActionUrl(action.url);\n            });\n          } else {\n            this.openActionUrl(action.url);\n          }\n        } else {\n          if (this.bpmFormEl) {\n            this.workItem.data = this.bpmFormEl.getFormData();\n            // we need to remove pending task because the form will be destroyed without saving\n            this.finishPending();\n          }\n          this.bpmService\n            .forwardWorkItem(this.workItem, action)\n            .subscribe(() => {\n              this.notify.success(\n                this.translate.instant('eo.bpm.activity.forward.success'),\n                this.item.title\n              );\n              this.item = undefined;\n            }, Utils.throw(null, this.translate.instant('eo.bpm.activity.forward.error'), this.workItem.title));\n        }\n      }\n    }, 500);\n  }\n\n  private openActionUrl(url: string) {\n    if (url.substr(0, 4) === 'http') {\n      window.location.href = url;\n    } else {\n      this.router.navigateByUrl(url);\n    }\n  }\n\n  /**\n   * Selects a work items file entry.\n   * @param file FileEntry element to be selected\n   */\n  openWorkItemContent(file?: FileEntry) {\n    if (!file) {\n      this.selectedContentFileId = null;\n      if (this.applySelection) {\n        this.selection.find(this.applySelection.out).focus(null);\n      }\n    } else {\n      this.selectedContentFileId = file.id;\n      let params = {\n        id: file.id,\n        type: file.type\n      };\n      if (this.applySelection) {\n        this.selection.find(this.applySelection.out).focus(params);\n      }\n    }\n  }\n\n  /**\n   * Opens the file (attached DMSObject) in object state\n   * @param file\n   */\n  openWorkItemContentInContext(evt) {\n    const file: FileEntry = evt.data || {};\n    const fileType: NavigationExtras = {queryParams: {type: file.type}};\n    if (evt.ctrlKey) {\n      window.open(CellRenderer.windowURI(this.router.createUrlTree(['object', file.id], fileType)));\n    } else {\n      this.router.navigate(['/object', file.id], fileType);\n    }\n  }\n\n  /**\n   * Adds clipboard content to the work item\n   */\n  addFromClipboard() {\n    this.bpmService\n      .addFileElementsFromClipboard(this.workItem, this.clipboard)\n      .subscribe(workItem => {\n        this.workItem = workItem;\n        this.clipboardService.clear();\n\n        if (!this.selectedContentFileId) {\n          // open first item when nothing is selected\n          this.openWorkItemContent(this.workItem.file[0]);\n        }\n      }, Utils.throw(null, this.translate.instant('eo.process.file.notification.error'), this.translate.instant('eo.process.file.notification.add.message')));\n  }\n\n  /**\n   * Remove a file entry from the work items file\n   * @param file The file entry to be removed\n   * @param evt The click event\n   */\n  removeWorkItemContent(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    if (evt.data) {\n      const file: FileEntry = evt.data;\n      this.bpmService\n        .removeFileElement(this.workItem.processId, this.workItem.id, file.id)\n        .subscribe(() => {\n          this.workItem.file = this.workItem.file.filter(f => f.id !== file.id);\n          if (this.selectedContentFileId === file.id) {\n            this.openWorkItemContent(\n              this.workItem.file.length ? this.workItem.file[0] : null\n            );\n          }\n        }, Utils.throw(null, this.translate.instant('eo.process.file.notification.remove'), this.translate.instant('eo.process.file.notification.remove.message')));\n    }\n  }\n\n  /**\n   * Save the work items form data\n   */\n  saveWorkItemData() {\n    setTimeout(() => {\n      if (this.formState && !this.formState.invalid && this.formState.dirty) {\n        this.actionProcessing = this.saveWorkItem().subscribe(() => {\n          this.finishPending();\n          this.updateInboxSate();\n        });\n      }\n    }, 500);\n  }\n\n  prepareNewWorkItem(workItem: WorkItem): boolean {\n    this.workItem = workItem;\n    const {actions, form, data} = this.workItem;\n    this.setupWorkItem();\n    this.setFormOptions(form, data, actions);\n    this.notify.success(\n      this.translate.instant('eo.bpm.activity.indexdata.save.success')\n    );\n    return true;\n  }\n\n  /**\n   * Saves the current work item\n   */\n  private saveWorkItem(): Observable<any> {\n    this.workItem.data = this.bpmFormEl.getFormData();\n    return this.bpmService.saveWorkItem(this.workItem).pipe(\n      map(this.addDefaultActionIfEmpty),\n      map(workItem => this.prepareNewWorkItem(workItem)),\n      catchError(\n        Utils.catch(\n          null,\n          this.translate.instant('eo.bpm.activity.indexdata.save.error')\n        )\n      )\n    );\n  }\n\n  /**\n   * Removes the current item from the inbox.\n   */\n  confirmInboxItem() {\n    this.preventClickThrough = true;\n    setTimeout(() => {\n      this.preventClickThrough = false;\n    }, 1000);\n    this.actionProcessing = this.inboxService\n      .removeItem(this.item)\n      .subscribe(() => {\n        this.notify.success(\n          this.translate.instant('eo.inbox.activity.confirm.success')\n        );\n        this.eventService.trigger(EnaioEvent.INBOX_ITEM_CONFIRMED, this.item);\n        this.item = undefined;\n        this.inboxService.refreshInboxState();\n      }, Utils.catch(null, this.translate.instant('eo.process.item.remove.fail')));\n  }\n\n  /**\n   * Sets up state and data for the current work item.\n   */\n  private setupWorkItem() {\n    this.locked = this.workItem.state === 'PERSON';\n    this.preventClickThrough = true;\n    setTimeout(() => this.preventClickThrough = false, 1000);\n    const {form, data} = this.workItem;\n    const workItem = {form, data};\n    this.workItemIndexdata = form && data ? workItem : null;\n\n    // fetch history\n    this.bpmService\n      .getProcessHistory(this.workItem.processId)\n      .pipe(map(res => {\n        res.forEach(item => {\n          if (item.editor) {\n            item.data.image = this.userService.getUserImageUri(item.editor.id);\n          }\n        });\n        // sort by number because this is the auto-incrementing\n        // index of added history entries\n        this.history = res.sort((a, b) => b.number - a.number);\n      }))\n      .subscribe();\n  }\n\n  trackByCode(index, item) {\n    return item.code;\n  }\n\n  trackById(index, item) {\n    return item.id;\n  }\n\n  trackByIndex(index, item) {\n    return index;\n  }\n\n  ngOnInit() {\n    // subscribe for changes to the clipboard to enable adding contents to the work item\n    this.clipboardService.clipboard$\n      .pipe(untilDestroyed(this))\n      .subscribe(\n        (clipboard: Clipboard) =>\n        (this.clipboard =\n          clipboard.action === ClipboardAction.COPY ? clipboard : null)\n      );\n    // component is only interested in copied items\n\n    if (this.applySelection) {\n      this.selection\n        .find(this.applySelection.in)\n        .focus$.pipe(untilDestroyed(this))\n        .subscribe((item: any) => {\n          if (item) {\n            this.item = item;\n            this.storageService.setItem(this.storageKeyLastItemID, this.item.id);\n          }\n        });\n    }\n  }\n\n  ngAfterViewInit() {\n    // let panels = this.tabPanels.toArray();\n    // this.tabPlugins.forEach(\n    //   p => (panels = panels.concat(p.tabPanels.toArray()))\n    // );\n    // this.externalPanels.reset(panels);\n  }\n}\n","<div class=\"inbox-details\" *ngIf=\"item; else noItem\" [ngClass]=\"{bpm: item.type === 'BPM'}\">\n\n  <div class=\"eo-head\" [ngClass]=\"{'eo-head-tabs': item.type === 'BPM'}\">\n    <header class=\"eo-header\">\n      <eo-icon class=\"eo-header-icon\" *ngIf=\"!item.iconId\" title=\"{{item?.type}}\"\n        [iconSrc]=\"'assets/_default/svg/ic_loop.svg'\"></eo-icon>\n      <eo-icon class=\"eo-header-icon\" *ngIf=\"item.iconId\" title=\"{{item?.type}}\" [iconId]=\"item.iconId\"></eo-icon>\n      <div class=\"eo-header-info\">\n        <h2 class=\"eo-header-title\">{{item.title}}</h2>\n        <h3 *ngIf=\"item.description\" class=\"eo-header-subtitle\">{{item.description}}</h3>\n        <h3 *ngIf=\"workItem && !item.description\" class=\"eo-header-subtitle\">{{workItem.qmodelname}}</h3>\n      </div>\n      <div class=\"eo-header-actions\">\n        <eo-icon class=\"button refresh-button\" *ngIf=\"initializing.closed\" (click)=\"refresh()\"\n          [iconSrc]=\"'assets/_default/svg/ic_refresh.svg'\" [iconTitle]=\"('eo.list.refresh' | translate)\"></eo-icon>\n      </div>\n    </header>\n  </div>\n\n  <div class=\"eo-body\" *ngIf=\"initializing.closed\">\n\n    <div class=\"load-error\" *ngIf=\"loadError\">\n      <eo-error-message></eo-error-message>\n    </div>\n\n    <!-- details for BPM items -->\n    <yvc-tabs *ngIf=\"item.type === 'BPM'; else dmsTask\">\n      <!-- task -->\n      <ng-template [yvcTab]=\"{id: 'task', label: 'eo.process.details.tab.task' | translate}\">\n        <div class=\"tab-panel\">\n          <div class=\"panel task\">\n\n            <div class=\"process-description\" *ngIf=\"workItem?.description\">\n              <h3 translate>eo.process.details.tab.task.description</h3>\n              <div>{{workItem.description}}</div>\n            </div>\n\n            <eo-duetimeInfo *ngIf=\"item?.duetime\" [item]=\"item\"></eo-duetimeInfo>\n\n            <div class=\"process-performer\" *ngIf=\"workItem?.inSubstituteOf?.length\">\n              <div class=\"head\" [ngClass]=\"{performerShow: substituteShow}\">\n                <div class=\"label\" translate>eo.process.substitute</div>\n                <div class=\"action\" (click)=\"substituteShow = !substituteShow\">\n                  <div class=\"count\">{{workItem.inSubstituteOf.length}}</div>\n                  <eo-icon [iconSrc]=\"'assets/_default/svg/ic_arrow_down.svg'\"></eo-icon>\n                </div>\n              </div>\n              <div class=\"body\" *ngIf=\"substituteShow\">\n                <div class=\"performer\" *ngFor=\"let u of workItem.inSubstituteOf\">\n                  <div class=\"icon-wrap\">\n                    <eo-icon [iconSrc]=\"'assets/_default/svg/ic_orga_user.svg'\"></eo-icon>\n                  </div>\n                  <div class=\"name\">{{u.firstname}} {{u.lastname}} <span class=\"qname\">{{u.name}}</span></div>\n                </div>\n              </div>\n            </div>\n\n            <ng-container *ngIf=\"locked; else unlocked\">\n\n              <div class=\"process-form\">\n                <eo-object-form [formOptions]=\"formOptions\" *ngIf=\"workItem?.form\"\n                  (statusChanged)=\"onFormStatusChanged($event)\" #bpmForm></eo-object-form>\n              </div>\n            </ng-container>\n\n            <ng-template #unlocked>\n\n              <div class=\"notice\" translate>eo.process.task.continue</div>\n\n              <div class=\"process-performer\" *ngIf=\"workItem\">\n                <div class=\"head\" [ngClass]=\"{performerShow: performerShow}\">\n                  <div class=\"label\" translate>eo.process.recipients</div>\n                  <div class=\"action\" (click)=\"performerShow = !performerShow\">\n                    <div class=\"count\">{{workItem.performer.users.length + workItem.performer.roles.length +\n                      workItem.performer.groups.length}}</div>\n                    <eo-icon [iconSrc]=\"'assets/_default/svg/ic_arrow_down.svg'\"></eo-icon>\n                  </div>\n                </div>\n                <div class=\"body\" *ngIf=\"performerShow\">\n\n                  <div class=\"performer\" *ngFor=\"let g of workItem.performer.groups\">\n                    <div class=\"icon-wrap\">\n                      <eo-icon [iconSrc]=\"'assets/_default/svg/ic_orga_group.svg'\"></eo-icon>\n                    </div>\n                    <div class=\"name\">{{g.name}}</div>\n                  </div>\n\n                  <div class=\"performer\" *ngFor=\"let r of workItem.performer.roles\">\n                    <div class=\"icon-wrap\">\n                      <eo-icon [iconSrc]=\"'assets/_default/svg/ic_orga_role.svg'\"></eo-icon>\n                    </div>\n                    <div class=\"name\">{{r.name}}</div>\n                  </div>\n\n                  <div class=\"performer\" *ngFor=\"let u of workItem.performer.users\">\n                    <div class=\"icon-wrap\">\n                      <eo-icon [iconSrc]=\"'assets/_default/svg/ic_orga_user.svg'\"></eo-icon>\n                    </div>\n                    <div class=\"name\">{{u.firstname}} {{u.lastname}} <span class=\"qname\">{{u.name}}</span></div>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"indexdata\" *ngIf=\"workItemIndexdata?.data\">\n                <h3 translate>eo.process.details.tab.task.indexdata</h3>\n                <eo-indexdata-summary [indexdata]=\"workItemIndexdata\"></eo-indexdata-summary>\n              </div>\n\n            </ng-template>\n          </div>\n\n          <ng-container *ngIf=\"locked; else unlockedActions\">\n            <div class=\"process-actions\" [ngClass]=\"{disabled: !actionProcessing.closed}\">\n\n              <div class=\"secondary\">\n                <button class=\"btn-unlock\" (click)=\"unlockWorkItem()\" translate>eo.process.depersonalize</button>\n                <button class=\"btn-save\" (click)=\"saveWorkItemData()\"\n                  *ngIf=\"workItem?.form && !formState?.invalid && formState?.dirty\"\n                  translate>eo.object.indexdata.save</button>\n              </div>\n\n              <div class=\"primary\" [ngClass]=\"{disabled: preventClickThrough}\">\n                <button class=\"primary btn-execute\" *ngFor=\"let action of workItem.actions; trackBy: trackByCode\"\n                  (click)=\"executeWorkItemAction(action)\" [ngClass]=\"{ext: action.url}\"\n                  [disabled]=\"(!!formState && formState?.invalid) || !action.feasible\">{{action.title}}</button>\n              </div>\n            </div>\n          </ng-container>\n\n          <ng-template #unlockedActions>\n            <div class=\"process-actions\" [ngClass]=\"{disabled: !actionProcessing.closed || !workItem}\">\n              <div class=\"primary\">\n                <button class=\"primary btn-lock\" (click)=\"lockWorkItem()\" translate>eo.process.personalize</button>\n              </div>\n            </div>\n          </ng-template>\n\n        </div>\n      </ng-template>\n\n      <!-- history -->\n      <ng-template [yvcTab]=\"{id: 'history', label: 'eo.process.details.tab.progress' | translate}\">\n        <div class=\"tab-panel\">\n          <div class=\"panel process-history\">\n            <eo-process-history [history]=\"history\"></eo-process-history>\n          </div>\n        </div>\n      </ng-template>\n\n      <!-- attachments -->\n      <ng-template [yvcTab]=\"{id: 'file', label: 'eo.process.details.tab.attachments' | translate}\">\n        <div class=\"tab-panel\">\n          <div class=\"panel process-files\">\n            <eo-process-file [processFile]=\"workItem?.file\" [permissions]=\"workItem?.fileEntryPermissions\"\n              [isDisabled]=\"!filesAdding.closed\" [clipboard]=\"clipboard\" [editable]=\"true\"\n              [selectedContentFileId]=\"selectedContentFileId\"\n              (onOpenWorkItemContentInContext)=\"openWorkItemContentInContext($event)\"\n              (onOpenWorkItemContent)=\"openWorkItemContent($event)\"\n              (onRemoveWorkItemContent)=\"removeWorkItemContent($event)\" (onPasteProcessFile)=\"addFromClipboard()\">\n            </eo-process-file>\n          </div>\n        </div>\n      </ng-template>\n    </yvc-tabs>\n\n    <!-- body when we have a subscription or a resubmission -->\n    <ng-template #dmsTask>\n      <div class=\"tab-panel\">\n        <div class=\"panel\">\n          <div class=\"process-description\">\n            <h3 translate>eo.process.details.tab.task.description</h3>\n            <div>{{settings?.description}}</div>\n          </div>\n        </div>\n\n        <!-- actions for the current process item -->\n        <div class=\"process-actions\" [ngClass]=\"{disabled: !actionProcessing.closed}\">\n          <div class=\"primary\">\n            <button class=\"primary btn-confirm\" [disabled]=\"preventClickThrough\"\n              (click)=\"confirmInboxItem()\">{{settings?.actionTitle}}</button>\n          </div>\n        </div>\n\n      </div>\n    </ng-template>\n\n  </div>\n</div>\n<ng-template #noItem>\n  <eo-error-message [emptyState]=\"{icon: emptyState.icon, text: emptyState.text, className: emptyState.className}\">\n    <ng-content select=\".error\"></ng-content>\n  </eo-error-message>\n</ng-template>\n","export * from './eo-framework.module';\n\nexport * from './accordion/index';\nexport * from './actions/index';\nexport * from './animations/animations';\nexport * from './app-shell/index';\nexport * from './frame/frame.component';\nexport * from './cta/index';\nexport * from './error/index';\nexport * from './form-elements/index';\nexport * from './util/sortable/order-by.pipe';\nexport * from './frame/frame.component';\nexport * from './grid/index';\nexport * from './inbox-details/inbox-details.component';\nexport * from './list-container/index';\nexport * from './media/index';\nexport * from './object-details/index';\nexport * from './object-form/index';\nexport * from './object-state-details/object-state-details.component';\nexport * from './plugins/index';\nexport * from './prepare-details/prepare-details.component';\nexport * from './recyclebin-details/recyclebin-details.component';\nexport * from './process/details/process-details.component';\nexport * from './process/history/process-history.component';\nexport * from './process/process-file/process-file.component';\nexport * from './quick-search/index';\nexport * from './result-list/index';\nexport * from './settings/index';\nexport * from './shortcuts/index';\nexport * from './stored-query/index';\nexport * from './tree/index';\nexport * from './ui/index';\nexport * from './upload-overlay/upload-overlay.component';\nexport * from './util/index';\n","export * from './list-container.module';\nexport * from './list-container.component';\n","import {CellRenderer} from './../../eo-framework-core/api/grid.service';\nimport {forkJoin as observableForkJoin, of as observableOf, AsyncSubject, Subscription} from 'rxjs';\nimport {Component, ContentChild, Input, AfterViewInit} from '@angular/core';\nimport {SelectionConfig, SelectionService} from '../../eo-framework-core/selection/selection.service';\nimport {Router, NavigationExtras} from '@angular/router';\nimport {GridComponent} from '../grid/grid.component';\nimport {ActionService} from '../actions/action-service/action.service';\nimport {DmsObject, DmsService, Utils} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-list-container',\n  templateUrl: './list-container.component.html',\n  styleUrls: ['./list-container.component.scss']\n})\nexport class ListContainerComponent implements AfterViewInit {\n\n  public gridCount: any;\n  eoGrid: GridComponent;\n  eoGridSubject = new AsyncSubject<GridComponent>();\n\n  @ContentChild(GridComponent)\n  set contentGrid(eoGrid: GridComponent) {\n    if (eoGrid) {\n      this.eoGrid = eoGrid;\n      this.eoGridSubject.next(this.eoGrid);\n      this.eoGridSubject.complete();\n    }\n  }\n\n  @Input() applySelection: SelectionConfig = {};\n  @Input() applyVersion = false;\n  @Input() loading = true;\n  @Input() tabs = true;\n  @Input() parseDmsParams: (data) => any = (data: any) => data;\n\n  constructor(private selection: SelectionService,\n              private router: Router, private dmsService: DmsService, private actionService: ActionService) {\n  }\n\n  ngAfterViewInit() {\n  }\n\n  onCountChanged(data: any) {\n    this.loading = false;\n    this.gridCount = data;\n  }\n\n  onFocusChanged(data: any) {\n    this.selection\n      .find(this.applySelection.out)\n      .focus(data);\n  }\n\n  onDoubleClick(event: any) {\n\n    const {id, type, version, intent} = this.parseDmsParams(event.data);\n    if (id) {\n      return this.openObject(id, type, version, intent, event.event.ctrlKey);\n    }\n  }\n\n  onSelectionChanged(selectedData: any[]) {\n    this.selection.find(this.applySelection.out).set(selectedData);\n  }\n\n  onContextMenu(selectedData?: any[], target?: string) {\n    this.showActions(selectedData, target);\n  }\n\n  openObject(id, _type?, version?, intent?, newTab = false) {\n    if (this.router.url.startsWith('/object')) {\n      return;\n    }\n    version = this.applyVersion ? version : undefined;\n    const queryParams: NavigationExtras = {queryParams: {'type': _type, version, intent}};\n    if (newTab) {\n      window.open(CellRenderer.windowURI(this.router.createUrlTree(['object', id], queryParams)));\n    } else {\n      this.router.navigate(['/object', id], queryParams);\n    }\n  }\n\n  loadObject(id, _type?, version?, intent?): Subscription {\n    version = this.applyVersion ? version : undefined;\n    return this.dmsService\n      .getDmsObject(id, _type, version, intent)\n      .subscribe((res: DmsObject) => {\n        this.selection.find(this.applySelection.out).focus(res);\n      });\n  }\n\n  showActions(selectedData?: any[], target = 'DMS_OBJECT') {\n    let selection = selectedData || this.selection.find(this.applySelection.out).get();\n    let observables = selection.map(data => target === 'DMS_OBJECT' ? this.dmsService.getDmsObjectByParams(this.parseDmsParams(data)) : observableOf(data));\n    observableForkJoin(observables).subscribe((res: any[]) => this.actionService.showActions(res, target));\n  }\n\n}\n","<div class=\"eo-head\" [ngClass]=\"{'eo-head-tabs': tabs}\">\n  <ng-content select=\".eo-header\"></ng-content>\n</div>\n<ng-content select=\".eo-body\">\n</ng-content>\n<div class=\"loading-container\" *ngIf=\"loading\"><eo-loading-spinner [size]=\"'medium'\"></eo-loading-spinner></div>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ListContainerComponent} from './list-container.component';\nimport {UiModule} from '../ui/ui.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    UiModule\n  ],\n  declarations: [ListContainerComponent],\n  exports: [ListContainerComponent]\n})\nexport class ListContainerModule {\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class ContentPreviewService {\n  static UNDOCK_WINDOW_NAME = 'eoViewer';\n\n  static undockWin(src: string) {\n    const w = window[ContentPreviewService.UNDOCK_WINDOW_NAME] = window.open(\n      src || '',\n      ContentPreviewService.UNDOCK_WINDOW_NAME,\n      'directories=0, titlebar=0, toolbar=0, location=0, status=0, menubar=0, resizable=1, top=10, left=10'\n    );\n    return w;\n  }\n\n  static closeWin() {\n    return this.getUndockWin() && this.getUndockWin().close();\n  }\n\n  static getUndockWin(): Window {\n    return window[ContentPreviewService.UNDOCK_WINDOW_NAME];\n  }\n\n  static undockWinActive(): boolean {\n    return !!ContentPreviewService.getUndockWin() && !ContentPreviewService.getUndockWin().closed;\n  }\n\n  static mapLang(lang: string) {\n    switch (lang) {\n      case 'en':\n        return 'en-US';\n      case 'es':\n        return 'es-ES';\n      case 'pt':\n        return 'pt-PT';\n      case 'zh':\n        return 'zh-CN';\n      case 'hi':\n        return 'hi-IN';\n      case 'bn':\n        return 'bn-BD';\n      default:\n        return lang;\n    }\n  }\n}\n","export * from './media.module';\nexport * from './media.component';\nexport * from './content-preview.service';\n","import {AfterViewInit, Component, HostBinding, Input, OnDestroy, Renderer2, ViewChild} from '@angular/core';\nimport {\n  Config,\n  DmsObject,\n  DmsObjectAttachment,\n  DmsService,\n  ObjectType,\n  SystemService,\n  TranslateService,\n} from '@eo-sdk/core';\nimport {PopoutTriggerPosition, PopoutWindowConfig} from '@yuuvis/components/popout';\nimport {fromEvent, Subscription} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\n\nimport {FileSizePipe} from '../../eo-framework-core/pipes/filesize.pipe';\nimport {PluginsService} from './../../eo-framework-core/api/plugins.service';\nimport {ContentPreviewService} from './content-preview.service';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\n\nexport interface ViewerConfig {\n  mimeType?: string | string[];\n  fileExtension?: string | string[];\n  viewer: string;\n  error?: boolean;\n  type?: 'compare' | 'extend' | 'error' | 'default';\n}\nexport interface PreviewFile {\n  uri: string;\n  uriPdf: string;\n  mimetype: string;\n  mimegroup: string;\n  size: number;\n  path?: string;\n  fileExtension?: string;\n  mediaTypeName?: string;\n}\n@UntilDestroy()\n@Component({\n  selector: 'eo-media',\n  templateUrl: './media.component.html',\n  styleUrls: ['./media.component.scss'],\n  providers: [ContentPreviewService]\n})\nexport class MediaComponent implements AfterViewInit, OnDestroy {\n\n  static VIDEO_VIEWER = 'viewer/view/api/video/?path=${path}&mimeType=${mimeType}&fileExtension=${fileExtension}&lang=${lang}&theme=${theme}';\n  static PDF_VIEWER = 'viewer/view/api/pdf/web/viewer.html?file=&path=${path}&pathPdf=${pathPdf}&mimeType=${mimeType}&fileExtension=${fileExtension}&lang=${lang}&theme=${theme}&css=%23toolbarViewerRight%20%23print%7Bdisplay%3Ablock!important%3B%7D';\n\n  private SIZE_LIMIT = 1024 * 1024 * 10; // 10MB\n  private pdfjs: any;\n  latestUri: string;\n  slideUri: string;\n  viewer: any;\n  dmsObjectTitle: string;\n  private _previewUri: string;\n  private _dmsObject: DmsObject;\n  fileSizePipe: FileSizePipe;\n  currentIndex: number;\n  attachments: DmsObjectAttachment[] = [];\n  attachmentsLoading: Subscription;\n  attachmentsShown: boolean;\n  searchTerm: string;\n  mediaType: ObjectType;\n  customConfig: any[] = [];\n\n  popoutTriggerPosition = PopoutTriggerPosition.BOTTOM_RIGHT\n  popoutWindowConfig: PopoutWindowConfig;\n\n\n\n\n  defaultViewers = [\n    {\n      \"mimeType\": [\"application/json\", \"text/json\", \"text/plain\", \"text/xml\", \"text/java\", \"text/javascript\", \"application/javascript\", \"text/html\", \"text/markdown\", \"text/x-web-markdown\", \"text/x-markdown\"],\n      \"viewer\": \"viewer/view/api/monaco/?path=${path}&mimeType=${mimeType}&fileExtension=${fileExtension}&lang=${lang}&theme=${theme}\"\n    },\n    {\n      \"mimeType\": [\"audio/mp3\", \"audio/webm\", \"audio/ogg\", \"audio/mpeg\", \"video/mp4\", \"video/webm\", \"video/ogg\", \"application/ogg\"],\n      \"viewer\": \"viewer/view/api/video/?path=${path}&mimeType=${mimeType}&fileExtension=${fileExtension}&lang=${lang}&theme=${theme}\"\n    },\n    {\n      \"mimeType\": [\"image/tiff\", \"image/jpeg\", \"image/png\", \"image/apng\", \"image/gif\", \"image/svg+xml\", \"image/webp\"],\n      \"viewer\": \"viewer/view/api/img/?path=${path}&mimeType=${mimeType}&fileExtension=${fileExtension}&lang=${lang}&theme=${theme}\"\n    },\n    {\n      \"mimeType\": [\"message/rfc822\", \"application/vnd.ms-outlook\"],\n      \"viewer\": \"viewer/view/api/mail/?path=${path}&mimeType=${mimeType}&fileExtension=${fileExtension}&lang=${lang}&theme=${theme}\"\n    },\n    // We need another pathPdf for email attachment files. This will only come in place if the mimetype is pdf or one of the not supported ones.\n    {\"viewer\": \"() => {var attachment = parameters.pathPdf.match(new RegExp('attachment=(\\\\\\\\d)')); if (attachment) {parameters.pathPdf = location.origin + '/rest-ws/service/dms/' + dmsObject.content.id + '/attachments/' + attachment[1]} return parameters.defaultViewer;}\"},\n    {\"error\": true, \"type\": \"error\", \"viewer\": \"viewer/view/api/error/?path=${path}&mimeType=${mimeType}&fileExtension=${fileExtension}&lang=${lang}&theme=${theme}\"}\n  ];\n\n  isUndocked: boolean;\n  loading: boolean;\n\n  @Input() undockDisabled = false;\n\n  @Input() enableCloseBtn = false;\n  // by default, the viewer ignores the version of the dms object. This will always show the latest version.\n  // We need this to be able to refresh the viewer because otherwise pdfjs worker will fail.\n  @Input() useVersion = false;\n  @HostBinding('class.open') open;\n\n  @ViewChild('iframe', {static: true}) iframe;\n\n  @Input('attachments')\n  set setAttachments(attachments) {\n    this.attachments = attachments;\n    this.attachmentsShown = false;\n  }\n\n  @Input('searchTerm')\n  set setSearchTerm(searchTerm) {\n    this.searchTerm = searchTerm || '';\n  }\n\n  @Input()\n  set previewUri(uri: string) {\n    this._previewUri = uri;\n    this.toggleViewer();\n  }\n\n  get previewUri() {\n    return this._previewUri;\n  }\n\n  @Input()\n  set previewFile(file: PreviewFile) {\n    if (file) {\n      this.viewer = this.getViewer(file);\n      this.mediaType = file.mediaTypeName && this.system.getObjectType(file.mediaTypeName);\n      this.previewUri = this.viewer.previewUri;\n    } else {\n      this.previewUri = '';\n      this.popoutWindowConfig = undefined;\n    }\n    this._setPopoutWindowConfig(!file);\n  }\n\n  @Input()\n  set dmsObject(item: DmsObject) {\n    this._dmsObject = item;\n    this.dmsObjectTitle = item.title || '...';\n\n\n    this.setAttachments = [];\n    if (this.attachmentsLoading) {\n      // cancel any pending requests\n      this.attachmentsLoading.unsubscribe();\n    }\n    if (item.content && item.content.contents && item.content.contents.length) {\n      const file = item.content.contents[0] || {};\n\n      this.previewFile = {\n        uri: this.dms.getPreview(item.content.id, item.content.type, this.useVersion ? item.version : null, undefined, true),\n        uriPdf: this.dms.getPreview(item.content.id, item.content.type, this.useVersion ? item.version : null, 'PDF', true),\n        mimetype: file.mimetype,\n        mimegroup: file.mimegroup,\n        size: file.size,\n        path: file.path,\n        mediaTypeName: item.typeName\n      };\n\n      if (!!file.mimegroup?.match(/^mail|octet-stream/) && this.viewer.viewer.startsWith(MediaComponent.PDF_VIEWER)) {\n        this.slideUri = this.dms.getSlide(item.content.id, item.content.type, this.useVersion ? item.version : null, 256);\n        this.attachmentsLoading = this.dms.getAttachments(item).subscribe(a => this.setAttachments = a);\n      }\n\n    } else {\n      this.previewUri = '';\n    }\n  }\n\n  constructor(public translate: TranslateService,\n    private dms: DmsService,\n    private renderer: Renderer2,\n    private system: SystemService,\n    private config: Config,\n    private pluginsService: PluginsService) {\n    this.SIZE_LIMIT = this.config.getRaw('preview.fileSizeLimit') || this.SIZE_LIMIT;\n    this.customConfig = (this.config.getRaw('preview.viewers') || []).concat(this.defaultViewers);\n\n    this.pluginsService.api.content.catchError().subscribe((evt: any) => {\n      const {err, win, parameters} = evt.data;\n      const uri = this.pluginsService.applyFunction(this.customConfig?.find((v) => v.error)?.viewer, 'api, err, win, parameters', [\n        this.pluginsService.api,\n        err,\n        win,\n        parameters\n      ]);\n      uri && win && (win.location.href = this.resolveUri(uri, parameters));\n    });\n  }\n\n  private _setPopoutWindowConfig(reset?: boolean) {\n    const winInset = 20;\n    this.popoutWindowConfig = !reset ? {\n      title: this.dmsObjectTitle,\n      position: {\n        blockStart: winInset,\n        inlineStart: window.screen.width / 2\n      }, size: {\n        width: window.screen.width / 2 - winInset,\n        height: window.screen.height - winInset * 2,\n      }\n    } : undefined;\n  }\n\n  selectAttachment(attachment?: any) {\n    const previewUri = attachment && this.getViewer({uriPdf: attachment.previewUri} as PreviewFile).previewUri;\n    this.loadDocument(previewUri || this.previewUri, true);\n  }\n\n  public toggleViewer() {\n    this.open = !!this.previewUri;\n    if (!!this.previewUri) {\n      this.loadDocument(this.previewUri);\n    }\n  }\n\n  public refresh() {\n    this.loadDocument(this.previewUri, true);\n  }\n\n  getViewer(file: PreviewFile): any {\n    const isVideo = !!file.mimegroup?.match(/^audio|^video/);\n    const defaultViewer = isVideo ? MediaComponent.VIDEO_VIEWER : MediaComponent.PDF_VIEWER;\n    const fileExtension = file.fileExtension || (file.path?.includes('.') ? file.path.split('.').pop() : '');\n    const mimeType = file.mimetype;\n    const config = this.customConfig.find((c: ViewerConfig) => {\n      const matchMT = !c.mimeType || (typeof c.mimeType === 'string' ? [c.mimeType] : c.mimeType).includes(mimeType?.toLowerCase());\n      const matchFE = !c.fileExtension || (typeof c.fileExtension === 'string' ? [c.fileExtension] : c.fileExtension).includes((fileExtension).toLowerCase());\n      return matchMT && matchFE && (!c.type || c.type === 'default');\n    });\n    const parameters = {\n      file,\n      path: location.origin + file.uri,\n      pathPdf: location.origin + file.uriPdf,\n      viewer: config?.viewer || defaultViewer,\n      load: config?.load,\n      fileExtension,\n      mimeType,\n      theme: '',\n      defaultViewer,\n      previewUri: ''\n    };\n    parameters.viewer = this.pluginsService.applyFunction(parameters.viewer, 'component, dmsObject, parameters', [this, this._dmsObject, parameters]) || defaultViewer;\n\n    const extend = this.customConfig.find((c) => c.type === 'extend');\n    if (extend) parameters.viewer = this.pluginsService.applyFunction(extend.viewer, 'component, dmsObject, parameters', [this, this._dmsObject, parameters]);\n\n    parameters.previewUri = this.resolveUri(parameters.viewer, parameters);\n    return parameters;\n  }\n\n  private resolveUri(viewer: string, parameters: any) {\n    let origin = window.location.origin + this.config.getRaw('uri.contextPath');\n    if (viewer.startsWith('http')) {\n      origin = '';\n    }\n\n    return origin + viewer\n      .replace('${originalPath}', parameters.path)\n      .replace('${path}', encodeURIComponent(parameters.path))\n      .replace('${pathPdf}', encodeURIComponent(parameters.pathPdf))\n      .replace('${fileExtension}', encodeURIComponent(parameters.fileExtension))\n      .replace('${mimeType}', encodeURIComponent(parameters.mimeType))\n      .replace('${theme}', encodeURIComponent(parameters.theme))\n      .replace('${lang}', ContentPreviewService.mapLang(this.translate.currentLang));\n  }\n\n  loadDocument(uri: string, force?: boolean) {\n    if (!force && (!uri || (uri === this.latestUri))) {\n      return false;\n    }\n    this.latestUri = uri || '';\n\n    if (this.previewUri) {\n      this.renderer.setAttribute(this.iframe.nativeElement, 'src', this.latestUri);\n      const onload = () => this.pluginsService.applyFunction(this.viewer?.load, 'iframe, component', [this.iframe.nativeElement, this]);\n      this.iframeInit(this.iframe.nativeElement, this.viewer?.load && onload);\n    } else {\n      this.renderer.setAttribute(this.iframe.nativeElement, 'src', this.latestUri);\n      const onload = () => this.pluginsService.applyFunction(this.viewer?.load, 'iframe, component', [this.iframe.nativeElement, this]);\n      this.iframeInit(this.iframe.nativeElement, this.viewer?.load && onload);\n    }\n  }\n\n  /**\n   * Custom search inside PDF.JS based on search term\n   * @param term search term\n   * @param win iframe window\n   */\n  private searchPDF(term = '', win: any) {\n    // remove all special characters\n    term = (term || '').replace(/[\\\"|\\*]/g, '').trim();\n    if (term && win?.PDFViewerApplication?.appConfig?.findBar) {\n      win.PDFViewerApplication.appConfig.findBar.findField.value = term;\n      win.PDFViewerApplication.appConfig.findBar.highlightAllCheckbox.checked = true;\n      win.PDFViewerApplication.appConfig.findBar.caseSensitiveCheckbox.checked = false;\n      // trigger find event on pdf.js load\n      win.PDFViewerApplication.initializedPromise?.then(() => win.PDFViewerApplication.findBar.dispatchEvent());\n    }\n  }\n\n  private preventDropEvent(win: any) {\n    if (win?.location?.origin === window.location.origin) {\n      win?.document?.addEventListener('drop', (e) => e.stopPropagation());\n      // dispach drag & drop events to main window\n      win?.document?.addEventListener('dragenter', (e) => {\n        window.document.dispatchEvent(new DragEvent('dragenter', e));\n        setTimeout(() => window.document.dispatchEvent(new DragEvent('dragleave', e)), 10);\n      });\n    }\n  }\n\n  iframeInit(iframe = this.iframe, onload?: Function) {\n    if (iframe) {\n      this.loading = true;\n      iframe._init || fromEvent(iframe, 'load')\n        .pipe(untilDestroyed(this))\n        .subscribe(() => {\n          const win = this.setApi(iframe);\n          onload && onload();\n          this.loading = false;\n          setTimeout(() => {\n            this.searchPDF(this.searchTerm, win);\n            this.preventDropEvent(win);\n          }, 100);\n        });\n      iframe._init = !!this.setApi(iframe);\n    }\n  }\n\n  private setApi(iframe: any) {\n    // set api to iframe window\n    const win = iframe?.contentWindow || iframe;\n    win['api'] = window['api'];\n    if (win['api']?.content) {\n      win['api'].content.resolveViewerParams = (parameters: any) => {\n        const uri = parameters.path.replace(location.origin, '');\n        const viewer = this.getViewer({uri, mimetype: parameters.mimeType, fileExtension: parameters.fileExtension, uriPdf: uri, mimegroup: '', size: 1});\n        return {uri: viewer.previewUri || parameters.path};\n      };\n    }\n    return win;\n  }\n\n  ngAfterViewInit() {\n  }\n\n  ngOnDestroy() {\n  }\n\n}\n","<div [hidden]=\"!open\">\n  <!-- attachments overlay -->\n  <div class=\"attachments\" *ngIf=\"attachments?.length\"\n    [ngClass]=\"{notmain: latestUri !== previewUri && !attachmentsShown, active: attachmentsShown}\"\n    (eoOutsideClick)=\"attachmentsShown = false\">\n    <div class=\"attachments-list\" *ngIf=\"attachmentsShown\">\n      <div class=\"attachment main\" (click)=\"selectAttachment(null)\" [ngClass]=\"{current: latestUri === previewUri}\">{{dmsObjectTitle}}</div>\n      <div class=\"attachment\" *ngFor=\"let a of attachments\" (click)=\"selectAttachment(a)\" [ngClass]=\"{current: latestUri === a.previewUri}\">\n        {{a.name}}\n      </div>\n    </div>\n\n    <eo-icon class=\"button\" [badge]=\"attachments?.length\" (click)=\"attachmentsShown = !attachmentsShown\"\n      [iconSrc]=\"attachmentsShown ? 'assets/_default/svg/ic_clear.svg' : 'assets/_default/svg/ic_attachment.svg'\"></eo-icon>\n  </div>\n\n  <yvc-popout\n  [popoutWindowConfig]=\"popoutWindowConfig\"\n  [triggerPosition]=\"popoutTriggerPosition\" [disabled]=\"undockDisabled\">\n\n    <div class=\"preview-container\" [style.overflow]=\"'hidden'\">\n      <iframe [hidden]=\"isUndocked || loading\" #iframe height=\"100%\" width=\"100%\" frameborder=\"0\"></iframe>\n      <div class=\"loader-overlay__mask\" *ngIf=\"loading\">\n        <eo-loading-spinner class=\"iframe__loader\"></eo-loading-spinner>\n      </div>\n      <div class=\"slide\" *ngIf=\"isUndocked\">\n        <eo-icon *ngIf=\"mediaType\" [objectType]=\"mediaType\"></eo-icon>\n      </div>\n    </div>\n  </yvc-popout>\n</div>\n\n<div [hidden]=\"open\" class=\"empty-container\">\n  <eo-icon class=\"nofile\" [iconSrc]=\"'assets/_default/svg/ic_no-file.svg'\"></eo-icon>\n</div>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {MediaComponent} from './media.component';\nimport {UiModule} from '../ui/ui.module';\nimport {FormsModule} from '@angular/forms';\nimport {FormElementsModule} from '../form-elements/form-elements.module';\nimport {YvcPopoutModule} from '@yuuvis/components/popout';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    UiModule,\n    FormsModule,\n    FormElementsModule,\n    YvcPopoutModule\n  ],\n  declarations: [MediaComponent],\n  exports: [MediaComponent]\n})\nexport class MediaModule {\n}\n","import {agentConfigKeys, AgentService} from './../../../eo-framework-core/agent/agent.service';\nimport {DmsObject, UserService} from '@eo-sdk/core';\nimport { Component, OnInit, Input } from '@angular/core';\nimport {LockSettings} from '../../../eo-client/settings/agent-lock-settings.enum';\nimport {take, withLatestFrom} from 'rxjs/operators';\n\n@Component({\n  selector: 'eo-edit-icon',\n  templateUrl: './edit-icon.component.html',\n  styleUrls: ['./edit-icon.component.scss']\n})\nexport class EditIconComponent implements OnInit {\n\n  @Input() item: DmsObject;\n\n  display = false;\n  agentAlwayslock: string;\n\n  constructor(private userService: UserService, private agentService: AgentService) { }\n\n  toggle(event) {\n    this.display = !this.display;\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  editOriginalContent() {\n    const lock = this.agentAlwayslock && this.agentAlwayslock === 'always';\n    this.agentService.openDocument(this.item, lock);\n  }\n\n  fetchAgentAlwayslock() {\n    this.agentService.isConnected$.pipe(take(1), withLatestFrom(this.agentService.agentConfig$)).subscribe(([isConnected, config]) => {\n      if (config.hasOwnProperty(agentConfigKeys.LOCKSETTINGS) && Object.values(LockSettings).includes(config[agentConfigKeys.LOCKSETTINGS])) {\n        this.agentAlwayslock = config[agentConfigKeys.LOCKSETTINGS];\n      } else {\n        this.agentAlwayslock = this.userService.getCurrentUser().userSettings.alwayslock;\n      }\n    });\n  }\n\n  ngOnInit() {\n    this.fetchAgentAlwayslock();\n  }\n\n}\n","<eo-icon class=\"button favorite\"\n         [iconTitle]=\"('eo.action.menu.edit.document.label' | translate)\"\n         [iconSrc]=\"'assets/_default/svg/ic_edit.svg'\"\n         (click)=\"agentAlwayslock === 'ask' && !item.lock ? toggle($event) : editOriginalContent()\">\n</eo-icon>\n\n<eo-dialog\n  [title]=\"('eo.action.menu.edit.document.label' | translate)\"\n  [(visible)]=\"display\"\n  [minWidth]=\"400\">\n\n  <eo-open-document *ngIf=\"display\" [selection]=\"[item]\" (finished)=\"fetchAgentAlwayslock(); display = false\" (canceled)=\"display = false\"></eo-open-document>\n</eo-dialog>\n","\nimport {Component, ElementRef, Input, ViewChild} from '@angular/core';\nimport {DmsObject, EnaioEvent, EventService, NotificationsService, UserService} from '@eo-sdk/core';\nimport {EnaioErrorKeys} from '../../../eo-framework-core/error-handler/error-keys';\n\nimport {TranslateService} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\n@UntilDestroy()\n@Component({\n  selector: 'eo-favorite-icon',\n  templateUrl: './favorite-icon.component.html',\n  styleUrls: ['./favorite-icon.component.scss']\n})\nexport class FavoriteIconComponent {\n  display = false;\n  value = '';\n  tooltip: '';\n  private _item: DmsObject;\n\n  @Input()\n  set item(item: DmsObject) {\n    this._item = item;\n    this.tooltip = this.translate.instant(\n      'eo.favorite.icon.tooltip.' + (item.isFavorite ? 'remove' : 'add')\n    );\n  }\n\n  get item() {\n    return this._item;\n  }\n\n  @ViewChild('favName') favNameInputElement: ElementRef;\n\n  constructor(private userService: UserService,\n    private eventService: EventService,\n    private toasty: NotificationsService,\n    public translate: TranslateService) {\n\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_FAVORITE_ON).pipe(untilDestroyed(this))\n      .subscribe((event: any) => event.data === this.item.id && this.onSave());\n\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_FAVORITE_OFF).pipe(untilDestroyed(this))\n      .subscribe((event: any) => event.data === this.item.id && this.onRemove());\n  }\n\n  toggle(event, hide?: boolean) {\n    this.display = hide || this.item.isFavorite ? false : !this.display;\n\n    if (!hide && this.item.isFavorite) {\n      this.remove();\n    } else {\n      this.value = this.generateSuggestedName(this.item);\n    }\n\n    if (hide && this.value.length > 0) {\n      this.value = '';\n    }\n\n    if (this.display) {\n      setTimeout(() => this.favNameInputElement.nativeElement.focus(), 0);\n    }\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  generateSuggestedName(item) {\n    const pre = (!item.isContextFolder && item.contextFolder) ? item.contextFolder.title + ' > ' : '';\n    const title = pre + item.title;\n    return title//.substring(0, 250);\n  }\n\n\n  onError(error) {\n    let {key, callerinput} = error.error;\n    callerinput = callerinput.match(/\\d+/)[0];\n\n    if (key === EnaioErrorKeys.FAVORITE_TITLE_TOO_LONG) {\n      this.toasty\n        .error(this.translate.instant('eo.favorite.dialog.input.error.title'),\n          this.translate.instant('eo.favorite.dialog.input.error.message', {val1: callerinput}))\n    }\n  }\n\n  save() {\n    const title = this.value || this.generateSuggestedName(this.item.title);\n    this.userService\n      .createFavorite(this.item.id, this.item.typeName, title)\n      .subscribe(() => this.onSave(), (error) => this.onError(error));\n  }\n\n  remove() {\n    this.userService\n      .removeFavoritesForTarget(this.item.id)\n      .subscribe(() => this.onRemove());\n  }\n\n  onRemove() {\n    this.item.isFavorite = false;\n    this.tooltip = this.translate.instant('eo.favorite.icon.tooltip.add');\n  }\n\n  onSave() {\n    this.item.isFavorite = true;\n    this.display = false;\n    this.tooltip = this.translate.instant('eo.favorite.icon.tooltip.remove');\n  }\n}\n","<eo-icon class=\"button favorite\"\n         [ngClass]=\"{active: item.isFavorite}\"\n         [iconTitle]=\"tooltip\"\n         [iconSrc]=\"'assets/_default/svg/ic_favorite.svg'\"\n         (click)=\"toggle($event)\">\n</eo-icon>\n\n<eo-dialog\n  [title]=\"('eo.favorite.icon.dialog.title' | translate)\"\n  [(visible)]=\"display\"\n  [minWidth]=\"400\"\n  [styleClass]=\"'favorite-form__dialog'\">\n\n  <form name=\"favoriteForm\" (ngSubmit)=\"save()\">\n    <eo-form-input [label]=\" 'eo.favorite.icon.dialog.input.label' | translate\">\n      <input [(ngModel)]=\"value\" maxlength=\"250\" [ngModelOptions]=\"{standalone: true}\" #favName />\n    </eo-form-input>\n    <div class=\"action-buttons favorite-form__dialog--action-buttons flex-row\">\n      <button type=\"button\" class=\"button cancel\" (click)=\"toggle($event, true)\" translate>eo.favorite.icon.dialog.cancel</button>\n      <button type=\"submit\" [disabled]=\"!value\" class=\"button primary\" translate>eo.favorite.icon.dialog.save</button>\n    </div>\n  </form>\n</eo-dialog>\n","export * from './object-details.module';\nexport * from './object-details.component';\nexport * from './favorite-icon/favorite-icon.component';\nexport * from './object-history/object-history.component';\nexport * from './object-history/history-filter/history-filter';\nexport * from './object-history/history-filter/history-filter-pipe/history-filter.pipe';\nexport * from './object-history/history-filter/history-filter.component';\nexport * from './object-links/object-links.component';\n","import {\n  AfterViewInit,\n  Component,\n  EventEmitter,\n  HostBinding,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n  ViewChild,\n  ViewChildren\n} from '@angular/core';\nimport {ActivatedRoute, NavigationExtras, Router} from '@angular/router';\nimport {\n  BackendService,\n  BaseParams,\n  Capabilities,\n  CapabilitiesService,\n  Config,\n  DmsObject,\n  DmsParams,\n  DmsService,\n  EnaioEvent,\n  EventService,\n  SubscriptionMode,\n  SystemService,\n  TranslateService,\n  UploadRegistryService,\n  UploadTarget,\n  Utils,\n} from '@eo-sdk/core';\nimport {Observable, of} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {AgentService} from '../../eo-framework-core/agent/agent.service';\nimport {EmptyState} from '../../eo-framework-core/empty-state/empty-state.interface';\nimport {EmptyStateService} from '../../eo-framework-core/empty-state/empty-state.service';\nimport {LocaleDatePipe} from '../../eo-framework-core/pipes/locale-date.pipe';\nimport {SelectionConfig, SelectionService} from '../../eo-framework-core/selection/selection.service';\nimport {ActionService} from '../actions/action-service/action.service';\nimport {ContentPreviewService} from '../media/content-preview.service';\nimport {MediaComponent} from '../media/media.component';\nimport {GlobalShortcutComponent} from '../shortcuts/global-shortcut-component.interface';\nimport {Shortcut} from '../shortcuts/shortcut.interface';\nimport {IndexData} from '../ui/indexdata-summary/indexdata-summary.component';\nimport {Tabs} from '@yuuvis/components/tabs';\nimport {SplitTabsLayoutSettings} from '@yuuvis/components/split-tabs';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-object-details',\n  templateUrl: './object-details.component.html',\n  styleUrls: ['./object-details.component.scss'],\n  providers: [ContentPreviewService]\n})\nexport class ObjectDetailsComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  @ViewChild('viewer') preview: MediaComponent;\n  @ViewChildren(Tabs) tabContainers: QueryList<Tabs>;\n\n  // generate unique id to pass to upload registry\n  private uploadTarget = new UploadTarget(Utils.uuid(), UploadTarget.OBJECT);\n  item: DmsObject;\n  indexDataPreview: IndexData;\n  baseparams: BaseParams;\n  hasError = false;\n  lockTooltip: string;\n  nodmsobject = false;\n  showLoader = false;\n\n  private _panelOrder = {'master': ['summary', 'indexdata', 'history', 'links', 'signature'], 'slave': ['preview']};\n  set panelOrder(po: {master: string[], slave: string[]}) {\n    this._panelOrder = po;\n    this._checkCapabilities();\n  }\n  get panelOrder() {\n    return this._panelOrder;\n  }\n\n  agentIsConnected$: Observable<boolean> = this.agentService.isConnected$;\n  subscriptionIconTooltip: string;\n  split: boolean = false;\n  splitTabConfig: SplitTabsLayoutSettings;\n  @HostBinding('class.reference') isReference: boolean;\n\n  @Input() set reference(isRef: boolean) {\n    this.isReference = isRef;\n  }\n  @Input() searchTerm: string;\n  @Input() enableCompare = false;\n  @Input() recyclebinTabs = false;\n  @Input() enableDiff = true;\n  @Input() enableSync = true;\n  @Input() cacheLayout: any;\n  item2: DmsObject;\n  indexDataPreview2: IndexData;\n  baseparams2: BaseParams;\n  private _emptyState: EmptyState = {icon: 'ic_no-file.svg', text: '', className: ''};\n\n  @Input()\n  set emptyState(e: EmptyState) {\n    this._emptyState = e || EmptyStateService.defaultEmptyState();\n  }\n\n  get emptyState() {\n    return this._emptyState;\n  }\n\n  @Input('params')\n  set dmsParams(params: DmsParams) {\n    this.showLoader = true;\n    this.loadDmsObject(params).subscribe((res: DmsObject) => {\n      this.dmsObject = res;\n      this.showLoader = false;\n    },\n      Utils.throw(() => this.onHasError(true, true, false))\n    );\n  }\n\n  @Input('params2')\n  set dmsParams2(params: DmsParams) {\n    this.loadDmsObject(params)\n      .subscribe((res: DmsObject) => {\n        this.dmsObject2 = res;\n      }, Utils.throw(() => this.onHasError(true, true, false)));\n  }\n\n  @Input('item')\n  set dmsObject(v: DmsObject) {\n    const isDifferent = this.item?.id !== v?.id;\n    this.item = v;\n    this.onHasError();\n    // prepare indexdata preview\n    this.onIndexDataSaved(null, this.item);\n    this.eventService.trigger(EnaioEvent.DMS_OBJECT_LOADED, this.item);\n\n    if (this.item) {\n      if (isDifferent && this.item.isActiveVersion && !this.enableCompare) {\n        this.uploadTarget.referenceObject = this.item;\n        this.uploadTarget.onUploadSuccess = () => this.dmsParams = {id: v.id, type: v.typeName};\n        this.uploadRegistry.register(this.uploadTarget);\n      }\n\n      if (this.item.lock) {\n        this.lockTooltip = this.translate.instant('eo.object.lock') + ' '\n          + (new LocaleDatePipe(this.translate).transform(this.item.lock.on))\n          + ', ' + this.item.lock.by.label + ' (' + this.item.lock.by.name + ')';\n      }\n    } else {\n      this.emptyState = this.empty.getEmptyState(0);\n    }\n\n    if (this.item?.subscriptions.length) {\n      this.subscriptionIconTooltip = this.createSubscriptionIconTooltip(this.item);\n    }\n  }\n\n  @Input('item2')\n  set dmsObject2(v: DmsObject) {\n    this.item2 = structuredClone(v);\n    this.onHasError();\n    this.onIndexDataSaved(null, this.item2);\n  }\n\n  capabilities: Capabilities;\n  preventClickThrough = false;\n\n  // shortcut actions\n  shortcuts: GlobalShortcutComponent = {\n    id: 'eo.object-details',\n    label: this.translate.instant('eo.shortcuts.eo-object-details.title'),\n    labelKey: 'eo.shortcuts.eo-object-details.title',\n    actions: [\n      {\n        name: this.translate.instant('eo.shortcuts.action.open.context'),\n        nameKey: 'eo.shortcuts.action.open.context',\n        shortcut: new Shortcut('O', false, false),\n        onExecuteAction: () => {\n          this.openObject(this.item.id, this.item.typeName);\n        },\n        isHidden: () => {\n          return false;\n        }\n      },\n      {\n        name: this.translate.instant('eo.object.details.actions.title'),\n        nameKey: 'eo.object.details.actions.title',\n        shortcut: new Shortcut('A', false, false),\n        onExecuteAction: () => {\n          this.showActions();\n        },\n        isHidden: () => {\n          return false;\n        }\n      }\n    ]\n  };\n\n  @Input() applySelection: SelectionConfig;\n  @Input() parseDmsParams: (data) => {} = this.getDmsParams;\n  @Output() hasContent: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  @HostBinding('attr.data-type') get dataType() {\n    return this.item ? this.item.typeName : 'none';\n  }\n\n  // undockWinActive = false;\n\n  constructor(private router: Router,\n    private route: ActivatedRoute,\n    private system: SystemService,\n    private empty: EmptyStateService,\n    private agentService: AgentService,\n    private backend: BackendService,\n    private dmsService: DmsService,\n    private selection: SelectionService,\n    private actionService: ActionService,\n    private capabilityService: CapabilitiesService,\n    private uploadRegistry: UploadRegistryService,\n    private eventService: EventService,\n    private configService: Config,\n    private translate: TranslateService) {\n\n    this.panelOrder = this.configService.getRaw('objectDetailsTabs') || this.panelOrder;\n\n    this.agentService.setAgentStatus(this.route.snapshot.queryParams['connectagent']).subscribe((hasStatus: boolean) => {\n      if (hasStatus) {\n        this.router.navigate([], {queryParams: {connectagent: null}, queryParamsHandling: 'merge'});\n      }\n    });\n  }\n\n  private getDmsParams(data: any): DmsParams {\n    return data ? {...data, type: data.typeName || data.type} : null;\n  }\n\n  private updateContent() {\n\n    if (this.applySelection) {\n      if (this.enableCompare) {\n        this.selection\n          .find(this.applySelection.in)\n          .selection$\n          .pipe(\n            untilDestroyed(this)\n          )\n          .subscribe((res: any[]) => {\n            this.dmsParams = this.parseDmsParams(res[0]) as DmsParams;\n            this.dmsParams2 = this.parseDmsParams(res[1]) as DmsParams;\n          });\n        return;\n      } else {\n        this.selection\n          .find(this.applySelection.in)\n          .focus$\n          .pipe(\n            untilDestroyed(this)\n          )\n          .subscribe(res => {\n            this.showLoader = true;\n            this.loadDmsObject(this.parseDmsParams(res) as DmsParams).subscribe((res: DmsObject) => {\n              // refreshing object details may result in an updated version of the object\n              // so we'll use this trigger to also emitt those changes to other listening components\n              if (this.item && res && (this.item.id === res.id)) {\n                this.eventService.trigger(EnaioEvent.DMS_OBJECT_UPDATED, res);\n              }\n              this.dmsObject = res;\n              this.showLoader = false;\n            },\n              Utils.throw((error) => {\n                this.uploadRegistry.unregister(this.uploadTarget.id);\n                return this.onHasError(true, true, false);\n              })\n            );\n          });\n\n      }\n    }\n  }\n\n  refreshContent() {\n    if (!this.preventClickThrough) {\n      this.preventClickThrough = true;\n      this.updateContent();\n    }\n    setTimeout(() => {\n      this.preventClickThrough = false;\n    }, 5000);\n  }\n\n  private prepareIndexDataPreview(item: DmsObject, formData?: any) {\n    const {id, data, type, created, modified, content, contentFileName, contentFileSize, version} = item;\n\n    return this.system\n      .getObjectTypeForm(type.name, 'EDIT')\n      .pipe(\n        map(form => {\n          let indexDataPreview = {\n            form,\n            data: formData || data\n          };\n          let baseparams: BaseParams = {\n            id,\n            type: type.name,\n            createdOn: new Date(created.on),\n            modifiedOn: new Date(modified.on),\n            createdBy: `${created.by.title} (${created.by.name})`,\n            modifiedBy: `${modified.by.title} (${modified.by.name})`,\n            contentFileName: contentFileName ? contentFileName : null,\n            contentFileSize: contentFileSize ? Number(contentFileSize) : null,\n            version: version || 0,\n            mimeGroup: content ? content.contents ? content.contents[0].mimegroup : null : null,\n            digest: content ? content.contents ? content.contents[0].digest : null : null,\n            contentId: content ? content.contents ? content.id : null : null,\n            mimeType: content ? content.contents ? content.contents[0].mimetype : null : null,\n          };\n          return {indexDataPreview, baseparams};\n        }));\n  }\n\n  private onHasError(hasError = false, nodmsobject = false, showLoader = false) {\n    this.hasError = hasError;\n    this.nodmsobject = nodmsobject;\n    this.showLoader = showLoader;\n    this.hasContent.emit(!hasError);\n  }\n\n  loadDmsObject(params: DmsParams) {\n    if (!this.enableCompare && params) {\n      delete params.version;\n    }\n    // check for valid id\n    return params?.id?.length === 32 ? this.dmsService.getDmsObjectByParams(params) : of(null);\n  }\n\n  downloadOriginalContent() {\n    this.backend.downloadContent([this.item]);\n  }\n\n  showActions() {\n    const actions = [this.item, this.item2].filter(v => v);\n    this.actionService.showActions(actions, 'DMS_OBJECT');\n  }\n\n  openObject(id, _type?) {\n    const queryParams: NavigationExtras = {queryParams: {'type': _type}};\n    return this.router.navigate(['/object', id], queryParams);\n  }\n\n  // executed when the dms object changed due to saving its indexdata\n  onIndexDataSaved(formData, item) {\n    if (!this.item) {\n      this.indexDataPreview = null;\n      this.baseparams = null;\n    }\n    if (!this.item2) {\n      this.indexDataPreview2 = null;\n      this.baseparams2 = null;\n    }\n    if (item) {\n      this.prepareIndexDataPreview(item, formData)\n        .subscribe(data => {\n          if (item === this.item) {\n            this.indexDataPreview = data.indexDataPreview;\n            this.baseparams = data.baseparams;\n          } else {\n            this.indexDataPreview2 = data.indexDataPreview;\n            this.baseparams2 = data.baseparams;\n          }\n        });\n    }\n  }\n\n  onCompareTabChange(event) {\n    if (this.enableSync) {\n      this.tabContainers.forEach(t => {\n        if (t.selectedTab !== event) {\n          t.selectById(event)\n        }\n      })\n    }\n  }\n\n  get referenceTitle(): string {\n    return this.item.contextFolder ? this.item.contextFolder.title : this.item.title;\n  }\n\n  isJournalObject(item) {\n    return item.type.supertypes.find(sT => sT === 'sysjournalobject');\n  }\n\n  private createSubscriptionIconTooltip(item: DmsObject): string {\n    let tooltip = '';\n    const modes = this.item.subscriptions.map(subscription => subscription.mode);\n    const subscribedToAllChanges = modes.includes(SubscriptionMode.DMS_OBJECT_CHANGED) || (modes.includes(SubscriptionMode.ONLY_DOCUMENT_CONTENT_CHANGED) && modes.includes(SubscriptionMode.ONLY_INDEX_DATA_CHANGED));\n    const subscribedToMetaChangesOnly = modes.includes(SubscriptionMode.ONLY_INDEX_DATA_CHANGED) && !modes.includes(SubscriptionMode.ONLY_DOCUMENT_CONTENT_CHANGED) && !modes.includes(SubscriptionMode.DMS_OBJECT_CHANGED);\n    const subscribedToContentChangesOnly = modes.includes(SubscriptionMode.ONLY_DOCUMENT_CONTENT_CHANGED) && !modes.includes(SubscriptionMode.ONLY_INDEX_DATA_CHANGED) && !modes.includes(SubscriptionMode.DMS_OBJECT_CHANGED);\n    if (subscribedToAllChanges) {\n      tooltip = this.translate.instant('eo.object.subscription.icon.tooltip.allChanges');\n    }\n    else if (subscribedToMetaChangesOnly) {\n      tooltip = this.translate.instant('eo.object.subscription.icon.tooltip.meta');\n    }\n    else if (subscribedToContentChangesOnly) {\n      tooltip = this.translate.instant('eo.object.subscription.icon.tooltip.content');\n    }\n    return tooltip;\n  }\n\n  private _checkCapabilities() {\n    if (!this.capabilities) return;\n    if (!this.capabilities.signing) {\n      this._panelOrder.master = this._panelOrder?.master?.length ?\n        this._panelOrder.master.filter(id => id !== 'signature') : [];\n\n      this._panelOrder.slave = this._panelOrder?.slave?.length ?\n        this._panelOrder.slave.filter(id => id !== 'signature') : [];\n    }\n\n    this.splitTabConfig = structuredClone({\n      primary: this._panelOrder?.master?.length ? {tabs: this._panelOrder.master, active: this._panelOrder.master[0]} : undefined,\n      secondary: this._panelOrder?.slave?.length ? {tabs: this._panelOrder.slave, active: this._panelOrder.slave[0]} : undefined,\n    })\n  }\n\n  ngOnInit() {\n    this.capabilities = this.capabilityService.getCapabilities();\n    this._checkCapabilities();\n    this.updateContent();\n\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_UPDATED)\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe(event => {\n        if (event.data && this.item && this.item.id === event.data.id) {\n          this.dmsObject = this.dmsService.createLocalCopyOfDMSObject(event.data);\n          if (this.preview) {\n            this.preview.refresh();\n          }\n        }\n      });\n\n    this.eventService\n      .on(EnaioEvent.INBOX_ITEM_CONFIRMED)\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe(event => {\n        if (this.item && this.item.id === event.data.target.id) {\n          this.dmsParams = null;\n        }\n      });\n  }\n\n  ngAfterViewInit() {\n    // let panels = this.tabPanels.toArray();\n    // this.tabPlugins.forEach(p => panels = panels.concat(p.tabPanels.toArray()));\n    // this.externalPanels.reset(panels);\n  }\n\n  ngOnDestroy() {\n    this.uploadRegistry.unregister(this.uploadTarget.id);\n  }\n}\n","<div class=\"loader-overlay__mask\" *ngIf=\"showLoader\">\n  <eo-loading-spinner class=\"object-detail__loader\"></eo-loading-spinner>\n</div>\n<ng-container *ngIf=\"item && !hasError; else noItem\">\n\n  <div class=\"eo-head eo-head-tabs\" [eoShortcuts]=\"shortcuts\">\n    <header class=\"eo-header\">\n      <eo-icon class=\"eo-header-icon\" [objectType]=\"item.type\" [iconTitle]=\"item.type.label\"></eo-icon>\n      <div class=\"eo-header-info\">\n        <h2 class=\"eo-header-title\">{{item.title}}</h2>\n        <h3 class=\"eo-header-subtitle\">{{item.description}}</h3>\n      </div>\n\n      <div class=\"eo-header-actions-container\">\n        <div class=\"eo-header-actions\">\n          <ng-container *ngIf=\"!isReference; else tplHeadReference\">\n            <eo-icon class=\"button refresh-button\" *ngIf=\"!recyclebinTabs\"\n              [iconSrc]=\"'assets/_default/svg/ic_refresh.svg'\" [iconTitle]=\"('eo.list.refresh' | translate)\"\n              [ngClass]=\"{'disable-refresh': preventClickThrough}\" (click)=\"refreshContent()\"></eo-icon>\n            <eo-icon class=\"button sync-tab-btn\" *ngIf=\"enableCompare && !recyclebinTabs\"\n              [ngClass]=\"{'enabled': enableSync}\" [iconSrc]=\"'assets/_default/svg/ic_link.svg'\"\n              [iconTitle]=\"'eo.versions.detail.glue.tooltip' | translate\" (click)=\"enableSync = !enableSync\"></eo-icon>\n            <eo-favorite-icon [item]=\"item\"\n              *ngIf=\"!enableCompare && !recyclebinTabs && capabilities.favorites && !isJournalObject(item)\">\n            </eo-favorite-icon>\n            <eo-icon class=\"button oc-button\" *ngIf=\"!enableCompare && item.content\" (click)=\"downloadOriginalContent()\"\n              [iconTitle]=\"('eo.action.download.dms.object.content.label' | translate)\"\n              [iconSrc]=\"'assets/_default/svg/ic_content-download.svg'\"></eo-icon>\n            <eo-edit-icon [item]=\"item\"\n              *ngIf=\"!enableCompare && !recyclebinTabs && item.content && item.rights.edit && (agentIsConnected$ | async) && !item.isFinalized\">\n            </eo-edit-icon>\n            <eo-icon class=\"button am-button\" *ngIf=\"!recyclebinTabs\" (click)=\"showActions()\"\n              [iconTitle]=\"('eo.object.details.actions.title' | translate)\"\n              [iconSrc]=\"'assets/_default/svg/ic_more.svg'\"></eo-icon>\n          </ng-container>\n\n          <ng-template #tplHeadReference>\n            <a class=\"button reference primary\"\n              [title]=\"('eo.object.reference.tooltip' | translate:{title:referenceTitle})\"\n              [routerLink]=\"['/object', item.id]\"\n              [queryParams]=\"{type: item.typeName}\">{{'eo.object.reference.open'|translate}}</a>\n          </ng-template>\n\n        </div>\n\n        <div class=\"eo-header-status-icons\">\n          <a class=\"content-link\" [title]=\"'eo.object.contentlink.tooltip' | translate\" *ngIf=\"item.content?.linked\"\n            [routerLink]=\"'/object/' + item.content.id\" [queryParams]=\"{type: item.content.type}\">\n            <span>{{'eo.object.contentlink' | translate}}</span>\n          </a>\n          <eo-icon class=\"subscription-icon\" *ngIf=\"item.subscriptions.length\"\n            [iconSrc]=\"'assets/_default/svg/ic_subscription.svg'\" [iconTitle]=\"subscriptionIconTooltip\"></eo-icon>\n          <eo-icon class=\"resubmission-icon\" *ngIf=\"item.resubmissions.length\"\n            [iconSrc]=\"'assets/_default/svg/ic_resubmission.svg'\"\n            [iconTitle]=\"'eo.object.resubmission.tooltip' | translate: {due: item.resubmissions[0].due | localeDate, info: item.resubmissions[0].info}\"></eo-icon>\n          <eo-icon class=\"shared-icon\" *ngIf=\"item.additionalvisibility.length && !recyclebinTabs\"\n            [iconSrc]=\"'assets/_default/svg/ic_share.svg'\"\n            [iconTitle]=\"'eo.object.shared.tooltip' | translate\"></eo-icon>\n          <eo-icon class=\"lock\" [ngClass]=\"{'myLock': item.lock.by.me}\" *ngIf=\"item.lock\"\n            [iconSrc]=\"'assets/_default/svg/ic_lock.svg'\" [iconTitle]=\"lockTooltip\"></eo-icon>\n          <eo-icon class=\"finalized-icon\" *ngIf=\"item.isFinalized\" [iconSrc]=\"'assets/_default/svg/ic_finalized.svg'\"\n            [iconTitle]=\"'eo.object.finalized.tooltip' | translate\"></eo-icon>\n          <eo-icon class=\"signed-icon inprocess\" *ngIf=\"item.data.yuvsigstatus === 'inprocess'\"\n            [iconSrc]=\"'assets/_default/svg/ic_signature.svg'\"\n            [iconTitle]=\"'eo.object.signature.tooltip.inprocess' | translate\"></eo-icon>\n          <eo-icon class=\"signed-icon signed\" *ngIf=\"item.data.yuvsigstatus === 'signed'\"\n            [iconSrc]=\"'assets/_default/svg/ic_signature.svg'\"\n            [iconTitle]=\"'eo.object.signature.tooltip.signed' | translate\"></eo-icon>\n          <eo-icon class=\"signed-icon stopped\"\n            *ngIf=\"item.data.yuvsigstatus === 'canceled'\n                    || item.data.yuvsigstatus === 'revised' || item.data.yuvsigstatus === 'error' || item.data.yuvsigstatus === 'expired'\"\n            [iconSrc]=\"'assets/_default/svg/ic_signature.svg'\"\n            [iconTitle]=\"'eo.object.signature.tooltip.stopped' | translate\"></eo-icon>\n        </div>\n      </div>\n    </header>\n  </div>\n  <div class=\"eo-body\">\n\n    <yvc-split-tabs [config]=\"splitTabConfig\" [layoutSettingsID]=\"cacheLayout\" *ngIf=\"!item2; else tplCompare\">\n      <!-- summary -->\n      <ng-template [yvcTab]=\"{id: 'summary', label: 'eo.object.summary.title' | translate}\">\n        <eo-indexdata-summary [indexdata]=\"indexDataPreview\" [baseparams]=\"baseparams\" [dmsObject]=\"item\"\n          [enableVersions]=\"!enableCompare\"></eo-indexdata-summary>\n      </ng-template>\n      <!-- metadata -->\n      <ng-template [yvcTab]=\"{id: 'indexdata', label: 'eo.object.indexdata.title' | translate}\">\n        <eo-object-form-edit [dmsObject]=\"item\" (indexDataSaved)=\"onIndexDataSaved($event, item)\"\n          [formDisabled]=\"enableCompare || isReference\"></eo-object-form-edit>\n      </ng-template>\n      <!-- preview -->\n      <ng-template [yvcTab]=\"{id: 'preview', label: 'eo.object.content.title' | translate}\">\n        <eo-media [dmsObject]=\"item\" [useVersion]=\"item.id === item.content?.id\" [searchTerm]=\"searchTerm\"\n          #viewer></eo-media>\n      </ng-template>\n      <!-- history -->\n      <ng-template [yvcTab]=\"{id: 'history', label: 'eo.object.history.title' | translate}\">\n        <eo-object-history [params]=\"{id: item.id, type: item.type?.qname}\">\n        </eo-object-history>\n      </ng-template>\n      <!-- links -->\n      <ng-template [yvcTab]=\"{id: 'links', label: 'eo.object.links.title' | translate}\">\n        <eo-object-links [dmsObject]=\"item\"></eo-object-links>\n      </ng-template>\n      <!-- signature -->\n      <ng-template [yvcTab]=\"{id: 'signature', label: 'eo.object.signature-tab.title' | translate}\">\n        <eo-signature-tab [dmsObject]=\"item\"></eo-signature-tab>\n      </ng-template>\n    </yvc-split-tabs>\n\n    <ng-template #tplCompare>\n      <yvc-split-view>\n        <ng-template yvcSplitArea [size]=\"50\">\n\n          <div class=\"cmp-wrapper\">\n            <div class=\"cmp-info\">\n              <div class=\"version\">{{'eo.versions.details.label' | translate}}<span>{{item.version}}</span></div>\n            </div>\n            <ng-container\n              *ngTemplateOutlet=\"tplTabs; context: {item: item, indexDataPreview, baseparams, enableCompare: false, searchTerm, isReference}\"></ng-container>\n          </div>\n\n        </ng-template>\n        <ng-template yvcSplitArea [size]=\"50\">\n\n          <div class=\"cmp-wrapper\">\n            <div class=\"cmp-info\">\n              <div class=\"version\">{{'eo.versions.details.label' | translate}}<span>{{item2.version}}</span></div>\n            </div>\n            <ng-container\n              *ngTemplateOutlet=\"tplTabs; context: {item: item, item2: item2, indexDataPreview: indexDataPreview, baseparams, indexDataPreview2: indexDataPreview2, baseparams2, enableCompare: false, searchTerm, isReference}\"></ng-container>\n          </div>\n        </ng-template>\n\n      </yvc-split-view>\n    </ng-template>\n\n    <ng-template #tplTabs \n    let-item=\"item\" \n    let-item2=\"item2\" \n    let-indexDataPreview=\"indexDataPreview\" let-baseparams=\"baseparams\"\n    let-indexDataPreview2=\"indexDataPreview2\" let-baseparams2=\"baseparams2\"\n\n      let-enableCompare=\"enableCompare\" let-searchTerm=\"searchTerm\" let-isReference=\"isReference\">\n      <yvc-tabs (tabChange)=\"onCompareTabChange($event)\">\n        <!-- summary -->\n        <ng-template [yvcTab]=\"{id: 'summary', label: 'eo.object.summary.title' | translate}\">\n          <eo-indexdata-summary [indexdata]=\"indexDataPreview\" [baseparams]=\"baseparams\"\n            [dmsObject]=\"item\"></eo-indexdata-summary>\n        </ng-template>\n        <!-- preview -->\n        <ng-template [yvcTab]=\"{id: 'preview', label: 'eo.object.content.title' | translate}\">\n          <eo-media [dmsObject]=\"item\" [useVersion]=\"item.id === item.content?.id\" [searchTerm]=\"searchTerm\"\n            #viewer></eo-media>\n        </ng-template>\n        <!-- changes -->\n        <ng-template\n          [yvcTab]=\"{id: 'changes', label: 'eo.object.changes.title' | translate}\">\n          <eo-indexdata-summary\n            [diff]=\"{indexdata : indexDataPreview, indexdata2: indexDataPreview2, baseparams, baseparams2}\"\n            [dmsObject]=\"item2\" [enableVersions]=\"!enableCompare\"></eo-indexdata-summary>\n        </ng-template>\n\n\n      </yvc-tabs>\n    </ng-template>\n\n  </div>\n</ng-container>\n\n<ng-template #noItem>\n  <span class=\"not-found\" *ngIf=\"nodmsobject\" translate>eo.bpm.nodmsobject</span>\n  <eo-error-message *ngIf=\"!showLoader\"\n    [emptyState]=\"{icon: emptyState.icon, text: emptyState.text, className: emptyState.className}\">\n    <ng-content select=\".error\"></ng-content>\n  </eo-error-message>\n</ng-template>","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {UiModule} from '../ui/ui.module';\nimport {ObjectDetailsComponent} from './object-details.component';\nimport {FormsModule} from '@angular/forms';\nimport {MediaModule} from '../media/media.module';\nimport {ShortcutsModule} from '../shortcuts/shortcuts.module';\n// import {TabContainerModule} from '../tab-container/tab-container.module';\nimport {ObjectFormModule} from '../object-form/object-form.module';\nimport {PipesModule} from '../../eo-framework-core/pipes/pipes.module';\nimport {ObjectHistoryComponent} from './object-history/object-history.component';\nimport {ObjectLinksComponent} from './object-links/object-links.component';\nimport {FavoriteIconComponent} from './favorite-icon/favorite-icon.component';\nimport {FormElementsModule} from '../form-elements/form-elements.module';\nimport {RouterModule} from '@angular/router';\nimport {HistoryFilterPipe} from './object-history/history-filter/history-filter-pipe/history-filter.pipe';\nimport {HistoryFilterComponent} from './object-history/history-filter/history-filter.component';\nimport {AgGridModule} from '@ag-grid-community/angular';\nimport {EditIconComponent} from './edit-icon/edit-icon.component';\nimport {ActionModule} from '../actions/action.module';\nimport {YvcTabsModule} from '@yuuvis/components/tabs';\nimport {YvcSplitTabsModule} from '@yuuvis/components/split-tabs';\nimport {RecyclebinDetailsComponent} from '../recyclebin-details/recyclebin-details.component';\nimport {YvcSplitViewModule} from '@yuuvis/components/split-view';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    FormElementsModule,\n    ObjectFormModule,\n    MediaModule,\n    ShortcutsModule,\n    UiModule,\n    PipesModule,\n    RouterModule,\n    PipesModule,\n    AgGridModule,\n    ActionModule,\n    YvcTabsModule,\n    YvcSplitTabsModule,\n    YvcSplitViewModule,\n  ],\n  declarations: [\n    ObjectDetailsComponent,\n    RecyclebinDetailsComponent,\n    ObjectHistoryComponent,\n    ObjectLinksComponent,\n    FavoriteIconComponent,\n    HistoryFilterPipe,\n    HistoryFilterComponent,\n    EditIconComponent\n  ],\n  exports: [ObjectDetailsComponent, RecyclebinDetailsComponent, ObjectHistoryComponent, ObjectLinksComponent, FavoriteIconComponent, HistoryFilterPipe]\n})\nexport class ObjectDetailsModule {\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {DmsObjectHistoryEntry, WorkItemHistoryEntry} from '@eo-sdk/core';\n\n@Pipe({\n  name: 'historyFilter'\n})\nexport class HistoryFilterPipe implements PipeTransform {\n\n  transform(value: any[], term?: string): any {\n    if (!value || !term) {\n      return value;\n    }\n\n    const searchTerm = term.toLowerCase();\n    return value.filter((item: WorkItemHistoryEntry & DmsObjectHistoryEntry) => {\n\n      return (this.check(item, 'title') && item.title.toLowerCase().includes(searchTerm)) ||\n\n        (this.check(item, 'description') && item.description.toLowerCase().includes(searchTerm)) ||\n\n        (this.check(item, 'performer') && item.performer.some(u => u.label.toLowerCase().includes(searchTerm))) ||\n\n        (this.check(item.user, 'name') && item.user.name.toLowerCase().includes(searchTerm)) ||\n\n        (this.check(item.user, 'lastname') && item.user.lastname.toLowerCase().includes(searchTerm)) ||\n\n        (this.check(item.user, 'firstname') && item.user.firstname.toLowerCase().includes(searchTerm)) ||\n\n        (this.check(item.parameter, 'processName') && item.parameter.processName.toLowerCase().includes(searchTerm)) ||\n\n        (this.check(item.parameter, 'activityName') && item.parameter.activityName.toLowerCase().includes(searchTerm));\n    });\n  }\n\n\n  check(item, leaf) {\n    return (item && item[leaf] && item[leaf].length > 0)\n  }\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport {IVisibleFilter} from './history-filter';\n\n@Component({\n  selector: 'eo-history-filter',\n  templateUrl: './history-filter.component.html',\n  styleUrls: ['./history-filter.component.scss']\n})\nexport class HistoryFilterComponent {\n\n  filterterm: string;\n\n  @Input() visibleFilter: IVisibleFilter = {select: true, input: true};\n  @Input() filters: any;\n  @Output() onToggleFilter: EventEmitter<any> = new EventEmitter<any>();\n\n  @Input() history: any;\n  @Output() termChange = new EventEmitter<any>();\n\n  @Input()\n  get term() {\n    return this.filterterm;\n  }\n\n  set term(val) {\n    this.filterterm = val;\n    this.termChange.emit(this.filterterm);\n  }\n\n  typeinput(event) {\n    this.term = event.target.value;\n  }\n\n  resetFilter() {\n    this.filterterm = null;\n    this.term = null;\n  }\n\n  hasFilter(filter: string) {\n    return this.filters.indexOf(filter) !== -1;\n  }\n\n  toggleFilter(type) {\n    const filter = this.hasFilter(type);\n    this.onToggleFilter.emit([type, filter]);\n  }\n\n}\n","<section class=\"history-filter\">\n\n  <div class=\"filter history-filter__input\" *ngIf=\"visibleFilter.input\">\n    <div class=\"filter__input\" [ngClass]=\"{inactive: !history?.length}\">\n      <eo-icon class=\"filter__input--icon\"[iconSrc]=\"'assets/_default/svg/ic_filter.svg'\"></eo-icon>\n      <input class=\"filter__input--field\" type=\"text\" (keyup)=\"typeinput($event)\" [(ngModel)]=\"filterterm\">\n\n    </div>\n    <div class=\"history-filter__input--clear\">\n      <eo-icon class=\"history-filter__input--clear-icon\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" (click)=\"resetFilter()\" [ngClass]=\"{reset: filterterm}\"></eo-icon>\n    </div>\n  </div>\n\n  <div class=\"filter history-filter__selection\" *ngIf=\"visibleFilter.select\">\n    <div (click)=\"toggleFilter('MODIFICATION')\" class=\"selection-filter mod\"\n         [ngClass]=\"{inactive: hasFilter('MODIFICATION')}\"\n         translate>eo.object.history.filter.modification</div>\n    <div (click)=\"toggleFilter('PROCESS')\" class=\"selection-filter bpm\"\n         [ngClass]=\"{inactive: hasFilter('PROCESS')}\"\n         translate>eo.object.history.filter.process</div>\n    <div (click)=\"toggleFilter('INFORMATIONAL')\" class=\"selection-filter inf\"\n         [ngClass]=\"{inactive: hasFilter('INFORMATIONAL')}\"\n         translate>eo.object.history.filter.informational</div>\n  </div>\n\n</section>\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, Input} from '@angular/core';\nimport {DmsObjectHistoryEntry, DmsParams, DmsService, EnaioEvent, EventService} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {map} from 'rxjs/operators';\nimport {IVisibleFilter} from './history-filter/history-filter';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-object-history',\n  templateUrl: './object-history.component.html',\n  styleUrls: ['./object-history.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ObjectHistoryComponent {\n\n  _params: DmsParams;\n  private _history: DmsObjectHistoryEntry[] = [];\n  completeHistory: DmsObjectHistoryEntry[] = [];\n  filters: string[] = [];\n  filterterm: string;\n  visibleFilter: IVisibleFilter = {select: true, input: true};\n\n  set history(historyObj: DmsObjectHistoryEntry[]) {\n    this._history = historyObj;\n  }\n\n  get history(): DmsObjectHistoryEntry[] {\n    return this._history;\n  }\n\n  @Input()\n  set params(p: DmsParams) {\n    this._params = p;\n    this.fetchHistory(p.id, p.type);\n  }\n\n  get params() {\n    return this._params;\n  }\n\n  constructor(private dmsService: DmsService, private cd: ChangeDetectorRef, private eventService: EventService) {\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_UPDATED).pipe(\n        untilDestroyed(this))\n      .subscribe(event => {\n        if (event.data && this.params.id === event.data.id) {\n          this.params = this.params;\n        }\n      });\n  }\n\n  toggleFilter(filter) {\n    const [type, hasFilter] = filter;\n    if (hasFilter) {\n      this.filters = this.filters.filter(s => s !== type);\n    } else {\n      this.filters.push(type);\n    }\n    this.history = this.completeHistory.filter(entry => this.filters.indexOf(entry.group) === -1);\n  }\n\n  trackByIndex(index, item) {\n    return index;\n  }\n\n  private fetchHistory(id: string, type?: string) {\n    this.dmsService\n      .getHistory(id, type, true)\n      .pipe(map((res: DmsObjectHistoryEntry[]) => {\n        const reversedRes = res.reverse();\n        this.completeHistory = reversedRes;\n        this.history = reversedRes;\n        this.cd.markForCheck();\n      }))\n      .subscribe();\n  }\n}\n","<div class=\"object-history\">\n\n  <eo-history-filter [filters]=\"filters\"\n                     [history]=\"history\"\n                     [(term)]=\"filterterm\"\n                     [visibleFilter]=\"visibleFilter\"\n                     (onToggleFilter)=\"toggleFilter($event)\">\n  </eo-history-filter>\n\n\n  <ng-template #empty>\n    <div class=\"history empty\" translate>eo.timeline.empty</div>\n  </ng-template>\n\n  <div class=\"history eo-timeline\" [ngClass]=\"{single: history?.length === 1}\" *ngIf=\"history?.length; else empty\">\n\n    <div class=\"timeline-entry\" [ngClass]=\"{user: !!entry.user, comment: entry.comment}\"\n         *ngFor=\"let entry of history | historyFilter: filterterm; trackBy: trackByIndex\">\n\n      <div class=\"when\">\n        <div class=\"date\">{{entry.time | localeDate: 'eoShortDate'}}</div>\n        <div class=\"time\">{{entry.time | localeDate: 'eoShortTime'}}</div>\n      </div>\n      <div class=\"marker\" [ngClass]=\"{bpm: entry.group === 'PROCESS', mod: entry.group === 'MODIFICATION'}\"></div>\n      <div class=\"what\">\n\n        <div class=\"title\"><span [translate]=\"'eo.object.history.entry.type.' + entry.type + '.title'\"></span>\n          <a class=\"version\" [routerLink]=\"'/versions/' + params.id\" [queryParams]=\"{type: params.type, version: entry.version}\">\n            <span>{{'eo.object.history.version' | translate}} {{entry.version}}</span>\n          </a>\n        </div>\n        <div class=\"description\"\n          [translateParams]=\"entry.parameter\"\n          [translate]=\"'eo.object.history.entry.type.' + (entry.intent ? entry.intent : entry.type) + '.description'\"></div>\n        <div class=\"comment\">&quot;{{entry.comment}}&quot;</div>\n\n        <div class=\"meta\">\n          <span *ngIf=\"entry.user.type === 'serveruser'; else user\">{{entry.user.title}}</span>\n          <ng-template #user>\n            <span>{{entry.user.lastname}}, {{entry.user.firstname}} ({{entry.user.name}})</span>\n          </ng-template>\n        </div>\n\n        <div class=\"bpm-meta\" *ngIf=\"entry.parameter?.type === 'bpm'\">\n          <span *ngIf=\"entry.parameter.processName\">\n          <span translate>eo.object.history.workflowprocess</span>\n          <span>'{{entry.parameter.processName}}'</span>\n        </span>\n          <span *ngIf=\"entry.parameter.activityName\">\n          <span translate>eo.object.history.activity</span>\n          <span>'{{entry.parameter.activityName}}'</span>\n        </span>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n","import {GridService} from './../../../eo-framework-core/api/grid.service';\nimport {Component, Input, OnInit, ViewChild, HostListener} from '@angular/core';\nimport {NavigationExtras, Router} from '@angular/router';\nimport {ReferenceService} from '../../../eo-framework-core/references/reference.service';\nimport {TranslateService, DmsObject, AppCacheService} from '@eo-sdk/core';\nimport {ColDef, GridOptions, Module} from '@ag-grid-community/core';\nimport {forkJoin} from 'rxjs';\nimport {SystemService, BackendService, Utils} from '@eo-sdk/core';\nimport {ClientSideRowModelModule} from '@ag-grid-community/client-side-row-model';\nimport {RowGroupingModule} from '../../grid/row-grouping/row-grouping.module';\n\n@Component({\n  selector: 'eo-object-links',\n  templateUrl: './object-links.component.html',\n  styleUrls: ['./object-links.component.scss']\n})\nexport class ObjectLinksComponent implements OnInit {\n\n  public modules: Module[] = [ClientSideRowModelModule, RowGroupingModule];\n\n  item: DmsObject;\n  columnDefs: ColDef[];\n  searchIcon;\n  gridOptions: GridOptions;\n  gridOptions2: GridOptions;\n  inReferences = [];\n  outReferences = [];\n  queries;\n  superQueryParams = {};\n\n  showInReferences = true;\n  showOutReferences = false;\n\n  @ViewChild('gridIn') gridIn;\n  @ViewChild('gridOut') gridOut;\n\n  @Input('dmsObject')\n  set dmsObject(dmsObject: DmsObject) {\n    if (dmsObject) {\n      this.item = dmsObject;\n      this.init(dmsObject);\n    }\n  }\n\n  @HostListener('click', ['$event']) onClick(event) {\n    this.gridApi.openRouterLink(event, 'ag-row');\n  }\n\n  constructor(private router: Router,\n    private referenceService: ReferenceService,\n    private backend: BackendService,\n    private cache: AppCacheService,\n    private translate: TranslateService,\n    private gridApi: GridService,\n    private systemService: SystemService) {\n\n    this.prepareGrid();\n  }\n\n  private prepareGrid() {\n    this.columnDefs = [\n      {\n        field: 'metaData.groupField',\n        rowGroupIndex: 0,\n        sort: 'asc',\n        comparator: (a, b, nodeA, nodeB) => {\n          const label = (val: string, node: any) => val || Utils.getProperty(node, 'allLeafChildren.0.data.metaData.objectType.label') || '';\n          return label(a, nodeA).localeCompare(label(b, nodeB));\n        },\n        hide: true\n      },\n      {\n        field: 'title',\n        sort: 'asc',\n        cellClass: 'router-link-cell',\n        cellRenderer: this.referenceCellRenderer.bind(this)\n      }\n    ];\n\n    const options: GridOptions = {\n      groupRowInnerRenderer: this.typeCellRenderer.bind(this),\n      columnDefs: this.columnDefs,\n      headerHeight: 0,\n      rowHeight: 60,\n      rowBuffer: 20,\n      multiSortKey: 'ctrl',\n      rowSelection: 'single',\n      groupUseEntireRow: true,\n      groupDefaultExpanded: -1,\n      accentedSort: true,\n      suppressContextMenu: true\n    };\n\n    this.gridOptions = {\n      ...options,\n      context: {\n        count: 0,\n        gridName: 'inReferences'\n      }\n    };\n\n    this.gridOptions2 = {\n      ...options,\n      context: {\n        count: 0,\n        gridName: 'outReferences'\n      }\n    };\n\n  }\n\n  private referenceCellRenderer(param) {\n    const uriParamQuery: NavigationExtras = {queryParams: {'type': param.data.metaData.objectType.qname}};\n    // const url = this.router.serializeUrl(this.router.createUrlTree(['/object', param.data.id], uriParamQuery));\n    const url = this.router.createUrlTree(['object', param.data.id], uriParamQuery).toString().replace(/^\\/+/g, '');\n    if (param.data) {\n      return `\n        <div class=\"ref-list-item\">\n          <a class=\"router-link\" href=\"${url}\" target=\"_blank\" onclick=\"return false;\">\n            <div class=\"content\">\n              <div class=\"title\">${param.data.title}</div>\n              <div class=\"description\">${param.data.description}</div>\n            </div>\n          </a>\n        </div>`;\n    } else {\n      return '';\n    }\n  }\n\n  private typeCellRenderer(param) {\n    let val = '';\n    if (param.value) {\n      const gridName = param.api.gridCore.gridOptions.context.gridName;\n      const remoteElement = param.node.allLeafChildren[0].data.metaData.remoteElement;\n      const link = this.generateLinkUrl(param.node.allLeafChildren[0].data.metaData.objectType, remoteElement, gridName);\n      const iconUrl = `${this.backend.getBaseWithContext(this.backend.getServiceBase())}/ui/icon/${param.node.allLeafChildren[0].data.metaData.objectType.iconId}.svg`;\n      const label = param.node.allLeafChildren[0].data.metaData.objectType.label;\n      const tooltip = this.translate.instant('eo.references.open.resultlist');\n      const description = remoteElement ? remoteElement.label : '';\n\n      val = `<img class=\"object-type\" src=\"${iconUrl}\" title=\"${label}\">\n            <div class=\"content\">\n              <div class=\"title\">${label}</div>\n              <div class=\"description\">${description}</div>\n            </div>\n            <a class=\"router-link search-link\" title=\"${tooltip}\" href=\"${link}\" target=\"_blank\" onclick=\"return false;\">${this.searchIcon}</a>`;\n    }\n    return val;\n  }\n\n  private generateLinkUrl(objectType, remoteElement, gridName) {\n    let linkUrl;\n    let query;\n    if (gridName === 'outReferences') {\n      if (remoteElement) {\n        const queries = this.queries.outReferenceQueries.filter((q) => q.types[0] === objectType.qname && !!q.filters && !!q.filters[remoteElement.qname]);\n        query = this.createSuperQueryFromQueries({outReferenceQueries: queries, inReferenceQueries: []});\n        query.types = queries[0].types;\n      } else {\n        // if there is no remoteElement, than we want to find the query without any filters\n        const queries = this.queries.outReferenceQueries.filter((q) => q.types[0] === objectType.qname && !q.filters);\n        // there can be more than one field, that references to the same object type, that's why it's necessary to merge the terms.\n        const mergedTerm = queries.map(q => q.term).join(' || ');\n        query = queries[0];\n        query.term = mergedTerm;\n      }\n    } else {\n      query = this.queries.inReferenceQueries.find((q) => q.types[0] === objectType.qname && !!q.filters[remoteElement.qname]);\n    }\n    linkUrl = `result?query=${encodeURIComponent(JSON.stringify(query))}`;\n    return linkUrl;\n  }\n\n  switchListVisibilityTo(list: 'in' | 'out'){\n    if(list === 'in'){\n      this.showInReferences = true;\n      this.showOutReferences = false;\n    }else{\n      this.showInReferences = false;\n      this.showOutReferences = true;\n    }\n    this.cache.setItem('yuv.reference.list.show.' + this.item.typeName, list);\n  }\n\n  private init(item) {\n    this.cache.getItem('yuv.reference.list.show.' + item.typeName).subscribe(res => this.switchListVisibilityTo(res));\n    const obs = [\n      this.referenceService.getInReferences(item),\n      this.referenceService.getOutReferences(item)\n    ];\n    forkJoin(obs)\n      .subscribe(results => {\n        [this.inReferences, this.outReferences] = results;\n\n        if (this.inReferences.length > 20) {\n          this.gridOptions.groupDefaultExpanded = 0;\n        }\n        if (this.outReferences.length > 20) {\n          this.gridOptions2.groupDefaultExpanded = 0;\n        }\n\n        if (this.gridIn && this.inReferences.length) {\n          this.gridOptions.api.setRowData(this.inReferences);\n        } else {\n          this.gridOptions.rowData = this.inReferences;\n          this.gridOptions.context.count = this.inReferences.length;\n        }\n\n        if (this.gridOut && this.outReferences.length) {\n          this.gridOptions2.api.setRowData(this.outReferences);\n        } else {\n          this.gridOptions2.rowData = this.outReferences;\n          this.gridOptions2.context.count = this.outReferences.length;\n        }\n      }, (error) => console.error({error}));\n\n    this.referenceService\n      .getQueries(item)\n      .subscribe(queries => {\n        this.queries = queries;\n        const superQuery = this.createSuperQueryFromQueries(this.queries);\n        this.superQueryParams = {'query': encodeURIComponent(JSON.stringify(superQuery)), 'silent': true};\n      });\n  }\n\n  private createSuperQueryFromQueries(queries) {\n    let superQuery = {\n      term: '',\n      options: {\n        expertmode: true\n      }\n    };\n\n    queries.outReferenceQueries.forEach(query => {\n      if (query.filters) {\n        Object.keys(query.filters)\n          .forEach(filterName => superQuery.term += this.createSuperQueryTermPart(query, filterName));\n      } else {\n        superQuery.term += '(' + query.term + ')' + ' OR ';\n      }\n    });\n\n    queries.inReferenceQueries.forEach((query) => {\n      if (query.filters) {\n        Object.keys(query.filters)\n          .forEach(filterName => superQuery.term += this.createSuperQueryTermPart(query, filterName));\n      } else {\n        superQuery.term += query.term;\n      }\n    });\n\n    superQuery.term = superQuery.term.replace(new RegExp(',', 'g'), ' '); // replace all ',' with ' '\n    superQuery.term = superQuery.term.replace(new RegExp(' OR ' + '$'), ''); // remove last ' OR '\n\n    return superQuery;\n  }\n\n  private createSuperQueryTermPart(query, filterName) {\n    // reserved characters of elastic search\n    // todo: add '||'\n    const reservedChars = ['\\\\', '/', '\\+', '-', '=', '&&', '>', '<', '!', '\\(', '\\)', '\\{', '\\}', '\\[', '\\]', '\\^', '\"', '\\~', '\\*', '\\?', ':'];\n\n    const filter = query.filters[filterName];\n    let value = '' + filter.v1 + '';\n    reservedChars.forEach(char => {\n      if (value.indexOf(char) > -1) {\n        value = value.replace(new RegExp('\\\\' + char, 'g'), '\\\\' + char); // escapes all reserved characters\n      }\n    });\n    let types = this.getSubTypes(query.types[0]);\n    types.push(query.types[0]);\n    let indexName = this.getIndexNameByQName(filterName);\n    if (!indexName) {\n      indexName = 'str_' + filterName.replace('.', '_');\n    }\n    return '(' + indexName + ':(' + value + ') AND key_type:(' + types + ')) OR ';\n  }\n\n  private getIndexNameByQName(qname: string): string {\n    const types = this.systemService.getObjectTypes();\n    for (let i = 0; i < types.length; i++) {\n      const element = types[i].elements.find(el => el.qname === qname);\n      if (element) {\n        return element.indexname;\n      }\n    }\n    return null;\n  }\n\n  private getSubTypes(typeName) {\n    let types = this.systemService.getObjectTypes();\n    let subTypes = [];\n    types.forEach(objectType => {\n      const validator = !!objectType.supertypes.find((t: any) => t.name === typeName);\n      if (validator) {\n        subTypes.push(objectType.qname);\n      }\n    }\n    );\n    return subTypes;\n  }\n\n  ngOnInit() {\n    this.backend\n      .getViaCache('assets/_default/svg/ic_search.svg')\n      .subscribe(response => this.searchIcon = response.replace('<svg', '<svg focusable=\"false\" class=\"search-icon\"'));\n  }\n}\n","<div class=\"eo-references\">\n  <div class=\"object-not-found\" *ngIf=\"!inReferences?.length && !outReferences?.length; else refContainer\">\n    <div>{{'eo.references.object.notfound' | translate}}</div>\n  </div>\n\n  <ng-template #refContainer>\n    <div class=\"form-buttons\">\n      <div class=\"gridlabels\">\n          <div class=\"gridlabel\" [ngClass]=\"{'active': showInReferences}\" (click)=\"switchListVisibilityTo('in')\"\n            title=\"{{'eo.references.to.label' | translate}}\">\n              <span>{{'eo.references.to.label' | translate}}</span>\n          </div>\n          <div class=\"gridlabel\" [ngClass]=\"{'active': showOutReferences}\" (click)=\"switchListVisibilityTo('out')\"\n            title=\"{{'eo.references.from.label' | translate}}\">\n              <span>{{'eo.references.from.label' | translate}}</span>\n          </div>\n      </div>\n      <a class=\"button primary\" [routerLink]=\"'/result'\" [queryParams]=\"superQueryParams\" title=\"{{'eo.references.open.resultlist' | translate}}\">\n        <span>{{'eo.references.open.resultlist' | translate}}</span>\n      </a>\n    </div>\n\n    <div class=\"eo-references-lists\">\n\n      <!-- list of inReferences -->\n      <div class=\"resultlist-container\" [ngClass]=\"{'hidden': !showInReferences}\">\n        <div class=\"notfound\" *ngIf=\"(!inReferences?.length)\">{{'eo.references.object.notfound' | translate}}</div>\n\n        <div class=\"grid-wrapper\" *ngIf=\"inReferences?.length\">\n          <ag-grid-angular #gridIn [modules]=\"modules\" [gridOptions]=\"gridOptions\" class=\"ag-result\"></ag-grid-angular>\n        </div>\n      </div>\n\n      <!-- list of outReferences -->\n      <div class=\"resultlist-container\" [ngClass]=\"{'hidden': !showOutReferences}\">\n        <div class=\"notfound\" *ngIf=\"(!outReferences?.length)\">{{'eo.references.object.notfound' | translate}}</div>\n\n        <div class=\"grid-wrapper\" *ngIf=\"outReferences?.length\">\n          <ag-grid-angular #gridOut [modules]=\"modules\" [gridOptions]=\"gridOptions2\" class=\"ag-result\"></ag-grid-angular>\n        </div>\n      </div>\n\n    </div>\n  </ng-template>\n</div>","export * from './object-form.module';\n\nexport * from './object-form/form-element/form-element.component';\nexport * from './object-form/form-element-table/form-element-table.component';\nexport * from './object-form/form-element-table/row-edit/row-edit.component';\nexport * from './object-form/object-form-group/object-form-group.component';\nexport * from './object-form/form-element/form-element.component';\nexport * from './object-form/object-form-script/object-form-script.interface';\nexport * from './object-form/object-form-script/object-form-script.service';\nexport * from './object-form/object-form-script/object-form-scripting-scope';\nexport * from './object-form/object-form.component';\nexport * from './object-form/object-form-control';\nexport * from './object-form/object-form-control-wrapper';\nexport * from './object-form/object-form-group.model';\nexport * from './object-form-edit/object-form-edit.component';\n\nexport * from './form-status-changed-event.interface';\nexport * from './object-form-helper.service';\nexport * from './object-form-options.interface';\n","import {NavigationExtras, Router} from '@angular/router';\nimport {finalize, catchError} from 'rxjs/operators';\nimport {Component, Input, ViewChild, Output, EventEmitter, ElementRef} from '@angular/core';\nimport {EoError, TranslateService} from '@eo-sdk/core';\nimport {ObjectFormComponent} from '../object-form/object-form.component';\nimport {GlobalShortcutComponent} from '../../shortcuts/global-shortcut-component.interface';\nimport {ObjectFormOptions} from '../object-form-options.interface';\nimport {FormStatusChangedEvent} from '../form-status-changed-event.interface';\nimport {PendingChangesService} from '../../../eo-framework-core/pending-changes/pending-changes.service';\nimport {DmsObject, SystemService, DmsService, NotificationsService, Utils} from '@eo-sdk/core';\n\n\n@Component({\n  selector: 'eo-object-form-edit',\n  templateUrl: './object-form-edit.component.html',\n  styleUrls: ['./object-form-edit.component.scss']\n})\nexport class ObjectFormEditComponent {\n\n  showConflictDialog = false;\n  conflictError: any;\n\n  // ID set by pendingChanges service when editing indexdata\n  // Used to finish the pending task when editing is done\n  private pendingTaskId: string;\n\n  // fetch a reference to the opbject form component to be able to\n  // get the form data\n  @ViewChild(ObjectFormComponent) objectForm: ObjectFormComponent;\n\n  @Input() formDisabled: boolean;\n\n  @Input('dmsObject')\n  set dmsObject(dmsObject: DmsObject) {\n    if (dmsObject) {\n      this._dmsObject = dmsObject;\n\n      // reset the state of the form\n      this.formState = null;\n      this.controls.saving = false;\n      this.controls.visible = false;\n\n      this.createObjectForm(dmsObject);\n    }\n  }\n\n  get dmsObject() {\n    return this._dmsObject;\n  }\n\n  @Output() indexDataSaved = new EventEmitter<any>();\n\n  formOptions: ObjectFormOptions;\n  formState: FormStatusChangedEvent;\n  controls = {\n    visible: false,\n    saving: false\n  };\n\n  private _dmsObject: DmsObject;\n  private messages = {\n    formSuccess: null,\n    formError: null\n  };\n\n  // shortcut actions\n  shortcuts: GlobalShortcutComponent = {\n    id: 'eo.app.form.edit',\n    label: this.translate.instant('eo.shortcuts.form.title'),\n    labelKey: 'eo.shortcuts.form.title',\n    actions: [{\n      name: this.translate.instant('eo.shortcuts.form.action.save'),\n      nameKey: 'eo.shortcuts.form.action.save',\n      shortcut: 'S',\n      onExecuteAction: () => {\n        this.save();\n      },\n      isHidden: () => {\n        return !this.formState || !this.formState.dirty || this.formState.invalid || !Utils.isVisible(this.element.nativeElement.parentElement);\n      }\n    }, {\n      name: this.translate.instant('eo.shortcuts.form.action.reset'),\n      nameKey: 'eo.shortcuts.form.action.reset',\n      shortcut: 'R',\n      onExecuteAction: () => {\n        this.reset();\n      },\n      isHidden: () => {\n        return !this.formState || !this.formState.dirty || !Utils.isVisible(this.element.nativeElement.parentElement);\n      }\n    }, {\n      name: this.translate.instant('eo.shortcuts.form.action.edit'),\n      nameKey: 'eo.shortcuts.form.action.edit',\n      shortcut: 'E',\n      onExecuteAction: () => {\n        this.objectForm.focusForm();\n      },\n      isHidden: (target) => {\n        return !this.formOptions || !Utils.isVisible(this.element.nativeElement.parentElement) || this.element.nativeElement.contains(target);\n      }\n    }]\n  };\n\n  constructor(private systemService: SystemService,\n    private dmsService: DmsService,\n    private element: ElementRef,\n    private notication: NotificationsService,\n    private pendingChanges: PendingChangesService,\n    private router: Router,\n    public translate: TranslateService) {\n\n    this.translate.get([\n      'eo.object.indexdata.save.success',\n      'eo.object.indexdata.save.error'\n    ]).subscribe((res) => {\n      this.messages.formSuccess = res['eo.object.indexdata.save.success'];\n      this.messages.formError = res['eo.object.indexdata.save.error'];\n    });\n  }\n\n  private startPending() {\n    // because this method will be called every time the form status changes,\n    // pending task will only be started once until it was finished\n    if (!this.pendingChanges.hasPendingTask(this.pendingTaskId || ' ')) {\n      this.pendingTaskId = this.pendingChanges.startTask();\n    }\n  }\n\n  private finishPending() {\n    this.pendingChanges.finishTask(this.pendingTaskId);\n  }\n\n  onFormStatusChanged(evt) {\n    this.formState = evt;\n    this.controls.visible = this.formState.dirty;\n    if (this.formState.dirty) {\n      this.startPending();\n    } else {\n      this.finishPending();\n    }\n  }\n\n  // save the current dms object\n  save(ignoreConflicts?: boolean) {\n    setTimeout(() => {\n      if (this.formState.dirty && !this.formState.invalid) {\n        this.controls.saving = true;\n        const formData = this.objectForm.getFormData();\n        const {id, typeName, version} = this._dmsObject;\n\n        this.dmsService.updateObject(id, formData, typeName, ignoreConflicts ? null : version, false)\n          .pipe(finalize(() => this.finishPending()))\n          .subscribe((updatedObject) => {\n            this._dmsObject = updatedObject;\n            this.formOptions.data = updatedObject.data;\n            this.formOptions.object = updatedObject;\n            this.controls.saving = false;\n            this.controls.visible = false;\n            this.objectForm.setFormPristine();\n            this.indexDataSaved.emit(formData);\n          }, (err) => {\n            this.controls.saving = false;\n            if(err.status === 409){\n              this.conflictError = err.error;\n              this.openConflictDialog();\n            }\n            else {\n              throw new EoError(err, this._dmsObject.title, this.messages.formError, false);\n            }\n          }\n          );\n      }\n    }, 500);\n  }\n\n  openConflictDialog(){\n    this.showConflictDialog = true;\n  }\n\n  closeConflictDialog(){\n    this.showConflictDialog = false;\n  }\n\n  showConflictChanges(){\n    const navigationExtras: NavigationExtras = {\n      queryParams: {\n        version: this._dmsObject.version,\n        version2: this.conflictError.dmsobject.version\n      }\n    };\n    const url = this.router.createUrlTree([`versions/${this._dmsObject.id}`], navigationExtras).toString().replace(/^\\/+/g, '');\n    window.open(url, '_blank');\n  }\n\n  cancelSaving(){\n    this.closeConflictDialog();\n  }\n\n  // reset the form to its initial state\n  reset() {\n    this.objectForm.resetForm();\n  }\n\n  // create the formOptions required by object form component\n  private createObjectForm(dmsObject: DmsObject) {\n\n    this.systemService\n      .getObjectTypeForm(dmsObject.type.name, 'EDIT')\n      .subscribe((model) => {\n        this.addExceptionIDsForIDReferenceFields(model);\n        this.formOptions = {\n          formModel: model,\n          data: dmsObject.data,\n          object: dmsObject,\n          objectId: dmsObject.id,\n          disabled: this.formDisabled || !this.isEditable(dmsObject)\n        };\n        if (dmsObject.contextFolder) {\n          this.formOptions.context = {\n            id: dmsObject.contextFolder.id,\n            title: dmsObject.contextFolder.title,\n            typeName: dmsObject.contextFolder.typeName\n          }\n        }\n      });\n  }\n\n  private addExceptionIDsForIDReferenceFields(model: any) {\n    if (model.type === 'REFERENCE') {\n      model.exceptionIDs = [this._dmsObject.id];\n    } else if(model.elements) {\n      model.elements.forEach(el => this.addExceptionIDsForIDReferenceFields(el));\n    }\n  }\n\n  private isEditable(dmsObject: DmsObject): boolean {\n    return dmsObject.hasOwnProperty('rights') && dmsObject.rights.edit && !dmsObject.isFinalized;\n  }\n}\n","<div class=\"object-form-edit\" [ngClass]=\"{invalid: formState?.invalid === true}\" [eoShortcuts]=\"shortcuts\">\n  <eo-object-form [formOptions]=\"formOptions\" *ngIf=\"formOptions\"\n                  (statusChanged)=\"onFormStatusChanged($event)\"></eo-object-form>\n\n  <div class=\"form-controls\" *ngIf=\"controls.visible\">\n\n    <div class=\"err-msg\" *ngIf=\"formState?.invalid\" translate>eo.object.indexdata.form.invalid</div>\n\n    <div class=\"buttons\">\n\n      <button class=\"secondary\" (click)=\"reset()\" [disabled]=\"controls.saving\" translate>eo.object.indexdata.reset</button>\n      <button class=\"primary\" [ngClass]=\"{spinner: controls.saving}\"\n              [disabled]=\"formState?.invalid || controls.saving\"\n              (click)=\"save()\" translate>eo.object.indexdata.save</button>\n    </div>\n  </div>\n</div>\n\n<eo-dialog [title]=\"('eo.object.indexdata.save.conflict.dialog.title' | translate : {modifier: conflictError?.dmsobject.modified.by.firstname + ' ' + conflictError?.dmsobject.modified.by.lastname})\"\n  (hide)=\"controls.saving = false;\" [(visible)]=\"showConflictDialog\" [minWidth]=\"400\" [styleClass]=\"'conflict__dialog'\">\n\n  <div class=\"action-buttons conflict--action-buttons flex-row\">\n    <button type=\"button\" class=\"button cancel\" (click)=\"cancelSaving()\"\n      translate>eo.object.indexdata.save.cancel</button>\n    <button type=\"button\" class=\"button cancel\" (click)=\"showConflictChanges()\"\n      translate>eo.object.indexdata.save.changes</button>\n    <button type=\"button\" (click)=\"save(true); closeConflictDialog();\" class=\"button primary\"\n      translate>eo.object.indexdata.save</button>\n  </div>\n</eo-dialog>\n","import { DatePipe } from '@angular/common';\nimport { Injectable } from '@angular/core';\nimport { ValidatorFn, Validators } from '@angular/forms';\nimport { Logger, RangeValue, SearchFilter, SearchService, SystemService, Utils } from '@eo-sdk/core';\nimport { forkJoin, Observable, of, Subscription } from 'rxjs';\nimport { debounceTime, tap } from 'rxjs/operators';\n\nimport { PluginsService } from '../../eo-framework-core/api/plugins.service';\nimport { ReferenceService } from '../../eo-framework-core/references/reference.service';\nimport { ObjectFormOptions } from './object-form-options.interface';\nimport { FormValidation } from './object-form/form-validation/form-validation';\nimport { ObjectFormControl } from './object-form/object-form-control';\nimport { ObjectFormControlWrapper } from './object-form/object-form-control-wrapper';\nimport { ObjectFormGroup } from './object-form/object-form-group.model';\nimport { ObjectFormScriptService } from './object-form/object-form-script/object-form-script.service';\nimport { ObjectFormScriptingScope } from './object-form/object-form-script/object-form-scripting-scope';\nimport { ObjectFormModel } from './object-form/object-form.model';\n\nexport interface FormGenScope {\n  gCount: number;\n  formOptions: ObjectFormOptions;\n  isInnerTableForm: boolean;\n  initialValidators: {[name: string]: ValidatorFn | null};\n  formGenResult: FormGenResult;\n}\nexport interface FormGenResult {\n  // Form controls generated from the model as 'Quick access object'\n  // Form elements name is key and the value is the form control itself\n  formControls: {[name: string]: ObjectFormControl};\n  formModel: any,\n  // Subscriptions to value changes of the generated form controls\n  // You should always unsubscribe from all of them when consuming\n  // component is destroyed\n  controlValueSubscriptions: Subscription[];\n  scriptingScope: ObjectFormScriptingScope;\n  scriptModel: {[name: string]: any};\n  form: ObjectFormGroup;\n}\n\n@Injectable()\nexport class ObjectFormHelperService {\n\n  private datePipe = new DatePipe('en');\n\n  constructor(private logger: Logger,\n    private referenceService: ReferenceService,\n    private searchService: SearchService,\n    private pluginService: PluginsService,\n    private systemService: SystemService) {\n  }\n\n/**\n * Generates a reactive form based on a form model that may also include form scripts.\n * @param formOptions `ObjectFormOptions` defining the form\n * @param formScriptService Instance of a `ObjectFormScriptService`. This service is supposed to be\n * scoped to the component rendering the form (providers array in component decorator).\n * @param isInnerTableForm whether or not the form is part of another form (as is with table edit forms)\n * @returns An `FormGenResult` object\n */\n  buildReactiveForm(\n    formOptions: ObjectFormOptions,\n    formScriptService: ObjectFormScriptService,\n    isInnerTableForm?: boolean): FormGenResult {\n\n    const _scope: FormGenScope = {\n      gCount: 0,\n      formOptions,\n      isInnerTableForm,\n      initialValidators: {},\n      formGenResult: {\n        formControls: {},\n        formModel: {},\n        controlValueSubscriptions: [],\n        scriptingScope: undefined,\n        scriptModel: {},\n        form: null\n      }\n    }\n\n    const formModel = this._dataToForm(_scope, formOptions.formModel, formOptions.data);\n    _scope.formGenResult.formModel = formModel;\n    if (!formModel) return;\n\n    // if a script is available, we'll init the form scripting for the\n    // current form\n    let scriptingScope: ObjectFormScriptingScope;\n    if (_scope.isInnerTableForm || (formModel.script && formModel.script.length > 0)) {\n      this.logger.debug('adding form scripting scope');\n      scriptingScope = new ObjectFormScriptingScope(\n        formModel.situation,\n        this._getScriptingModelChanged(_scope),\n        this.pluginService.getApi(),\n        _scope.isInnerTableForm\n      );\n      scriptingScope.objectId = formOptions.objectId;\n    }\n    _scope.formGenResult.scriptingScope = scriptingScope;\n\n\n    let form = new ObjectFormGroup({});\n    if (formModel.elements[0] && formModel.elements[0].elements) {\n      this._addFormControl(_scope, form, formModel.elements[0], 'core');\n    }\n    if (formModel.elements[1] && formModel.elements[1].elements) {\n      this._addFormControl(_scope, form, formModel.elements[1], 'data');\n    }\n    _scope.formGenResult.form = form;\n    this._initValidators(_scope.formGenResult.form, _scope);\n    this._initScriptingScope(_scope, formScriptService);\n    return _scope.formGenResult;\n  }\n\n\n\n  /**\n   * Converts a form element object to an ObjectFormControlWrapper which then can be used to\n   * render a from control. Result can be used as input for FormElementComponent.\n   *\n   * @param element - the element object or a json string\n   * @param situation - optional property to set up a form situation for the control (default is EDIT)\n   * @return the converted ObjectFormControlWrapper or null in case of an error\n   */\n  elementToFormControl(element: any, situation?: string): ObjectFormControlWrapper {\n\n    let formElement;\n    if (typeof element === 'string') {\n      try {\n        formElement = JSON.parse(element);\n      } catch (e) {\n        this.logger.error('Unable to parse form element from json ', formElement);\n      }\n    } else {\n      formElement = element;\n    }\n\n    if (!formElement) {\n      return null;\n    }\n\n    // Create the ObjectFormControlWrapper\n    let wrapper = new ObjectFormControlWrapper({});\n    let formSituation = situation ? situation : 'EDIT';\n\n    wrapper._eoFormControlWrapper = {\n      controlName: formElement.name,\n      situation: formSituation\n    };\n\n    // for codesystem elements add entries if not yet provided\n    if (formElement.type === 'CODESYSTEM' && (!formElement.codesystem || !formElement.codesystem.entries)) {\n      formElement.codesystem = this.systemService.getCodesystem(formElement.codesystem.id);\n    }\n    // create the actual form control\n    let controlDisabled = !!formElement.readonly;\n    let formControl = new ObjectFormControl({\n      value: formElement.value,\n      disabled: controlDisabled\n    }, FormValidation.getValidators(formElement, formSituation));\n\n    // Form elements in SEARCH situation may arrive with a value set to NULL (explicit search for\n    // fields that are NOT set). In that case we need to prepare the form control\n    if (formSituation === 'SEARCH' && formElement.value === null) {\n      formElement.isNotSetValue = true;\n    }\n\n    formControl._eoFormElement = formElement;\n    wrapper.addControl(formElement.name, formControl);\n\n    return wrapper;\n  }\n\n  /**\n   * Extract data from an object form based on situation.\n   *\n   * @param form - form to extract data from\n   * @param situation - form situation\n   * @param [initialData] - optional form data to match the current values against\n   * This is required for editig indexdata (EDIT situation), because we have to compare new values\n   * against the initial values. If a property that is contained in the forms initial data is removed\n   * (e.g. set to null) then we have to set this null value, because otherwise the server would\n   * ignore the changes.\n   * @param isTableRowEditForm Flag indicating that the provided form is an inline form used by\n   * a forms table element for editing rows. Those need a special handling.\n   * @return extracted data as object\n   */\n  extractFormData(form: ObjectFormGroup, situation: string, initialData?: any, isTableRowEditForm?: boolean) {\n    let extractedData = {};\n    this.getElementValues(extractedData, form, situation || 'EDIT', initialData, isTableRowEditForm);\n    return extractedData;\n  }\n\n  // Recursive method to get the values from each form control.\n  private getElementValues(data: any, formControl: ObjectFormModel, situation: string, initialData?: any, isTableRowEditForm?: boolean) {\n\n    if (!formControl || !formControl.controls) {\n      return;\n    }\n\n    if (formControl instanceof ObjectFormControlWrapper) {\n\n      const fc: any = formControl.controls[formControl._eoFormControlWrapper.controlName];\n\n      if (fc._eoFormElement.isNotSetValue === true) {\n        // form elements may explicitly set to have NULL value (e.g. from Search form if values are requested that have no values)\n        if (isTableRowEditForm) {\n          this.setDataValue(fc._eoFormElement.name, null, data, fc._eoFormElement, isTableRowEditForm);\n        } else {\n          this.setDataValue(fc._eoFormElement.qname, null, data, fc._eoFormElement, isTableRowEditForm);\n        }\n\n      } else if (fc.value !== undefined) {\n        let val = fc.value;\n\n        // make sure that meta data are also up to date\n        if (fc._eoFormElement.type === 'CODESYSTEM') {\n          const cs = this.systemService.getCodesystem(fc._eoFormElement.codesystem.id);\n          fc._eoFormElement.dataMeta = cs.entries.find(e => e.data === val);\n        }\n\n        switch (situation) {\n          case 'SEARCH': {\n            if (val !== null) {\n              // row editing forms use the name instead of the qname because otherwise the\n              // tables grid isn't able to map the fields\n              if (!isTableRowEditForm) {\n                this.setDataValue(fc._eoFormElement.qname, val, data, fc._eoFormElement, isTableRowEditForm)\n              } else {\n                this.setDataValue(fc._eoFormElement.name, val, data, fc._eoFormElement, isTableRowEditForm)\n              }\n            }\n            break;\n          }\n          case 'CREATE': {\n            // also add NULL values (override existing defaultvalues)\n            this.setDataValue(fc._eoFormElement.name, val, data, fc._eoFormElement, isTableRowEditForm)\n            break;\n          }\n          case 'EDIT': {\n            // in edit situation we have to compare new values against the initial values\n            // If a property that is contained in the forms initial data is removed (e.g. set to null)\n            // then we have to set this null value, because otherwise the server will ignore the changes\n            if (val !== null || (initialData && initialData[fc._eoFormElement.name] !== undefined)) {\n              // data[fc._eoFormElement.name] = val;\n              this.setDataValue(fc._eoFormElement.name, val, data, fc._eoFormElement, isTableRowEditForm)\n            }\n            break;\n          }\n        }\n      }\n    } else {\n      Object.keys(formControl.controls)\n        .forEach(controlKey => {\n          let formControlKeyed = <ObjectFormGroup>formControl.controls[controlKey];\n          this.getElementValues(data, formControlKeyed, situation, initialData, isTableRowEditForm);\n        });\n    }\n  }\n\n  private setDataValue(key, value, data, formElement, isTableRowEditForm) {\n    data[key] = this.formatValue(value, formElement);\n\n    if (isTableRowEditForm && formElement.dataMeta) {\n      // inner tables need to set up the meta data as well\n      data[key + '_meta'] = formElement.dataMeta;\n    }\n  }\n\n  formatValue(value, formElement) {\n    if (formElement.type === 'DATETIME' && !formElement.withtime) {\n      if (typeof value === 'string' || (value instanceof Date && !isNaN(value.getTime()))) {\n        return this.datePipe.transform(value, 'yyyy-MM-dd');\n      } else if (value instanceof RangeValue) {\n        return new RangeValue(\n          value.operator,\n          value.firstValue && this.datePipe.transform(value.firstValue, 'yyyy-MM-dd'),\n          value.secondValue && this.datePipe.transform(value.secondValue, 'yyyy-MM-dd')\n        );\n      }\n    }\n\n    if (formElement.type === 'TABLE') {\n      (formElement.elements || []).forEach(el => {\n        (value || []).forEach(v => v[el.name] = this.formatValue(v[el.name], el));\n      });\n    }\n    return value;\n  }\n\n\n  // Functions involved in building an object form\n\n  /**\n   * Recursive method adding a new UntypedFormControl (group or control) to a parent form group\n   *\n   * @param parentGroup - the parent group to add the control to\n   * @param formElement - the enaio form model element to create the child control from\n   * @param [useName] - use this name instead of the one from the model\n   */\n  private _addFormControl(scope: FormGenScope, parentGroup: ObjectFormGroup, formElement: any, useName?: string) {\n\n    let ctrl;\n    let name;\n\n    // add a form group\n    if (formElement.type === 'o2mGroup' || formElement.type === 'o2mGroupStack') {\n\n      // do not add groups that are empty\n      if (!formElement.elements || formElement.elements.length === 0) {\n        this.logger.error('Found empty form group', formElement);\n        return;\n      }\n\n      ctrl = new ObjectFormGroup({});\n      ctrl._eoFormGroup = {\n        label: formElement.label,\n        //layoutgroup: formElement.layoutgroup,\n        layout: formElement.layout,\n        type: formElement.type\n      };\n\n      if (useName === 'core' || useName === 'data') {\n        ctrl._eoFormGroup.label = useName;\n      }\n\n      for (let e of formElement.elements) {\n        this._addFormControl(scope, ctrl, e);\n      }\n      name = useName || 'fg' + scope.gCount++;\n    } else {\n      // add form control\n      // To be able to integrate recursive form controls into the main form,\n      // we have to wrap them in a form group\n      ctrl = new ObjectFormControlWrapper({});\n      ctrl._eoFormControlWrapper = {\n        // the name of the wrapped UntypedFormControl\n        controlName: formElement.name,\n        situation: scope.formOptions.formModel.situation\n      };\n      if (scope.formOptions.formModel.situation === 'SEARCH' && formElement.value === null) {\n        formElement.isNotSetValue = true;\n      }\n      // do not set a reference as the form controls value\n      // otherwise we could not reset the form\n      let value: any;\n      if (Array.isArray(formElement.value)) {\n        // copy by value for arrays of objects (e.g. table data)\n        value = [];\n        formElement.value.forEach((o) => {\n          value.push(Utils.formDataParse(Utils.formDataStringify(o)));\n        });\n      } else {\n        value = formElement.value;\n      }\n\n      // for codesystem elements add entries if not yet provided\n      if (formElement.type === 'CODESYSTEM' && !formElement.codesystem.entries) {\n        formElement.codesystem = this.systemService.getCodesystem(formElement.codesystem.id);\n      }\n\n      // create the actual form control\n      let controlDisabled = scope.formOptions.disabled || !!formElement.readonly;\n      let formControl = new ObjectFormControl({\n        value: value,\n        disabled: controlDisabled\n      });\n\n      formElement.readonly = controlDisabled;\n\n      formControl._eoFormElement = formElement;\n      scope.formGenResult.formControls[formElement.name] = formControl;\n\n      if (formElement.type === 'CODESYSTEM' || (formElement.type === 'STRING' && formElement.classification === 'selector')) {\n        formControl._eoFormElement.applyFilter = (func: Function) => {\n          formControl._eoFormElement.filterFunction = func;\n        };\n        formControl._eoFormElement.applyDisablingFilter = (func: Function) => {\n          formControl._eoFormElement.disablingFilterFunction = func;\n        };\n      }\n\n      if (formElement.type === 'STRING' && formElement.classification === 'selector') {\n        formControl._eoFormElement.setList = (listObject: any) => {\n          formControl._eoFormElement.list = listObject;\n        };\n      }\n\n      if (formElement.type === 'ORGANIZATION') {\n        formControl._eoFormElement.setFilter = (filterObject: any) => {\n          formControl._eoFormElement.filter = filterObject;\n        };\n      }\n\n      if (formElement.type === 'TABLE') {\n        formControl._eoFormElement.object = scope.formOptions.object;\n      }\n\n      if (formElement.type === 'REFERENCE') {\n        formControl._eoFormElement.setQueryFilters = (queryFiltersObject: {[fieldQname: string]: {o: string, v1: any, v2: any}}, objectTypes?: string[]) => {\n          formControl._eoFormElement.queryFilters = queryFiltersObject;\n          formControl._eoFormElement.objectTypesFilter = objectTypes;\n        };\n      }\n\n      if (scope.formOptions.formModel.situation === 'SEARCH') {\n        // in search situation even readonly fields should be editable ...\n        formControl._eoFormElement.readonly = false;\n        // ... and required makes no sense here\n        formControl._eoFormElement.required = false;\n      }\n\n      // remove empty descriptions\n      let desc = formControl._eoFormElement.description;\n      if (desc && desc.trim().length === 0) {\n        formControl._eoFormElement.description = null;\n      }\n\n      // add the form element to the script model that will be injected into\n      // the forms scripting scope later on\n      scope.formGenResult.scriptModel[formElement.name] = formControl._eoFormElement;\n\n      // apply change listener to the form control, that will trigger\n      // the form elements onChange listener\n      let controlWatch = ctrl.valueChanges.pipe(debounceTime(formElement.type === 'TABLE' ? 0 : 500));\n      controlWatch.subscribe((v) => {\n        if (formControl._eoFormElement.type === 'REFERENCE') {\n          this._getDataMeta(formControl._eoFormElement, v[formControl._eoFormElement.name]).subscribe(m => {\n            if (m) {\n              formControl._eoFormElement.dataMeta = formControl._eoFormElement.multiselect ? m : m[0];\n            } else {\n              delete formControl._eoFormElement.dataMeta;\n            }\n          });\n        }\n        if (scope.formGenResult.scriptingScope) {\n          scope.formGenResult.scriptingScope.modelChanged(v);\n        }\n      });\n      scope.formGenResult.controlValueSubscriptions.push(controlWatch);\n\n      ctrl.addControl(formElement.name, formControl);\n      name = 'fg_' + formElement.name;\n    }\n    parentGroup.addControl(name, ctrl);\n  }\n\n  /**\n   * Merge data into a form model.\n   *\n   * @param model - form model\n   * @param data - data object or array of SearchFilter objects in case of a search form\n   */\n  private _dataToForm(scope: FormGenScope, model: any, data: any) {\n    if (model && data) {\n      this._setElementValues(scope, model.elements, data);\n    }\n    return model;\n  }\n\n  // recursive method for adding values to model elements\n  private _setElementValues(scope: FormGenScope, elements, data) {\n\n    elements.forEach(element => {\n      if (this._hasValue(data, element)) {\n\n        element.value = this._getValue(scope, data, element);\n        if (element.value) {\n          // add meta data for some of the types\n          this._fetchMetaData(scope, data, element);\n        }\n      } else {\n        delete element.value;\n      }\n      if (element.type !== 'TABLE' && element.elements && element.elements.length > 0) {\n        this._setElementValues(scope, element.elements, data);\n      }\n    });\n  }\n\n  // in some cases required meta data may not be available on the element itself\n  // so they have to be fetched and added to the element for the form to be able\n  // to render the element correctly\n  private _fetchMetaData(scope: FormGenScope, data, element) {\n\n    if (scope.formOptions.formModel.situation === 'SEARCH') {\n      // todo: how to fetch meta data in search situation\n    } else {\n      if (element.type === 'ORGANIZATION' && data[element.name + '_meta']) {\n        element.dataMeta = data[element.name + '_meta'];\n      } else if (element.type === 'CODESYSTEM' && data[element.name + '_meta']) {\n        element.dataMeta = data[element.name + '_meta'];\n        element.defaultrepresentation = data[element.name + '_meta'].defaultrepresentation;\n      } else if (element.type === 'REFERENCE' && data[element.name + '_meta']) {\n        element.dataMeta = data[element.name + '_meta'];\n      }\n    }\n  }\n\n  private _getDataMeta(formElement: any, newValue: any): Observable<any> {\n\n    if (newValue) {\n      switch (formElement.type) {\n        case 'ORGANIZATION': {\n          return this.systemService.getOrganizationObject(newValue);\n        }\n        case 'REFERENCE': {\n          return this.referenceService.fetchIDReferenceMetaData(Array.isArray(newValue) ? newValue : [newValue]);\n        }\n        case 'CODESYSTEM': {\n          return of(this.systemService.getCodesystem(formElement.codesystem.id).entries.find((entry) => {\n            return entry.defaultrepresentation === newValue;\n          }));\n        }\n      }\n    }\n    return of(null);\n  }\n\n  private _hasValue(data, element) {\n\n    // differ between array of SearchFilters and a form data object\n    if (Array.isArray(data)) {\n      if (element.type === 'TABLE') {\n        return !!(data.find((filter) => filter.property.startsWith(element.qname)));\n      } else {\n        return !!(data.find((filter) => filter.property === element.qname));\n      }\n    } else {\n      return data.hasOwnProperty(element.name);\n    }\n  }\n\n  private _getValue(scope: FormGenScope, data, element) {\n\n    let value;\n    if (scope.formOptions.formModel.situation === 'SEARCH') {\n      if (scope.isInnerTableForm) {\n        if (element.type === 'DATETIME' || element.type === 'NUMBER') {\n          value = SearchService.toRangeValue(data[element.name]);\n        } else {\n          value = data[element.name];\n        }\n      } else if (element.type === 'TABLE') {\n        value = this.searchService.tableFiltersToElementValue(this._getTableFilters(data, element.qname), element.elements);\n      } else {\n        const filter = data.find(f => f.property === element.qname);\n        value = this.searchService.filterToElementValue(filter, element.type);\n      }\n    } else {\n\n      if (element.type === 'DATETIME' && data[element.name]) {\n        value = new Date(`${data[element.name]}${element.withtime ? '' : 'T00:00:00'}`);\n      } else {\n        value = data[element.name];\n      }\n    }\n    return value;\n  }\n\n  private _getTableFilters(filters: SearchFilter[], propertyName: string): SearchFilter[] {\n    return filters.filter(f => f.property.startsWith(propertyName + '.'));\n  }\n\n  private _initValidators(formControl: ObjectFormGroup, scope: FormGenScope) {\n    if (formControl) {\n      for (let key in formControl.controls) {\n        const control = formControl.controls[key] as any;\n        if (control.controls) {\n          this._initValidators(control, scope);\n        } else {\n          scope.initialValidators[control._eoFormElement.name] = control.validator;\n          control.setValidators(Validators.compose(\n            this._getValidators(scope, control._eoFormElement).concat(\n              [scope.initialValidators[control._eoFormElement.name]])\n          ));\n          control.updateValueAndValidity();\n        }\n      }\n    }\n  }\n\n  /**\n  * Build validators for the given form element to be attached to\n  * a reactive formControl.\n  *\n  * @param formElement - form element object\n  */\n  private _getValidators(scope: FormGenScope, formElement: any): ValidatorFn[] {\n    let elmValidators = FormValidation.getValidators(formElement, scope.formOptions.formModel.situation);\n    // add custom validator for script enabled forms\n    if (scope.formGenResult.scriptingScope) {\n      elmValidators.push(FormValidation.customScriptingValidation);\n    }\n\n    return elmValidators;\n  }\n\n  private _initScriptingScope(scope: FormGenScope, formScriptService: ObjectFormScriptService) {\n    let {data, actions, objects, context} = <ObjectFormOptions>(scope.formOptions || {});\n\n    if (scope.formGenResult.scriptingScope) {\n      scope.formGenResult.scriptingScope.setModel(scope.formGenResult.scriptModel);\n      /** provide access to actions (used inside of BPM-Forms) */\n      scope.formGenResult.scriptingScope.actions = actions;\n      /** provide access to additional objects (used for example in BPM-Start-Forms to\n       * add data of DMS-Objects to start the process for)\n       */\n      scope.formGenResult.scriptingScope.objects = objects;\n      scope.formGenResult.scriptingScope.context = context;\n      /** provide readonly access to initial form data (which may also contain values that\n       * are not rendered as form elements (invisible values))\n       */\n      scope.formGenResult.scriptingScope.data = data;\n\n      /** by default, scripting scopes are applied to forms. But table elements create their own scope\n       * for editing rows. Being one of those inner forms should not run the form script again, but\n       * instead just provide the observing abilities of the scripting scope.\n       */\n      if (!scope.formOptions.disabled && !scope.isInnerTableForm && scope.formGenResult.formModel) {\n        const scriptName = scope.formGenResult.formModel.name + '_' + scope.formGenResult.formModel.situation;\n        this.logger.debug('executing form script ' + scriptName);\n        formScriptService.runFormScript(\n          scope.formGenResult.scriptingScope,\n          scope.formGenResult.formModel.script,\n          scriptName\n        );\n      }\n    }\n  }\n\n  /**\n     * This method will be called each time the script changes its internal model.\n     * It is used to transfer the script changes to the actual form model.\n     *\n     * To ensure the right context, we define an instance method as callback for the scripting scope\n     * @see: https://blog.johnnyreilly.com/2014/04/typescript-instance-methods.html\n     *\n     * @param formControlName\n     * @param change\n     */\n\n  private _getScriptingModelChanged(scope: FormGenScope): Function {\n    return (formControlName, change) => {\n\n      // find the target control\n      let fc: ObjectFormControl = scope.formGenResult.formControls[formControlName] as ObjectFormControl;\n      if (fc) {\n\n        // change only allowed properties\n        switch (change.name) {\n          case 'value': {\n            if (Array.isArray(change.newValue)) {\n              this._processArrayValueChange(fc, change);\n            } else {\n              fc._eoFormElement.value = change.newValue;\n              if (fc.value !== change.newValue) {\n                fc.patchValue(change.newValue);\n                fc.updateValueAndValidity();\n                fc.markAsDirty();\n              }\n            }\n            scope.formGenResult.form.markAsDirty();\n            break;\n          }\n          case 'required': {\n            if (fc._eoFormElement.required !== change.newValue) {\n              fc._eoFormElement.required = change.newValue;\n              // apply new validators\n              // @see: https://scotch.io/tutorials/how-to-implement-conditional-validation-in-angular-2-model-driven-forms\n              fc.setValidators(Validators.compose(this._getValidators(scope, fc._eoFormElement).concat([scope.initialValidators[fc._eoFormElement.name]])));\n              // need to mark form control as touched because otherwise form validation will not show\n              // error messages\n              fc.markAsTouched();\n              fc.updateValueAndValidity();\n            }\n            break;\n          }\n          case 'readonly': {\n            fc._eoFormElement.readonly = change.newValue;\n            if (change.newValue === true) {\n              fc.disable();\n            } else {\n              fc.enable();\n            }\n            break;\n          }\n          case 'error': {\n            if (JSON.stringify(fc._eoFormElement.error) !== JSON.stringify(change.newValue)) {\n              fc._eoFormElement.error = change.newValue;\n              fc.markAsTouched();\n              fc.updateValueAndValidity();\n            }\n            break;\n          }\n          // new onrowedit function was applied by the script\n          case 'onrowedit': {\n            fc._eoFormElement.onrowedit = change.newValue;\n            break;\n          }\n          // new onchange function was applied by the script\n          case 'onchange': {\n            fc._eoFormElement.onchange = change.newValue;\n            break;\n          }\n          // new contextId was applied by the script\n          case 'contextId': {\n            fc._eoFormElement.contextId = change.newValue;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  private _processArrayValueChange(fc, change) {\n    const newVal = change.newValue;\n    const targetType = fc._eoFormElement.type;\n    // for some types we have to ensure that meta data are provided as well\n    switch (targetType) {\n      case 'ORGANIZATION': {\n        this._getDataMeta(fc._eoFormElement, newVal).subscribe(m => {\n          fc._eoFormElement.dataMeta = m;\n        });\n        break;\n      }\n      case 'CODESYSTEM': {\n        if (!fc._eoFormElement.codesystem.entries) {\n          fc._eoFormElement.codesystem = this.systemService.getCodesystem(fc._eoFormElement.codesystem.id);\n        }\n        break;\n      }\n      case 'TABLE': {\n        const dataToBeProcessed = {};\n        fc._eoFormElement.elements.forEach(e => {\n          if (e.type === 'ORGANIZATION' || e.type === 'CODESYSTEM') {\n            dataToBeProcessed[e.name] = e;\n          }\n        });\n        if (Object.keys(dataToBeProcessed).length) {\n          let obs = [];\n          newVal.forEach(rowData => {\n            Object.keys(rowData).forEach(key => {\n              if (dataToBeProcessed[key]) {\n                obs.push(this._getDataMeta(dataToBeProcessed[key], rowData[key]).pipe(\n                  tap(m => {\n                    if (m) {\n                      rowData[key + '_meta'] = m;\n                    } else {\n                      delete rowData[key + '_meta'];\n                    }\n                  })\n                ));\n              }\n            });\n          });\n          forkJoin(obs).subscribe(() => this._updateArrayValue(fc, newVal));\n        }\n        break;\n      }\n    }\n    this._updateArrayValue(fc, newVal);\n  }\n\n  private _updateArrayValue(fc, newValue) {\n    fc._eoFormElement.value = [].concat(newValue);\n    fc.patchValue([].concat(newValue));\n    fc.updateValueAndValidity();\n    fc.markAsDirty();\n  }\n}\n","import {AgGridModule} from '@ag-grid-community/angular';\nimport {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\nimport {YvcDatepickerModule} from '@yuuvis/components/datepicker';\nimport {YvcSplitViewModule} from '@yuuvis/components/split-view';\nimport {YvcTabsModule} from '@yuuvis/components/tabs';\nimport {PipesModule} from '../../eo-framework-core/pipes/pipes.module';\nimport {FormElementsModule} from '../form-elements/form-elements.module';\nimport {GridModule} from '../grid/grid.module';\nimport {ListContainerModule} from '../list-container/list-container.module';\nimport {MediaModule} from '../media/media.module';\nimport {ShortcutsModule} from '../shortcuts/shortcuts.module';\nimport {UiModule} from '../ui/ui.module';\nimport {ObjectFormEditComponent} from './object-form-edit/object-form-edit.component';\nimport {ObjectFormHelperService} from './object-form-helper.service';\nimport {FormElementTableComponent} from './object-form/form-element-table/form-element-table.component';\nimport {RowEditComponent} from './object-form/form-element-table/row-edit/row-edit.component';\nimport {FormElementComponent} from './object-form/form-element/form-element.component';\nimport {ObjectFormGroupComponent} from './object-form/object-form-group/object-form-group.component';\nimport {ObjectFormComponent} from './object-form/object-form.component';\nimport { FormElementTemplate } from './object-form/form-element/form-element-template.directive';\n\n\n/**\n * @module\n * @description\n * Module rendering a dms objects form.\n */\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    UiModule,\n    PipesModule,\n    AgGridModule,\n    ShortcutsModule,\n    FormElementsModule,\n    ListContainerModule,\n    GridModule,\n    MediaModule,\n    YvcDatepickerModule,\n    YvcTabsModule,\n    YvcSplitViewModule\n  ],\n  exports: [ObjectFormComponent, ObjectFormGroupComponent, ObjectFormEditComponent, FormElementComponent, FormElementTableComponent],\n  providers: [ObjectFormHelperService],\n  declarations: [\n    ObjectFormComponent,\n    ObjectFormGroupComponent,\n    ObjectFormEditComponent,\n    FormElementComponent,\n    FormElementTableComponent,\n    RowEditComponent,\n    FormElementTemplate\n  ]\n})\nexport class ObjectFormModule {\n}\n","import {ClientSideRowModelModule} from '@ag-grid-community/client-side-row-model';\nimport {ColDef, GridOptions, Module} from '@ag-grid-community/core';\nimport {CsvExportModule} from '@ag-grid-community/csv-export';\nimport {Component, HostListener, Input, OnInit, ViewChild, forwardRef} from '@angular/core';\nimport {ControlValueAccessor, NG_VALIDATORS, NG_VALUE_ACCESSOR, UntypedFormControl, Validator} from '@angular/forms';\nimport {LocalStorageService, SystemService, Utils} from '@eo-sdk/core';\nimport {forkJoin} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {CellRenderer, GridService} from '../../../../eo-framework-core/api/grid.service';\nimport {PendingChangesService} from './../../../../eo-framework-core/pending-changes/pending-changes.service';\nimport {EditRow, TableComponentParams} from './form-element.interface';\nimport {RowEditComponent} from './row-edit/row-edit.component';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-table',\n  templateUrl: './form-element-table.component.html',\n  styleUrls: [\n    './form-element-table.component.scss'\n  ],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => FormElementTableComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => FormElementTableComponent),\n      multi: true,\n    }\n  ]\n})\nexport class FormElementTableComponent implements ControlValueAccessor, Validator, OnInit {\n\n  private _cachedColumns: any[];\n  private _cachedColumnsOverlay: any[];\n\n  public modules: Module[] = [ClientSideRowModelModule, CsvExportModule];\n\n  BASE_CACHE_LAYOUT_KEY = 'table.state';\n  cacheLayoutKey = this.BASE_CACHE_LAYOUT_KEY;\n\n  @ViewChild('rowEdit') rowEdit: RowEditComponent;\n  // @ViewChild('splitView') splitView: SplitComponent;\n\n  @Input() limit: number;\n  @Input() hasPreviewFile: boolean;\n  @Input() minWidth = '97vw';\n  @Input() height = '95vh';\n\n  @Input()\n  set params(p: TableComponentParams) {\n    this.cacheLayoutKey = p ? `${this.BASE_CACHE_LAYOUT_KEY}.${p.element.name}` : this.BASE_CACHE_LAYOUT_KEY\n    if (p) {\n      this._params = p;\n      this._cachedColumns = this.storageService.getItem(this.cacheLayoutKey + '.colDef') || [];\n      this._cachedColumnsOverlay = this.storageService.getItem(this.cacheLayoutKey + '.colDefOverlay') || [];\n      this.showPreview = this.storageService.getItem(this.cacheLayoutKey + '.showPreview');\n\n\n      CellRenderer.situation = this._params.situation;\n      if (this._params.situation === 'SEARCH') {\n        this._params.size = 'supersmall';\n      } else if (!this._params.size) {\n        this._params.size = 'small';\n      }\n      this.gridReady = false;\n      this._elements = p.element.elements;\n      this.gridOptions.columnDefs = this.createColumnDefinition();\n      if (this._params.situation === 'SEARCH') {\n        this.gridOptions.columnDefs.push({headerName: '', colId: 'actions', width: 34, minWidth: 34, pinned: 'right', cellRenderer: this.actionsCellRenderer});\n      } else {\n        this.overlayGridOptions.columnDefs = this.createColumnDefinition(true);\n      }\n\n      this.gridReady = true;\n    }\n  }\n  get params() {\n    return this._params;\n  }\n\n  _params: TableComponentParams;\n  private _elements: any[];\n  gridReady = false;\n  value: any[];\n  innerValue: any[];\n  gridOptions: GridOptions;\n  overlayGridOptions: GridOptions;\n  editingRow: EditRow;\n  showDialog = false;\n  showPreview = false;\n\n  @HostListener('keydown.control.alt.shift.c', ['$event'])\n  @HostListener('keydown.control.shift.c', ['$event'])\n  @HostListener('keydown.control.alt.c', ['$event'])\n  @HostListener('keydown.control.c', ['$event'])\n  copyCellHandler(event: KeyboardEvent) {\n    this.gridApi.copyToClipboard(event, this.gridOptions);\n  }\n\n  constructor(\n    private storageService: LocalStorageService,\n    private systemService: SystemService, private pendingChanges: PendingChangesService,\n    public gridApi: GridService) {\n    this.gridOptions = <GridOptions>{\n      context: this.gridApi.getContext(),\n      headerHeight: 30,\n      rowHeight: 30,\n      rowBuffer: 20,\n      multiSortKey: 'ctrl',\n      accentedSort: true,\n      // suppressCellSelection: true,\n      rowSelection: 'single',\n      suppressMovableColumns: true,\n      enableFilter: false,\n      suppressNoRowsOverlay: true,\n      suppressLoadingOverlay: true,\n      suppressContextMenu: true\n    };\n    this.gridOptions.context.tableComponent = this;\n\n    this.overlayGridOptions = <GridOptions>{\n      context: this.gridApi.getContext(),\n      headerHeight: 30,\n      rowHeight: 30,\n      rowBuffer: 20,\n      multiSortKey: 'ctrl',\n      accentedSort: true,\n      // suppressCellSelection: true,\n      rowSelection: 'single',\n      suppressMovableColumns: true,\n      enableFilter: false,\n      suppressNoRowsOverlay: true,\n      suppressLoadingOverlay: true,\n      suppressContextMenu: true\n    };\n    this.overlayGridOptions.context.tableComponent = this;\n    this.overlayGridOptions.rowClassRules = {\n      'new-row': function (params) {\n        if (params.data.isNewRow) {\n          delete params.data.isNewRow;\n          delete params.context.tableComponent.innerValue[params.context.tableComponent.innerValue.length - 1].isNewRow;\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }\n\n    this.pendingChanges.tasks$\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe(tasks => {\n        setTimeout(() => {\n          this.overlayGridOptions.suppressRowClickSelection = !!this.rowEdit && !!tasks.includes(this.rowEdit.pendingTaskId);\n        }, 0);\n      });\n  }\n\n  actionsCellRenderer(params) {\n    let div = document.createElement('div');\n\n    if (params.context.tableComponent.params.situation === 'SEARCH') {\n      div.innerHTML = `<div class=\"action-icon\" id=\"actionIcon-${params.rowIndex}\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n      </svg>\n      </div>`;\n      let clearIcon = div.querySelectorAll(`#actionIcon-${params.rowIndex}`)[0];\n      clearIcon.addEventListener('click', () => params.context.tableComponent.clearRow(params.rowIndex));\n    } else {\n      div.innerHTML = `<div class=\"action-icon\" id=\"actionIcon-${params.rowIndex}\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"/>\n      </svg>\n      </div>`;\n      let deleteIcon = div.querySelectorAll(`#actionIcon-${params.rowIndex}`)[0];\n      deleteIcon.addEventListener('click', () => params.context.tableComponent.deleteRow(params.rowIndex));\n    }\n\n    return div;\n  }\n\n  propagateChange = (_: any) => {\n  }\n\n  writeValue(value: any[]): void {\n\n    if (!value && this._params.situation === 'SEARCH') {\n      // for search row data will always be one empty row\n      // todo: re-enable again when search in tables is supported\n      value = [{}];\n    }\n    this.value = value instanceof Array ? value : [];\n    // create a clone of the actual value for internal usage\n    this.innerValue = Utils.formDataParse(Utils.formDataStringify(this.value));\n\n    if (this.gridOptions.api) {\n      this.gridOptions.api.setRowData(this.innerValue);\n    } else {\n      this.gridOptions.rowData = this.innerValue;\n    }\n\n    if (this.overlayGridOptions.api) {\n      this.overlayGridOptions.api.setRowData(this.innerValue);\n      setTimeout(() => this.selectEditRow(), 0);\n    } else {\n      this.overlayGridOptions.rowData = this.innerValue;\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  /**\n   * Create column definition from form element.\n   * @returns column definition to be added to the gridOptions\n   */\n  private createColumnDefinition(overlay?: boolean): ColDef[] {\n    return this._elements.map((el) => {\n      let col: ColDef = this.gridApi.getColumnDefinition(el);\n      Object.assign(col, {\n        headerName: el.label,\n        suppressMenu: true,\n        filter: false,\n        sortable: true,\n        resizable: true,\n        field: el.name,\n        refData: {\n          ...col.refData,\n          _eoFormElement: el,\n          _situation: this._params.situation\n        }\n      });\n      let cachedColumns = this._cachedColumns;\n      if (overlay) {\n        cachedColumns = this._cachedColumnsOverlay;\n      }\n      let cachedColumn = cachedColumns.find(f => f.qname === el.qname);\n      if (cachedColumn) {\n        col.width = cachedColumn.width;\n      }\n      return col;\n    });\n  }\n\n  addRow() {\n    const rowData = {};\n    const asyncFetches = [];\n    this._elements\n      .forEach(el => {\n        if (el.defaultvalue !== undefined) {\n          rowData[el.name] = el.defaultvalue;\n        } else if (el.defaultvaluefunction) {\n          rowData[el.name] = this.systemService.getDefaultValue(el.defaultvaluefunction);\n          if (el.defaultvaluefunction === 'CURRENT_USER') {\n            asyncFetches.push(this.resolveOrgDataMeta(el.name, rowData[el.name]))\n          }\n\n        }\n      });\n    if (asyncFetches.length > 0) {\n      forkJoin(asyncFetches).subscribe((res: {key: string, value: any}[]) => {\n        res.forEach(r => {\n          rowData[r.key] = r.value;\n        })\n        this.setEditRow(-1, rowData);\n      })\n    } else {\n      this.setEditRow(-1, rowData);\n    }\n  }\n\n  private resolveOrgDataMeta(elementName: string, value: any) {\n    return this.systemService.getOrganizationObject(value).pipe(\n      map(res => ({\n        key: `${elementName}_meta`,\n        value: res\n      }))\n    )\n  }\n\n  editRow(event) {\n    this.setEditRow(event.node.id, event.node.data);\n  }\n\n  onEditComplete(event) {\n    //todo: is it obsolete?\n  }\n\n  private setEditRow(index: number, data: any) {\n    // setup the row to be edited. Beside some properties, the\n    // row contains a form model and form data. If the parent form model\n    // provided a script, this will be added as well, so editing a row will\n    // respect the form script.\n    this.editingRow = {\n      situation: this._params.situation,\n      index: index,\n      tableElement: this._params.element,\n      form: {\n        elements: this._elements,\n        disabled: this._params.element.readonly,\n        data\n      }\n    };\n    this.showDialog = true;\n    setTimeout(() => this.selectEditRow(), 0);\n  }\n\n  private selectEditRow() {\n    if (this.overlayGridOptions.api) {\n      this.overlayGridOptions.api.deselectAll();\n      if (this.editingRow && this.editingRow.index !== -1) {\n        let rowNode = this.overlayGridOptions.api.getRowNode('' + this.editingRow.index);\n        rowNode.setSelected(true, true);\n        this.overlayGridOptions.api.ensureNodeVisible(rowNode);\n      }\n    }\n  }\n\n  private updateTableValue() {\n    this.gridOptions.api.setRowData(this.innerValue);\n    if (this.overlayGridOptions.api) {\n      this.overlayGridOptions.api.setRowData(this.innerValue);\n    } else {\n      this.overlayGridOptions.rowData = this.innerValue;\n    }\n    this.value = this.innerValue;\n    if (Object.keys(this.value.includes('isNewRow'))) {\n      delete this.value['isNewRow'];\n    }\n    this.propagateChange(this.value);\n  }\n\n  cancelRowEdit() {\n    if (this.rowEdit) {\n      this.rowEdit.finishPending();\n    }\n    this.editingRow = null;\n    if (this._params.situation === 'SEARCH') {\n      this.showDialog = false;\n    }\n  }\n\n  onClose() {\n    this.editingRow = null;\n    this.showDialog = false;\n  }\n\n  updateRow(rowResult: any) {\n    const isNewRow = rowResult.index === -1;\n    if (isNewRow) {\n      this.innerValue.push({...rowResult.rowData, ...{isNewRow: true}});\n    } else {\n      this._elements.forEach(el => {\n        // this.innerValue[rowResult.index] = {...this.innerValue[rowResult.index], ...rowResult.rowData};\n        this.innerValue[rowResult.index][el.name] = rowResult.rowData[el.name];\n        if (this.innerValue[rowResult.index][el.name + '_meta']) {\n          this.innerValue[rowResult.index][el.name + '_meta'] = rowResult.rowData[el.name + '_meta'];\n        }\n      });\n    }\n    this.updateTableValue();\n    if (this._params.situation === 'SEARCH') {\n      this.showDialog = false;\n    } else if (isNewRow && !rowResult.createNewRow) {\n      this.setEditRow(this.innerValue.length - 1, this.innerValue[this.innerValue.length - 1]);\n    } else if (rowResult.createNewRow) {\n      this.addRow();\n      let rowNode = this.overlayGridOptions.api.getRowNode('' + (this.innerValue.length - 1));\n      this.overlayGridOptions.api.ensureNodeVisible(rowNode);\n    } else {\n      this.setEditRow(rowResult.index, this.innerValue[rowResult.index]);\n    }\n  }\n\n  copyRow(rowResult: any) {\n    rowResult.index = -1;\n    this.innerValue.push({...rowResult.rowData, ...{isNewRow: true}});\n    this.updateTableValue();\n    if (rowResult.createNewRow) {\n      this.addRow();\n    } else {\n      this.setEditRow(this.innerValue.length - 1, JSON.parse(JSON.stringify(rowResult.rowData)));\n    }\n  }\n\n  deleteRow(index: number) {\n    if (index > -1) {\n      this.innerValue.splice(index, 1);\n      this.updateTableValue();\n      if (this.innerValue.length) {\n        const nextIndex = index == this.innerValue.length ? this.innerValue.length - 1 : index;\n        this.setEditRow(nextIndex, this.innerValue[nextIndex]);\n      } else {\n        this.cancelRowEdit();\n      }\n    }\n  }\n\n  clearRow(index: number) {\n    this.innerValue[index] = {};\n    this.updateTableValue();\n  }\n\n  exportCSV() {\n    this.gridOptions.api.exportDataAsCsv({\n      ...this.gridApi.csvExportParams,\n      fileName: this._params.element.label\n    });\n  }\n\n  sizeToFit(overlay?: boolean) {\n    if (overlay) {\n      this.overlayGridOptions.api.sizeColumnsToFit();\n    } else {\n      this.gridOptions.api.sizeColumnsToFit();\n    }\n  }\n\n  openDialog() {\n    // TODO: Still necessary? this.overlayGridOptions.api.refreshView();\n    this.showDialog = true;\n  }\n\n  private validateTableData(): boolean {\n    // todo: implement\n    return true;\n  }\n\n  validate(c: UntypedFormControl) {\n    return this.validateTableData() ? null : {\n      table: {\n        valid: false\n      }\n    };\n  }\n\n  onMouseDown($event: any) {\n    if (this.overlayGridOptions.suppressRowClickSelection) {\n      if (!this.pendingChanges.checkForPendingTasks(this.rowEdit.pendingTaskId)) {\n        this.overlayGridOptions.suppressRowClickSelection = false;\n        this.rowEdit.finishPending();\n        let rowIndex = this.gridApi.getRowIndex($event.target, 'ag-body');\n        if (rowIndex !== null) {\n          this.overlayGridOptions.api.getRowNode('' + rowIndex).setSelected(true, true);\n          $event.target.click();\n        }\n      } else {\n        $event.preventDefault();\n        $event.stopImmediatePropagation();\n      }\n    }\n  }\n\n  onSortChanged() {\n    let rowNode = this.overlayGridOptions.api.getRowNode('' + this.editingRow.index);\n    this.overlayGridOptions.api.ensureNodeVisible(rowNode);\n  }\n\n  onCellClicked($event) {\n    if ($event.rowIndex !== null) {\n      if (!$event.node.group && $event.data) {\n        if ($event.colDef.cellClass === 'router-link-cell') {\n          this.gridApi.openRouterLink($event.event, 'ag-row');\n        }\n      }\n    }\n  }\n\n  onColumnResized(column: any, overlay?: boolean) {\n    let columnsDefinition = this.cacheLayoutKey + '.colDef';\n    let cachedColumns = this._cachedColumns;\n    if (overlay) {\n      columnsDefinition = this.cacheLayoutKey + '.colDefOverlay';\n      cachedColumns = this._cachedColumnsOverlay;\n    }\n    let col = cachedColumns.find(c => c.qname === column.colDef.refData.qname);\n    if (col) {\n      col.width = column.actualWidth;\n    } else {\n      cachedColumns.push({qname: column.colDef.refData.qname, width: column.actualWidth});\n    }\n    this.storageService.setItem(columnsDefinition, cachedColumns);\n  }\n\n  // private _updateSplitViewLayoutCache() {\n  //   setTimeout(() => {\n  //     this.splitView?.updateLayoutCache();\n  //   });\n  // }\n\n  togglePreview() {\n    this.showPreview = !this.showPreview;\n    // make sure that the layout of the split view is updated after the preview panels\n    // visibility changed\n    // this._updateSplitViewLayoutCache();\n    this.storageService.setItem(this.cacheLayoutKey + '.showPreview', this.showPreview);\n  }\n\n  // ngAfterViewInit(): void {\n  //   this._updateSplitViewLayoutCache();\n  // }\n\n  ngOnInit() {\n    this.hasPreviewFile = this.hasPreviewFile !== undefined ? this.hasPreviewFile : !!this.params.object?.content;\n  }\n}\n","<div class=\"object-form-table\" [ngClass]=\"{medium: _params.size === 'medium', large: _params.size === 'large'}\">\n  <div class=\"label\">\n    <span>{{_params.element.label}}</span>\n    <ng-container *ngIf=\"_params.situation !== 'SEARCH'\">\n\n      <eo-icon class=\"stf\" [iconSrc]=\"'assets/_default/svg/ic_expand.svg'\"\n        [iconTitle]=\"('eo.form.table.options.btn.open'| translate)\" (click)=\"openDialog()\"></eo-icon>\n      <eo-icon class=\"stf\" [iconSrc]=\"'assets/_default/svg/ic_size_to_fit.svg'\"\n        [iconTitle]=\"('eo.form.table.options.btn.fit'| translate)\" (click)=\"sizeToFit()\"></eo-icon>\n      <eo-icon class=\"stf\" *ngIf=\"gridOptions.rowData?.length\" [iconSrc]=\"'assets/_default/svg/ic_content-download.svg'\"\n        [iconTitle]=\"('eo.form.table.options.btn.csv'| translate)\" (click)=\"exportCSV()\"></eo-icon>\n      <eo-icon class=\"stf add-row\" *ngIf=\"!_params.element.readonly\" [iconSrc]=\"'assets/_default/svg/ic_add.svg'\"\n        [iconTitle]=\"('eo.form.table.options.btn.add'| translate)\" (click)=\"addRow()\"></eo-icon>\n\n    </ng-container>\n  </div>\n  <div class=\"grid-body size-{{ params.size }}\">\n    <ag-grid-angular #agGrid *ngIf=\"gridReady\" class=\"ag-theme-balham\" [modules]=\"modules\" [gridOptions]=\"gridOptions\"\n      (rowDoubleClicked)=\"editRow($event)\" (cellClicked)=\"onCellClicked($event)\" (sortChanged)=\"onSortChanged()\"\n      (cellValueChanged)=\"onEditComplete($event)\" (columnResized)=\"onColumnResized($event.column)\">\n    </ag-grid-angular>\n  </div>\n</div>\n\n\n<eo-dialog [title]=\"params.element.label\" [visible]=\"showDialog\" [dirtyCheck]=\"rowEdit?.pendingTaskId\"\n  [minWidth]=\"_params.situation !== 'SEARCH' ? minWidth : 200\"\n  [width]=\"'95vw'\"\n  [height]=\"height\"\n  [styleClass]=\"'object-form-table-dialog'\" (hide)=\"onClose()\" [isFormTable]=\"true\" [hasPreviewFile]=\"hasPreviewFile\"\n  [showPreview]=\"showPreview\" (onTogglePreview)=\"togglePreview()\">\n\n  <div class=\"body\" *ngIf=\"showDialog\">\n\n    <!-- <yvc-split-view [layoutSettingsID]=\"cacheLayoutKey\"> -->\n    <yvc-split-view>\n\n      <!-- the table itself-->\n      <ng-template yvcSplitArea [size]=\"40\">\n        <div class=\"table-body\">\n          <div class=\"object-form-table\">\n            <div class=\"label\">\n              <span></span>\n              <ng-container>\n                <eo-icon class=\"stf\" [iconSrc]=\"'assets/_default/svg/ic_size_to_fit.svg'\" [iconTitle]=\"('eo.form.table.options.btn.fit'| translate)\" (click)=\"sizeToFit(true)\"></eo-icon>\n                <eo-icon class=\"stf\" *ngIf=\"gridOptions.rowData.length\" [iconSrc]=\"'assets/_default/svg/ic_content-download.svg'\" [iconTitle]=\"('eo.form.table.options.btn.csv'| translate)\" (click)=\"exportCSV()\"></eo-icon>\n                <eo-icon class=\"stf add-row\" *ngIf=\"!_params.element.readonly\" [iconSrc]=\"'assets/_default/svg/ic_add.svg'\" [iconTitle]=\"('eo.form.table.options.btn.add'| translate)\" (click)=\"addRow()\"></eo-icon>\n              </ng-container>\n            </div>\n            <div class=\"grid-body\">\n              <ag-grid-angular #agGrid2 *ngIf=\"gridReady\" class=\"ag-theme-balham\" [modules]=\"modules\"\n                              [gridOptions]=\"overlayGridOptions\"\n                              (cellClicked)=\"onCellClicked($event);editRow($event)\"\n                              (mousedown)=\"onMouseDown($event)\"\n                              (sortChanged)=\"onSortChanged()\"\n                               (cellValueChanged)=\"onEditComplete($event)\"\n                               (columnResized)=\"onColumnResized($event.column, true)\">\n              </ag-grid-angular>\n            </div>\n          </div>\n        </div>\n      </ng-template>\n\n      <!-- table edit component-->\n      <ng-template yvcSplitArea [size]=\"20\" [visible]=\"!!editingRow\">\n        <div class=\"edit-body\">\n          <eo-row-edit [row]=\"editingRow\" [limitReached]=\"limit <= overlayGridOptions.rowData.length\" #rowEdit\n            (onSave)=\"updateRow($event)\" (onSaveCopy)=\"copyRow($event)\" (onDelete)=\"deleteRow($event)\"\n            (onCancel)=\"cancelRowEdit()\"></eo-row-edit>\n        </div>\n      </ng-template>\n\n      <!-- viewer-->\n      <ng-template yvcSplitArea [size]=\"40\" [visible]=\"showPreview && hasPreviewFile\">\n        <eo-media *ngIf=\"hasPreviewFile\" [dmsObject]=\"params.object\" [undockDisabled]=\"true\"\n        [useVersion]=\"params.object?.id === params.object?.content?.id\"></eo-media>\n      </ng-template>\n\n    </yvc-split-view>\n  </div>\n</eo-dialog>\n","import {Component, ElementRef, EventEmitter, Input, OnDestroy, Output, ViewChild, ViewEncapsulation} from '@angular/core';\n\n// import { ObjectFormComponent } from '../../object-form.component';\nimport {UntypedFormBuilder, UntypedFormControl} from '@angular/forms';\nimport {LocalStorageService, Utils} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {Subscription} from 'rxjs';\nimport {PendingChangesService} from '../../../../../eo-framework-core/pending-changes/pending-changes.service';\nimport {FormStatusChangedEvent} from '../../../form-status-changed-event.interface';\nimport {FormGenResult, ObjectFormHelperService} from '../../../object-form-helper.service';\nimport {ObjectFormControlWrapper} from '../../object-form-control-wrapper';\nimport {ObjectFormGroup} from '../../object-form-group.model';\nimport {ObjectFormScriptService} from '../../object-form-script/object-form-script.service';\nimport {ObjectFormScriptingScope} from '../../object-form-script/object-form-scripting-scope';\nimport {EditRow, EditRowResult} from '../form-element.interface';\n\n/**\n * Component for editing a row from an object forms table.\n */\n@UntilDestroy()\n@Component({\n  selector: 'eo-row-edit',\n  templateUrl: './row-edit.component.html',\n  styleUrls: ['./row-edit.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [ObjectFormScriptService],\n})\nexport class RowEditComponent implements OnDestroy {\n  @ViewChild('confirmDelete') confirmDeleteButton: ElementRef;\n\n  // ID set by pendingChanges service when editing row data\n  // Used to finish the pending task when editing is done\n  pendingTaskId: string;\n\n  editForm: ObjectFormGroup;\n  editFormControls: ObjectFormControlWrapper[] = [];\n  private scriptingScope: ObjectFormScriptingScope;\n  private subscriptions: Subscription[] = [];\n  // property for holding the forms data used for comparison when a form-changed-event\n  // is fetched to indicate wher or not the indexdata were changed or just the properties\n  // of the form elements (eg. form script setting fields to readonly)\n  private formData: any;\n\n  _row: EditRow;\n  isNewRow: boolean;\n  formState?: FormStatusChangedEvent;\n  queryEnabled = true;\n  copyEnabled = true;\n  deleteEnabled = true;\n  saveEnabled = true;\n  createNewCheckbox: UntypedFormControl;\n  createNewRow = false;\n  _showDeleteDialog = false;\n  saving = false;\n\n  set showDeleteDialog(val: boolean) {\n    this._showDeleteDialog = val;\n\n    if (this._showDeleteDialog) {\n      setTimeout(() => this.confirmDeleteButton.nativeElement.focus(), 0);\n    }\n  }\n\n  get showDeleteDialog() {\n    return this._showDeleteDialog;\n  }\n\n  @Input() limitReached: boolean;\n\n  @Input()\n  set row(r: EditRow) {\n    this._row = r;\n    this.queryEnabled = r?.situation === 'SEARCH';\n    this.copyEnabled = !this.queryEnabled;\n    this.saveEnabled = !this.queryEnabled;\n    this.deleteEnabled = !this.queryEnabled;\n    this.isNewRow = this._row?.index === -1;\n    this.unsubscribeAll();\n\n    this._buildRowEditForm()\n  }\n\n  @Output() onCancel = new EventEmitter();\n  @Output() onSave = new EventEmitter<EditRowResult>();\n  @Output() onSaveCopy = new EventEmitter<EditRowResult>();\n  @Output() onDelete = new EventEmitter<number>();\n\n  constructor(private pendingChanges: PendingChangesService,\n    private formScriptService: ObjectFormScriptService,\n    private formHelperService: ObjectFormHelperService,\n    private fb: UntypedFormBuilder, private storageService: LocalStorageService) {\n    this.createNewRow = !!this.storageService.getItem('createNewRow');\n    this.createNewCheckbox = this.fb.control(this.createNewRow);\n    this.createNewCheckbox.valueChanges.pipe(untilDestroyed(this)).subscribe((v) => {\n      this.createNewRow = v;\n      this.storageService.setItem('createNewRow', this.createNewRow);\n    });\n  }\n\n  /**\n * Returns the observed model that was passed to the current form script running. If there is\n * no form script, this method will return NULL.\n * @returns\n */\n  private _getObservedScriptModel() {\n    return this.scriptingScope ? this.scriptingScope.getModel() : null;\n  }\n\n  private _getFormData() {\n    return this.formHelperService.extractFormData(\n      this.editForm,\n      this._row.situation,\n      this._row.form.data,\n      true\n    );\n\n  }\n\n  onFormReady() {\n    // execute after form has been set up, because otherwise not all of the components are ready to be used\n    // if for example a form script executed `onrowedit` tries to apply a filter or something like that\n    if (this._row.tableElement.onrowedit && !this._row.tableElement.readonly) {\n\n      // Generate row API object (wrapper) for the script\n      const row = {\n        model: this._getObservedScriptModel(),\n        index: this._row.index,\n        copyEnabled: this.copyEnabled,\n        deleteEnabled: this.deleteEnabled,\n        saveEnabled: this.saveEnabled,\n        persisted: this.isNewRow // Not persisted if it is a new row\n      };\n      // Call the script function ...\n      this._row.tableElement.onrowedit(this._row.tableElement, row);\n      // ... and respect the result\n      this.copyEnabled = row.copyEnabled;\n      this.deleteEnabled = row.deleteEnabled;\n      this.saveEnabled = row.saveEnabled;\n    }\n  }\n\n  onFormStatusChanged(evt) {\n\n    // check if indexdata has been changed\n    let currentFormData = this._getFormData();\n    let idxChange = !!this.formData && JSON.stringify(this.formData) !== JSON.stringify(currentFormData);\n    this.formData = Utils.formDataParse(Utils.formDataStringify(currentFormData));\n\n    this.formState = {\n      invalid: this.editForm.invalid,\n      dirty: this.editForm.dirty,\n      data: this.formData,\n      indexdataChanged: idxChange\n    };\n    if (this.formState.indexdataChanged) {\n      this.startPending();\n    } else {\n      this.finishPending();\n    }\n  }\n\n  private _buildRowEditForm() {\n    if (this._row) {\n      const formGenRes: FormGenResult = this.formHelperService.buildReactiveForm(\n        {\n          formModel: {\n            elements: [{\n              type: 'o2mGroup',\n              elements: structuredClone(this._row.form.elements)\n            }]\n          }, disabled: this._row.form.disabled, data: this._row.form.data\n        }, this.formScriptService, true\n      );\n      this.editForm = formGenRes.form;\n      this.scriptingScope = formGenRes.scriptingScope;\n      this.subscriptions = formGenRes.controlValueSubscriptions;\n\n      const ctrls = (this.editForm.controls.core as ObjectFormGroup).controls;\n      this.editFormControls = Object.keys(ctrls).map(k => ctrls[k] as ObjectFormControlWrapper)\n      this.formState = {\n        invalid: this.editForm.invalid,\n        dirty: this.editForm.dirty,\n        data: this.formData,\n        indexdataChanged: false\n      };\n      setTimeout(() => {\n        if (!this.editForm) return;\n        let formStateWatch = this.editForm.statusChanges.pipe()\n          .subscribe((e) => this.onFormStatusChanged(e));\n        this.subscriptions.push(formStateWatch);\n        this.onFormReady();\n      }, 300);\n    }\n  }\n\n  private startPending() {\n    // because this method will be called every time the form status changes,\n    // pending task will only be started once until it was finished\n    if (!this.pendingChanges.hasPendingTask(this.pendingTaskId || ' ')) {\n      this.pendingTaskId = this.pendingChanges.startTask();\n    }\n  }\n\n  finishPending() {\n    this.pendingChanges.finishTask(this.pendingTaskId);\n  }\n\n  save() {\n    this.saving = true;\n    this.finishPending();\n    setTimeout(() => {\n      if (!this.formState.invalid) {\n        this.onSave.emit({\n          index: this._row.index,\n          rowData: this._getFormData(),\n          createNewRow: this.createNewRow\n        });\n      }\n      this.saving = false;\n    }, 500);\n  }\n\n  saveCopy() {\n    this.saving = true;\n    setTimeout(() => {\n      if (!this.formState.invalid) {\n        this.onSaveCopy.emit({\n          index: this._row.index,\n          rowData: this._getFormData(),\n          createNewRow: this.createNewRow\n        });\n      }\n      this.saving = false;\n    }, 500);\n  }\n\n  delete() {\n    this.onDelete.emit(this._row.index);\n    this.showDeleteDialog = false;\n  }\n\n  cancel() {\n    this.finishPending();\n    this.onCancel.emit();\n  }\n\n  private unsubscribeAll() {\n    if (this.subscriptions.length) {\n      this.subscriptions.forEach(s => s.unsubscribe());\n      this.subscriptions = [];\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribeAll();\n  }\n}\n","<div class=\"row-edit\">\n  <div class=\"edit-header\" *ngIf=\"!queryEnabled\">\n    <div class=\"new-indicator\" *ngIf=\"isNewRow\" translate>eo.form.table.options.indicator.new</div>\n    <div></div>\n    <eo-icon [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" (click)=\"cancel()\" class=\"button cancel-icon\"\n      [iconTitle]=\"('eo.form.table.options.btn.cancel' | translate)\"></eo-icon>\n  </div>\n\n  <div class=\"form\" [formGroup]=\"editForm\" *ngIf=\"editForm\">\n    <eo-form-element *ngFor=\"let c of editFormControls\" [element]=\"c\" [situation]=\"_row?.situation\" [skipToggle]=\"true\">\n    </eo-form-element>\n  </div>\n\n  <div class=\"actions\">\n    <eo-checkbox *ngIf=\"isNewRow\" title=\"{{'eo.form.table.options.checkbox.new.title' | translate}}\"\n      [formControl]=\"createNewCheckbox\"></eo-checkbox>\n    <span *ngIf=\"isNewRow\" class=\"add-label\" translate>eo.form.table.options.checkbox.new</span>\n    <button type=\"button\" *ngIf=\"deleteEnabled && !isNewRow && !_row?.form.disabled && !queryEnabled\"\n      (click)=\"showDeleteDialog = true;\" title=\"{{'eo.form.table.options.btn.delete' | translate}}\">\n      <eo-icon [iconSrc]=\"'assets/_default/svg/ic_trash.svg'\"></eo-icon>\n    </button>\n    <button type=\"button\" (click)=\"saveCopy()\" class=\"seco\" *ngIf=\"copyEnabled && !isNewRow && !_row?.form.disabled\"\n      [disabled]=\"limitReached || saving || formState?.invalid\" translate>eo.form.table.options.btn.copy</button>\n    <button type=\"button\" (click)=\"save()\" class=\"primary\" *ngIf=\"saveEnabled && !_row?.form.disabled\"\n      [disabled]=\"(limitReached && isNewRow) || saving || formState?.invalid || (!formState?.dirty && !isNewRow)\">{{\n      'eo.form.table.options.btn.save' + (isNewRow ? '.new' : '') | translate}}</button>\n    <!-- query button for SEARCH situation -->\n    <button type=\"button\" (click)=\"save()\" class=\"primary\" *ngIf=\"queryEnabled\"\n      [disabled]=\"formState?.invalid || !formState?.indexdataChanged\" translate>eo.form.table.options.btn.save</button>\n  </div>\n\n</div>\n\n<eo-dialog [title]=\"('eo.form.table.options.confirm.delete' | translate)\" [(visible)]=\"showDeleteDialog\"\n  [minWidth]=\"400\">\n  <div class=\"action-buttons flex-row\" style=\"padding: 8px;\">\n    <button type=\"button\" class=\"button cancel\" (click)=\"showDeleteDialog = false\"\n      translate>eo.form.table.options.btn.cancel</button>\n    <button type=\"button\" #confirmDelete (click)=\"delete()\" class=\"button primary\"\n      translate>eo.form.table.options.btn.ok</button>\n  </div>\n</eo-dialog>","import {Directive, Input, TemplateRef} from '@angular/core';\n\n@Directive({\n  selector: '[eoFormElementTemplate]'\n})\nexport class FormElementTemplate {\n\n  @Input() propertyType: string;\n  constructor(public template: TemplateRef<any>) { }\n\n}\n","import {AfterViewInit, Component, ContentChildren, ElementRef, Input, QueryList, Renderer2, TemplateRef, ViewChild, ViewChildren} from '@angular/core';\nimport {TranslateService} from '@eo-sdk/core';\nimport {ObjectFormControlWrapper} from '../object-form-control-wrapper';\nimport {FormElementTemplate} from './form-element-template.directive';\n\n@Component({\n  selector: 'eo-form-element',\n  templateUrl: './form-element.component.html',\n  styleUrls: ['./form-element.component.scss'],\n  //encapsulation: ViewEncapsulation.None\n})\nexport class FormElementComponent implements AfterViewInit {\n  @ViewChildren(FormElementTemplate, {emitDistinctChangesOnly: true}) elementTemplates: QueryList<FormElementTemplate>;\n  @ContentChildren(FormElementTemplate, {emitDistinctChangesOnly: true}) contentElementTemplates: QueryList<FormElementTemplate>;\n\n\n  \n  elementTemplate: TemplateRef<any>;\n  formElementRef: any;\n  element: ObjectFormControlWrapper;\n  focused;\n  isNull: boolean;\n  tag: {\n    label: string,\n    title: string\n  };\n\n  @Input() situation;\n  @Input() skipToggle: boolean;\n\n  // element is supposed to be a special UntypedFormGroup holding a single form element\n  @Input('element')\n  set elementSetter(el: ObjectFormControlWrapper) {\n    if (el) {\n\n      this.element = el;\n      this.formElementRef = el.controls[el._eoFormControlWrapper.controlName];\n      if (this.formElementRef._eoFormElement.isNotSetValue) {\n        this.labelToggled(true);\n      }\n      if (this.formElementRef._eoFormElement.type === 'REFERENCE') {\n        this.addDataToRender(this.formElementRef._eoFormElement);\n      }\n      if (this.formElementRef._eoFormElement.type === 'ID') {\n        this.formElementRef._eoFormElement.minlen = 32;\n        this.formElementRef._eoFormElement.maxlen = 32;\n      }\n      this.fetchTags();\n\n      if (this.formElementRef._eoFormElement.readonly && this.formElementRef._eoFormElement.required) {\n        this.formElementRef._eoFormElement.required = false;\n      }\n    }\n  }\n\n  @ViewChild('formField') formField: ElementRef;\n\n  constructor(private translate: TranslateService, private renderer: Renderer2, private el: ElementRef) {\n  }\n\n  private addDataToRender(element) {\n    const multiselect = element.multiselect;\n    const dataMeta = element.dataMeta;\n    if (multiselect && dataMeta) {\n      element.dataToRender = dataMeta.map((dM, i) => {\n        dM.id = element.value[i];\n        return dM;\n      });\n    }\n    if (!multiselect && dataMeta) {\n      dataMeta.id = element.value;\n      element.dataToRender = [dataMeta];\n    }\n  }\n\n  labelToggled(toggled: boolean) {\n    if (!this.skipToggle && this.element._eoFormControlWrapper.situation === 'SEARCH') {\n      const toggleClass = 'label-toggled';\n      this.isNull = toggled;\n      if (toggled) {\n        this.renderer.addClass(this.el.nativeElement, toggleClass);\n      } else {\n        this.renderer.removeClass(this.el.nativeElement, toggleClass);\n      }\n      this.formElementRef._eoFormElement.isNotSetValue = toggled;\n      this.element.updateValueAndValidity();\n    }\n  }\n\n  organizationDataMetaResolved(data) {\n    // new meta data will always arrive as array even for single inputs, so we have to convert\n    this.formElementRef._eoFormElement.dataMeta = this.formElementRef._eoFormElement.multiselect ? data : data[0];\n  }\n\n  fetchTags() {\n    this.tag = null;\n    if (this.situation === 'CREATE' &&\n      (this.formElementRef._eoFormElement.hasOwnProperty('defaultvaluefunction') || this.formElementRef._eoFormElement.hasOwnProperty('defaultvalue'))) {\n      this.tag = this.formElementRef._eoFormElement.defaultvaluefunction === 'EXTRACTION' ? {\n        label: 'ex',\n        title: this.translate.instant('eo.form.element.tag.ex')\n      } : {\n        label: 'df',\n        title: this.translate.instant('eo.form.element.tag.df')\n      };\n    }\n  }\n\n  ngAfterViewInit(): void {\n    const tpls = [...this.elementTemplates.toArray(), ...this.contentElementTemplates.toArray()];\n    const dir = tpls.find(tpl => tpl.propertyType === this.formElementRef._eoFormElement.type);\n    setTimeout(() => {\n      this.elementTemplate = dir ? dir.template : undefined\n    })\n  }\n}\n","<div class=\"form-element\" [formGroup]=\"element\" *ngIf=\"element\">\n\n  <div class=\"form-field t-{{formElementRef._eoFormElement.type}}\" #formField\n    [ngClass]=\"{disabled: !!formElementRef._eoFormElement.readonly}\" *ngIf=\"elementTemplate\">\n\n    <ng-container *ngTemplateOutlet=\"elementTemplate; context: {element, formElementRef}\" ></ng-container>\n\n    <!-- the fields description -->\n    <div class=\"description\" *ngIf=\"formElementRef._eoFormElement.description\">{{formElementRef._eoFormElement.description}}</div>\n\n    <!-- error/validation messages -->\n    <div class=\"err-msg\" *ngIf=\"formElementRef.errors\">\n\n      <div *ngIf=\"formElementRef.errors.daterange\" translate>eo.form.property.daterange.invalid</div>\n      <div *ngIf=\"formElementRef.errors.numberrange\" translate>eo.form.property.numberrange.invalid</div>\n      <div *ngIf=\"formElementRef.errors.number\" translate>eo.form.property.number</div>\n      <div *ngIf=\"formElementRef.errors.precision\" translate\n        [translateParams]=\"formElementRef.errors.precision.translateValues\">\n        {{formElementRef.errors.precision.translateKey}}</div>\n      <div *ngIf=\"formElementRef.errors.scale\" translate\n        [translateParams]=\"formElementRef.errors.scale.translateValues\">{{formElementRef.errors.scale.translateKey}}\n      </div>\n\n      <div *ngIf=\"formElementRef.errors.regex || formElementRef.errors.pattern\" translate>\n        eo.form.property.string.regex.nomatch</div>\n      <div *ngIf=\"formElementRef.errors.classificationemail\" translate>\n        eo.form.property.string.error.classification.email</div>\n      <div *ngIf=\"formElementRef.errors.classificationurl\" translate>eo.form.property.string.error.classification.url\n      </div>\n      <div *ngIf=\"formElementRef.errors.onlyWhitespaces\" translate>eo.form.property.string.error.whitespaces</div>\n      <div *ngIf=\"formElementRef.errors.datecontrol\" translate>eo.form.property.date.invalid</div>\n      <div *ngIf=\"formElementRef.errors.codesystem\" translate>eo.form.property.codesystem.value.invalid</div>\n      <div *ngIf=\"formElementRef.errors.eoformScript\">{{formElementRef._eoFormElement.error.msg}}</div>\n      <div *ngIf=\"formElementRef.errors.required\" translate>eo.form.property.required</div>\n      <div *ngIf=\"formElementRef.errors.maxlength\" translate\n        [translateParams]=\"{maxlength: formElementRef._eoFormElement.maxlen}\">eo.form.property.maxlength</div>\n      <div *ngIf=\"formElementRef.errors.minlength\" translate\n        [translateParams]=\"{minlength: formElementRef._eoFormElement.minlen}\">eo.form.property.minlength</div>\n      <div *ngIf=\"formElementRef.errors.deletedIDReference\" translate>eo.form.property.idreference.deleted</div>\n      <div *ngIf=\"formElementRef.errors.deletedOrgObject\" translate>eo.form.property.orgobject.deleted</div>\n    </div>\n\n  </div>\n\n\n\n<!-- STRING -->\n<ng-template eoFormElementTemplate propertyType=\"STRING\" let-element=\"element\" let-formElementRef=\"formElementRef\">\n  <eo-form-input [tag]=\"tag\" [label]=\"formElementRef._eoFormElement.label\" [isNull]=\"isNull\"\n    [skipToggle]=\"skipToggle || situation !== 'SEARCH'\" (onToggleLabel)=\"labelToggled($event)\"\n    [required]=\"formElementRef._eoFormElement.required\" [disabled]=\"formElementRef._eoFormElement.readonly\"\n    [invalid]=\"formElementRef.invalid\">\n\n    <eo-string\n      *ngIf=\"!formElementRef._eoFormElement.reference && formElementRef._eoFormElement.classification !== 'selector'\"\n      [situation]=\"element._eoFormControlWrapper.situation\"\n      [formControlName]=\"element._eoFormControlWrapper.controlName\"\n      [autocomplete]=\"formElementRef._eoFormElement.autocomplete\"\n      [multiselect]=\"!!formElementRef._eoFormElement.multiselect\" [multiline]=\"formElementRef._eoFormElement.multiline\"\n      [classification]=\"formElementRef._eoFormElement.classification\" [regex]=\"formElementRef._eoFormElement.regex\"\n      [qname]=\"formElementRef._eoFormElement.qname\" [size]=\"formElementRef._eoFormElement.size\"\n      [readonly]=\"formElementRef._eoFormElement.readonly\" [minLength]=\"formElementRef._eoFormElement.minlen\"\n      [maxLength]=\"formElementRef._eoFormElement.maxlen\"></eo-string>\n\n    <!-- Dynamic List -->\n    <eo-dynamic-list\n      *ngIf=\"!formElementRef._eoFormElement.reference && formElementRef._eoFormElement.classification === 'selector'\"\n      [situation]=\"element._eoFormControlWrapper.situation\" [pickerTitle]=\"formElementRef._eoFormElement.label\"\n      [filterFunction]=\"formElementRef._eoFormElement.filterFunction\"\n      [multiselect]=\"formElementRef._eoFormElement.multiselect\" [listObject]=\"formElementRef._eoFormElement.list\"\n      [readonly]=\"formElementRef._eoFormElement.readonly\"\n      [formControlName]=\"element._eoFormControlWrapper.controlName\"></eo-dynamic-list>\n\n\n    <!-- Reference -->\n    <eo-reference *ngIf=\"formElementRef._eoFormElement.reference\"\n      [formControlName]=\"element._eoFormControlWrapper.controlName\" [readonly]=\"formElementRef._eoFormElement.readonly\"\n      [reference]=\"formElementRef._eoFormElement.reference\"\n      [multiselect]=\"!!formElementRef._eoFormElement.multiselect ? formElementRef._eoFormElement.multiselect : situation === 'SEARCH'\"\n      [minLength]=\"formElementRef._eoFormElement.minlen\"\n      [maxLength]=\"formElementRef._eoFormElement.maxlen\"></eo-reference>\n  </eo-form-input>\n</ng-template>\n\n<!-- ID-Reference -->\n<ng-template eoFormElementTemplate propertyType=\"REFERENCE\" let-element=\"element\" let-formElementRef=\"formElementRef\">\n  <eo-form-input [tag]=\"tag\" [label]=\"formElementRef._eoFormElement.label\" [isNull]=\"isNull\"\n    [skipToggle]=\"skipToggle || situation !== 'SEARCH'\" (onToggleLabel)=\"labelToggled($event)\"\n    [required]=\"formElementRef._eoFormElement.required\" [disabled]=\"formElementRef._eoFormElement.readonly\"\n    [invalid]=\"formElementRef.invalid\">\n\n    <eo-id-reference [formControlName]=\"element._eoFormControlWrapper.controlName\"\n      [situation]=\"element._eoFormControlWrapper.situation\" [dataToRender]=\"formElementRef._eoFormElement.dataToRender\"\n      [reference]=\"formElementRef._eoFormElement.reference\" [readonly]=\"formElementRef._eoFormElement.readonly\"\n      [multiselect]=\"formElementRef._eoFormElement.multiselect\" [contextId]=\"formElementRef._eoFormElement.contextId\"\n      [exceptionIDs]=\"formElementRef._eoFormElement.exceptionIDs\"\n      [queryFilters]=\"formElementRef._eoFormElement.queryFilters\"\n      [objectTypesFilter]=\"formElementRef._eoFormElement.objectTypesFilter\"></eo-id-reference>\n  </eo-form-input>\n</ng-template>\n\n<!-- ID -->\n<ng-template eoFormElementTemplate propertyType=\"ID\" let-element=\"element\" let-formElementRef=\"formElementRef\">\n  <eo-form-input [tag]=\"tag\" [label]=\"formElementRef._eoFormElement.label\" [isNull]=\"isNull\"\n    [skipToggle]=\"skipToggle || situation !== 'SEARCH'\" (onToggleLabel)=\"labelToggled($event)\"\n    [required]=\"formElementRef._eoFormElement.required\" [disabled]=\"formElementRef._eoFormElement.readonly\"\n    [invalid]=\"formElementRef.invalid\">\n\n    <eo-string [situation]=\"element._eoFormControlWrapper.situation\"\n      [formControlName]=\"element._eoFormControlWrapper.controlName\"\n      [autocomplete]=\"formElementRef._eoFormElement.autocomplete\"\n      [multiselect]=\"formElementRef._eoFormElement.multiselect\" [regex]=\"'^[0-9a-fA-F]*$'\"\n      [qname]=\"formElementRef._eoFormElement.qname\" [readonly]=\"formElementRef._eoFormElement.readonly\" [minLength]=\"32\"\n      [maxLength]=\"32\"></eo-string>\n\n  </eo-form-input>\n</ng-template>\n\n\n<!-- BOOLEAN -->\n<ng-template eoFormElementTemplate propertyType=\"BOOLEAN\" let-element=\"element\" let-formElementRef=\"formElementRef\">\n  <eo-form-input [tag]=\"tag\" class=\"checkbox\" [label]=\"formElementRef._eoFormElement.label\" [isNull]=\"isNull\"\n    [skipToggle]=\"skipToggle || situation !== 'SEARCH'\" [required]=\"formElementRef._eoFormElement.required\"\n    [disabled]=\"formElementRef._eoFormElement.readonly\" (onToggleLabel)=\"labelToggled($event)\"\n    [invalid]=\"formElementRef.invalid\">\n\n    <eo-checkbox [formControlName]=\"element._eoFormControlWrapper.controlName\"\n      [readonly]=\"formElementRef._eoFormElement.readonly\" [tristate]=\"true\"></eo-checkbox>\n  </eo-form-input>\n</ng-template>\n\n<!-- CODESYSTEM -->\n<ng-template eoFormElementTemplate propertyType=\"CODESYSTEM\" let-element=\"element\" let-formElementRef=\"formElementRef\">\n  <eo-form-input [tag]=\"tag\" [label]=\"formElementRef._eoFormElement.label\" [isNull]=\"isNull\"\n    [skipToggle]=\"skipToggle || situation !== 'SEARCH'\" (onToggleLabel)=\"labelToggled($event)\"\n    [required]=\"formElementRef._eoFormElement.required\" [disabled]=\"formElementRef._eoFormElement.readonly\"\n    [invalid]=\"formElementRef.invalid\">\n\n    <eo-codesystem [situation]=\"element._eoFormControlWrapper.situation\"\n      [pickerTitle]=\"formElementRef._eoFormElement.label\" [readonly]=\"formElementRef._eoFormElement.readonly\"\n      [codesystem]=\"formElementRef._eoFormElement.codesystem\" [multiselect]=\"formElementRef._eoFormElement.multiselect\"\n      [filterFunction]=\"formElementRef._eoFormElement.filterFunction\"\n      [disablingFilterFunction]=\"formElementRef._eoFormElement.disablingFilterFunction\"\n      [formControlName]=\"element._eoFormControlWrapper.controlName\"></eo-codesystem>\n  </eo-form-input>\n</ng-template>\n\n<!-- ORGANIZATION -->\n<ng-template eoFormElementTemplate propertyType=\"ORGANIZATION\" let-element=\"element\" let-formElementRef=\"formElementRef\">\n  <eo-form-input [tag]=\"tag\" [label]=\"formElementRef._eoFormElement.label\" [isNull]=\"isNull\"\n    [skipToggle]=\"skipToggle || situation !== 'SEARCH'\" (onToggleLabel)=\"labelToggled($event)\"\n    [required]=\"formElementRef._eoFormElement.required\" [disabled]=\"formElementRef._eoFormElement.readonly\"\n    [invalid]=\"formElementRef.invalid\">\n\n    <eo-organization [situation]=\"element._eoFormControlWrapper.situation\"\n      [dataMeta]=\"formElementRef._eoFormElement.dataMeta\" [readonly]=\"formElementRef._eoFormElement.readonly\"\n      [filterObject]=\"formElementRef._eoFormElement.filter\" [multiselect]=\"formElementRef._eoFormElement.multiselect\"\n      (onDataMetaChanged)=\"organizationDataMetaResolved($event)\"\n      [formControlName]=\"element._eoFormControlWrapper.controlName\"></eo-organization>\n  </eo-form-input>\n</ng-template>\n\n<!-- NUMBER -->\n<ng-template eoFormElementTemplate propertyType=\"NUMBER\" let-element=\"element\" let-formElementRef=\"formElementRef\">\n  <eo-form-input [tag]=\"tag\" [label]=\"formElementRef._eoFormElement.label\" [isNull]=\"isNull\"\n    [skipToggle]=\"skipToggle || situation !== 'SEARCH'\" (onToggleLabel)=\"labelToggled($event)\"\n    [required]=\"formElementRef._eoFormElement.required\" [disabled]=\"formElementRef._eoFormElement.readonly\"\n    [invalid]=\"formElementRef.invalid\">\n\n    <eo-number *ngIf=\"situation !== 'SEARCH'\" [readonly]=\"formElementRef._eoFormElement.readonly\"\n      [precision]=\"formElementRef._eoFormElement.precision\" [scale]=\"formElementRef._eoFormElement.scale\"\n      [grouping]=\"formElementRef._eoFormElement.grouping\" [pattern]=\"formElementRef._eoFormElement.pattern\"\n      [formControlName]=\"element._eoFormControlWrapper.controlName\">\n    </eo-number>\n\n    <eo-number-range *ngIf=\"situation === 'SEARCH'\" [readonly]=\"formElementRef._eoFormElement.readonly\"\n      [precision]=\"formElementRef._eoFormElement.precision\" [scale]=\"formElementRef._eoFormElement.scale\"\n      [grouping]=\"formElementRef._eoFormElement.grouping\" [pattern]=\"formElementRef._eoFormElement.pattern\"\n      [formControlName]=\"element._eoFormControlWrapper.controlName\"></eo-number-range>\n  </eo-form-input>\n</ng-template>\n\n<!-- DATE AND DATETIME -->\n<ng-template eoFormElementTemplate propertyType=\"DATETIME\" let-element=\"element\" let-formElementRef=\"formElementRef\">\n  <eo-form-input [tag]=\"tag\" [label]=\"formElementRef._eoFormElement.label\" [isNull]=\"isNull\"\n    [skipToggle]=\"skipToggle || situation !== 'SEARCH'\" (onToggleLabel)=\"labelToggled($event)\"\n    [required]=\"formElementRef._eoFormElement.required\" [disabled]=\"formElementRef._eoFormElement.readonly\"\n    [invalid]=\"formElementRef.invalid\">\n\n    <eo-date *ngIf=\"situation !== 'SEARCH'\" [withTime]=\"formElementRef._eoFormElement.withtime\"\n      [readonly]=\"formElementRef._eoFormElement.readonly\"\n      [formControlName]=\"element._eoFormControlWrapper.controlName\"></eo-date>\n\n    <eo-datetime-range *ngIf=\"situation === 'SEARCH'\" [pickerTitle]=\"formElementRef._eoFormElement.label\"\n      [withTime]=\"formElementRef._eoFormElement.withtime\"\n      [formControlName]=\"element._eoFormControlWrapper.controlName\"></eo-datetime-range>\n  </eo-form-input>\n</ng-template>\n\n<ng-content></ng-content>\n\n<!-- print out the type if it's not matching anything -->\n<ng-template #tplUnknown><b>{{formElementRef._eoFormElement.type}}</b></ng-template>\n</div>\n\n","import {ObjectFormControl} from '../object-form-control';\nimport {ValidatorFn, Validators} from '@angular/forms';\n\nexport class FormValidation {\n\n  /**\n   * Build validators for the given form element to be attached to\n   * a reactive formControl.\n   *\n   * @param formElement - form element object\n   * @param situation - form situation to fetch validators for\n   */\n  static getValidators(formElement: any, situation: string): ValidatorFn[] {\n\n    let elmValidators: ValidatorFn[] = [];\n    let {minlen, maxlen, required, regex} = formElement;\n\n    // apply situation based validations\n    switch (situation) {\n      case 'SEARCH': {\n        // todo: implement general validators for SEARCH situation\n        break;\n      }\n      default: {\n\n        if (required) {\n          elmValidators.push(Validators.required);\n        }\n        if (regex && !formElement.multiselect) {\n          elmValidators.push(Validators.pattern(regex));\n        }\n        break;\n      }\n    }\n    return elmValidators;\n  }\n\n  /**\n   *\n   * @param control - from object control\n   * @returns Validation object {eoformScript: {valid: boolean}} or null\n   */\n  static customScriptingValidation(control: ObjectFormControl): Object | null {\n    return (control._eoFormElement && control._eoFormElement.error) ? {eoformScript: {valid: false}} : null;\n  }\n\n}\n","import {UntypedFormGroup} from '@angular/forms';\n\nexport interface EoFormGroupWrapper {\n  // form control situation (CREATE, EDIT, SEARCH)\n  situation: string;\n  // the name of the wrapped form control\n  controlName: string;\n}\n\n/**\n * Extend angulars default UntypedFormGroup for implementation of a form group wrapping\n * a form control.\n */\nexport class ObjectFormControlWrapper extends UntypedFormGroup {\n  _eoFormControlWrapper: EoFormGroupWrapper;\n}\n","import {UntypedFormControl} from '@angular/forms';\n\n// extensions of the default angular form control\n\nexport class ObjectFormControl extends UntypedFormControl {\n  private __eoFormElement;\n\n  public set _eoFormElement(v) {\n    this.__eoFormElement = v;\n  };\n\n  public get _eoFormElement() {\n    return this.__eoFormElement;\n  }\n}\n","import {UntypedFormGroup} from '@angular/forms';\n\nexport interface EoFormGroup {\n  // the label for the form group\n  label?: string;\n  // object holding properties defining layout properties of the group\n  layout: any;\n  // type of group indicating if the form is a stack, a fieldset or a simple group\n  type: string;\n  // object containing the groups child form components\n  // key is the controls name, value the actual form control or -group\n  //controls?: any;\n}\n\n// extensions of the default angular form groups\n\nexport class ObjectFormGroup extends UntypedFormGroup {\n  public _eoFormGroup: EoFormGroup;\n}\n","<div *ngIf=\"group\" [ngSwitch]=\"groupType\"\n  class=\"form-element {{group._eoFormGroup ? group._eoFormGroup.type : 'o2mControlWrap'}} align-{{(group._eoFormGroup && group._eoFormGroup.layout) ? group._eoFormGroup.layout.align : ''}}\"\n  [formGroup]=\"group\">\n\n  <!-- group stacks (tabs) -->\n  <yvc-tabs *ngSwitchCase=\"'stack'\">\n    <ng-template *ngFor=\"let key of group.controls | keys; index as i;\" [yvcTab]=\"{id: 't' + i, \n    headerStyleClass: 'dirty-' + group.controls[key].dirty + ' invalid-' + group.controls[key].invalid,\n    label: getObjectFormGroup(group.controls[key]).label}\">\n      <div class=\"stack\" [ngClass]=\"{stackBase: group._eoFormGroup.label === 'data'}\">\n\n        <eo-form-element [element]=\"group.controls[key]\"\n          *ngIf=\"getObjectFormControlWrapper(group.controls[key]); else stkgroup\" [situation]=\"situation\"\n          [skipToggle]=\"skipToggle\">\n          <ng-template eoFormElementTemplate propertyType=\"TABLE\" let-element=\"element\"\n            let-formElementRef=\"formElementRef\">\n            <ng-container *ngTemplateOutlet=\"tplFormElementTable; context: {element, formElementRef}\"></ng-container>\n          </ng-template>\n        </eo-form-element>\n        <ng-template #stkgroup>\n          <eo-form-group [group]=\"group.controls[key]\" [noGroupLabels]=\"true\" [situation]=\"situation\"\n            [skipToggle]=\"skipToggle\"></eo-form-group>\n        </ng-template>\n      </div>\n    </ng-template>\n  </yvc-tabs>\n\n  <!-- group with legend -->\n  <div *ngSwitchCase=\"'fieldset'\" class=\"om-group fieldset\">\n    <div class=\"legend\"><span>{{group._eoFormGroup.label}}</span></div>\n\n    <div>\n      <ng-container *ngFor=\"let key of group.controls | keys\">\n        <eo-form-element [element]=\"group.controls[key]\"\n          *ngIf=\"getObjectFormControlWrapper(group.controls[key]); else fsgroup\" [situation]=\"situation\"\n          [skipToggle]=\"skipToggle\">\n          <ng-template eoFormElementTemplate propertyType=\"TABLE\" let-element=\"element\"\n            let-formElementRef=\"formElementRef\">\n            <ng-container *ngTemplateOutlet=\"tplFormElementTable; context: {element, formElementRef}\"></ng-container>\n          </ng-template>\n        </eo-form-element>\n        <ng-template #fsgroup>\n          <eo-form-group [group]=\"group.controls[key]\" [situation]=\"situation\"\n            [skipToggle]=\"skipToggle\"></eo-form-group>\n        </ng-template>\n      </ng-container>\n    </div>\n  </div>\n\n  <!-- group -->\n  <ng-container class=\"om-group\" *ngSwitchCase=\"'group'\">\n    <ng-container *ngFor=\"let key of group.controls | keys\">\n\n      <eo-form-element [element]=\"group.controls[key]\"\n        *ngIf=\"getObjectFormControlWrapper(group.controls[key]); else omgroup\" [situation]=\"situation\"\n        [skipToggle]=\"skipToggle\">\n\n        <ng-template eoFormElementTemplate propertyType=\"TABLE\" let-element=\"element\"\n          let-formElementRef=\"formElementRef\">\n          <ng-container *ngTemplateOutlet=\"tplFormElementTable; context: {element, formElementRef}\"></ng-container>\n        </ng-template>\n\n      </eo-form-element>\n      <ng-template #omgroup>\n        <eo-form-group [group]=\"group.controls[key]\" [situation]=\"situation\" [skipToggle]=\"skipToggle\"></eo-form-group>\n      </ng-template>\n    </ng-container>\n  </ng-container>\n\n</div>\n\n\n<ng-template #tplFormElementTable let-element=\"element\" let-formElementRef=\"formElementRef\">\n  <div class=\"table\">\n    <eo-table [params]=\"{\nsituation: element._eoFormControlWrapper.situation,\nelement: formElementRef._eoFormElement,\nsize: formElementRef._eoFormElement.size,\nobject: formElementRef._eoFormElement.object\n}\" [formControl]=\"element.get(element._eoFormControlWrapper.controlName)\"></eo-table>\n  </div>\n</ng-template>","import {Component, Input, ViewEncapsulation} from '@angular/core';\nimport {EoFormGroupWrapper, ObjectFormControlWrapper} from '../object-form-control-wrapper';\nimport {EoFormGroup, ObjectFormGroup} from '../object-form-group.model';\n\n@Component({\n  selector: 'eo-form-group',\n  templateUrl: './object-form-group.component.html',\n  styleUrls: ['./object-form-group.component.scss'],\n  // changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class ObjectFormGroupComponent {\n\n  private types = {\n    STACK: 'stack',\n    GROUP: 'group',\n    FIELDSET: 'fieldset'\n  };\n\n  group: ObjectFormGroup;\n  groupType: string;\n  isCore: boolean;\n  isData: boolean;\n\n  // form situation, if not set default will be 'EDIT'\n  @Input() situation = 'EDIT';\n  @Input() skipToggle: boolean;\n\n  @Input('group')\n  set groupd(g: ObjectFormGroup) {\n    if (g) {\n      this.group = g;\n      this.isCore = this.group._eoFormGroup && this.group._eoFormGroup.label === 'core';\n      this.isData = this.group._eoFormGroup && this.group._eoFormGroup.label === 'data';\n      this.groupType = this.getGroupType();\n    } else {\n      this.group = null;\n    }\n  }\n\n  @Input() noGroupLabels: boolean;\n\n  getObjectFormGroup(control): EoFormGroup {\n    return (control as ObjectFormGroup)._eoFormGroup;\n  }\n\n  getObjectFormControlWrapper(control): EoFormGroupWrapper {\n    return (control as ObjectFormControlWrapper)._eoFormControlWrapper;\n  }\n\n\n  private getGroupType() {\n    // may as well be an ObjectFormControlWrapper so check first\n    // if we got a real group\n    if (this.group._eoFormGroup) {\n      if (this.group._eoFormGroup.type === 'o2mGroupStack') {\n\n        // for data section only render as stack (tabs) if we have more than one child\n        if (this.isData && Object.keys(this.group.controls).length === 1) {\n          return this.types.GROUP;\n        }\n        return this.types.STACK;\n      }\n      if (this.group._eoFormGroup.type === 'o2mGroup') {\n        return (this.group._eoFormGroup.label && !(this.isCore || this.isData) && !this.noGroupLabels && !this.parentIsStack(this.group)) ? this.types.FIELDSET : this.types.GROUP;\n      }\n      return this.types.GROUP;\n    }\n  }\n\n  private parentIsStack(group: ObjectFormGroup): boolean {\n    let parentFormElement = group.parent['_eoFormGroup'];\n    return parentFormElement && parentFormElement.type === 'o2mGroupStack';\n  }\n}\n","\nimport {forkJoin as observableForkJoin, Observable} from 'rxjs';\n\nimport {map} from 'rxjs/operators';\nimport {Injectable} from '@angular/core';\nimport {HttpHeaders} from '@angular/common/http';\nimport {ObjectFormScriptingScope} from './object-form-scripting-scope';\nimport * as lodash from 'lodash';\nimport moment from 'moment';\nimport {Logger, BackendService} from '@eo-sdk/core';\n\n@Injectable()\nexport class ObjectFormScriptService {\n\n  constructor(private logger: Logger,\n              private backend: BackendService) {\n  }\n\n  /**\n   * Run a form script.\n   * @param scope - the current scripting scope\n   * @param script - the script to be executed\n   * @param [scriptName] - the scripts name\n   */\n  public runFormScript(scope: ObjectFormScriptingScope, script: any, scriptName?: string) {\n\n    try {\n      // Define form script the function\n      let formScriptFunction = this.defineFunction('Formscript/' + scriptName, script);\n      // run the form script\n      let formScriptReturn = formScriptFunction(\n        scope, lodash, moment\n      );\n      // Check if the form script returns something and may export global scripts\n      if (formScriptReturn) {\n        this.importGlobalScriptsAndCallInit(scope, formScriptReturn);\n      }\n    } catch (e) {\n      if (e instanceof SyntaxError) {\n        alert('Syntax error in Form-Script. See console log for details.');\n      }\n      this.logger.error('Got script error', e);\n    }\n  }\n\n  /**\n   * Define form script function, appending source url as comment.\n   * Enables debugging using browser debugging tools (Chrome+Firefox)\n   * @see: https://developer.mozilla.org/en-US/docs/Tools/Debugger/How_to/Debug_eval_sources\n   *\n   * @param name - the name of the script\n   * @param script - script to be wrapped in a function\n   * @returns the function\n   */\n  private defineFunction(name: string, script: any): Function {\n    // Appending source url as comment. See https://developer.mozilla.org/en-US/docs/Tools/Debugger/How_to/Debug_eval_sources\n    // Enables debugging using browser debugging tools (Chrome+Firefox)\n    // The line feed is needed, if the script has a comment in the last line\n    return new Function('scope', '_', 'moment', script + '\\n;//# sourceURL=' + name + '.js');\n  }\n\n  /**\n   * If the script contains global script, this function will import and run them\n   * before running the actual script.\n   *\n   * @param scope - the current scripting scope\n   * @param formScriptReturn - the return value of the actual form script\n   */\n  private importGlobalScriptsAndCallInit(scope: ObjectFormScriptingScope, formScriptReturn: any) {\n\n    if (!formScriptReturn.init) {\n      return;\n    }\n\n    if (formScriptReturn.uses) {\n      // collect the global script exports promises\n      let exports = [];\n      let globals = [];\n\n      // collect Observables for fetching global scripts\n      for (let use of formScriptReturn.uses) {\n        globals.push(this.resolveGlobalScript(use, scope));\n      }\n\n      observableForkJoin(globals).subscribe((globalReturns) => {\n\n        for (let scriptReturn of globalReturns) {\n          exports.push(scriptReturn['exports']);\n        }\n        // Invoke init function on form script return with the\n        // collected exports using javascript apply magic\n        formScriptReturn.init.apply(this, exports);\n      });\n    } else {\n      // invoke init direct (no use of global scripts)\n      formScriptReturn.init();\n    }\n  }\n\n  /**\n   * Fetch global scripts.\n   * @param name - the name of the global script\n   * @param scope - the current scripting scope\n   * @returns\n   */\n  private resolveGlobalScript(name: string, scope: ObjectFormScriptingScope): Observable<any> {\n\n    const requestOptions = {\n      headers: new HttpHeaders({\n        'Accept': 'text/plain'\n      }),\n      responseType: 'text'\n    };\n\n    return this.backend\n      .get(`/script/${name}/script`, null, requestOptions).pipe(\n      map((res: any) => {\n        // define the global function ...\n        let globalScript = this.defineFunction('Global/' + name, res);\n        // ... and run it\n        return globalScript(scope, lodash, moment);\n      }));\n  }\n}\n","import * as _ from 'lodash';\n\n// This class will be injected as scope into form scripts\nexport class ObjectFormScriptingScope {\n\n  // List of all form fields (elements)\n  public model: any = {};\n\n  // all data values including invisible elements (READONLY)\n  public data: any = {};\n\n  // The id of the current DMS-Object (READONLY)\n  public objectId: string;\n\n  // actions passed by BPM forms\n  public actions: any = {};\n  // additional objects provided by the object form\n  // used for example to pass dms objects attached to a work item\n  // to the script (READONLY)\n  // may contain: FormScriptDmsObject, FileEntry\n  public objects: any[] = [];\n  public context: { id: string, title: string, typeName: string } = {id: '', title: '', typeName: ''};\n\n\n  /**\n   * Constructor\n   * @param situation - Current form model situation (could be CREATE, SEARCH or EDIT)\n   * @param onScriptingModelChange - callback function to be called when the scripting model changed\n   * Be aware to provide an instance method as callback for the scripting scope.\n   * @see: https://blog.johnnyreilly.com/2014/04/typescript-instance-methods.html\n   *\n   * @param api - Plugin API reference\n   * @param isTableRowScope - set this to true if the current scripting scope is created for a\n   * row editing form from a table element. It will then provide the right parameters for the scripting functions\n   */\n  constructor(public situation: string,\n              private onScriptingModelChange,\n              public api: any,\n              private isTableRowScope?: boolean) {\n  }\n\n  /**\n   * Sets the internal model and wraps every model element with an observer to be\n   * able to track their changes from within a form script\n   * @param model\n   */\n  public setModel(model: any) {\n    this.model = {};\n    for (let k of Object.keys(model)) {\n      this.model[k] = new ScopeElement(model[k], this.onScriptingModelChange);\n    }\n  }\n\n  /**\n   * Returns the observed model. Used for row editing forms of table elements that\n   * create their own scripting scope in context of their parent form.\n   * @returns the observed scripting scope model\n   */\n  public getModel() {\n    return this.model;\n  }\n\n  /**\n   * Called by the object form when the form model changes.\n   * @param change - object with key equals name of the element\n   * that changes and value of the new value\n   */\n  public modelChanged(change: any) {\n\n    // find the changed element in the scopes model\n    let propertyName = Object.keys(change)[0];\n    if (change[propertyName] === undefined) {\n      return;\n    }\n\n    if (this.model[propertyName]) {\n      let el = this.model[propertyName];\n      el.update(change[propertyName], this.model);\n    }\n  }\n}\n\nclass ScopeElement {\n  private element;\n\n  constructor(private originalElement: any, private onScriptingModelChange: Function) {\n    this.element = _.cloneDeep(originalElement);\n    if (this.element.value === undefined) {\n      this.element.value = null;\n    }\n    if (this.isProxyable(this.element.value)) {\n      this.element.value = this.createProxy(this.element.value);\n    }\n  }\n\n  private isProxyable(value, key?: string) {\n    return (typeof value === 'object' || Array.isArray(value))\n      && value !== null\n      && !(value instanceof Date)\n      && !value.isProxy\n      && (key ? !key.includes('_meta') : true);\n  }\n\n  private createProxy(value) {\n    const handler = {\n      set: (target, key, val) => {\n        const previousValue = _.cloneDeep(this.element.value);\n        target[key] = val;\n        if (this.hasValueChanged(this.element.value, previousValue) && !key.includes('_meta')) {\n          this.onScriptingModelChange(this.element.name, {newValue: _.cloneDeep(this.element.value), name: 'value'});\n        }\n        return true;\n      },\n      // This get trap is only used to find out, if an object is a proxy or not.\n      get: (target, key) => {\n        if (key === 'isProxy') {\n          return true;\n        }\n        return target[key];\n      }\n    };\n\n    return new Proxy(value, handler);\n  }\n\n  private hasValueChanged(value1, value2) {\n    let v1 = value1;\n    let v2 = value2;\n    if(Array.isArray(value1) && typeof value1[0] === 'object' && Array.isArray(value2) && typeof value2[0] === 'object'){// this is only the case in tables\n      v1 = value1.map(entry => this.createEntryWithoutMetadata(entry));// removing metadata from every row, because it's insignificant for change detection\n      v2 = value2.map(entry => this.createEntryWithoutMetadata(entry));// and can cause false \"true\"-results\n    }\n    return JSON.stringify(v1) !== JSON.stringify(v2);\n  }\n\n  private createEntryWithoutMetadata(entry){\n    let entryWithoutMetadata = {...entry};\n    Object.keys(entryWithoutMetadata).forEach(key => {\n      delete entryWithoutMetadata[key + '_meta'];\n    });\n    return entryWithoutMetadata;\n  }\n\n  update(value, model) {\n    const newValue = _.cloneDeep(value);\n    if (this.hasValueChanged(this.element.value, value)) {\n      if (this.isProxyable(newValue)) {\n        this.element.value = this.createProxy(newValue);\n      } else {\n        this.element.value = newValue;\n      }\n      if (this.element.onchange) {\n        this.element.onchange(this, model);\n      }\n    }\n  }\n\n  set value(value) {\n    if (this.isProxyable(value)) {\n      this.element.value = this.createProxy(value);\n    } else {\n      this.element.value = value;\n    }\n    this.onScriptingModelChange(this.element.name, {newValue: _.cloneDeep(this.element.value), name: 'value'});\n  }\n\n  get value() {\n    return this.element.value;\n  }\n\n  set onchange(onchange) {\n    this.element.onchange = onchange;\n    this.onScriptingModelChange(this.element.name, {newValue: onchange, name: 'onchange'});\n  }\n\n  get onchange() {\n    return this.element.onchange;\n  }\n\n  set required(required) {\n    if(this.hasValueChanged(this.element.required, required)){\n      this.element.required = required;\n      this.onScriptingModelChange(this.element.name, {newValue: required, name: 'required'});\n    }\n  }\n\n  get required() {\n    return this.element.required;\n  }\n\n  set readonly(readonly) {\n    this.element.readonly = readonly;\n    this.onScriptingModelChange(this.element.name, {newValue: readonly, name: 'readonly'});\n  }\n\n  get readonly() {\n    return this.element.readonly;\n  }\n\n  set error(error) {\n    if(this.hasValueChanged(this.element.error, error)){\n      this.element.error = error;\n      this.onScriptingModelChange(this.element.name, {newValue: error, name: 'error'});\n    }\n  }\n\n  get error() {\n    return this.element.error;\n  }\n\n  set onrowedit(onrowedit) {\n    this.element.onrowedit = onrowedit;\n    this.onScriptingModelChange(this.element.name, {newValue: onrowedit, name: 'onrowedit'});\n  }\n\n  get onrowedit() {\n    return this.element.onrowedit;\n  }\n\n  set contextId(contextId) {\n    this.element.contextId = contextId;\n    this.onScriptingModelChange(this.element.name, {newValue: contextId, name: 'contextId'});\n  }\n\n  get contextId() {\n    return this.element.contextId;\n  }\n\n  setList(obj) {\n    if (this.originalElement.setList) {\n      this.originalElement.setList(obj);\n    }\n  }\n\n  applyFilter(func) {\n    if (this.originalElement.applyFilter) {\n      this.originalElement.applyFilter(func);\n    }\n  }\n\n  applyDisablingFilter(func) {\n    if (this.originalElement.applyDisablingFilter) {\n      this.originalElement.applyDisablingFilter(func);\n    }\n  }\n\n  setFilter(obj) {\n    if (this.originalElement.setFilter) {\n      this.originalElement.setFilter(obj);\n    }\n  }\n\n  setQueryFilters(queryFiltersObject: {[fieldQname: string]: {o: string, v1: any, v2: any}}, objectTypes?: string[]) {\n    if (this.originalElement.setQueryFilters) {\n      this.originalElement.setQueryFilters(queryFiltersObject, objectTypes);\n    }\n  }\n\n  get name() {\n    return this.element.name;\n  }\n\n  get qname() {\n    return this.element.qname;\n  }\n\n  get label() {\n    return this.element.label;\n  }\n\n  get description() {\n    return this.element.description;\n  }\n\n  get type() {\n    return this.element.type;\n  }\n\n  get multiselect() {\n    return this.element.multiselect;\n  }\n\n  get codesystem() {\n    return this.element.codesystem;\n  }\n\n  get minlen() {\n    return this.element.minlen;\n  }\n\n  get maxlen() {\n    return this.element.maxlen;\n  }\n\n  get classification() {\n    return this.element.classification;\n  }\n\n  get scale() {\n    return this.element.scale;\n  }\n\n  get precision() {\n    return this.element.precision;\n  }\n\n  get withtime() {\n    return this.element.withtime;\n  }\n\n  get elements() {\n    return this.element.elements;\n  }\n\n  get aliases() {\n    return this.element.aliases;\n  }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Output,\n} from '@angular/core';\nimport {Logger, Utils} from '@eo-sdk/core';\nimport * as _ from 'lodash';\nimport {Subscription} from 'rxjs';\nimport {debounceTime} from 'rxjs/operators';\n\nimport {FormStatusChangedEvent} from '../form-status-changed-event.interface';\nimport {FormGenResult, ObjectFormHelperService} from '../object-form-helper.service';\nimport {ObjectFormOptions} from '../object-form-options.interface';\nimport {ObjectFormScriptService} from './object-form-script/object-form-script.service';\nimport {ObjectFormScriptingScope} from './object-form-script/object-form-scripting-scope';\n\n\n@Component({\n  selector: 'eo-object-form',\n  templateUrl: './object-form.component.html',\n  styleUrls: ['./object-form.component.scss'],\n  // define 'child only' services for the form without setting it up on the module\n  // which would cause them to be propagated to the whole application\n  providers: [ObjectFormScriptService],\n})\nexport class ObjectFormComponent implements OnDestroy, AfterViewInit {\n\n  @Input() isInnerTableForm: boolean;\n  // triggered when the forms state has been changed\n  @Output() statusChanged = new EventEmitter<FormStatusChangedEvent>();\n  // handler to be executed after the form has been set up\n  @Output() onFormReady = new EventEmitter();\n\n  public formOptions: ObjectFormOptions;\n  public defaultFormOptions: ObjectFormOptions;\n  // the actual form instance\n  public form;\n  // property for holding the forms data used for comparison when a form-changed-event\n  // is fetched to indicate wher or not the indexdata were changed or just the properties\n  // of the form elements (eg. form script setting fields to readonly)\n  private formData: any;\n  private scriptingScope: ObjectFormScriptingScope;\n  private subscriptions: Subscription[] = [];\n\n  @Input('formOptions')\n  set options(formOptions: ObjectFormOptions) {\n    this.defaultFormOptions = formOptions;\n    this.formOptions = _.cloneDeep(formOptions);\n    this.init();\n  }\n\n  constructor(private logger: Logger,\n    private elementRef: ElementRef,\n    private formScriptService: ObjectFormScriptService,\n    private formHelperService: ObjectFormHelperService,\n    private cdRef: ChangeDetectorRef) {\n  }\n\n  // initialize the form based on the provided form options\n  private init() {\n    this.form = null;\n    setTimeout(() => {\n      this.unsubscribeAll();\n      this.buildReactiveForm(this.formOptions || {});\n    }, 0);\n  }\n\n  private initOptions() {\n    this.options = this.defaultFormOptions;\n  }\n\n  public focusForm() {\n    this.elementRef.nativeElement.querySelector('input').focus();\n  }\n\n  public setFormData(data) {\n    this.formOptions.data = data;\n    setTimeout(() => {\n      this.init();\n    }, 0);\n  }\n\n  /**\n   * Extracts the values from the form model. Each form value is represented by one\n   * property on the result object holding the fields value. The keys (properties) are the `name`\n   * properties of the form element (in SEARCH situation the `qname` field is used).\n   *\n   * How values are extracted is influenced by the forms situation.\n   *\n   * @return object of key value pairs\n   */\n  public getFormData() {\n    return this.formToData();\n  }\n\n  public setFormPristine() {\n    this.form.markAsPristine();\n  }\n\n  // reset the form to its initial state\n  public resetForm() {\n    this.initOptions();\n    this.emitFormChangedEvent();\n  }\n\n  /**\n   * Returns the observed model that was passed to the current form script running. If there is\n   * no form script, this method will return NULL.\n   * @returns\n   */\n  public getObservedScriptModel() {\n    return this.scriptingScope ? this.scriptingScope.getModel() : null;\n  }\n\n  // Create a reactive form from the enaio form model\n  private buildReactiveForm(formOptions) {\n    const formGenRes: FormGenResult = this.formHelperService.buildReactiveForm(\n      formOptions, this.formScriptService, this.isInnerTableForm\n    );\n    this.form = formGenRes.form;\n    this.scriptingScope = formGenRes.scriptingScope;\n    this.subscriptions = formGenRes.controlValueSubscriptions;\n\n    setTimeout(() => {\n      if (!this.form) return;\n      let formWatch = this.form.valueChanges.pipe(debounceTime(500))\n        .subscribe(() => !formWatch.closed && this.emitFormChangedEvent());\n      this.subscriptions.push(formWatch);\n      this.onFormReady.emit();\n      this.emitFormChangedEvent(false);\n    }, 300);\n  }\n\n  private emitFormChangedEvent(compare = true) {\n    // check if indexdata has been changed\n    let currentFormData = this.getFormData();\n    let idxChange = compare ? JSON.stringify(this.formData) !== JSON.stringify(currentFormData) : false;\n\n    this.formData = Utils.formDataParse(Utils.formDataStringify(currentFormData));\n    if (this.form) {\n      this.statusChanged.emit({\n        invalid: this.form.invalid,\n        dirty: this.form.dirty,\n        data: this.formData,\n        indexdataChanged: idxChange\n      });\n    }\n  }\n\n  /**\n   * Extract the values from the form\n   */\n  private formToData() {\n\n    return this.formHelperService.extractFormData(\n      this.form,\n      this.formOptions.formModel.situation,\n      this.formOptions.data,\n      this.isInnerTableForm\n    );\n  }\n\n  ngOnDestroy() {\n    this.unsubscribeAll();\n  }\n\n  ngAfterViewInit() {\n    this.cdRef.detectChanges();\n  }\n\n  // unsubscribe from all value change listeners for the current form\n  // to avoid memory leaks. This method will also be called every time\n  // a new form is rendered to get rid of the old form element subscriptions\n  private unsubscribeAll() {\n    if (this.subscriptions.length) {\n      this.logger.debug('unsubscribed from ' + this.subscriptions.length + ' value change listeners.');\n      this.subscriptions.forEach(s => s.unsubscribe());\n      this.subscriptions = [];\n    }\n  }\n}\n","<div class=\"eo-object-form\" *ngIf=\"form && formOptions\" [formGroup]=\"form\" eoRtlAware>\n  <div class=\"form-element-wrap core\">\n    <eo-form-group [group]=\"form.get('core')\" [situation]=\"formOptions.formModel.situation\"></eo-form-group>\n  </div>\n  <div class=\"form-element-wrap data\">\n    <eo-form-group [group]=\"form.get('data')\" [situation]=\"formOptions.formModel.situation\"></eo-form-group>\n  </div>\n</div>\n\n\n\n\n","import {AfterViewInit, Component, EventEmitter, HostBinding, Input, OnInit, Output} from '@angular/core';\nimport {AppCacheService, DmsObject, DmsService, EnaioEvent, EventService} from '@eo-sdk/core';\n\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {PendingChangesService} from '../../eo-framework-core/pending-changes/pending-changes.service';\nimport {SelectionService} from '../../eo-framework-core/selection/selection.service';\nimport {ActionService} from '../actions/action-service/action.service';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-object-state-details',\n  templateUrl: './object-state-details.component.html',\n  styleUrls: ['./object-state-details.component.scss']\n})\nexport class ObjectStateDetailsComponent implements OnInit, AfterViewInit {\n\n  static LAST_SEEN_LIMIT = 10;\n\n  private _visible = true;\n\n  @Input() context: DmsObject;\n  @Input() selectedItem: DmsObject;\n  @Input() seenItems: any[] = [];\n  @Input() frontPageData;\n\n  @Input() set visible(v) {\n    this._visible = !!v;\n    // if (this.tabContainer && this.tabContainer.isReady()) {\n    //   const t = this._visible ? this.tabContainer.toggleSplitPane() : this.tabContainer.clearSelection();\n    // }\n  }\n\n  @Output() onTabChange = new EventEmitter();\n\n  // externalPanels = new QueryList<TabPanelComponent>();\n  // @ContentChildren(TabPanelComponent) tabPanels: QueryList<TabPanelComponent>;\n  // @ContentChildren(TabPluginComponent) tabPlugins: QueryList<TabPluginComponent>;\n\n  // @ViewChild('tContainer') tabContainer: TabContainerComponent;\n  // @ViewChild('lastSeen') lastSeenTab: TabPanelComponent;\n\n  @HostBinding('attr.data-type') get dataType() {\n    return this.context ? this.context.typeName : 'none';\n  }\n\n  @HostBinding('attr.data-id') get dataId() {\n    return this.context ? this.context.id : 'none';\n  }\n\n  @HostBinding('style.height') get visibility() {\n    return !this._visible ? 0 : '100%';\n  }\n\n  constructor(private selection: SelectionService, private actionService: ActionService, private appCache: AppCacheService,\n    private dmsService: DmsService, private eventService: EventService, private pendingChanges: PendingChangesService) {\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_LOADED)\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe(event => this.onFocus(event.data));\n\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_UPDATED)\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe(event => this.onFocus(event.data));\n\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_DELETED)\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe(event => (this.onRemove(event.data), this.onRemoveModification(event.data)));\n  }\n\n  onFocus(item: DmsObject) {\n    this.selectedItem = item;\n    if (item && item.id !== this.context.id) {\n      const notSeenTab = false //!this.lastSeenTab TODO: enable again?\n      const notModified = this.seenItems.find(i => i.id === item.id)?.modified?.on === item.modified.on;\n      let {id, typeName, title, description, modified} = item;\n      if(notSeenTab || !notModified) this.onRemove(item, [{id, type: typeName, title, description, modified}]);\n    }\n  }\n\n  onRemove(item: DmsObject, seen = []) {\n    if (item && item.id) {\n      this.seenItems = seen.concat(this.seenItems.filter(i => i.id !== item.id)).slice(0, ObjectStateDetailsComponent.LAST_SEEN_LIMIT);\n      this.appCache.setItem('eo.last.seen.objects-' + this.context.id, this.seenItems).subscribe();\n    }\n  }\n\n  onRemoveModification(item: DmsObject) {\n    if (item && item.id && this.frontPageData) {\n      this.frontPageData.lastModifications = this.frontPageData.lastModifications && this.frontPageData.lastModifications.filter(i => i.id !== item.id);\n    }\n  }\n\n  selectFrontPageDoc(doc) {\n    if (!this.pendingChanges.check()) {\n      this.selection.focus(doc);\n    }\n  }\n\n  onContextMenuClicked(evt, doc?) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    if (!this.pendingChanges.check()) {\n      this.dmsService.getDmsObjectByParams(doc || this.context).subscribe(o => this.actionService.showActions([o], 'DMS_OBJECT'));\n    }\n  }\n\n  ngOnInit() {\n    this.appCache.getItem('eo.last.seen.objects-' + this.context.id)\n      .subscribe(ls => this.seenItems = ls || []);\n  }\n\n  ngAfterViewInit() {\n    // let panels = this.tabPanels.toArray();\n    // this.tabPlugins.forEach(p => panels = panels.concat(p.tabPanels.toArray()));\n    // this.externalPanels.reset(panels);\n  }\n\n}\n","<header class=\"eo-head eo-head-tabs\">\n  <h2 translate>eo.state.object.frontpage.title</h2>\n</header>\n\n<yvc-tabs>\n  <ng-template [yvcTab]=\"{id: 'last-changes', label: 'eo.state.object.frontpage.lastchanges' | translate}\">\n    <div class=\"panel last-changes\">\n        <div class=\"doc\" *ngFor=\"let doc of frontPageData?.lastModifications\"\n          [ngClass]=\"{selected: selectedItem && doc.id === selectedItem.id}\" (click)=\"selectFrontPageDoc(doc)\"\n          (contextmenu)=\"onContextMenuClicked($event, doc)\">\n          <div class=\"marker\"></div>\n          <div class=\"content\">\n            <div class=\"date\">{{doc.modified | localeDate}}</div>\n            <strong>{{doc.title}}</strong>\n            <div class=\"desc\">{{doc.description}}</div>\n          </div>\n        </div>\n      </div>\n  </ng-template>\n\n  <ng-template [yvcTab]=\"{id: 'last-seen', label: 'eo.state.object.frontpage.lastseen' | translate}\">\n   <div class=\"panel last-seen\">\n        <div class=\"doc\" *ngFor=\"let doc of seenItems\"\n          [ngClass]=\"{selected: selectedItem && doc.id === selectedItem.id}\" (click)=\"selectFrontPageDoc(doc)\"\n          (contextmenu)=\"onContextMenuClicked($event, doc)\">\n          <div class=\"marker\"></div>\n          <div class=\"content\">\n            <div class=\"date\">{{doc.modified.on | localeDate}}</div>\n            <strong>{{doc.title}}</strong>\n            <div class=\"desc\">{{doc.description}}</div>\n          </div>\n        </div>\n    </div> \n  </ng-template>\n\n  <ng-content></ng-content>\n</yvc-tabs>","export * from './plugins.module';\nexport * from './plugin.component';\nexport * from './plugin.service';\nexport * from './plugin.directive';\n","import {Component, Input, ViewChild, ViewChildren, QueryList} from '@angular/core';\nimport {PluginDirective} from './plugin.directive';\nimport {PluginService} from './plugin.service';\n// import {TabPanelComponent} from '../tab-container/tab-panel/tab-panel.component';\n\n@Component({\n  selector: 'eo-plugin',\n  template: `\n    <ng-template eoPlugin></ng-template>`\n})\nexport class PluginComponent {\n\n  @ViewChild(PluginDirective, {static: true}) eoPlugin: PluginDirective;\n\n  @Input()\n  set type(type) {\n    this.pluginService.loadByType(type, this.eoPlugin.viewContainerRef);\n  }\n\n  @Input()\n  set id(id) {\n    this.pluginService.loadById(id, this.eoPlugin.viewContainerRef);\n  }\n\n  constructor(public pluginService: PluginService) {\n  }\n\n}\n\n@Component({\n  selector: 'eo-tab-plugin',\n  template: `\n  <ng-template *ngFor=\"let t of types\" [yvcTab]=\"{id: t.id, label: t.id | translate}\">\n      <eo-plugin [id]=\"t.id\"></eo-plugin>\n  </ng-template>`\n})\nexport class TabPluginComponent {\n  types: any[];\n\n  // @ViewChildren(TabPanelComponent) tabPanels: QueryList<TabPanelComponent>;\n\n  @Input()\n  set type(type) {\n    this.types = this.pluginService.loadTabs(type);\n  }\n\n  constructor(public pluginService: PluginService) {\n  }\n\n}\n\n@Component({\n  selector: 'eo-sidebar-plugin',\n  template: `\n    <div #navItem class=\"nav-item\" *ngFor=\"let l of _links\">\n      <a [href]=\"l.path\" *ngIf=\"l.path.startsWith('http');else link\">{{l.id | translate}}</a>\n      <ng-template #link>\n        <a [routerLink]=\"l.path\" [queryParams]=\"l.queryParams\" routerLinkActive=\"active-link\">{{l.id | translate}}</a>\n      </ng-template>\n    </div>`\n})\nexport class SidebarPluginComponent {\n  _links: any[];\n\n  @ViewChildren('navItem') links: QueryList<any>;\n\n  @Input()\n  set type(type) {\n    this._links = this.pluginService.loadLinks(type);\n  }\n\n  constructor(public pluginService: PluginService) {\n  }\n\n}\n","import {Directive, ViewContainerRef} from '@angular/core';\n\n@Directive({\n  selector: '[eoPlugin]'\n})\nexport class PluginDirective {\n\n  constructor(public viewContainerRef: ViewContainerRef) {\n  }\n\n}\n","import {Injectable, Inject, InjectionToken, ComponentFactoryResolver} from '@angular/core';\n\nexport const ENTRY_COMPONENTS = new InjectionToken<any[]>('ENTRY_COMPONENTS');\nexport const ENTRY_LINKS = new InjectionToken<any[]>('ENTRY_LINKS');\n\n\nexport interface EoPlugin {\n  id: string;\n  matchType: RegExp;\n}\n\nexport interface EoLinkPlugin extends EoPlugin {\n  path: any;\n  queryParams?: any;\n}\n\n@Injectable()\nexport class PluginService {\n\n  public links: any[] = [];\n  public components: any[] = [];\n\n  constructor(@Inject(ENTRY_COMPONENTS) components: EoPlugin[],\n              @Inject(ENTRY_LINKS) links: EoLinkPlugin[],\n              private _componentFactoryResolver: ComponentFactoryResolver) {\n    this.components = components || [];\n    this.links = links || [];\n  }\n\n  loadComponent(plugin, viewContainerRef, data = {}) {\n    let componentFactory = this._componentFactoryResolver.resolveComponentFactory(plugin);\n\n    // viewContainerRef.clear();\n    viewContainerRef.createComponent(componentFactory);\n    // (<PluginComponent>componentRef.instance).data = data;\n  }\n\n  loadByType(type: string, viewContainerRef: any) {\n    return this.components.filter(p => p.matchType && type.match(p.matchType))\n      .forEach(m => this.loadComponent(m, viewContainerRef));\n  }\n\n  loadById(id: string, viewContainerRef: any) {\n    return this.components.filter(p => p.id && id === p.id)\n      .forEach(m => this.loadComponent(m, viewContainerRef));\n  }\n\n  loadTabs(type: string) {\n    return this.components.filter(p => p.matchType && type.match(p.matchType));\n  }\n\n  loadLinks(type: string) {\n    return this.links.filter(p => p.matchType && type.match(p.matchType))\n  }\n\n}\n","import {NgModule, ANALYZE_FOR_ENTRY_COMPONENTS, ModuleWithProviders} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {PluginService, ENTRY_COMPONENTS, ENTRY_LINKS} from './plugin.service';\nimport {PluginDirective} from './plugin.directive';\nimport {PluginComponent, TabPluginComponent, SidebarPluginComponent} from './plugin.component';\nimport {RouterModule} from '@angular/router';\nimport {EoSharedModule} from '@eo-sdk/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    EoSharedModule,\n    RouterModule\n  ],\n  declarations: [PluginDirective, PluginComponent, TabPluginComponent, SidebarPluginComponent],\n  providers: [PluginService, {\n    provide: ENTRY_COMPONENTS,\n    useValue: []\n  }, {\n    provide: ENTRY_LINKS,\n    useValue: []\n  }],\n  exports: [PluginComponent, TabPluginComponent, SidebarPluginComponent]\n})\nexport class PluginsModule {\n  static forRoot(components: any[] = [], links: any[] = []): ModuleWithProviders<PluginsModule> {\n    return {\n      ngModule: PluginsModule,\n      providers: [{\n        provide: ANALYZE_FOR_ENTRY_COMPONENTS,\n        useValue: components,\n        multi: true,\n      }, {\n        provide: ENTRY_COMPONENTS,\n        useValue: components\n      }, {\n        provide: ENTRY_LINKS,\n        useValue: links\n      }]\n    };\n  }\n}\n","<ng-container *ngIf=\"content?.existscount > 0\">\n  <a [routerLink]=\"['/result']\" [queryParams]=\"{query: queryParam}\">\n    {{'eo.prepare.content.existscount.message'|translate: ({count: content.existscount})}} &raquo;\n  </a>\n</ng-container>","import {Component, OnInit, Input} from '@angular/core';\nimport {PreparedItemContent} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-prepare-content-exists-info',\n  templateUrl: './prepare-content-exists-info.component.html',\n  styleUrls: ['./prepare-content-exists-info.component.scss']\n})\nexport class PrepareContentExistsInfoComponent {\n\n  queryParam: any;\n\n  private _content;\n  @Input() set content(c: PreparedItemContent) {\n    this._content = c;\n    this.queryParam = encodeURIComponent(JSON.stringify({\n      \"filters\": {\n        \"digest\": {\n          \"o\": \"eq\",\n          \"v1\": c.digest\n        }\n      }\n    }));\n  }\n\n  get content() {\n    return this._content;\n  }\n}\n","import {ColDef, GridOptions} from '@ag-grid-community/core';\nimport {Component, ElementRef, EventEmitter, HostBinding, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {\n  BackendService, CapabilitiesService,\n  NotificationsService,\n  ObjectType,\n  PrepareService,\n  PreparedItem,\n  PreparedItemTemplate,\n  PreparedItemType,\n  SystemService,\n  TranslateService,\n  Utils\n} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {PendingChangesService} from '../../eo-framework-core/pending-changes/pending-changes.service';\nimport {SelectionConfig, SelectionService} from '../../eo-framework-core/selection/selection.service';\nimport {PreviewFile} from '../media/media.component';\nimport {FormStatusChangedEvent} from '../object-form/form-status-changed-event.interface';\nimport {ObjectFormOptions} from '../object-form/index';\nimport {ObjectFormComponent} from '../object-form/object-form/object-form.component';\n\nexport interface PreparePhase {\n  name: string;\n  data: {\n    previewIndex?: number,\n    previewFile?: PreviewFile,\n    file?: boolean,\n    withoutFile?: boolean,\n    templates?: any[]\n  };\n}\n@UntilDestroy()\n@Component({\n  selector: 'eo-prepare-details',\n  templateUrl: './prepare-details.component.html',\n  styleUrls: ['./prepare-details.component.scss']\n})\nexport class PrepareDetailsComponent implements OnInit {\n  gridOptions: GridOptions;\n\n  // ID set by pendingChanges service when editing indexdata\n  // Used to finish the pending task when editing is done\n  private pendingTaskId: string;\n  private selectedTypeObject;\n\n  // hidden file input to trigger file uploads\n  @ViewChild('file') file: ElementRef;\n  @ViewChild('form') objectForm: ObjectFormComponent;\n  @ViewChild('confirmDelete') confirmDeleteButton: ElementRef;\n  @ViewChild('confirmContentDelete') confirmContentDeleteButton: ElementRef;\n\n  // preparation is divided into several phases\n  // select an object type\n  PHASE_TYPE = 'type';\n  // add content\n  PHASE_CONTENT = 'content';\n  // set indexdata\n  PHASE_INDEXDATA = 'indexdata';\n\n  _preparedItem: PreparedItem;\n\n  @Input('preparedItem')\n  set preparedItem(item: PreparedItem) {\n    const objectToStringifiedValueArray = (obj) => JSON.stringify(Object.keys(obj || {}).sort().map(key => obj[key]));\n    const isProcessingAllowed = objectToStringifiedValueArray(this._preparedItem) !== objectToStringifiedValueArray(item);\n    this._preparedItem = item;\n    if (this.preparedItem && this.preparedItem.id && isProcessingAllowed) {\n      this.process();\n    }\n  }\n\n  get preparedItem() {\n    return this._preparedItem;\n  }\n\n\n  @Input() emptyState = {icon: 'assets/_default/svg/ic_error.svg', text: '', className: 'details-error'};\n\n  preparePhase: PreparePhase;\n  selectedTemplate: PreparedItemTemplate;\n  selectedTemplateFile: PreviewFile;\n  formOptions: ObjectFormOptions;\n  formState: FormStatusChangedEvent;\n  chooseTemplate: boolean;\n  uploadInProgress: boolean;\n  committing: boolean;\n  loading = false;\n  tagFilterOptions: any;\n  _showDeleteDialog = false;\n  _showContentDeleteDialog = false;\n  deletedContentIndex: number;\n\n  // title to be displayed in the details header\n  header = {\n    title: null,\n    location: {\n      label: null,\n      link: null\n    },\n    subtitle: null\n  };\n\n  colDefs: ColDef[] = [{\n    headerName: '',\n    field: 'title',\n    cellRenderer: this.cellRenderer,\n    filter: false\n  }];\n\n  @Input() applySelection: SelectionConfig;\n\n  @Output() onItemChanged = new EventEmitter<PreparedItem>();\n  @Output() onCommit = new EventEmitter<string>();\n  @Output() onItemRemove = new EventEmitter<PreparedItem>();\n\n  @HostBinding('attr.data-type')\n  get dataType() {\n    return this.preparedItem && this.preparedItem.selectedtype ? this.preparedItem.selectedtype.name : 'none';\n  }\n\n  set showDeleteDialog(val: boolean) {\n    this._showDeleteDialog = val;\n\n    if (this._showDeleteDialog) {\n      setTimeout(() => this.confirmDeleteButton.nativeElement.focus(), 0);\n    }\n  }\n\n  get showDeleteDialog() {\n    return this._showDeleteDialog;\n  }\n\n  set showContentDeleteDialog(val: boolean) {\n    this._showContentDeleteDialog = val;\n\n    if (this._showContentDeleteDialog) {\n      setTimeout(() => this.confirmContentDeleteButton.nativeElement.focus(), 0);\n    }\n  }\n\n  get showContentDeleteDialog() {\n    return this._showContentDeleteDialog;\n  }\n\n  constructor(private prepareService: PrepareService,\n    private router: Router,\n    private pendingChanges: PendingChangesService,\n    private translate: TranslateService,\n    private notification: NotificationsService,\n    private systemService: SystemService,\n    private selection: SelectionService,\n    private backend: BackendService,\n    private capabilites: CapabilitiesService) {\n  }\n\n  cellRenderer(params) {\n    return `<div class=\"template\">\n              <div class=\"title\">${params.data.title || ''}${params.data.content ? '<span class=\"title\">' + ' (' + params.data.content.mimegroup + ')' + '</span>' : ''}</div>\n              <div class=\"description\">${params.data.description || ''}</div>\n              <div class=\"tags\">\n                ${params.data.tags.map(tag => `<span class=\"chip\">${tag}</span>`).join('')}\n              </div>\n            </div>\n          `;\n  }\n\n  private startPending() {\n    // because this method will be called every time the form status changes,\n    // pending task will only be started once until it was finished\n    if (!this.pendingChanges.hasPendingTask(this.pendingTaskId || ' ')) {\n      this.pendingTaskId = this.pendingChanges.startTask();\n    }\n  }\n\n  private finishPending() {\n    this.pendingChanges.finishTask(this.pendingTaskId);\n  }\n\n  prepareFormContent(formData?) {\n    const data = formData || this.selectedTypeObject.data;\n    this.formOptions = {\n      formModel: this.selectedTypeObject.form,\n      data: data\n    };\n    if (this.preparedItem.parent) {\n      this.formOptions.context = {\n        id: this.preparedItem.parent.id,\n        title: this.preparedItem.parent.title,\n        typeName: this.preparedItem.parent.type\n      };\n    }\n  }\n\n  /**\n   * Commits a prepared item. This will cause the temporary prepared object to be converted to a real DMS-Object.\n   * @param openLocationAfterCommit - when set to true, application will navigate to the objects location\n   */\n  commit(openLocationAfterCommit?: boolean) {\n    setTimeout(() => {\n      if (this.formState && !this.formState.invalid) {\n        const formData = this.objectForm.getFormData();\n        this.committing = true;\n        this.prepareService\n          .commitPreparedItem(this.preparedItem.id, this.preparedItem.getSelectedTypeObject().name, formData)\n          .subscribe((res) => {\n            this.onCommit.emit(res);\n            this.finishPending();\n            if (openLocationAfterCommit) {\n              this.router.navigate(['/object', res]);\n            }\n          }, Utils.throw(error => {\n            const {key, cause, uniquefields} = error.error;\n            if (key && key === 'DMS_METADATA_UNIQUE_VIOLATION_ERROR') {\n              this.notification.error(null, this.translate.instant('eo.unique.validation.error.hint', {field: uniquefields.toString()}));\n            } else if (cause) {\n              this.notification.error(null, cause.messages[0]);\n            }\n            this.committing = false;\n            this.finishPending();\n            this.prepareFormContent(formData);\n          },\n            this.translate.instant('eo.prepare.created.error.title'),\n            this.translate.instant('eo.prepare.created.error.message')\n          ));\n      }\n    }, 500);\n  }\n\n  removeItem(item: PreparedItem) {\n    this.finishPending();\n    this.onItemRemove.emit(item);\n    this._showDeleteDialog = false;\n  }\n\n  removeItemContent(item: PreparedItem, deletedContentIndex: number) {\n    this.prepareService.deletePreparedItemContent(item.id, deletedContentIndex)\n      .subscribe((updatedItem: PreparedItem) => {\n        this.preparedItem = updatedItem;\n        this.showContentDeleteDialog = false;\n      });\n  }\n\n  getFileNames(item: PreparedItem) {\n    return (item.contents || []).map(c => c.path).join(', ');\n  }\n\n  /**\n   * Select a target object type for the current prepared item.\n   * @param type - the object types name to be set as target\n   */\n  selectObjectType(type: PreparedItemType) {\n    this.preparedItem.types\n      .forEach((t) => t.selected = (t.name === type.name));\n\n    this.prepareService\n      .updateChildType(type.name, this.preparedItem.id)\n      .subscribe(updatedPreparedItem => {\n        this.preparedItem = updatedPreparedItem;\n        this.onItemChanged.emit(updatedPreparedItem);\n      });\n  }\n\n  /**\n   * Add a template to the current prepared item.\n   * @param template - the template to be added\n   */\n  addTemplate(template: PreparedItemTemplate) {\n\n    this.prepareService\n      .addTemplate(this.preparedItem.id, template.id)\n      .subscribe((updatedPreparedItem) => {\n        this.preparedItem = updatedPreparedItem;\n        this.onItemChanged.emit(updatedPreparedItem);\n      }, Utils.throw(null,\n        this.translate.instant('eo.prepare.template.error.title'),\n        this.translate.instant('eo.prepare.template.error.message')));\n  }\n\n  /**\n   * Select a template. Will show preview for the selected template.\n   * @param template - the template to be selected\n   */\n  selectTemplate(template: PreparedItemTemplate) {\n    this.selectedTemplate = template;\n    this.selectedTemplateFile = !(template && template.content) ? null : {\n      uri: this.prepareService.getTemplatePreviewUri(this.selectedTemplate.id),\n      uriPdf: this.prepareService.getTemplatePreviewUri(this.selectedTemplate.id, 'PDF'),\n      mimetype: template.content.mimetype,\n      mimegroup: template.content.mimegroup,\n      size: template.content.size\n    };\n  }\n\n  setPreviewUri(index: number) {\n    Object.assign(this.preparePhase.data, this.getPreviewData(index));\n  }\n\n  // skip content selection for the current prepared item\n  // and continue setting indexdata\n  noFile() {\n    this.initPreparePhase(this.PHASE_INDEXDATA);\n  }\n\n  // trigger file upload\n  upload() {\n    // after the user selected a file fileChangeListener() will continue\n    this.file.nativeElement.click();\n  }\n\n  // onChange listener on hidden file input\n  fileChangeListener(event) {\n    const file: File = event[0];\n    this.uploadInProgress = true;\n    this.prepareService\n      .uploadContent(this.preparedItem.id, file)\n      .subscribe(res => {\n        // upload succeeded so we can go on to the next prepare phase\n        this.preparedItem = new PreparedItem(res);\n        this.onItemChanged.emit(this.preparedItem);\n        this.initPreparePhase(this.PHASE_INDEXDATA);\n        this.uploadInProgress = false;\n      }, Utils.throw(error => {\n        if (error.error && error.error.cause) {\n          this.notification.error(null, error.error.cause.messages[0]);\n        } else if (error.error) {\n          this.notification.error(null, error.error.message);\n        } else {\n          this.notification.error(this.translate.instant('eo.prepare.created.error.title'));\n        }\n        this.file.nativeElement.value = null;\n        this.committing = false;\n        this.uploadInProgress = false;\n      },\n        this.translate.instant('eo.upload.global.error.title'),\n        this.translate.instant('eo.upload.global.error.description')\n      ));\n  }\n\n  onFormStatusChanged(evt) {\n    this.formState = evt;\n\n    if (this.formState.dirty) {\n      this.startPending();\n    } else {\n      this.finishPending();\n    }\n  }\n\n  private process() {\n    // todo: reset stuff\n    this.formState = null;\n    this.formOptions = null;\n    this.getPreparePhase();\n  }\n\n  /**\n   * Determine the prepare phase to be initialized based on the conditions\n   * of the current prepared item.\n   */\n  private getPreparePhase() {\n    if (!this.preparedItem.getSelectedTypeObject()) {\n      // Step #1 select an object type if not yet set\n      this.initPreparePhase(this.PHASE_TYPE);\n    } else if (!this.preparedItem.hasContent()) {\n      // Step #2 add content if not yet contained\n      this.initPreparePhase(this.PHASE_CONTENT);\n    } else {\n      // Step #3 edit indexdata and save\n      this.initPreparePhase(this.PHASE_INDEXDATA);\n    }\n  }\n\n  private createTemplate(selectedTypeObject) {\n    const type: ObjectType = this.systemService.getObjectType(selectedTypeObject.name);\n    this.loading = true;\n    this.prepareService\n      .getTemplates(selectedTypeObject.name)\n      .subscribe((templates: PreparedItemTemplate[]) => {\n        const fileRequired = this.preparedItem.state.contentstate === 'REQUIRED';\n        const data = {\n          file: type.maxFiles > 0,\n          withoutFile: !(type.minFiles > 0) && !fileRequired,\n          templates: templates || []\n        };\n\n        // if the current object type does not support file upload or template contents\n        // we skip content phase and move on to indexdata phase\n        if (!data.file) {\n          this.initPreparePhase(this.PHASE_INDEXDATA);\n        } else {\n          this.preparePhase = {\n            name: this.PHASE_CONTENT,\n            data: data\n          };\n          this.setupTitle();\n        }\n        this.tagFilterOptions = this.createTagFilterOptions(templates);\n        this.gridOptions = {\n          context: {count: this.preparePhase.data.templates.length},\n          rowData: this.preparePhase.data.templates.sort(Utils.sortValues('title')),\n          columnDefs: this.colDefs,\n          rowHeight: 80\n        };\n        this.loading = false;\n      });\n  }\n\n  createTagFilterOptions(templates: PreparedItemTemplate[]) {\n    let tagFilterOptions = [];\n    templates.forEach(template => {\n      template.tags.forEach(tag => {\n        tagFilterOptions.push({label: tag, filter: (node) => node.data.tags.includes(tag), value: true});\n      });\n    });\n    return Utils.uniqBy(tagFilterOptions, 'label');\n  }\n\n  /**\n   * Initialize a specific prepare phase.\n   * @param phase - phase to init (PHASE_TYPE, PHASE_CONTENT, PHASE_INDEXDATA)\n   */\n  private initPreparePhase(phase: string) {\n    this.preparePhase = null;\n    this.selectedTypeObject = this.preparedItem.getSelectedTypeObject();\n\n    switch (phase) {\n      // init prepare phase for selecting the target object type\n      case this.PHASE_TYPE: {\n\n        this.preparePhase = {\n          name: this.PHASE_TYPE,\n          data: this.getPreviewData()\n        };\n        this.setupTitle();\n        break;\n      }\n\n      // init prepare phase for setting up content\n      case this.PHASE_CONTENT: {\n\n        this.chooseTemplate = false;\n        this.selectedTemplate = null;\n\n        // check whether or not the preparedItem already contains a file or template\n        if (this.preparedItem.hasContent()) {\n          if (!this.preparedItem.state.typeselectedallowed) {\n            // if the selected type is not allowed, we'll go back to the type select state ...\n            this.initPreparePhase(this.PHASE_TYPE);\n          } else {\n            // ... otherwise we go on setting indexdata\n            this.initPreparePhase(this.PHASE_INDEXDATA);\n          }\n        } else {\n\n          if (this.preparedItem.state.contentstate === 'NOCONTENTALLOWED') {\n            this.initPreparePhase(this.PHASE_INDEXDATA);\n          } else {\n            this.createTemplate(this.selectedTypeObject);\n          }\n        }\n        break;\n      }\n      // init prepare phase for adding indexdata\n      case this.PHASE_INDEXDATA: {\n\n        this.chooseTemplate = false;\n\n        if (!this.preparedItem.state.typeselectedallowed) {\n          // if the selected type is not allowed, we'll go back to the type select state ...\n          this.initPreparePhase(this.PHASE_TYPE);\n        } else {\n\n          this.prepareFormContent();\n\n          this.preparePhase = {\n            name: this.PHASE_INDEXDATA,\n            data: this.getPreviewData()\n          };\n          this.setupTitle();\n        }\n        break;\n      }\n    }\n  }\n\n  private getPreviewData(index?: number): any {\n    if (this.preparedItem && this.preparedItem.contents && this.preparedItem.contents.length) {\n      index = index || 0;\n      return {\n        previewIndex: index,\n        previewFile: {\n          uri: this.prepareService.getPreviewUri(this.preparedItem.id, index),\n          uriPdf: this.prepareService.getPreviewUri(this.preparedItem.id, index, 'PDF'),\n          mimetype: this.preparedItem.contents[index].mimetype,\n          mimegroup: this.preparedItem.contents[index].mimegroup,\n          path: this.preparedItem.contents[index].path,\n          size: this.preparedItem.contents[index].size\n        }\n      };\n    }\n\n    return {previewFile: null};\n  }\n\n  /**\n   * Setup title for the current prepared item based on the\n   * current prepare phase. Should be called after prepare phase is identified.\n   */\n  private setupTitle() {\n\n    this.translate.get([\n      'eo.prepare.location.title.sysroot',\n      'eo.prepare.location.title.prefix',\n      'eo.prepare.details.type.title',\n      'eo.prepare.details.type.subtitle',\n      'eo.prepare.details.content.subtitle',\n      'eo.prepare.details.indexdata.subtitle'\n    ]).subscribe(t => {\n\n      let header = {\n        title: null,\n        location: {\n          label: null,\n          link: null\n        },\n        subtitle: null\n      };\n      switch (this.preparePhase.name) {\n        case this.PHASE_TYPE: {\n          header.title = t['eo.prepare.details.type.title'];\n          header.subtitle = t['eo.prepare.details.type.subtitle'];\n          break;\n        }\n        case this.PHASE_CONTENT: {\n          const typeObject = this.preparedItem.getSelectedTypeObject();\n          header.title = typeObject ? typeObject.label : '';\n          header.subtitle = t['eo.prepare.details.content.subtitle'];\n          break;\n        }\n        case this.PHASE_INDEXDATA: {\n          const typeObject = this.preparedItem.getSelectedTypeObject();\n          header.title = typeObject ? typeObject.label : '';\n          header.subtitle = t['eo.prepare.details.indexdata.subtitle'];\n          break;\n        }\n      }\n\n      // set up location info\n      if (this.preparedItem.parent.type === 'sysroot') {\n        header.location = {\n          label: t['eo.prepare.location.title.sysroot'],\n          link: null\n        };\n      } else {\n        const parentType = this.systemService.getObjectType(this.preparedItem.parent.type);\n        header.location = {\n          label: ` ${parentType.label}: ${this.preparedItem.parent.title}`,\n          link: `/object/${this.preparedItem.parent.id}`\n        };\n      }\n      this.header = header;\n    });\n  }\n\n  showTemplateSelector(show: boolean) {\n    this.chooseTemplate = show;\n    this.selectTemplate(this.preparePhase.data.templates[0]);\n  }\n\n  download() {\n    if (this.preparePhase) {\n      const file = this.preparePhase.name === 'content' ? this.selectedTemplateFile : this.preparePhase.data.previewFile;\n      if (file) {\n        this.backend.download(file.uri);\n      }\n    }\n  }\n\n  hasTemplateCapability() {\n    return this.capabilites.hasCapability('template');\n  }\n\n  public trackByIdFn(index, item) {\n    return item.id;\n  }\n\n  public trackByIndexFn(index, item) {\n    return index;\n  }\n\n  ngOnInit() {\n    if (this.applySelection) {\n      this.loading = true;\n      this.selection\n        .find(this.applySelection.in).focus$\n        .pipe(\n          untilDestroyed(this)\n        )\n        .subscribe((res: PreparedItem) => {\n          this.loading = false;\n          this.committing = false;\n          if (res && res.types) {\n            res.types = res.types.sort(Utils.sortValues('label'));\n          }\n          this.preparedItem = res;\n        });\n    }\n  }\n\n}\n","<div class=\"prepareDetails__wrapper\" *ngIf=\"!loading; else mainSpinner\">\n  <section class=\"prepareDetails\" *ngIf=\"preparedItem && preparePhase; else noItem\"\n    [ngClass]=\"{multifile: preparedItem.contentcount > 1, committing: committing}\">\n    <div class=\"eo-head\">\n\n      <div class=\"header-info\">\n        <div class=\"header-title\">{{header.title}}</div>\n        <div class=\"header-sub-title h-location\" *ngIf=\"!header.location.link; else linked\">{{header.location.label}}\n        </div>\n        <div class=\"header-sub-title h-subtitle\">{{header.subtitle}}</div>\n\n        <ng-template #linked>\n          <div class=\"header-sub-title h-subtitle-detailed\">\n            <span translate>eo.prepare.location.title.prefix</span>\n            <a [routerLink]=\"header.location.link\">{{header.location.label}}</a>\n          </div>\n        </ng-template>\n      </div>\n\n      <div class=\"actions\">\n        <eo-icon class=\"btn btn-download\"\n          *ngIf=\"preparePhase.name === 'content' ? selectedTemplateFile : preparePhase.data.previewFile\"\n          [iconSrc]=\"'assets/_default/svg/ic_content-download.svg'\"\n          [iconTitle]=\"('eo.action.download.dms.object.content.label' | translate)\" (click)=\"download()\"></eo-icon>\n        <eo-icon class=\"btn btn-delete\" [iconSrc]=\"'assets/_default/svg/ic_trash.svg'\"\n          (click)=\"showDeleteDialog = true;\"></eo-icon>\n        <!-- buttons while choosing a template -->\n        <ng-container *ngIf=\"chooseTemplate\">\n          <button class=\"btn-tpl-abort\" (click)=\"showTemplateSelector(false)\"\n            translate>eo.prepare.template.abort</button>\n          <button class=\"primary btn-tpl-apply\" (click)=\"addTemplate(selectedTemplate)\" [disabled]=\"!selectedTemplate\"\n            translate>eo.prepare.template.select</button>\n        </ng-container>\n\n        <ng-container *ngIf=\"preparePhase.name === 'indexdata'\">\n          <button (click)=\"commit()\" class=\"btn-idx-save\"\n            [ngClass]=\"{primary: preparedItem.state.parentisroot && preparedItem.contentcount > 1}\"\n            [disabled]=\"formState?.invalid || committing\" translate>eo.prepare.save</button>\n\n          <button (click)=\"commit(true)\" [disabled]=\"formState?.invalid || committing\" class=\"primary btn-idx-saveopen\"\n            [hidden]=\"preparedItem?.state.parentisroot && preparedItem?.contentcount > 1\"\n            translate>eo.prepare.saveopen</button>\n\n        </ng-container>\n      </div>\n\n    </div>\n\n    <div class=\"eo-body\" [ngSwitch]=\"preparePhase.name\" *ngIf=\"!committing; else spinner\">\n\n      <!-- PHASE TYPE -->\n      <div class=\"phase type\" *ngSwitchCase=\"'type'\">\n\n        <!-- with preview -->\n        <yvc-split-view *ngIf=\"preparePhase.data.previewFile; else nopreview\"\n          [layoutSettingsID]=\"'prepare.details.phase.type'\">\n          <ng-template yvcSplitArea [size]=\"30\">\n            <div class=\"form-files\">\n              <div class=\"object-type-select empty\" *ngIf=\"preparedItem.types.length == 0\" translate>\n                eo.prepare.details.type.empty</div>\n              <div class=\"object-type-select empty\"\n                *ngIf=\"!preparedItem.state.typeselectedallowed && preparedItem.state.typeselected\"\n                [translateParams]=\"{type: preparedItem.selectedtype.label, filename: getFileNames(preparedItem)}\"\n                translate>eo.prepare.details.type.notallowed</div>\n\n              <div class=\"object-type-select\">\n                <div class=\"object-type\" *ngFor=\"let type of preparedItem.types; trackBy: trackByIdFn\"\n                  (click)=\"selectObjectType(type)\">\n                  <div class=\"type-icon\">\n                    <eo-icon [iconId]=\"type.icon.id\"></eo-icon>\n                  </div>\n                  <div class=\"content\">\n                    <div class=\"title\">{{type.label}}</div>\n                    <div class=\"description\">{{type.description}}</div>\n                  </div>\n                </div>\n              </div>\n\n\n              <div class=\"content-select\">\n                <h2 translate>eo.prepare.details.contents.title</h2>\n                <div class=\"content\"\n                  *ngFor=\"let content of preparedItem.contents; trackBy: trackByIndexFn; index as idx;\"\n                  [ngClass]=\"{selected: preparePhase.data.previewIndex == idx}\" (click)=\"setPreviewUri(idx)\">\n                  <span>{{content.path}}</span>\n                  <eo-icon class=\"btn btn-delete-content\" [iconSrc]=\"'assets/_default/svg/ic_trash.svg'\"\n                    (click)=\"showContentDeleteDialog = true; deletedContentIndex = idx;\"></eo-icon>\n                  <div *ngIf=\"content.existscount > 0\" class=\"attention\"\n                    title=\"{{'eo.prepare.content.existscount.message'|translate: ({count: content.existscount})}}\">!\n                  </div>\n                </div>\n              </div>\n            </div>\n          </ng-template>\n          <ng-template yvcSplitArea [size]=\"70\">\n            <div class=\"eo-media-wrap\">\n              <eo-prepare-content-exists-info [content]=\"preparedItem.contents[preparePhase.data.previewIndex]\">\n              </eo-prepare-content-exists-info>\n              <eo-media [previewFile]=\"preparePhase.data.previewFile\"></eo-media>\n            </div>\n          </ng-template>\n        </yvc-split-view>\n\n        <!-- without preview -->\n        <ng-template #nopreview>\n          <div class=\"form-files\">\n            <div class=\"object-type-select\">\n              <div class=\"object-type\" *ngFor=\"let type of preparedItem.types; trackBy: trackByIdFn\"\n                (click)=\"selectObjectType(type)\">\n                <div class=\"type-icon\">\n                  <eo-icon [iconId]=\"type.icon.id\"></eo-icon>\n                </div>\n                <div class=\"content\">\n                  <div class=\"title\">{{type.label}}</div>\n                  <div class=\"description\">{{type.description}}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n\n      </div>\n\n      <!-- PHASE CONTENT -->\n      <div class=\"phase content\" *ngSwitchCase=\"'content'\">\n\n        <!-- panel for selecting a template to be used as items content -->\n        <yvc-split-view *ngIf=\"chooseTemplate; else attach\" [layoutSettingsID]=\"'prepare.details.phase.content'\">\n          <ng-template yvcSplitArea [size]=\"40\">\n            <!-- list of available templates -->\n            <eo-list-container #eoList [loading]=\"false\" class=\"templates\">\n              <div class=\"eo-header\">\n                <eo-icon class=\"eo-header-icon\" [iconSrc]=\"'assets/_default/svg/ic_template.svg'\"></eo-icon>\n                <div class=\"eo-header-info\">\n                  <div class=\"eo-header-title\" translate>eo.prepare.template.list.title</div>\n                </div>\n                <div class=\"eo-header-actions\">\n\n                  <eo-overlay #oFilter [iconSrc]=\"'assets/_default/svg/ic_filter.svg'\" [iconClass]=\"'primary'\"\n                    class=\"overlay-filter\" [title]=\"'eo.list.filter' | translate\"\n                    (active)=\"oFilter.onActiveChanged($event)\">\n                    <eo-custom-filter #cFilter (change)=\"cFilter.updateGrid(eoList.eoGridSubject, $event)\"\n                      (active)=\"oFilter.onActiveChanged($event)\">\n                      <eo-text-filter [title]=\"'eo.prepare.template.filter.text.title' | translate\"\n                        [matchFields]=\"['title', 'description', 'tags']\"\n                        [placeholder]=\"'eo.prepare.template.filter.text.title'\"></eo-text-filter>\n                      <eo-set-filter [operator]=\"'OR'\" [title]=\"'eo.prepare.template.filter.set.title' | translate\"\n                        *ngIf=\"tagFilterOptions?.length\" [options]=\"tagFilterOptions\"></eo-set-filter>\n                    </eo-custom-filter>\n                  </eo-overlay>\n\n                </div>\n              </div>\n              <div class=\"eo-body\">\n                <eo-grid #eoGrid *ngIf=\"gridOptions?.rowData\" [gridOptions]=\"gridOptions\" [fullWidth]=\"true\"\n                  [showHeader]=\"true\" [showFooter]=\"false\" [selectionLimit]=\"1\"\n                  (eoGridSelectionChanged)=\"selectTemplate($event[0])\">\n                </eo-grid>\n              </div>\n            </eo-list-container>\n          </ng-template>\n\n          <ng-template yvcSplitArea [size]=\"60\">\n            <!-- preview of selected template -->\n            <eo-media [previewFile]=\"selectedTemplateFile\"></eo-media>\n          </ng-template>\n        </yvc-split-view>\n\n        <!-- add content general overview (upload, template, none) -->\n        <ng-template #attach>\n\n          <div class=\"info\" *ngIf=\"!uploadInProgress\" translate>eo.prepare.attachment.info</div>\n          <input type=\"file\" #file (change)=\"fileChangeListener($event.target.files)\">\n\n          <div class=\"attachments\" *ngIf=\"!uploadInProgress; else uploadspinner\">\n\n            <!-- upload a file -->\n            <div class=\"attachment att-file\" *ngIf=\"preparePhase.data.file\" (click)=\"upload()\">\n              <div class=\"img\">\n                <eo-icon [iconSrc]=\"'assets/_default/svg/ic_file_upload.svg'\"></eo-icon>\n              </div>\n              <h3 translate>eo.prepare.attachment.upload.title</h3>\n              <p translate>eo.prepare.attachment.upload.desc</p>\n            </div>\n\n            <!-- select a template -->\n            <div class=\"attachment att-tmpl\" *ngIf=\"preparePhase.data.templates.length > 0 && hasTemplateCapability()\"\n              (click)=\"showTemplateSelector(true)\">\n              <div class=\"img\">\n                <eo-icon [iconSrc]=\"'assets/_default/svg/ic_prepare_add.svg'\"></eo-icon>\n              </div>\n              <h3 translate>eo.prepare.attachment.template.title</h3>\n              <p translate>eo.prepare.attachment.template.desc</p>\n            </div>\n\n            <!-- no file -->\n            <div class=\"attachment att-none\" *ngIf=\"preparePhase.data.withoutFile\" (click)=\"noFile()\">\n              <div class=\"img\">\n                <eo-icon [iconSrc]=\"'assets/_default/svg/ic_no-file.svg'\"></eo-icon>\n              </div>\n              <h3 translate>eo.prepare.attachment.nofile.title</h3>\n              <p translate>eo.prepare.attachment.nofile.desc</p>\n            </div>\n\n          </div>\n\n        </ng-template>\n\n        <!-- upload progress indicator -->\n        <ng-template #uploadspinner>\n          <div class=\"upload-indicator\">\n            <eo-loading-spinner [size]=\"'large'\"></eo-loading-spinner>\n          </div>\n        </ng-template>\n      </div>\n\n      <!-- PHASE INDEXDATA -->\n      <div class=\"phase indexdata\" *ngSwitchCase=\"'indexdata'\">\n\n        <!-- form and preview -->\n        <yvc-split-view *ngIf=\"preparedItem.contents; else justform\" [layoutSettingsID]=\"'prepare.state'\">\n          <ng-template yvcSplitArea [size]=\"50\">\n            <div class=\"form-files\">\n\n              <!-- indexdata form -->\n              <ng-container *ngTemplateOutlet=\"justform\"></ng-container>\n\n              <!-- list of contents (in case of bulk upload) that can be previewed -->\n              <div class=\"content-select\">\n\n                <h2 translate>eo.prepare.details.contents.title</h2>\n                <div class=\"content\"\n                  *ngFor=\"let content of preparedItem.contents; trackBy: trackByIndexFn; index as idx\"\n                  [ngClass]=\"{selected: preparePhase.data.previewIndex === idx}\" (click)=\"setPreviewUri(idx)\">\n                  {{content.path}} <span *ngIf=\"content.existscount > 0\" class=\"attention\"\n                    title=\"{{'eo.prepare.content.existscount.message'|translate: ({count: content.existscount})}}\">!</span>\n                </div>\n              </div>\n            </div>\n          </ng-template>\n\n          <ng-template yvcSplitArea [size]=\"50\">\n            <div class=\"eo-media-wrap\">\n              <eo-prepare-content-exists-info [content]=\"preparedItem.contents[preparePhase.data.previewIndex]\">\n              </eo-prepare-content-exists-info>\n              <eo-media [previewFile]=\"preparePhase.data.previewFile\"></eo-media>\n            </div>\n          </ng-template>\n        </yvc-split-view>\n\n        <!-- just the form -->\n        <ng-template #justform>\n          <div class=\"form-container situation-create\" *ngIf=\"formOptions\">\n            <eo-object-form #form [formOptions]=\"formOptions\" (statusChanged)=\"onFormStatusChanged($event)\">\n            </eo-object-form>\n          </div>\n        </ng-template>\n      </div>\n    </div>\n  </section>\n\n  <ng-template #spinner>\n    <div class=\"eo-body\">\n      <eo-loading-spinner size=\"medium\"></eo-loading-spinner>\n    </div>\n  </ng-template>\n\n</div>\n\n<ng-template #mainSpinner>\n  <div class=\"prepareDetails__main-spinner\">\n    <eo-loading-spinner size=\"medium\"></eo-loading-spinner>\n  </div>\n</ng-template>\n\n\n<ng-template #noItem>\n  <eo-error-message [emptyState]=\"{icon: emptyState.icon, text: emptyState.text, className: emptyState.className}\">\n    <ng-content select=\".error\"></ng-content>\n  </eo-error-message>\n</ng-template>\n\n<eo-dialog [title]=\"'eo.prepare.details.delete.dialog.title' | translate\" [(visible)]=\"showDeleteDialog\"\n  [focusOnShow]=\"false\" [minWidth]=\"400\" [styleClass]=\"'prepare-delete__dialog'\">\n\n  <div>{{'eo.prepare.details.delete.dialog.message' | translate}}</div>\n\n  <div class=\"action-buttons prepare-delete--action-buttons flex-row\">\n    <button type=\"button\" class=\"button cancel\" (click)=\"showDeleteDialog = false\"\n      translate>eo.prepare.details.delete.dialog.cancel</button>\n    <button type=\"button\" #confirmDelete (click)=\"removeItem(preparedItem)\" class=\"button primary\"\n      translate>eo.prepare.details.delete.dialog.ok</button>\n  </div>\n</eo-dialog>\n\n<eo-dialog [title]=\"'eo.prepare.details.delete.content.dialog.title' | translate\" [(visible)]=\"showContentDeleteDialog\"\n  [minWidth]=\"400\" [styleClass]=\"'prepare-delete__dialog'\">\n\n  <div>{{'eo.prepare.details.delete.content.dialog.message' | translate: ({contentPath: preparedItem?.contents ?\n    preparedItem?.contents[deletedContentIndex]?.path : ''})}}</div>\n\n  <div class=\"action-buttons prepare-delete--action-buttons flex-row\">\n    <button type=\"button\" class=\"button cancel\" (click)=\"showContentDeleteDialog = false\"\n      translate>eo.prepare.details.delete.dialog.cancel</button>\n    <button type=\"button\" #confirmContentDelete (click)=\"removeItemContent(preparedItem, deletedContentIndex)\"\n      class=\"button primary\" translate>eo.prepare.details.delete.dialog.ok</button>\n  </div>\n</eo-dialog>\n","import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {ObjectFormComponent} from '../object-form/object-form/object-form.component';\nimport {ObjectFormOptions} from '../object-form/object-form-options.interface';\nimport {FormStatusChangedEvent} from '../object-form';\n\n@Component({\n  selector: 'eo-process-form',\n  templateUrl: './process-form.component.html',\n  styleUrls: ['./process-form.component.scss']\n})\nexport class ProcessFormComponent {\n\n  @ViewChild('bpmForm') bpmForm: ObjectFormComponent;\n  formData: any;\n  form: any;\n\n  @Input() formOptions: ObjectFormOptions;\n  @Output() onSaveForm: EventEmitter<any> = new EventEmitter<any>();\n  @Output() onResetForm: EventEmitter<any> = new EventEmitter<any>();\n  @Output() onCancel: EventEmitter<any> = new EventEmitter<any>();\n  @Output() statusChanged = new EventEmitter<FormStatusChangedEvent>();\n\n  saveForm() {\n    setTimeout(() => {\n      if (this.form && !this.form.invalid) {\n        this.formData = this.bpmForm.getFormData();\n        this.onSaveForm.emit(this.formData);\n      }\n    }, 500);\n  }\n\n  cancel() {\n    this.onCancel.emit(true);\n  }\n\n  onIndexDataChanged(event) {\n    this.form = event;\n    this.formData = event.data;\n    this.statusChanged.emit(event);\n  }\n\n}\n","<section class=\"process-form form-container\">\n\n  <div class=\"form\">\n    <eo-object-form [formOptions]=\"formOptions\" #bpmForm\n                    (statusChanged)=\"onIndexDataChanged($event)\">\n    </eo-object-form>\n  </div>\n\n  <div class=\"actions\">\n    <div *ngIf=\"form?.invalid\" class=\"invalid\" translate>eo.object.indexdata.form.invalid</div>\n    <eo-cta [active]=\"true\">\n      <button *ngIf=\"form?.dirty\" (click)=\"bpmForm.resetForm()\" class=\"button-reset\" translate>eo.object.indexdata.reset</button>\n      <button (click)=\"cancel()\" class=\"button-cancel\" translate>eo.resubmission.cancel</button>\n      <button (click)=\"saveForm()\" [disabled]=\"form?.invalid\" class=\"primary\" translate>eo.executable.processes.execute</button>\n    </eo-cta>\n  </div>\n\n</section>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {ProcessFormComponent} from './process-form.component';\nimport {ObjectFormModule} from '../object-form/object-form.module';\nimport {CtaModule} from '../cta/cta.module';\nimport {TranslateModule} from '@eo-sdk/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ObjectFormModule,\n    CtaModule,\n    TranslateModule\n  ],\n  declarations: [ProcessFormComponent],\n  exports: [ProcessFormComponent]\n})\nexport class ProcessFormModule { }\n","import {AfterViewInit, Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {NavigationExtras, Router} from '@angular/router';\nimport {TranslateService} from '@eo-sdk/core';\nimport {Subscription, forkJoin, of} from 'rxjs';\nimport {catchError} from 'rxjs/operators';\nimport {EmptyState} from '../../../eo-framework-core/empty-state/empty-state.interface';\nimport {EmptyStateService} from '../../../eo-framework-core/empty-state/empty-state.service';\nimport {CellRenderer} from './../../../eo-framework-core/api/grid.service';\n// import {TabPanelComponent} from '../../tab-container/tab-panel/tab-panel.component';\nimport {SelectionConfig, SelectionService} from '../../../eo-framework-core/selection/selection.service';\nimport {FormStatusChangedEvent} from '../../object-form/form-status-changed-event.interface';\nimport {ObjectFormOptions} from '../../object-form/object-form-options.interface';\nimport {ObjectFormComponent} from '../../object-form/object-form/object-form.component';\n\nimport {\n  BpmService,\n  Clipboard,\n  ClipboardAction,\n  ClipboardService,\n  DmsParams,\n  FileEntry,\n  Process,\n  SystemService,\n  UserService,\n  Utils,\n  WorkItem,\n  WorkItemHistoryEntry\n} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-process-details',\n  templateUrl: './process-details.component.html',\n  styleUrls: ['./process-details.component.scss']\n})\nexport class ProcessDetailsComponent implements OnInit, AfterViewInit {\n\n  @ViewChild('bpmForm') bpmFormEl: ObjectFormComponent;\n\n  private _item: Process;\n  workItem: WorkItem;\n  history: WorkItemHistoryEntry[];\n  organisation: any;\n  // flag indicating whether or not the work item is locked by the user\n  locked: boolean;\n\n  formState: FormStatusChangedEvent;\n  formOptions: ObjectFormOptions;\n  selectedContentFileId: string;\n  actionProcessing: Subscription | any = {closed: true};\n  initializing: Subscription | any = {closed: true};\n  loadError: boolean;\n  loading: boolean;\n  clipboard: Clipboard;\n\n  // externalPanels = new QueryList<TabPanelComponent>();\n  // @ContentChildren(TabPanelComponent) tabPanels: QueryList<TabPanelComponent>;\n  // @ContentChildren(TabPluginComponent) tabPlugins: QueryList<TabPluginComponent>;\n\n  @Input() emptyState: EmptyState = EmptyStateService.defaultEmptyState();\n  @Input() applySelection: SelectionConfig;\n\n  @Input('item')\n  set item(i: Process) {\n    this._item = i;\n\n    if (i) {\n      // reset values\n      this.workItem = null;\n      this.history = [];\n      this.locked = false;\n      this.loading = true;\n\n      setTimeout(() => this.process(), 0);\n    }\n  }\n\n  get item() {\n    return this._item;\n  }\n\n  @Output() onDmsItemSelected = new EventEmitter<DmsParams>();\n\n  constructor(private bpmService: BpmService,\n    private userService: UserService,\n    private systemService: SystemService,\n    private selection: SelectionService,\n    private clipboardService: ClipboardService,\n    private translate: TranslateService,\n    private router: Router) {\n  }\n\n  trackByCode(index, item) {\n    return item.code;\n  }\n\n  trackByIndex(index, item) {\n    return index;\n  }\n\n  onFormStatusChanged(evt) {\n    this.formState = evt;\n  }\n\n  private process(): void {\n\n    this.loadError = false;\n    this.initializing.closed = false;\n\n    const tasks = [\n      this.systemService.getOrganizationObjectById(this.item.creatorid).pipe(\n        // return default because otherwise forkJoin will fail\n        catchError(e => of({\n          name: 'unknown'\n        }))\n      ),\n      this.bpmService.getProcessHistory(this.item.processid)\n    ];\n\n    forkJoin(tasks)\n      .subscribe(tasksResult => {\n\n        this.loading = false;\n        const [organisation, history] = tasksResult;\n        this.organisation = organisation;\n        this.getProcessFile(this.item.processid);\n        if (history) {\n          history.forEach((item) => {\n            if (item.editor) {\n              item.data.image = this.userService.getUserImageUri(item.editor.id);\n            }\n          });\n\n          console.log({history});\n\n          this.history = history.sort((a, b) => b.number - a.number);\n        }\n      });\n  }\n\n\n  getProcessFile(processId) {\n    this.bpmService\n      .getProcessFile(processId)\n      .subscribe((res: FileEntry[]) => {\n        this.openProcessItemContent(res[0]);\n        this._item.setFile(res);\n      }, Utils.throw(() => {\n        this.loadError = true;\n      }, this.translate.instant('eo.process.details.workitem.load.fail')))\n  }\n\n  /**\n   * Selects a work items file entry an emits onDmsItemSelected event.\n   * @param file FileEntry element to be selected\n   */\n  openProcessItemContent(file?: FileEntry) {\n    if (!file) {\n      this.selectedContentFileId = null;\n      this.onDmsItemSelected.emit(null);\n      if (this.applySelection) {\n        this.selection.find(this.applySelection.out).focus(null);\n      }\n    } else if (file.id !== this.selectedContentFileId) {\n      this.selectedContentFileId = file.id;\n      let params = {\n        id: file.id,\n        type: file.type\n      };\n      this.onDmsItemSelected.emit(params);\n      if (this.applySelection) {\n        this.selection.find(this.applySelection.out).focus(params);\n      }\n    }\n  }\n\n  removeWorkItemContent(event: [FileEntry, MouseEvent]) {\n    const [file, evt] = event;\n    const {processid, elementid} = this.workItem['content'][0];\n    evt.preventDefault();\n    evt.stopPropagation();\n\n    this.actionProcessing = this.bpmService\n      .removeFileElement(processid, elementid, file.id)\n      .subscribe(res => {\n        this.workItem.file = this.workItem.file.filter(f => f.id !== file.id);\n        if (this.selectedContentFileId === file.id) {\n          this.openProcessItemContent(this.workItem.file.length ? this.workItem.file[0] : null);\n        }\n      }, Utils.throw(null,\n        this.translate.instant('eo.process.file.notification.remove'),\n        this.translate.instant('eo.process.file.notification.remove.message'))\n      );\n  }\n\n  addPastedProcessFile(event) {\n    if (event) {\n      this.bpmService.addFileElementsFromClipboard(this.workItem, this.clipboard)\n        .pipe(\n          catchError(Utils.catch(null,\n            this.translate.instant('eo.process.file.notification.add.message'),\n            this.translate.instant('eo.process.file.notification.error')))\n        )\n        .subscribe(workItem => {\n          this.workItem = workItem;\n          this.clipboardService.clear();\n          if (!this.selectedContentFileId) {\n            // open first item when nothing is selected\n            this.openWorkItemContent(this.workItem.file.length ? this.workItem.file[0] : null);\n          }\n        }, Utils.throw(null,\n          this.translate.instant('eo.process.file.notification.error'),\n          this.translate.instant('eo.process.file.notification.add.message')));\n    }\n  }\n\n  /**\n   * Opens the file (attached DMSObject) in object state\n   * @param file\n   */\n  openWorkItemContentInContext(evt) {\n    const file: FileEntry = evt.data || {};\n    const fileType: NavigationExtras = {queryParams: {'type': file.type}};\n    if (evt.ctrlKey) {\n      window.open(CellRenderer.windowURI(this.router.createUrlTree(['object', file.id], fileType)));\n    } else {\n      this.router.navigate(['/object', file.id], fileType);\n    }\n  }\n\n  /**\n   * Selects a work items file entry an emits onDmsItemSelected event.\n   * @param file FileEntry element to be selected\n   */\n  openWorkItemContent(file?: FileEntry) {\n    if (!file) {\n      this.selectedContentFileId = null;\n      this.onDmsItemSelected.emit(null);\n      if (this.applySelection) {\n        this.selection.find(this.applySelection.out).focus(null);\n      }\n    } else if (file.id !== this.selectedContentFileId) {\n      this.selectedContentFileId = file.id;\n      let params = {\n        id: file.id,\n        type: file.type\n      };\n      this.onDmsItemSelected.emit(params);\n      if (this.applySelection) {\n        this.selection\n          .find(this.applySelection.out)\n          .focus(params);\n      }\n    }\n  }\n\n  ngOnInit() {\n    if (this.applySelection) {\n      this.selection\n        .find(this.applySelection.in)\n        .focus$.pipe(untilDestroyed(this))\n        .subscribe((item: any) => this.item = item);\n    }\n\n    this.clipboardService\n      .clipboard$.pipe(untilDestroyed(this))\n      .subscribe((clipboard: Clipboard) => this.clipboard = clipboard.action === ClipboardAction.COPY ? clipboard : null);\n\n  }\n\n  ngAfterViewInit() {\n    // let panels = this.tabPanels.toArray();\n    // this.tabPlugins.forEach(p => panels = panels.concat(p.tabPanels.toArray()));\n    // this.externalPanels.reset(panels);\n  }\n}\n","<div class=\"process-details\" *ngIf=\"item; else noItem\">\n\n  <div class=\"eo-head\">\n    <header class=\"eo-header\">\n      <eo-icon class=\"eo-header-icon\" [ngClass]=\"{error: item.state === 'ERRORSUSPENDED'}\" *ngIf=\"!item.iconid\" [iconTitle]=\"item.modelname\"\n               [iconSrc]=\"item.iconurl\"></eo-icon>\n      <eo-icon class=\"eo-header-icon\" *ngIf=\"item.iconid\" [iconId]=\"item.iconid\" [iconTitle]=\"item.modelname\"></eo-icon>\n      <div class=\"eo-header-info eo-header__content\">\n        <div class=\"eo-header__title\">\n          <h2 class=\"eo-header-title\">{{item.localizedsubject}}</h2>\n          <h3 class=\"eo-header-subtitle\">{{item.modelname}}<span class=\"starter\" *ngIf=\"organisation && organisation.name !== 'sysroot' && organisation.name !== 'system'\">{{organisation.title}} ({{organisation.name}})</span></h3>\n        </div>\n      </div>\n      <div class=\"eo-header-actions\">\n        <eo-loading-spinner *ngIf=\"loading\" [size]=\"'small'\"></eo-loading-spinner>\n      </div>\n    </header>\n  </div>\n\n  <div class=\"eo-body\">\n\n    <div class=\"load-error\" *ngIf=\"loadError\">\n      <eo-icon [iconSrc]=\"'assets/_default/svg/ic_error.svg'\"></eo-icon>\n    </div>\n\n    <!-- details for BPM items -->\n    <yvc-tabs>\n      <ng-template [yvcTab]=\"{id: 'history', label: 'eo.process.details.tab.progress' | translate}\">\n        <div class=\"tab-panel\">\n          <div class=\"panel process-history\">\n            <eo-process-history [history]=\"history\"></eo-process-history>\n          </div>\n        </div>\n      </ng-template>\n      <ng-template [yvcTab]=\"{id: 'file', label: 'eo.process.details.tab.attachments' | translate}\">\n        <div class=\"tab-panel\">\n          <div class=\"panel process-files\">\n            <eo-process-file [processFile]=\"item?.file\"\n                             [isDisabled]=\"false\"\n                             [clipboard]=\"clipboard\"\n                             [editable]=\"true\"\n                             [selectedContentFileId]=\"selectedContentFileId\"\n                             (onRemoveWorkItemContent)=\"removeWorkItemContent($event)\"\n                             (onOpenWorkItemContentInContext)=\"openWorkItemContentInContext($event)\"\n                             (onOpenWorkItemContent)=\"openWorkItemContent($event)\"\n                             (onRemoveWorkItemContent)=\"removeWorkItemContent($event)\"\n                             (onPasteProcessFile)=\"addPastedProcessFile($event)\">\n            </eo-process-file>\n          </div>\n        </div>\n      </ng-template>\n      <ng-content></ng-content>\n    </yvc-tabs>\n  </div>\n</div>\n\n<ng-template #noItem>\n  <eo-error-message class=\"process-details__empty\" [emptyState]=\"{icon: emptyState.icon, text: emptyState.text, className: emptyState.className}\">\n    <ng-content select=\".error\"></ng-content>\n  </eo-error-message>\n</ng-template>\n","<div class=\"process-history\">\n\n  <div class=\"filter\">\n    <div class=\"input\" [ngClass]=\"{inactive: !history?.length}\">\n      <eo-icon [iconSrc]=\"'assets/_default/svg/ic_filter.svg'\"></eo-icon>\n      <input type=\"text\" [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"filterterm\">\n\n    </div>\n    <eo-icon [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" (click)=\"filterterm = null\" *ngIf=\"filterterm\"></eo-icon>\n  </div>\n\n\n  <ng-template #empty>\n    <eo-error-message [emptyState]=\"{icon: 'ic_no-file.svg', text: 'eo.timeline.empty', className: 'history empty'}\"></eo-error-message>\n  </ng-template>\n\n\n  <div class=\"history eo-timeline\" [ngClass]=\"{single: history?.length === 1}\" *ngIf=\"history?.length; else empty\">\n\n    <div class=\"timeline-entry\"\n         *ngFor=\"let entry of history | historyFilter:filterterm; trackBy: trackByIndex\"\n         [ngClass]=\"{user: entry.editor, error: entry.type === 'error' || entry?.errorType}\">\n\n      <div class=\"when\">\n        <div class=\"date\">{{entry.time | localeDate: 'eoShortDate'}}</div>\n        <div class=\"time\">{{entry.time | localeDate: 'eoShortTime'}}</div>\n      </div>\n      <div class=\"marker\">\n        <img *ngIf=\"entry.editor\"\n             title=\"{{entry.editor.lastname}}, {{entry.editor.firstname}} ({{entry.editor.name}})\"\n             [src]=\"entry.data?.image\">\n      </div>\n      <div class=\"what\">\n        <div class=\"title\">{{entry.title}}</div>\n\n        <div class=\"description\" *ngIf=\"entry.data?.periodFireTime && entry.type === 'DEADLINE_START'; else description\">\n          <div class=\"deadline-fire\">\n            <eo-icon [iconSrc]=\"'assets/_default/svg/ic_timer.svg'\"></eo-icon>\n            <span>{{entry.data.periodFireTime | localeDate}}</span>\n          </div>\n        </div>\n        <ng-template #description>\n          <div *ngIf=\"entry.type !== 'USERDEFINED'; else userDefined\" class=\"description\">\n            {{'eo.process.details.history.entry.type.' + entry.type + '.title'|translate}}\n          </div>\n\n          <ng-template #userDefined>\n            <div class=\"description\">\n              {{entry.description}}\n            </div>\n          </ng-template>\n        </ng-template>\n\n        <div class=\"performer\" *ngIf=\"entry.editor\">\n          <span *ngIf=\"entry.editor.lastname\">{{entry.editor.lastname}}, </span>\n          <span *ngIf=\"entry.editor.firstname\">{{entry.editor.firstname}}</span>\n          ({{entry.editor.name}})\n        </div>\n\n        <div class=\"meta\" *ngIf=\"entry.performer?.length\">\n          <span *ngFor=\"let p of entry.performer; trackBy: trackByIndex\">\n            {{p.label}}\n          </span>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>\n","import {Component, Input, ChangeDetectionStrategy} from '@angular/core';\nimport {WorkItemHistoryEntry} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-process-history',\n  templateUrl: './process-history.component.html',\n  styleUrls: ['./process-history.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ProcessHistoryComponent {\n\n  @Input() history: WorkItemHistoryEntry[];\n  filterterm: string;\n\n  trackByIndex(index, item) {\n    return index;\n  }\n}\n","import {Component, Input, Output, EventEmitter} from '@angular/core';\nimport {Clipboard, EnaioEvent, EventService, FileEntry} from '@eo-sdk/core';\nimport {FileEntryPermissions} from './file-entry-permissions.interface';\n\n\n\n@Component({\n  selector: 'eo-process-file',\n  templateUrl: './process-file.component.html',\n  styleUrls: ['./process-file.component.scss'],\n  animations: []\n})\nexport class ProcessFileComponent {\n\n  private defaultFileEntryPermissions = {add: false, remove: false};\n\n  private _processFile: FileEntry[];\n  private _permissions: FileEntryPermissions = this.defaultFileEntryPermissions;\n\n  @Input()\n  set processFile(file: FileEntry[]) {\n    this._processFile = file  || [];\n  };\n  get processFile() {\n    return this._processFile;\n  }\n  @Input()\n  set permissions(permission: FileEntryPermissions) {\n    this._permissions = permission || this.defaultFileEntryPermissions;\n  }\n  get permissions() {\n    return this._permissions;\n  }\n\n  @Input() clipboard: Clipboard;\n  @Input() selectedContentFileId: string;\n  @Input() isDisabled: boolean;\n  @Input() editable: boolean;\n\n  @Output() onOpenWorkItemContentInContext: EventEmitter<any> = new EventEmitter<any>();\n  @Output() onOpenWorkItemContent: EventEmitter<FileEntry> = new EventEmitter<FileEntry>();\n  @Output() onRemoveWorkItemContent: EventEmitter<any> = new EventEmitter<any>();\n  @Output() onPasteProcessFile: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  constructor(private eventService: EventService){\n    this.eventService.on(EnaioEvent.PROCESS_FILE_CHANGED).subscribe(event => {\n      this.processFile = event.data;\n    });\n  }\n\n  openWorkItemContentInContext(file, $event) {\n    $event.data = file;\n    this.onOpenWorkItemContentInContext.emit($event);\n  }\n\n  openWorkItemContent(file) {\n    this.onOpenWorkItemContent.emit(file);\n  }\n\n  addFromClipboard() {\n    this.onPasteProcessFile.emit(true);\n  }\n\n  removeWorkItemContent(file, $event) {\n    $event.data = file;\n    this.onRemoveWorkItemContent.emit($event);\n  }\n\n  trackByIndex(index, item) {\n    return index;\n  }\n\n  hasAlreadyAllCopiedFiles() {\n    const attachmentIds = this.processFile.map(e => e.id);\n    return this.clipboard.elements.filter(e => attachmentIds.indexOf(e.id) === -1).length === 0;\n  }\n}\n"," <div class=\"process-files\" *ngIf=\"processFile.length; else noFile\">\n\n\n  <!-- section for adding new items to the work items attachments -->\n  <div class=\"content-paste\"\n       *ngIf=\"permissions.add && clipboard?.elements.length && !hasAlreadyAllCopiedFiles()\"\n       (click)=\"addFromClipboard()\"\n       [ngClass]=\"{disabled: isDisabled}\"\n  >\n    <eo-icon [iconSrc]=\"'assets/_default/svg/ic_content_paste.svg'\"></eo-icon>\n    <span class=\"label ct\" translate>eo.process.file.add.label</span>\n  </div>\n\n  <!-- list of files attached to the work item -->\n  <div class=\"file-item\"\n       *ngFor=\"let file of processFile; trackBy: trackByIndex\"\n       [ngClass]=\"{selected: file.id === selectedContentFileId}\"\n       (dblclick)=\"openWorkItemContentInContext(file, $event)\"\n       (click)=\"openWorkItemContent(file)\">\n\n    <eo-icon [iconSrc]=\"'assets/_default/svg/ic_attachment.svg'\"></eo-icon>\n    <div>\n      <div *ngIf=\"file.title; else tplNoTitle\" class=\"title\">{{file.title}}</div>\n      <ng-template #tplNoTitle>\n        <div class=\"title no-dms-object\" translate>eo.bpm.dmsobject.notavailable</div>\n      </ng-template>\n      <div class=\"description\">{{file.description}}</div>\n    </div>\n    <eo-icon class=\"button\"\n             *ngIf=\"editable && permissions.remove\"\n             [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\"\n             (click)=\"removeWorkItemContent(file, $event)\">\n    </eo-icon>\n  </div>\n\n</div>\n\n<!-- no files attached to the work item -->\n<ng-template #noFile>\n  <div class=\"no-file\">\n    <!-- section for adding new items to the work items attachments -->\n    <div class=\"content-paste\"\n         *ngIf=\"permissions.add && clipboard?.elements.length\"\n         (click)=\"addFromClipboard()\"\n         [ngClass]=\"{disabled: isDisabled}\">\n      <eo-icon [iconSrc]=\"'assets/_default/svg/ic_content_paste.svg'\"></eo-icon>\n      <span class=\"label ct\" translate>eo.process.file.add.label</span>\n    </div>\n    <div class=\"eo-error-message-wrapper\">\n      <eo-error-message [emptyState]=\"{icon: 'ic_no-file.svg', text: 'eo.process.file.empty.label', className: 'no-files history empty'}\">\n      </eo-error-message>\n    </div>\n  </div>\n</ng-template>\n\n","export * from './quick-search.module';\nexport * from './quick-search/quick-search.component';\nexport * from './quick-search/quick-search-result.interface';\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {QuickSearchComponent} from './quick-search/quick-search.component';\nimport {UiModule} from '../ui/ui.module';\nimport {PipesModule} from '../../eo-framework-core/pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,    \n    ReactiveFormsModule,\n    UiModule,\n    PipesModule\n  ],\n  exports: [QuickSearchComponent],\n  declarations: [QuickSearchComponent]\n})\nexport class QuickSearchModule {\n}\n","import {switchMap, tap, debounceTime} from 'rxjs/operators';\nimport {Component, AfterViewInit, ElementRef, HostListener, HostBinding, Output, EventEmitter, Input, OnDestroy} from '@angular/core';\nimport {Router, NavigationExtras} from '@angular/router';\nimport {UntypedFormGroup, UntypedFormBuilder} from '@angular/forms';\nimport {Observable, Subscription} from 'rxjs';\nimport * as _ from 'lodash';\nimport {QuickSearchResult} from './quick-search-result.interface';\nimport {SearchQuery, SearchState, SearchService, SystemService, ObjectType, NotificationsService, Utils} from '@eo-sdk/core';\nimport {AppSearchService} from '../../../eo-framework-core/search/app-search.service';\n\n/**\n * QuickSearchComponent displays a search box that the user can type his query to.\n * It returns a list of matching object types grouped by their object type group and the\n * number of hits for each type. Furthermore it'll provide you with the total number of\n * hits matching the users query.\n *\n * Setting the components `showResults` flag to true, will make the component render the\n * results on its own. If you do want to process results by yourself use the `onResult` callback.\n */\n\n@Component({\n  selector: 'eo-quick-search',\n  templateUrl: './quick-search.component.html',\n  styleUrls: ['./quick-search.component.scss']\n})\nexport class QuickSearchComponent implements AfterViewInit, OnDestroy {\n\n  private querySubscription: Subscription;\n  queryState = new SearchState();\n  autocompleteResults: string[];\n  query = new SearchQuery();\n  lastTerm = '';\n  resultGroups;\n  resultTypes = [];\n  ctrlClicked: boolean;\n  selected = {\n    index: -1,\n    name: null\n  };\n\n  searchForm: UntypedFormGroup;\n  invalidTerm: boolean;\n  loading: boolean;\n\n  @HostBinding('class.results') resultsAvailable;\n\n  // flag whether or not to render results by the component itself\n  // by default this flas is false and the result will only be emitted by\n  // the components onResult callback\n  @Input() showResults: boolean;\n  // triggered each time a result is fetched\n  @Output() onResult: EventEmitter<QuickSearchResult> = new EventEmitter();\n  // triggered when the search term has been changed\n  @Output() onInputChange: EventEmitter<string> = new EventEmitter();\n\n  // private objectTypes: ObjectType[];\n\n  constructor(private searchService: SearchService,\n    private router: Router,\n    private elementRef: ElementRef,\n    private toaster: NotificationsService,\n    private appSearchService: AppSearchService,\n    private systemService: SystemService,\n    private fb: UntypedFormBuilder) {\n\n\n    this.searchForm = this.fb.group({searchInput: ['']});\n\n    this.searchForm\n      .get('searchInput').valueChanges\n      .pipe(\n        tap((term) => {\n          this.onInputChange.emit(term);\n          this.query.term = term;\n          this.resultGroups = [];\n          this.resultTypes = [];\n          this.resultsAvailable = false;\n          this.queryState = new SearchState();\n        }),\n        debounceTime(1500),\n        switchMap(term => {\n          return this.aggregate();\n        })\n      )\n      .subscribe((queryState: SearchState) => {\n\n        if (this.query.term) {\n          this.queryState = queryState;\n          this.resultsAvailable = !queryState.isEmpty;\n\n          // map aggregations to real types\n          let aggTypes = [];\n          queryState.aggregations.type.forEach((v, k) => {\n\n            let type: ObjectType = this.systemService.getObjectType(k);\n            if (type) {\n              aggTypes.push({\n                label: type.label || k,\n                count: v,\n                group: type.group || '0',\n                data: type\n              });\n            }\n          });\n          // group by object type group\n          this.resultGroups = _.groupBy(aggTypes.sort(Utils.sortValues('label')), function (t) {\n            return t.group;\n          });\n          this.resultTypes = [];\n          Object.keys(this.resultGroups).forEach((k) => {\n            this.resultTypes = this.resultTypes.concat(this.resultGroups[k]);\n          });\n          this.onResult.emit({\n            total: this.queryState.totalCount,\n            groups: this.resultGroups\n          });\n        } else {\n          this.onResult.emit({\n            total: -1,\n            groups: []\n          });\n        }\n      });\n\n    this.querySubscription = appSearchService.query$.subscribe((query: SearchQuery) => {\n      if (query && query.term) {\n        this.lastTerm = query.term;\n      }\n    });\n  }\n\n  setTerm(term?: string) {\n    this.searchForm.get('searchInput').patchValue(term || '');\n    this.focusInput();\n  }\n\n  private aggregate(): Observable<SearchState> {\n    this.loading = true;\n    return Observable.create(o => {\n      this.invalidTerm = false;\n      this.searchService\n        .getSearchState({aggs: {type: {}}, ...this.query.getQueryJson()})\n        .subscribe(res => {\n          this.loading = false;\n          o.next(res);\n          o.complete();\n        }, Utils.throw(_ => {\n          this.invalidTerm = true;\n          this.loading = false;\n          o.next(new SearchState());\n          o.complete();\n        }));\n    });\n  }\n\n  @HostListener('keyup', ['$event'])\n  onKey(event) {\n    if (this.showResults) {\n      if (event.which === 38) {\n        // up\n        this.selected.index--;\n        if (this.selected.index < 0) {\n          this.selected.index = this.resultTypes.length - 1;\n        }\n        this.selected.name = this.resultTypes[this.selected.index].data.name;\n      } else if (event.which === 40) {\n        // down\n        this.selected.index++;\n        if (this.selected.index >= this.resultTypes.length) {\n          this.selected.index = 0;\n        }\n        this.selected.name = this.resultTypes[this.selected.index].data.name;\n      } else {\n        // reset selection on any other key\n        this.selected = {\n          index: -1,\n          name: null\n        };\n      }\n    }\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event) {\n    if (event.which === 17) {\n      this.ctrlClicked = true;\n    }\n  }\n\n  public executeSearch(objectType?: ObjectType) {\n\n    if (!this.invalidTerm) {\n      if (objectType) {\n        this.query.types = [objectType];\n      } else if (this.selected.index !== -1) {\n        this.query.types = [this.resultTypes[this.selected.index].data];\n      } else {\n        this.query.types = [];\n      }\n\n      const uriParam = encodeURIComponent(JSON.stringify(this.query.getQueryJson()));\n      const uriParamQuery: NavigationExtras = {queryParams: {'query': uriParam}};\n\n      if (this.ctrlClicked) {\n        const queryParams = new URLSearchParams(uriParamQuery.queryParams).toString()\n        const url = window.location.href.split('/dashboard')[0] + '/result?'+ queryParams;\n        window.open(url, '_blank');\n        this.ctrlClicked = false;\n        this.focusInput();      \n      } else {\n        this.router.navigate(['/result'], uriParamQuery);\n      }\n\n    }\n  }\n\n  private focusInput() {\n    // focus search input\n    this.elementRef.nativeElement.querySelector('input').focus();\n  }\n\n  ngAfterViewInit() {\n    this.focusInput();\n  }\n\n  ngOnDestroy() {\n    this.querySubscription.unsubscribe();\n  }\n}\n","<div class=\"quick-search\" eoRtlAware>\n\n  <form class=\"search-box\" (ngSubmit)=\"executeSearch()\"\n        [ngClass]=\"{invalid: invalidTerm}\"\n        [formGroup]=\"searchForm\">\n\n    <eo-icon (click)=\"executeSearch()\" [iconSrc]=\"'assets/_default/svg/ic_search.svg'\"></eo-icon>\n    <div class=\"input\">\n      <label>{{'eo.quicksearch.label' | translate}}</label>\n      <input autofocus=\"autofocus\" formControlName=\"searchInput\">\n    </div>\n    <eo-loading-spinner *ngIf=\"loading\" [size]=\"'small'\"></eo-loading-spinner>\n    <eo-icon class=\"small\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" [iconTitle]=\"('eo.search.clear.search' | translate)\"\n    *ngIf=\"query.term\" [ngClass]=\"{active: query.term}\" (click)=\"setTerm()\"></eo-icon>\n    <eo-icon class=\"small\" [iconSrc]=\"'assets/_default/svg/ic_refresh.svg'\" [iconTitle]=\"('eo.search.result.term' | translate) + ' : &quot;' + lastTerm + '&quot;'\"\n    *ngIf=\"lastTerm && !query.term\" (click)=\"setTerm(lastTerm)\"></eo-icon>\n\n    <div class=\"count\" *ngIf=\"showResults && !queryState.isEmpty\">\n      <span class=\"count-total\">{{queryState.totalCount | localeDecimal}}</span><span translate>eo.quicksearch.hits</span>\n    </div>\n  </form>\n\n  <div class=\"result\" *ngIf=\"showResults && !queryState.isEmpty\">\n    <div class=\"r\"><div class=\"ri\">\n      <div class=\"group\" *ngFor=\"let key of resultGroups | keys; index as i\">\n        <h2 *ngIf=\"key !== '0'; else maingroup\">{{key}}</h2>\n        <ng-template #maingroup>\n          <h2 translate>eo.quicksearch.result.group.global</h2>\n        </ng-template>\n\n        <div class=\"type\" *ngFor=\"let type of resultGroups[key]\" (click)=\"executeSearch(type.data)\" [ngClass]=\"{selected: selected.name === type.data.name}\">\n          <span class=\"count\">{{type.count}}</span>\n          <span class=\"label\">{{type.label}}</span>\n        </div>\n      </div></div>\n      </div>\n  </div>\n</div>\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Input,\n  OnInit,\n  Output,\n  ViewChild\n} from '@angular/core';\nimport {of} from 'rxjs';\nimport {map, takeUntil} from 'rxjs/operators';\n// import {TabPanelComponent} from '../tab-container/tab-panel/tab-panel.component';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {\n  BackendService, BaseParams, Capabilities, CapabilitiesService, Config, DmsObject, DmsParams,\n  DmsService, EnaioEvent, EventService, NotificationsService, SystemService, TranslateService, UserService, Utils\n} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {EmptyState} from '../../eo-framework-core/empty-state/empty-state.interface';\nimport {EmptyStateService} from '../../eo-framework-core/empty-state/empty-state.service';\nimport {LocaleDatePipe} from '../../eo-framework-core/pipes/locale-date.pipe';\nimport {\n  SelectionConfig,\n  SelectionService\n} from '../../eo-framework-core/selection/selection.service';\nimport {MediaComponent} from '../media/media.component';\nimport {IndexData} from '../ui/indexdata-summary/indexdata-summary.component';\n@UntilDestroy()\n@Component({\n  selector: 'eo-recyclebin-details',\n  templateUrl: './recyclebin-details.component.html',\n  styleUrls: ['./recyclebin-details.component.scss']\n})\nexport class RecyclebinDetailsComponent implements OnInit, AfterViewInit {\n\n  @ViewChild('viewer') preview: MediaComponent;\n  @ViewChild('confirmDelete') confirmDeleteButton: ElementRef;\n\n  // generate unique id to pass to upload registry\n  user$ = this.userService.user$;\n  _showDeleteDialog = false;\n  userId = '';\n  item: DmsObject;\n  indexDataPreview: IndexData;\n  baseparams: BaseParams;\n  hasError = false;\n  lockTooltip: string;\n  nodmsobject = false;\n  showLoader = false;\n  panelOrder = {'master': ['summary', 'history'], 'slave': ['preview']};\n\n  @Input() cacheLayout: any;\n  item2: DmsObject;\n  indexDataPreview2: IndexData;\n  baseparams2: BaseParams;\n  private _emptyState: EmptyState = {icon: 'ic_no-file.svg', text: '', className: ''};\n\n  capabilities: Capabilities;\n  @Input() applySelection: SelectionConfig;\n  @Input() parseDmsParams: (data) => {} = this.getDmsParams;\n  @Output() hasContent: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  set showDeleteDialog(val: boolean) {\n    this._showDeleteDialog = val;\n\n    if (this._showDeleteDialog) {\n      setTimeout(() => this.confirmDeleteButton.nativeElement.focus(), 0);\n    }\n  }\n\n  get showDeleteDialog() {\n    return this._showDeleteDialog;\n  }\n\n  showDialog() {\n    if (this.item.rights.delete) {\n      this.showDeleteDialog = true;\n    }\n  }\n\n  @Input()\n  set emptyState(e: EmptyState) {\n    this._emptyState = e || EmptyStateService.defaultEmptyState();\n  }\n\n  get emptyState() {\n    return this._emptyState;\n  }\n\n  @Input('params')\n  set dmsParams(params: DmsParams) {\n    this.showLoader = true;\n    this.loadDmsObject(params).subscribe((res: DmsObject) => {\n      this.dmsObject = res;\n      this.showLoader = false;\n    },\n      Utils.throw(() => this.onHasError(true, true, false))\n    );\n  }\n\n  @Input('item')\n  set dmsObject(v: DmsObject) {\n    this.item = v;\n    this.onHasError();\n    // prepare indexdata preview\n    this.onIndexDataSaved(null, this.item);\n    this.eventService.trigger(EnaioEvent.DMS_OBJECT_LOADED, this.item);\n\n    if (this.item) {\n\n      if (this.item.lock) {\n        this.lockTooltip = this.translate.instant('eo.object.lock') + ' '\n          + (new LocaleDatePipe(this.translate).transform(this.item.lock.on))\n          + ', ' + this.item.lock.by.label + ' (' + this.item.lock.by.name + ')';\n      }\n    } else {\n      this.emptyState = this.empty.getEmptyState(0);\n    }\n  }\n\n  @HostBinding('attr.data-type') get dataType() {\n    return this.item ? this.item.typeName : 'none';\n  }\n\n  constructor(private router: Router,\n    private system: SystemService,\n    private empty: EmptyStateService,\n    private backend: BackendService,\n    private userService: UserService,\n    private toast: NotificationsService,\n    private dmsService: DmsService,\n    private selection: SelectionService,\n    private capabilityService: CapabilitiesService,\n    private eventService: EventService,\n    private configService: Config,\n    private translate: TranslateService) {\n\n    this.panelOrder = this.configService.getRaw('recyclebinDetailsTabs') || this.panelOrder;\n    this.user$.subscribe(user => {this.userId = user.id; });\n  }\n\n  private getDmsParams(data: any): DmsParams {\n    return data ? {...data, type: data.type} : null;\n  }\n\n  private updateContent() {\n    if (this.applySelection) {\n      this.selection\n        .find(this.applySelection.in)\n        .focus$\n        .pipe(\n          untilDestroyed(this)\n        )\n        .subscribe(result => {\n          this.showLoader = true;\n          this.loadDmsObject(this.parseDmsParams(result) as DmsParams).subscribe((res: DmsObject) => {\n            if (this.item && res && (this.item.id === res.id) && res.version > this.item.version) {\n              this.eventService.trigger(EnaioEvent.DMS_OBJECT_UPDATED, res);\n            }\n            this.dmsObject = res;\n            this.showLoader = false;\n          },\n            Utils.throw((error) => {\n              return this.onHasError(true, true, false);\n            })\n          );\n        });\n    }\n  }\n\n  restoreFile(openLocationAfterRestore = false) {\n    this.dmsService.restore(this.item.id, this.userId, this.item.typeName).subscribe(() => {\n      this.updateContent();\n      if (openLocationAfterRestore) {\n        this.router.navigate(['/object', this.item.id]);\n      }\n      this.toast.success(\n        this.translate.instant('eo.recyclebin.details.restore.done.title'),\n        this.translate.instant('eo.recyclebin.details.restore.done.message', {item : this.item.title}),\n      );\n      this.eventService.trigger(EnaioEvent.DMS_OBJECT_RESTORED_OR_DELETED);\n    }, (error) => {\n      if (error.status === 409) {\n        this.toast.error(this.translate.instant('eo.recyclebin.details.restore.dms.object.error.409'));\n      }\n    });\n  }\n  deleteDmsObject() {\n    this.dmsService\n      .deleteDmsObject(this.item.id, this.item.type.name, true)\n      .subscribe(() => {\n          this.toast.success(\n            this.translate.instant('eo.recyclebin.details.delete.done.title'),\n            this.translate.instant('eo.recyclebin.details.delete.done.message', {item : this.item.title})\n          );\n          this._showDeleteDialog = false;\n          this.eventService.trigger(EnaioEvent.DMS_OBJECT_RESTORED_OR_DELETED);\n        });\n      }\n\n  private prepareIndexDataPreview(item: DmsObject, formData?: any) {\n    const {id, data, type, created, modified, content, contentFileName, contentFileSize, version} = item;\n\n    return this.system\n      .getObjectTypeForm(type.name, 'EDIT')\n      .pipe(\n        map(form => {\n          let indexDataPreview = {\n            form,\n            data: formData || data\n          };\n          let baseparams: BaseParams = {\n            id,\n            type: type.name,\n            createdOn: new Date(created.on),\n            modifiedOn: new Date(modified.on),\n            createdBy: `${created.by.title} (${created.by.name})`,\n            modifiedBy: `${modified.by.title} (${modified.by.name})`,\n            contentFileName: contentFileName ? contentFileName : null,\n            contentFileSize: contentFileSize ? Number(contentFileSize) : null,\n            version: version || 0,\n            mimeGroup: content ? content.contents ? content.contents[0].mimegroup : null : null,\n            digest: content ? content.contents ? content.contents[0].digest : null : null,\n            contentId: content ? content.contents ? content.id : null : null,\n            mimeType: content ? content.contents ? content.contents[0].mimetype : null : null,\n          };\n          return {indexDataPreview, baseparams};\n        }));\n  }\n\n  private onHasError(hasError = false, nodmsobject = false, showLoader = false) {\n    this.hasError = hasError;\n    this.nodmsobject = nodmsobject;\n    this.showLoader = showLoader;\n    this.hasContent.emit(!hasError);\n  }\n\n  loadDmsObject(params: DmsParams) {\n    if (params) {\n      delete params.version;\n    }\n    // check for valid id\n    return params?.id?.length === 32 ? this.dmsService.getDmsObjectByParams(params) : of(null);\n  }\n\n  downloadOriginalContent() {\n    this.backend.downloadContent([this.item], null, false, true);\n  }\n\n  // executed when the dms object changed due to saving its indexdata\n  onIndexDataSaved(formData, item) {\n    if (!this.item) {\n      this.indexDataPreview = null;\n      this.baseparams = null;\n    }\n    if (!this.item2) {\n      this.indexDataPreview2 = null;\n      this.baseparams2 = null;\n    }\n    if (item) {\n      this.prepareIndexDataPreview(item, formData)\n        .subscribe(data => {\n          if (item === this.item) {\n            this.indexDataPreview = data.indexDataPreview;\n            this.baseparams = data.baseparams;\n          } else {\n            this.indexDataPreview2 = data.indexDataPreview;\n            this.baseparams2 = data.baseparams;\n          }\n        });\n    }\n  }\n\n  isVisible(id: string) {\n    return this.panelOrder.master.includes(id) || this.panelOrder.slave.includes(id);\n  }\n\n  ngOnInit() {\n    this.capabilities = this.capabilityService.getCapabilities();\n    this.updateContent();\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_UPDATED)\n      .pipe(\n        untilDestroyed(this)\n      )\n      .subscribe(event => {\n        if (event.data && this.item.id === event.data.id) {\n          this.dmsObject = this.dmsService.createLocalCopyOfDMSObject(event.data);\n          if (this.preview) {\n            this.preview.refresh();\n          }\n        }\n      });\n  }\n\n  ngAfterViewInit() {\n    // let panels = this.tabPanels.toArray();\n    // this.tabPlugins.forEach(p => panels = panels.concat(p.tabPanels.toArray()));\n    // this.externalPanels.reset(panels);\n  }\n}\n","<div class=\"loader-overlay__mask\" *ngIf=\"showLoader\">\n    <eo-loading-spinner class=\"recyclebin-detail__loader\"></eo-loading-spinner>\n</div>\n<ng-container *ngIf=\"item && !hasError\">\n\n    <div class=\"eo-head eo-head-tabs\">\n        <header class=\"eo-header\">\n            <eo-icon class=\"eo-header-icon\" [objectType]=\"item.type\" [iconTitle]=\"item.type.label\"></eo-icon>\n\n            <div class=\"eo-header-info\">\n                <h2 class=\"eo-header-title\">{{item.title}}</h2>\n                <h3 class=\"eo-header-subtitle\">{{item.description}}</h3>\n            </div>\n\n            <div class=\"actions\">\n                <eo-icon *ngIf=\"item.content\"\n                         class=\"button\"\n                    [iconSrc]=\"'assets/_default/svg/ic_content-download.svg'\"\n                    [iconTitle]=\"('eo.action.download.dms.object.content.label' | translate)\"\n                    (click)=\"downloadOriginalContent()\"></eo-icon>\n                <eo-icon class=\"button\" [ngClass]=\"{disabled: !this.item.rights.delete}\" [iconSrc]=\"'assets/_default/svg/ic_trash.svg'\"\n                    [iconTitle]=\"this.item.rights.delete ? ('eo.recyclebin.details.delete.tooltip' | translate) : ('eo.recyclebin.details.delete.disabled.tooltip' | translate)\"\n                    (click)=\"showDialog();\"></eo-icon>\n                <button (click)=\"restoreFile()\" translate>eo.recyclebin.details.restore</button>\n                <button (click)=\"restoreFile(true)\" class=\"primary\"\n                    translate>eo.recyclebin.details.restoreopen</button>\n            </div>\n        </header>\n    </div>\n    <div class=\"eo-body\">\n        <yvc-split-tabs [layoutSettingsID]=\"cacheLayout\">\n\n\n            <ng-template [yvcTab]=\"{id: 'summary', label: 'eo.object.summary.title' | translate}\">\n                <eo-indexdata-summary [indexdata]=\"indexDataPreview\" [baseparams]=\"baseparams\"\n                    [dmsObject]=\"item\"></eo-indexdata-summary>\n            </ng-template>\n\n            <ng-template [yvcTab]=\"{id: 'preview', label: 'eo.object.content.title' | translate}\">\n                <eo-media *ngIf=\"item\" [dmsObject]=\"item\" [useVersion]=\"item.id === item.content?.id\"\n                    #viewer></eo-media>\n            </ng-template>\n\n            <ng-template *ngIf=\"isVisible('history')\"\n                [yvcTab]=\"{id: 'history', label: 'eo.object.history.title' | translate}\">\n                <eo-object-history [params]=\"{id: item.id, type: item.type?.qname}\">\n                </eo-object-history>\n            </ng-template>\n        </yvc-split-tabs>\n    </div>\n</ng-container>\n\n<eo-dialog [title]=\"'eo.recyclebin.details.delete.dialog.title' | translate\" [(visible)]=\"showDeleteDialog\"\n    [focusOnShow]=\"false\" [minWidth]=\"400\" [styleClass]=\"'recyclebin-delete__dialog'\">\n\n    <div>\n        <span>{{'eo.recyclebin.details.delete.dialog.message' | translate}}</span>\n        <br>\n        <span class=\"recyclebin-delete__dialog_warning\">{{'eo.recyclebin.details.delete.dialog.message.warning' |\n            translate}}</span>\n    </div>\n    <div class=\"action-buttons recyclebin-delete--action-buttons flex-row\">\n        <button type=\"button\" class=\"button cancel\" (click)=\"showDeleteDialog = false\"\n            translate>eo.recyclebin.details.delete.dialog.cancel</button>\n        <button type=\"button\" #confirmDelete (click)=\"deleteDmsObject()\" class=\"button primary\"\n            translate>eo.recyclebin.details.delete.dialog.delete</button>\n    </div>\n</eo-dialog>\n","export * from './result-list.module';\nexport * from './result-list.component';\n","import {GridOptions} from '@ag-grid-community/core';\nimport {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {NavigationExtras, Router} from '@angular/router';\nimport {\n  BackendService,\n  Config,\n  EnaioEvent,\n  EventService,\n  FieldDefinition,\n  LocalStorageService,\n  ObjectType,\n  SearchQuery, SearchResult,\n  SearchService,\n  SortOption,\n  StoredQueriesService, StoredQuery,\n  TranslateService, Utils\n} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {of as observableOf} from 'rxjs';\nimport {GridService} from '../../eo-framework-core/api/grid.service';\nimport {AppSearchService} from '../../eo-framework-core/search/app-search.service';\nimport {GridFilter} from '../grid/grid-filter.model';\nimport {GridComponent} from '../grid/grid.component';\nimport {ListContainerComponent} from '../list-container';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-result-list',\n  templateUrl: './result-list.component.html',\n  styleUrls: ['./result-list.component.scss']\n})\nexport class ResultListComponent implements OnInit {\n\n  @ViewChild('eoGrid') grid: GridComponent;\n  @ViewChild('eoList') list: ListContainerComponent;\n\n  // for lists that exceed the configured max result size, data will be fetched in chunks\n  private VIRTUAL_LIST_CHUNK_SIZE: number;\n  resolveReferencesCsv: boolean;\n  resolveReferencesCsvThreshold: number;\n  static COLUMNS_DEFINITION = 'eo.framework.cache.columns.definition';\n\n  private _result: SearchResult;\n  private _query: SearchQuery;\n  private _cachedColumns: any[];\n  private defaultQuery: SearchQuery;\n  csvLoadingSpinnerVisibility = false;\n\n  visibleConfig = false;\n  showLoader = false;\n  public totalHits: any;\n  public limitedList = false;\n  public resultGridOptions: GridOptions = {};\n  settings = {};\n  querySubtitle = '';\n  savedSearchClicked = false;\n  storedQuery: StoredQuery;\n  showWarnExportCSVThresholdDialog = false;\n\n  @Input() title = '';\n  @Input() configType: ObjectType | null;\n  @Input() configContext: ObjectType | null;\n\n  // If set to true query will be treated like a temporary search.\n  // That means, global search will not be affected (global query will be reset after execution)\n  @Input() clearAfterExecute: boolean;\n  @Input() emptyMessage = '';\n  @Input() selectFirst = true;\n  @Input() gridOptions: GridOptions;\n  @Input() hasIcon = false;\n  @Input() reference = false;\n  @Output() onSelectionChanged = new EventEmitter();\n  @Output() onFocusChanged = new EventEmitter();\n  @Output() onDoubleClick = new EventEmitter();\n  @Output() onContextMenu = new EventEmitter();\n  @Output() onCountChanged = new EventEmitter();\n  @Output() onRefresh = new EventEmitter();\n  @Output() onResult = new EventEmitter();\n  @Output() onQueryInvalid = new EventEmitter();\n\n  @Input()\n  set query(query: any) {\n    this.storedQuery = undefined;\n    if (!query) {\n      this.invalidQuery();\n    } else {\n      if (query.name) {\n        this.storedQueriesService.getStoredQueries$()\n          .pipe(untilDestroyed(this))\n          .subscribe(queriesSubscription => {\n            this.storedQuery = queriesSubscription.queries.filter(q => q.name === query.name)[0];\n          });\n      }\n      this._query = this.searchService.buildQuery(query);\n      if (this._query) {\n        this.defaultQuery = this.searchService.buildQuery(this._query.getQueryJson());\n        this.appSearchService.setQuery(this.defaultQuery);\n        this.appSearchService.aggregate();\n\n        const config = this.searchService.getResultFieldDefinitionConfig(this.query);\n        this.configType = config.type;\n        this.configContext = config.contextType;\n        this.showLoader = true;\n        this.searchService\n          .getChunkedResult(this._query, 0, this.VIRTUAL_LIST_CHUNK_SIZE)\n          .subscribe(result => {\n            this.showLoader = false;\n            this.clearQuery(this.clearAfterExecute);\n            this.searchResult = result;\n          }, Utils.throw(() => {\n            this.showLoader = false;\n            this.clearQuery(true);\n            this.invalidQuery();\n          }));\n        this.querySubtitle = '';\n        for (let i = 0; i < this.query.types.length; i++) {\n          this.querySubtitle += this.query.types[i].label;\n          if (i !== this.query.types.length - 1) {\n            this.querySubtitle += ', ';\n          }\n        }\n      } else {\n        this.invalidQuery();\n      }\n    }\n  }\n\n  get query() {\n    return this._query;\n  }\n\n  @Input()\n  set searchResult(result: SearchResult) {\n    // todo: backend should resolve query.fields and return config in specific order\n    const _fields = result.fields ? observableOf(result.fields) :\n      this.searchService.fetchResultFieldDefinition(this.configType, this.configContext, 'ALL');\n    _fields.subscribe(fields => {\n      if (fields && this.query && this.query.fields && this.query.fields.length) {\n        fields.elements = this.query.fields.map(f => fields.elements.find(e => f === e.hitname));\n      }\n      result.fields = fields || new FieldDefinition();\n      this._result = result;\n      this.processResults(this._result);\n    });\n  }\n\n  get searchResult() {\n    return this._result;\n  }\n\n  constructor(private config: Config, public translate: TranslateService, public gridApi: GridService, private backend: BackendService,\n              private appSearchService: AppSearchService, private searchService: SearchService, private eventService: EventService,\n              private storageService: LocalStorageService, private storedQueriesService: StoredQueriesService, private router: Router) {\n    this.VIRTUAL_LIST_CHUNK_SIZE = this.config.getRaw('search.limit') as number;\n    this.resolveReferencesCsv = this.config.getRaw('search.resolveReferencesCSV') as boolean || false;\n    this.resolveReferencesCsvThreshold = this.config.getRaw('search.resolveReferencesCSVThreshold') as number || 10000;\n    this._cachedColumns = this.storageService.getItem(ResultListComponent.COLUMNS_DEFINITION) || [];\n  }\n\n  clearQuery(clearAfterExecute) {\n    if (clearAfterExecute) {\n      this.appSearchService.clearQuery();\n    }\n  }\n\n  invalidQuery() {\n    this.onQueryInvalid.emit();\n  }\n\n  ngOnInit() {\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_DELETED)\n      .pipe(untilDestroyed(this))\n      .subscribe(res => {\n        if (this.grid) {\n          this.grid.updateRows(this.backend.update([res.data], [{id: res.data.id}]));\n        }\n      });\n\n    this.eventService\n      .on(EnaioEvent.DMS_OBJECT_UPDATED)\n      .pipe(untilDestroyed(this))\n      .subscribe(res => {\n        if (this.grid) {\n          // this.grid.updateRows(this.backend.update([res.data], [{id: res.data.id, item: res.data.data}]));\n        }\n      });\n  }\n\n\n  refreshGrid() {\n    if (this.query) {\n      this.query = this.defaultQuery;\n    }\n    this.onRefresh.emit(this.query);\n  }\n\n  onColumnResized(column: any) {\n    let col = this._cachedColumns.find(c => c.qname === column.colDef.refData.qname);\n    if (col) {\n      col.width = column.actualWidth;\n    } else {\n      this._cachedColumns.push({qname: column.colDef.refData.qname, width: column.actualWidth});\n    }\n    this.storageService.setItem(ResultListComponent.COLUMNS_DEFINITION, this._cachedColumns);\n  }\n\n  /**\n   * Event handler for grid configuration\n   * @param $event\n   */\n  onConfigChanged(refresh) {\n    if (refresh) {\n      this.refreshGrid();\n    }\n  }\n\n  /**\n   * Process Search result & generate column definitions\n   * @param result\n   */\n  private processResults(result: SearchResult) {\n    this.visibleConfig = false;\n    this.onResult.emit(result);\n    this.totalHits = result.count.value;\n    this.limitedList = this.totalHits > result.hits.length;\n    let gridOptions: GridOptions = {context: {}, onSortChanged: () => this.onPageChanged(), onFilterChanged: () => this.onPageChanged()};\n    const searchMode = result.fields.mode ? result.fields.mode : null;\n\n    this.settings = this.limitedList && this.query ? {total: this.totalHits, size: this.VIRTUAL_LIST_CHUNK_SIZE, relation: result.count.relation} : null;\n    gridOptions.rowData = result.hits;\n\n    const {elements, sortorder, grouporder, pinned, alignmentx} = result.fields;\n\n    gridOptions.context.count = result.count;\n    gridOptions.columnDefs = this.gridApi.getColumnDefs(elements, sortorder, grouporder, pinned, alignmentx, false, this._cachedColumns, searchMode);\n\n    const refreshGrid = this.hasGridOptions;\n    Object.assign(this.resultGridOptions, gridOptions, this.gridOptions);\n\n    if (refreshGrid) {\n      // reload grid component\n      this.resultGridOptions = {};\n      setTimeout(() => Object.assign(this.resultGridOptions, gridOptions, this.gridOptions), 0);\n    }\n  }\n\n  private postfixSort(id) {\n    // todo: remove when it's fixed on backend\n    return id.match(/(^sysobject\\.|^sysdocument\\.)(creator$|modifier$)/) ? 'title' : '';\n  }\n\n  onPageChanged(page: number = 1) {\n    if (this.limitedList && this.query) {\n      this.fetchRowData({\n        startRow: this.VIRTUAL_LIST_CHUNK_SIZE * (page - 1),\n        sortModel: this.grid.api.getSortModel(),\n        filterModel: this.grid.api.getFilterModel(),\n        successCallback: (rows, total, relation) => {\n          this.settings = {total, relation, size: this.VIRTUAL_LIST_CHUNK_SIZE, page};\n          this.grid.api.setRowData(rows);\n        }\n      });\n    }\n  }\n\n  /**\n   * Function for fetching the items to be displayed with a virtual row model.\n   *\n   * @param params - row model params (incl. startRow, endRow, sortModel and filterModel)\n   */\n  private fetchRowData(params: any) {\n\n    if (this.query) {\n\n      this.updateQuery(params);\n\n      this.searchService\n        .getChunkedResult(this.query, params.startRow, this.VIRTUAL_LIST_CHUNK_SIZE)\n        .subscribe(result => {\n          this.totalHits = this.grid.gridOptions.context.rowCount = result.count.value;\n          this.grid.gridOptions.context.count = result.count;\n          params.successCallback(result.hits, this.totalHits, result.count.relation);\n        });\n    }\n  }\n\n  private updateQuery(params: any) {\n    this.query.sortOptions = (params.sortModel || this.grid.api.getSortModel() || [])\n        .map(model => new SortOption(GridService.qnameFormatter(model.colId + this.postfixSort(model.colId)), model.sort));\n\n    this.query.filters = this.defaultQuery.filters\n      .concat((Object.keys(params.filterModel || this.grid.api.getFilterModel()) || [])\n        .map(key => GridFilter.operator(GridService.qnameFormatter(key), (params.filterModel || this.grid.api.getFilterModel())[key])));\n\n    this.query.searchMode = SearchQuery.DEFAULT_SEARCH_MODE;\n  }\n\n  executeSuggestSearch() {\n    // todo: implement\n  }\n\n  private resultHasReferences(): boolean {\n    return this._result.fields.elements.some(element => element.type === 'ORGANIZATION' || element.type === 'REFERENCE');\n  }\n\n  exportCSV(ignoreThreshold = false) {\n    if (!ignoreThreshold && this.resolveReferencesCsv\n      && (this.list.gridCount.totalCount > this.resolveReferencesCsvThreshold || this.list.gridCount.relation === 'gte')\n      && this.resultHasReferences()) {\n      this.showWarnExportCSVThresholdDialog = true;\n      return;\n    }\n    this.csvLoadingSpinnerVisibility = true;\n    this.updateQuery({});\n    this.showWarnExportCSVThresholdDialog = false;\n    this.searchService.downloadCsvFromQuery(this.query.getQueryJson(this.resolveReferencesCsv)).subscribe(() => {\n      this.csvLoadingSpinnerVisibility = false;\n    });\n  }\n\n  parseDmsParams(data) {\n    return {id: data && data.id ? data.id : null, type: data && data.type ? data.type : null};\n  }\n\n  get hasGridOptions() {\n    return !!(this.resultGridOptions.datasource || this.resultGridOptions.rowData);\n  }\n\n  onStoredQueryLoaded() {\n    this.savedSearchClicked = false;\n    this.router.navigate([{outlets: {modal: 'search'}}]);\n  }\n\n  onStoredQueryExecute(evt) {\n    this.savedSearchClicked = false;\n    const uriParam = encodeURIComponent(JSON.stringify(evt.queryJson));\n    const uriParamQuery: NavigationExtras = {queryParams: {'query': uriParam}};\n    this.router.navigate(['/result'], uriParamQuery);\n  }\n}\n","<div class=\"loader-overlay__mask\" *ngIf=\"showLoader\">\n  <eo-loading-spinner class=\"result-list__loader\" [size]=\"'medium'\"></eo-loading-spinner>\n</div>\n<eo-column-configurator *ngIf=\"visibleConfig\" [visible]=\"visibleConfig\"\n                        [configType]=\"configType\" [configContext]=\"configContext\" [eoGrid]=\"grid\"\n                        (onConfigChanged)=\"visibleConfig = false; onConfigChanged($event)\" ></eo-column-configurator>\n\n<eo-list-container #eoList [applySelection]=\"{}\" [loading]=\"false\" [parseDmsParams]=\"parseDmsParams\">\n  <div class=\"eo-header\">\n    <eo-icon class=\"eo-header-icon\" *ngIf=\"hasIcon\" [iconSrc]=\"'assets/_default/svg/ic_search.svg'\"></eo-icon>\n    <div class=\"eo-header-info\">\n      <div class=\"eo-header-title\">{{title || ('eo.search.title' | translate)}}</div>\n      <div class=\"eo-header-subtitle\">\n        <span *ngIf=\"!storedQuery; else storedQueryText\" class=\"eo-header-subtitle__label\" [title]=\"querySubtitle\">{{querySubtitle}}</span>\n        <ng-template #storedQueryText>\n          <ng-container *ngIf=\"storedQuery.parameter.length === 0; else storedQueryDialog\">\n            <span class=\"eo-header-subtitle__label\" [title]=\"('eo.search.aside.summary.storedquery' | translate) + ': ' + storedQuery.name\">\n              {{'eo.search.aside.summary.storedquery' | translate}}: {{storedQuery.name}}\n            </span>\n          </ng-container>\n        </ng-template>\n        <ng-template #storedQueryDialog>\n          <div class=\"stored-query\">\n            <span>\n              {{'eo.search.aside.summary.storedquery' | translate}}:\n            </span>\n            <button class=\"sq\" (click)=\"savedSearchClicked = true\" (keyup.enter)=\"savedSearchClicked = true\" tabindex=\"0\">\n              <eo-icon [iconSrc]=\"'assets/_default/svg/ic_stored_query.svg'\"></eo-icon>\n              <span>{{storedQuery.name}}</span>\n            </button>\n          </div>\n        </ng-template>\n        <span *ngIf=\"query?.contextFolderTypes.length === 1\" translate\n              [translateParams]=\"{type: query.contextFolderTypes[0].label}\">eo.search.objecttype.form.context</span>\n        <span class=\"term\" *ngIf=\"!storedQuery && query?.term && !clearAfterExecute\" [title]=\"('eo.search.result.term' | translate) + ': ' + query.term\">{{'eo.search.result.term' | translate}} : \"{{query.term}}\"</span>\n        <div class=\"suggest\" *ngIf=\"searchResult?.suggests\">{{'eo.search.suggest' | translate}}<a href=\"javascript:void(0)\" (click)=\"executeSuggestSearch()\">{{searchResult.suggests[0]}}</a> ?\n        </div>\n      </div>\n    </div>\n    <div class=\"eo-header-actions\">\n      <eo-icon class=\"button refresh-button\" [iconSrc]=\"'assets/_default/svg/ic_refresh.svg'\" (click)=\"refreshGrid()\"\n               [iconTitle]=\"('eo.list.refresh' | translate)\"></eo-icon>\n      <eo-icon class=\"button export-button\" [hidden]=\"!query\" [iconSrc]=\"'assets/_default/svg/ic_content-download.svg'\" [iconTitle]=\"('eo.resultlist.export.csv' | translate)\"\n               (click)=\"exportCSV()\" *ngIf=\"!csvLoadingSpinnerVisibility\"></eo-icon>\n      <eo-loading-spinner [size]=\"'small'\" *ngIf=\"csvLoadingSpinnerVisibility\" class=\"spinner\"></eo-loading-spinner>\n      <eo-icon class=\"button config-button\" [iconSrc]=\"'assets/_default/svg/ic_settings.svg'\" [iconTitle]=\"('eo.column.config.title' | translate)\"\n               (click)=\"visibleConfig = !visibleConfig\"></eo-icon>\n      <eo-icon class=\"button actions-button\" (click)=\"eoList.showActions()\" [iconTitle]=\"('eo.object.actions.title' | translate)\"\n               [iconSrc]=\"'assets/_default/svg/ic_more.svg'\" *ngIf=\"!reference\"></eo-icon>\n    </div>\n  </div>\n  <div class=\"eo-body\">\n    <eo-grid #eoGrid [gridOptions]=\"resultGridOptions\" *ngIf=\"hasGridOptions; else error\"\n             [showFooter]=\"true\" (eoGridColumnResized)=\"onColumnResized($event)\" [selectFirst]=\"selectFirst\"\n             (eoGridCountChanged)=\"eoList.onCountChanged($event);onCountChanged.emit($event);\"\n             (eoGridContextMenuClick)=\"eoList.onContextMenu($event);onContextMenu.emit($event)\"\n             (eoGridSelectionChanged)=\"eoList.onSelectionChanged($event);onSelectionChanged.emit($event)\"\n             (eoGridDoubleClick)=\"eoList.onDoubleClick($event);onDoubleClick.emit($event)\"\n             (eoGridFocusChanged)=\"eoList.onFocusChanged($event);onFocusChanged.emit($event)\">\n\n      <div class=\"footer\">\n        <eo-total-count [gridCount]=\"eoList.gridCount\" [outsideGrid]=\"false\" class=\"flex-row\"></eo-total-count>\n        <!--<eo-quick-filter [eoGrid]=\"eoGrid\"></eo-quick-filter>-->\n        <eo-pagination [settings]=\"settings\" (pageChanged)=\"onPageChanged($event)\"></eo-pagination>\n      </div>\n\n      <div class=\"empty\">\n        <eo-error-message [emptyState]=\"{text: emptyMessage || 'eo.search.result.expired'}\"></eo-error-message>\n      </div>\n    </eo-grid>\n  </div>\n  <ng-template #error>\n\n    <eo-error-message *ngIf=\"hasGridOptions\" [emptyState]=\"{text:'eo.search.mode.expert.result.empty'}\">\n    </eo-error-message>\n\n  </ng-template>\n</eo-list-container>\n\n<eo-dialog [visible]=\"savedSearchClicked\" (hide)=\"savedSearchClicked = false\" [title]=\"'eo.search.aside.summary.storedquery' | translate\">\n  <eo-stored-query [query]=\"storedQuery\"\n                   (onQueryLoaded)=\"onStoredQueryLoaded()\"\n                   (onQueryExecute)=\"onStoredQueryExecute($event)\"></eo-stored-query>\n</eo-dialog>\n\n<eo-dialog [title]=\"'eo.resultlist.export.csv.threshold.dialog.title' | translate\"\n           [(visible)]=\"showWarnExportCSVThresholdDialog\" [focusOnShow]=\"false\" [minWidth]=\"400\" [styleClass]=\"'threshold__dialog'\">\n\n  <div>{{'eo.resultlist.export.csv.threshold.dialog.message' | translate}}</div>\n\n  <div class=\"action-buttons flex-row\">\n    <button type=\"button\" class=\"button cancel\" (click)=\"showWarnExportCSVThresholdDialog = false\"\n            translate>eo.resultlist.export.csv.threshold.dialog.cancel</button>\n    <button type=\"button\" cdkFocusInitial (click)=\"exportCSV(true)\" class=\"button primary\"\n            translate>eo.resultlist.export.csv.threshold.dialog.export</button>\n  </div>\n</eo-dialog>\n\n","import {NgModule} from '@angular/core';\nimport {UiModule} from '../ui/ui.module';\nimport {GridModule} from '../grid/grid.module';\nimport {ResultListComponent} from './result-list.component';\nimport {ListContainerModule} from '../list-container/list-container.module';\nimport {StoredQueryModule} from '../stored-query/stored-query.module';\n\n@NgModule({\n  imports: [\n    UiModule,\n    ListContainerModule,\n    GridModule,\n    StoredQueryModule\n  ],\n  exports: [ResultListComponent],\n  declarations: [ResultListComponent]\n})\nexport class ResultListModule {\n}\n","import {Component, Input, EventEmitter, Output} from '@angular/core';\nimport {UntypedFormGroup, UntypedFormBuilder, Validators, ValidatorFn} from '@angular/forms';\nimport {NotificationsService, UserService} from '@eo-sdk/core';\nimport {TranslateService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-change-password-form',\n  templateUrl: './change-password-form.component.html',\n  styleUrls: ['./change-password-form.component.scss']\n})\nexport class ChangePasswordFormComponent {\n\n\n  @Input() userRegex = '';\n  @Output() onFormSumbit: EventEmitter<any> = new EventEmitter<any>();\n\n  changePasswordForm: UntypedFormGroup;\n  passwordIsVisible = false;\n  passwordValidation = {type: 'valid', amount: null};\n\n  constructor(private fb: UntypedFormBuilder,\n              private userService: UserService,\n              private translate: TranslateService,\n              private toaster: NotificationsService) {\n    this.generateForm();\n  }\n\n  generateForm() {\n    const {compose, required, minLength} = Validators;\n    this.changePasswordForm = this.fb.group({\n      currentPassword: ['', compose([required, minLength(1)])],\n      password: ['', compose([required, minLength(1)])],\n      confirmPassword: ['', compose([required, minLength(1)])]\n    }, {\n      validator: compose([\n        this.newPasswordValidator('currentPassword', 'password'),\n        this.matchingPasswordsValidator('password', 'confirmPassword')\n      ])\n    });\n\n    this.onChanges();\n  }\n\n  newPasswordValidator(current, password): ValidatorFn {\n    return (group: UntypedFormGroup) => {\n      if (group.controls[current].value !== group.controls[password].value) {\n        return null;\n      }\n      return {'SAME_PASSWORD': true};\n    }\n  }\n\n  matchingPasswordsValidator(password, confirm): ValidatorFn {\n    return (group: UntypedFormGroup) => {\n      if (group.controls[password].value === group.controls[confirm].value) {\n        return null;\n      }\n      return {'matchingPasswords': true}\n    }\n  }\n\n  onChanges(): void {\n    this.changePasswordForm.valueChanges\n      .subscribe(value => {\n        if (value.password) {\n          this.passwordValidation = this.userService.validatePassword(value.password);\n        }\n        return this.matchingPasswords;\n      });\n  }\n\n  showPasswords() {\n    this.passwordIsVisible = !this.passwordIsVisible;\n  }\n\n  get passwordIsNew() {\n    const {errors, controls} = this.changePasswordForm;\n    let passwordIsNewError = false;\n    if (errors) {\n      const currentPassword = controls.currentPassword.touched && controls.currentPassword.dirty;\n      const password = controls.password.touched && controls.password.dirty;\n      passwordIsNewError = errors.SAME_PASSWORD && currentPassword && password;\n    }\n    return passwordIsNewError;\n  }\n\n  get matchingPasswords() {\n    const {errors, controls} = this.changePasswordForm;\n    let matchingPasswordsError = false;\n    if (errors) {\n      const password = controls.password.touched && controls.password.dirty;\n      const confirmPassword = controls.confirmPassword.touched && controls.confirmPassword.dirty;\n      matchingPasswordsError = errors.matchingPasswords && password && confirmPassword;\n    }\n    return matchingPasswordsError;\n  }\n\n\n  changePasswordOnSuccess() {\n    this.changePasswordForm.reset();\n    this.changePasswordForm.markAsPristine();\n    this.changePasswordForm.markAsUntouched();\n    this.onFormSumbit.emit(true);\n    this.toaster.success(this.translate.instant('eo.password.reset.success'));\n  }\n\n  changePasswordOnError(error) {\n    const errorTitle = this.translate.instant('eo.password.reset.error.password.title');\n    if (error.error.key === 'USER_OLD_PASSWORD_WRONG') {\n      this.toaster.error(errorTitle, this.translate.instant('eo.password.reset.error.old.password.message'));\n    } else if (error.error.key === 'USER_NEW_PASSWORD_INVALID') {\n      this.toaster.error(errorTitle, this.translate.instant('eo.password.reset.error.new.password.message'));\n    } else {\n      this.toaster.error(errorTitle);\n    }\n  }\n\n  onSubmit() {\n    const {currentPassword, password} = this.changePasswordForm.value;\n    const payload = {\n      old: currentPassword,\n      new: password\n    };\n\n    this.userService\n      .changePassword(payload)\n      .subscribe(() => this.changePasswordOnSuccess(), (error) => this.changePasswordOnError(error));\n  }\n}\n","<section class=\"change-password\">\n  <form #changePasswordFormElement [formGroup]=\"changePasswordForm\" (ngSubmit)=\"onSubmit()\" autocomplete=\"off\">\n    <div class=\"form-item\">\n\n      <eo-form-input [label]=\"('eo.password.reset.current-password' | translate)\" [required]=\"true\" [invalid]=\"passwordIsNew\">\n        <eo-password [parent]=\"changePasswordForm\"\n                     [element]=\"'currentPassword'\"\n                     [canChangepasswordVisiblety]=\"false\"\n                     [passwordVisible]=\"passwordIsVisible\"\n                     [placeholder]=\"('eo.password.reset.current-password' | translate)\"></eo-password>\n      </eo-form-input>\n\n      <eo-form-input [label]=\"('eo.password.reset.new-password' | translate)\" [required]=\"true\" [invalid]=\"matchingPasswords || passwordIsNew\">\n        <eo-password [parent]=\"changePasswordForm\"\n                     [element]=\"'password'\"\n                     [canChangepasswordVisiblety]=\"false\"\n                     [passwordVisible]=\"passwordIsVisible\"\n                     [placeholder]=\"('eo.password.reset.new-password' | translate)\"></eo-password>\n      </eo-form-input>\n\n      <eo-form-input [label]=\"('eo.password.reset.confirm-password' | translate)\" [required]=\"true\" [invalid]=\"matchingPasswords\">\n        <eo-password [parent]=\"changePasswordForm\"\n                     [element]=\"'confirmPassword'\"\n                     [canChangepasswordVisiblety]=\"false\"\n                     [passwordVisible]=\"passwordIsVisible\"\n                     [placeholder]=\"('eo.password.reset.confirm-password' | translate)\"></eo-password>\n      </eo-form-input>\n\n      <div class=\"invalid error\" *ngIf=\"passwordIsNew\">\n        {{'eo.password.reset.error.same.password' | translate}}\n      </div>\n\n      <div class=\"invalid error\" *ngIf=\"matchingPasswords\">\n        {{'eo.password.reset.error.matiching.password' | translate}}\n      </div>\n\n      <div class=\"invalid error\" translate [translateParams]=\"{amount: passwordValidation.amount}\" *ngIf=\"passwordValidation.type === 'short'\">\n        eo.password.reset.error.new.password.short\n      </div>\n\n      <div class=\"invalid error\" translate [translateParams]=\"{amount: passwordValidation.amount}\" *ngIf=\"passwordValidation.type === 'number'\">\n       eo.password.reset.error.new.password.number\n      </div>\n\n      <div class=\"invalid error\" translate [translateParams]=\"{amount: passwordValidation.amount}\" *ngIf=\"passwordValidation.type === 'specialchars'\">\n       eo.password.reset.error.new.password.specialchars\n      </div>\n\n      <section class=\"change-password__cta\">\n        <button class=\"change-password__submit-button\" type=\"submit\"\n                [disabled]=\"changePasswordForm.invalid || passwordValidation.type !== 'valid'\" translate>eo.password.reset.confirm-button</button>\n\n        <a (click)=\"showPasswords()\" tabindex=\"0\" (keydown.enter)=\"showPasswords()\" >\n          <eo-icon class=\"change-password__icon-show\"\n                   [iconSrc]=\"'assets/_default/svg/ic_eye.svg'\"\n                   [iconTitle]=\"('eo.password.reset.toogle.icon' | translate)\"\n                   [ngClass]=\"{'visible': passwordIsVisible}\"></eo-icon>\n        </a>\n      </section>\n    </div>\n  </form>\n\n</section>\n","export * from './settings.module';\nexport * from './change-password/change-password.interface';\nexport * from './change-password/change-password-form/change-password-form.component';\nexport * from './permissions/permissions.component';\n","<div class=\"role\" *ngFor=\"let role of roles\">\n  <eo-icon [iconSrc]=\"'assets/_default/svg/ic_shield.svg'\"></eo-icon>\n  <div>\n    <div class=\"name\">{{role.name}}</div>\n    <div class=\"description\">{{role.description}}</div>\n  </div>\n</div>\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'eo-permissions',\n  templateUrl: './permissions.component.html',\n  styleUrls: ['./permissions.component.scss']\n})\nexport class PermissionsComponent {\n\n\n  @Input() roles: Array<any> = [];\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormElementsModule} from '../form-elements/form-elements.module';\nimport {UiModule} from '../ui/ui.module';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {ChangePasswordFormComponent} from './change-password/change-password-form/change-password-form.component';\nimport {EoSharedModule} from '@eo-sdk/core';\nimport {PermissionsComponent} from './permissions/permissions.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    FormElementsModule,\n    EoSharedModule,\n    UiModule\n  ],\n  declarations: [ChangePasswordFormComponent, PermissionsComponent],\n  exports: [ChangePasswordFormComponent, PermissionsComponent]\n})\nexport class SettingsModule {\n}\n","import {Component, OnInit, Input, HostListener, Output, EventEmitter} from '@angular/core';\nimport {GlobalShortcutComponent} from '../../global-shortcut-component.interface';\nimport {GlobalShortcutAction} from '../../global-shortcut-action.interface';\nimport {Shortcut} from '../../shortcut.interface';\n\n@Component({\n  selector: 'eo-global-shortcuts-section',\n  templateUrl: './global-shortcuts-section.component.html',\n  styleUrls: ['./global-shortcuts-section.component.scss']\n})\nexport class GlobalShortcutsSectionComponent implements OnInit {\n\n  _component: GlobalShortcutComponent;\n  _actions: GlobalShortcutAction[];\n\n  @Input() target;\n\n  @Input('component')\n  set component(component: GlobalShortcutComponent) {\n    // convert strings to Shortcuts which adds immediate validation\n    component.actions.forEach(a => a.shortcut = a.shortcut instanceof Shortcut ? a.shortcut : new Shortcut(a.shortcut));\n    this._component = component;\n\n    // filter hidden actions\n    this._actions = this._component.actions.filter((a) => !a['isHidden'] || !a.isHidden(this.target));\n  }\n\n  @Output() onActionExecuted = new EventEmitter();\n  activeActionIndex = 0;\n\n  constructor() {\n  }\n\n  @HostListener('document:keyup', ['$event']) onKey(event) {\n    if (this._actions.length && this._component.focused) {\n      let length = this._actions.length - 1;\n      if (event.which === 38) {\n        // Arrow Up\n        this.activeActionIndex = this.activeActionIndex === 0 ? length : this.activeActionIndex - 1;\n      } else if (event.which === 40) {\n        // Arrow Down\n        this.activeActionIndex = this.activeActionIndex === length ? 0 : this.activeActionIndex + 1;\n      } else if (event.which === 13) {\n        // ENTER\n        this.executeAction(this._actions[this.activeActionIndex]);\n      }\n    }\n\n    // evaluate shortcuts\n    if (Shortcut.isValid(event)) {\n      let action = this._actions.find(({shortcut}) => shortcut && Shortcut.match(event, shortcut));\n      this.executeAction(action);\n    }\n  }\n\n  executeAction(action) {\n    if (action) {\n      this.onActionExecuted.emit();\n      action.onExecuteAction(this.target);\n    }\n  }\n\n  ngOnInit() {\n  }\n\n}\n","<div class=\"gsc-component\" [ngClass]=\"{active: _component.focused}\" tabindex=\"-1\">\n  <h2>{{_component.labelKey ? (_component.labelKey | translate) : _component.label}}</h2>\n  <div class=\"action\" *ngFor=\"let action of _actions; let idx = index\"\n       [ngClass]=\"{active: idx === activeActionIndex, hasshortcut: action.shortcut}\"\n       (click)=\"executeAction(action)\" tabindex=\"-1\">\n    <span class=\"name\">{{action.nameKey ? (action.nameKey | translate) : action.name}}</span>\n    <span class=\"shortcut\">{{action.shortcut && action.shortcut.toString()}}</span>\n  </div>\n</div>\n","import {Component, HostListener, ViewChild} from '@angular/core';\nimport {ShortcutsService} from '../shortcuts.service';\nimport {GlobalShortcutComponent} from '../global-shortcut-component.interface';\nimport {fromEvent} from 'rxjs';\nimport {debounceTime, tap} from 'rxjs/operators';\n\n@Component({\n  selector: 'eo-global-shortcuts',\n  templateUrl: './global-shortcuts.component.html',\n  styleUrls: ['./global-shortcuts.component.scss']\n})\nexport class GlobalShortcutsComponent {\n\n  @ViewChild('shortcuts') container;\n\n  private hotkeyTick = 0;\n  target;\n  shortcutsVisible: boolean;\n  private _boundComponents: GlobalShortcutComponent[];\n  items: GlobalShortcutComponent[];\n\n  constructor(private shortcutsService: ShortcutsService) {\n    shortcutsService.components$.subscribe((boundComponents) => {\n      this._boundComponents = boundComponents;\n    });\n\n    let timeOut;\n    // notice: it's important that global shortcuts listen on the windows object rather than on document\n    // That's because other global listeners (like uploader) should be able to cancel keyboard events to\n    // avoid the shortcuts overlay to be triggered\n    fromEvent(window, 'keyup').pipe(\n      debounceTime(100),\n      tap((event: KeyboardEvent) => {\n        if (event.key === 'Control') {\n          this.hotkeyTick++;\n          if (this.hotkeyTick === 2) {\n            this.showShortcutsPanel(event);\n            this.hotkeyTick = 0;\n          } else {\n            timeOut = setTimeout(() => this.hotkeyTick = 0, 1000);\n          }\n        } else {\n          this.hotkeyTick = 0;\n          if (timeOut) {\n            clearTimeout(timeOut);\n          }\n        }\n\n        if (this.shortcutsVisible) {\n          switch (event.key) {\n            case 'Control':\n              break;\n            case 'Escape':\n              this.hideShortcutsPanel();\n              clearTimeout(timeOut);\n              break;\n            case 'ArrowLeft':\n              this.focusPrevious();\n              break;\n            case 'ArrowRight':\n              this.focusNext();\n              break;\n          }\n        }\n      })\n    ).subscribe()\n  }\n\n  // prevent setting focus from the shortcut component itself\n  // while the shortcut panel is showing\n  @HostListener('focusin', ['$event']) focusIn(event) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  showShortcutsPanel(evt) {\n    if (!this.shortcutsVisible) {\n      this.target = evt.target;\n      this.items = this._boundComponents.filter(c => {\n        // filter items to show only shortcut sections that have at least one visible action\n        let visibleActions = c.actions.filter(a => !a['isHidden'] || !a.isHidden(this.target));\n        return visibleActions.length > 0;\n      });\n      if (!~this.items.findIndex(c => c.focused)) {\n        this.focusNext();\n      }\n\n      this.shortcutsVisible = true;\n      setTimeout(() => this.container.nativeElement.focus());\n    }\n  }\n\n  hideShortcutsPanel() {\n    this.shortcutsVisible = false;\n    if (this.target) {\n      this.target.focus();\n    }\n  }\n\n  // callback passed to the globalShortcutsSectionComponent to be executed\n  // when an action was executed\n  onActionExecuted(evt) {\n    this.hideShortcutsPanel();\n  }\n\n  // focus next shortcut section\n  focusNext() {\n    let focusedIndex = this.items.findIndex(c => c.focused);\n    let targetIndex;\n    if (focusedIndex === -1 || focusedIndex === this.items.length - 1) {\n      // nothing focused right now\n      targetIndex = 0;\n    } else {\n      targetIndex = focusedIndex + 1;\n    }\n    this.shortcutsService.focusComponent(this.items[targetIndex].id);\n  }\n\n  // focus previous shortcut section\n  focusPrevious() {\n    let focusedIndex = this.items.findIndex(c => c.focused);\n    let targetIndex;\n    if (focusedIndex === -1) {\n      targetIndex = 0;\n    } else if (focusedIndex === 0) {\n      // nothing focused right now\n      targetIndex = this.items.length - 1;\n    } else {\n      targetIndex = focusedIndex - 1;\n    }\n    this.shortcutsService.focusComponent(this.items[targetIndex].id);\n  }\n}\n","<div class=\"eo-global-shortcuts\" *ngIf=\"shortcutsVisible\" #shortcuts tabindex=\"-1\">\n  <eo-icon class=\"button white close\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" [iconTitle]=\"('eo.search.storedquery.close' | translate)\"\n           (click)=\"hideShortcutsPanel()\">\n  </eo-icon>\n  <h1 translate>eo.shortcuts.title</h1>\n  <div class=\"sections\" tabindex=\"-1\">\n    <eo-global-shortcuts-section [component]=\"cmp\"\n                                 [target]=\"target\"\n                                 (onActionExecuted)=\"onActionExecuted($event)\"\n                                 *ngFor=\"let cmp of items\"></eo-global-shortcuts-section>\n  </div>\n</div>\n","export * from './shortcuts.module';\nexport * from './global-shortcut-component.interface';\nexport * from './global-shortcut-action.interface';\nexport * from './global-shortcuts/global-shortcuts.component';\nexport * from './global-shortcuts/global-shortcuts-section/global-shortcuts-section.component';\nexport * from './shortcut.interface';\nexport * from './shortcuts.directive';\nexport * from './shortcuts.service';\n","/**\n * Interface defining a shortcut to execute a GlobalShortcutAction\n */\nexport class Shortcut {\n\n  public which;\n\n  static isValid(evt: KeyboardEvent | Shortcut) {\n    // match only 1 digit or 1 letter\n    return (evt.key || String.fromCharCode(evt.which)).match(new RegExp('^(\\\\d|[a-zA-Z])$'));\n  }\n\n  static match(evt: KeyboardEvent, shortcut: Shortcut | string) {\n    let s = shortcut instanceof Shortcut ? shortcut : new Shortcut(shortcut);\n    return s.key.toLocaleLowerCase() === (evt.key || String.fromCharCode(evt.which)).toLocaleLowerCase() &&\n      s.ctrlKey === evt.ctrlKey && s.shiftKey === evt.shiftKey && s.altKey === evt.altKey;\n  }\n\n  constructor(public key: string, public ctrlKey = false, public shiftKey = false, public altKey = false) {\n    if (!Shortcut.isValid(this)) {\n      console.error(`Shortcut '${key}' is not valid. Shortcut should contain 1 digit or 1 letter!`);\n    } else {\n      this.which = key.charCodeAt(0);\n    }\n  }\n\n  match(evt: KeyboardEvent) {\n    return Shortcut.match(evt, this);\n  }\n\n  toString() {\n    // todo: Cmd vs. Ctrl\n    return `${this.ctrlKey ? 'Ctrl + ' : ''}\n            ${this.shiftKey ? 'Shift + ' : ''}\n            ${this.altKey ? 'Alt + ' : ''}\n            ${this.key}`;\n  }\n}\n","import {Directive, Input, OnDestroy, HostListener, HostBinding} from '@angular/core';\nimport {GlobalShortcutComponent} from './global-shortcut-component.interface';\nimport {ShortcutsService} from './shortcuts.service';\n\n/**\n * Directive to add a component to the global shortcuts service. Just apply\n * `[eoShortcuts]=\"shortcutsCmp\"` to the template of your component, where `shortcutsCmp`\n * is an object implementing the `GlobalShortcutComponent` interface. This will then add\n * the component itself and its provided actions to the global shortcuts overlay. It will\n * also take care of binding and unbinding of the components shortcuts.\n */\n@Directive({\n  selector: '[eoShortcuts]'\n})\nexport class ShortcutsDirective implements OnDestroy {\n\n  private _shortcutCmp: GlobalShortcutComponent;\n\n  // set tabindex to the host component so it is focusable\n  @HostBinding('attr.tabindex') _tabIndex = 0;\n\n  @Input('eoShortcuts')\n  set shortcuts(shortcutComponent: GlobalShortcutComponent) {\n    this._shortcutCmp = shortcutComponent;\n    this.shortcutsService.bindComponent(this._shortcutCmp);\n  }\n\n  // bind to fosusin event to also set focus on the shortcut component.\n  // Using 'focusin' instead of 'focus' enables the parent component to receive\n  // the event when a child component gets focused (because this event bubbles).\n  @HostListener('focusin', ['$event']) focus(event) {\n    this.shortcutsService.focusComponent(this._shortcutCmp.id);\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  constructor(private shortcutsService: ShortcutsService) {\n  }\n\n  ngOnDestroy() {\n    this.shortcutsService.unbindComponent(this._shortcutCmp.id);\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {EoSharedModule} from '@eo-sdk/core';\nimport {ShortcutsService} from './shortcuts.service';\nimport {GlobalShortcutsComponent} from './global-shortcuts/global-shortcuts.component';\nimport {GlobalShortcutsSectionComponent} from './global-shortcuts/global-shortcuts-section/global-shortcuts-section.component';\nimport {ShortcutsDirective} from './shortcuts.directive';\nimport {UiModule} from '../ui/ui.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    EoSharedModule,\n    UiModule\n  ],\n  exports: [GlobalShortcutsComponent, ShortcutsDirective],\n  declarations: [GlobalShortcutsComponent, GlobalShortcutsSectionComponent, ShortcutsDirective],\n  providers: [ShortcutsService]\n})\nexport class ShortcutsModule {\n}\n","import {Injectable} from '@angular/core';\nimport {Observable, ReplaySubject} from 'rxjs';\nimport {GlobalShortcutComponent} from './global-shortcut-component.interface';\nimport {Logger} from '@eo-sdk/core';\n\n@Injectable()\nexport class ShortcutsService {\n\n  // list of componets that are currently registered to provide global keyboard shortcuts\n  private _boundComponents: GlobalShortcutComponent[] = [];\n  private boundComponentsSource = new ReplaySubject<any>();\n  public components$: Observable<any> = this.boundComponentsSource.asObservable();\n\n  constructor(private logger: Logger) {\n  }\n\n  /**\n   * Add a components to the list of tracked keyboard aware components\n   */\n  bindComponent(cmp: GlobalShortcutComponent) {\n    // only add if its not yet registered\n    if (!this._boundComponents.find((c) => c.id === cmp.id)) {\n      this.logger.debug('Adding shortcut component ' + cmp.label);\n      this._boundComponents.push(cmp);\n      this.boundComponentsSource.next(this._boundComponents);\n    }\n  }\n\n  unbindComponent(id: string) {\n    this.logger.debug('Removing shortcut component ' + id);\n    this._boundComponents = this._boundComponents.filter((c) => c.id !== id);\n    this.boundComponentsSource.next(this._boundComponents);\n  }\n\n  /**\n   * Sets focus to a shortcut component\n   * @param id - id of the component to receive focus\n   */\n  focusComponent(id) {\n    this._boundComponents.forEach((c) => {\n      c.id === id ? c.focused = true : c.focused = false;\n    });\n    this.boundComponentsSource.next(this._boundComponents);\n  }\n}\n","export * from './stored-query.module';\nexport * from './stored-query.interface';\nexport * from './stored-query-type-filter.enum';\nexport * from './stored-query/stored-query.component';\nexport * from './stored-query-details/stored-query-details.component';\nexport * from './stored-query-details/dynamic-property-switch/dynamic-property-switch.component';\n","import {Component, Input, Output, EventEmitter, HostBinding} from '@angular/core';\nimport {ObjectFormControlWrapper} from '../../../object-form/object-form/object-form-control-wrapper';\nimport {ObjectFormControl} from '../../../object-form/object-form/object-form-control';\n\n@Component({\n  selector: 'eo-dynamic-property-switch',\n  templateUrl: './dynamic-property-switch.component.html',\n  styleUrls: ['./dynamic-property-switch.component.scss']\n})\nexport class DynamicPropertySwitchComponent {\n\n  value: boolean;\n  controlName: string;\n  @HostBinding('class.disabled') disabled: boolean;\n\n  @Input()\n  set parentFormControl(fc: ObjectFormControlWrapper) {\n    if (fc) {\n      let formControl: ObjectFormControl = fc.controls[fc._eoFormControlWrapper.controlName] as ObjectFormControl;\n      if (formControl && formControl._eoFormElement) {\n        this.value = formControl._eoFormElement._dynamic;\n        this.controlName = fc._eoFormControlWrapper.controlName;\n        this.disabled = formControl._eoFormElement.type === 'TABLE'; // Form elements of type 'TABLE' make no sense.\n      }\n    }\n  }\n\n  /**\n   * control: qname of the target form element\n   * value: based on whether or not the element should be dynamic\n   */\n  @Output() onPropertyChanged = new EventEmitter<{control: string, value: boolean}>();\n\n  constructor() { }\n\n  toggleValue() {\n    if (!this.disabled) {\n      this.value = !this.value;\n      this.onPropertyChanged.emit({\n        control: this.controlName,\n        value: this.value\n      });\n    }\n  }\n}\n","<eo-icon [ngClass]=\"{active: value}\"\n         [iconSrc]=\"'assets/_default/svg/ic_input.svg'\"\n         (click)=\"toggleValue()\" >\n</eo-icon>\n","import {Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {UntypedFormControl, Validators} from '@angular/forms';\nimport {NavigationExtras, Router} from '@angular/router';\nimport {\n  IStoredQueryParam,\n  OrgRole,\n  QueryScope,\n  SearchFilter,\n  SearchQuery,\n  SearchService,\n  StoredQueriesService,\n  StoredQuery,\n  SystemService,\n  TranslateService,\n  UserService,\n  Utils\n} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {Observable, forkJoin, of} from 'rxjs';\nimport {tap} from 'rxjs/operators';\nimport {PendingChangesService} from '../../../eo-framework-core/pending-changes/pending-changes.service';\nimport {LocaleDatePipe} from '../../../eo-framework-core/pipes/locale-date.pipe';\nimport {SelectionService} from '../../../eo-framework-core/selection/selection.service';\nimport {ObjectFormHelperService} from '../../object-form/object-form-helper.service';\nimport {ObjectFormControl} from '../../object-form/object-form/object-form-control';\nimport {ObjectFormControlWrapper} from '../../object-form/object-form/object-form-control-wrapper';\nimport {ObjectFormGroup} from '../../object-form/object-form/object-form-group.model';\nimport {UtilitiesService} from '../../util/services/utilities.service';\nimport {EditForm, NotifyList, Restriction} from '../stored-query.interface';\nimport {StoredQueryComponent} from '../stored-query/stored-query.component';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-stored-query-details',\n  templateUrl: './stored-query-details.component.html',\n  styleUrls: ['./stored-query-details.component.scss']\n})\nexport class StoredQueryDetailsComponent implements OnInit {\n\n  private FORM_INPUT_TITLE = 'storedQueryTitle';\n  private FORM_INPUT_FULLTEXT = 'storedQueryFulltext';\n  private BASE_PARAMS_FIELDS = Object.keys(SearchQuery.BASE_PARAMS).map(k => SearchQuery.BASE_PARAMS[k]);\n  private datePipe: LocaleDatePipe;\n  private pendingTaskId: string;\n\n  @ViewChild('storedQueryForm') storedQueryForm: StoredQueryComponent;\n\n  iconTitles: any;\n  storedQuery: StoredQuery;\n  queryScope: QueryScope;\n  editForm: EditForm;\n  restrictions: Restriction[];\n  editingShare: boolean;\n  isNewQuery: boolean;\n  isOwnQuery: boolean;\n  enableSharing: boolean;\n  systemRoles: OrgRole[];\n  rolesPicker = {\n    title: this.translate.instant('eo.storedquery.roles'),\n    codesystem: null,\n    value: null\n  };\n\n  @Input()\n  set query(q: StoredQuery) {\n    this.setQuery(q);\n  }\n\n  @Output() notifyList: EventEmitter<NotifyList> = new EventEmitter<NotifyList>();\n\n  constructor(private router: Router,\n    private searchService: SearchService,\n    private userService: UserService,\n    private systemService: SystemService,\n    private selection: SelectionService,\n    private pendingChanges: PendingChangesService,\n    private storedQueriesService: StoredQueriesService,\n    private formHelperService: ObjectFormHelperService,\n    private elemRef: ElementRef,\n    private translate: TranslateService) {\n\n    this.datePipe = new LocaleDatePipe(translate);\n    this.fetchRoles();\n  }\n\n  public setQueryScope(scope: QueryScope) {\n    this.storedQuery.scope = scope;\n    this.queryScope = scope;\n  }\n\n  setQuery(q: StoredQuery) {\n    this.editingShare = false;\n    this.resetEditForm();\n    // grab meta information about the query\n    this.storedQuery = q;\n    if (q instanceof StoredQuery) {\n      this.queryScope = q.scope;\n      const user = this.userService.getCurrentUser();\n      this.isNewQuery = q.isNew();\n      this.isOwnQuery = this.isNewQuery || q.user.toLowerCase() === user.name.toLowerCase();\n      this.restrictions = this.getRestrictions();\n      this.rolesPicker.value = q.roles;\n      this.enableSharing = user.hasPrivilege('SHARE_STORED_QUERIES') && this.isOwnQuery && !this.isNewQuery;\n\n      if (q.isNew()) {\n        this.storedQuery.name = this.translate.instant('eo.search.storedqueries.new.title');\n        this.edit();\n        this.startPending();\n        this.notifyList.emit({unselect: true, update: false});\n        setTimeout(() => {\n          this.elemRef.nativeElement.querySelector('[name=\"storedQueryTitle\"]').focus()\n        }, 500);\n      }\n    }\n  }\n\n  private startPending() {\n    if (!this.pendingChanges.hasPendingTask(this.pendingTaskId || ' ')) {\n      this.pendingTaskId = this.pendingChanges.startTask();\n    }\n  }\n\n  private finishPending() {\n    this.pendingChanges.finishTask(this.pendingTaskId);\n  }\n\n  edit() {\n    if (!this.editForm.form) {\n      setTimeout(() => {\n        this.createEditForm();\n        this.notifyList.emit({unselect: false, update: true});\n      }, 0);\n    }\n  }\n\n  onFormStatusChanged(formState) {\n    formState.dirty ? this.startPending() : this.finishPending();\n  }\n\n  toggleShareEdit() {\n    this.editingShare = !this.editingShare;\n  }\n\n  share() {\n    this.storedQuery.roles = this.rolesPicker.value;\n    this.storedQueriesService.saveStoredQuery(this.storedQuery).subscribe(\n      _ => {\n      }, Utils.throw(null, this.translate.instant('eo.search.storedquery.save.error'))\n    );\n    this.editingShare = false;\n  }\n\n  cancelShare() {\n    this.rolesPicker.value = this.storedQuery.roles;\n    this.editingShare = false;\n  }\n\n  delete() {\n    this.storedQueriesService\n      .removeStoredQuery(this.storedQuery.id)\n      .subscribe(() => {\n        this.query = null;\n        this.notifyList.emit({unselect: false, update: false});\n      }, Utils.throw(null, this.translate.instant('eo.search.storedquery.delete.error')));\n  }\n\n  toggleFavoriteState() {\n    this.storedQuery.favorite = !this.storedQuery.favorite;\n    this.storedQueriesService\n      .saveStoredQuery(this.storedQuery)\n      .subscribe(_ => {\n      }, Utils.throw(null, this.translate.instant('eo.search.storedquery.save.error')));\n  }\n\n  cancelEdit() {\n    this.resetEditForm();\n    this.finishPending();\n    if (this.storedQuery.isNew()) {\n      this.query = null;\n    }\n    this.notifyList.emit({unselect: false, update: false, payload: this.storedQuery});\n  }\n\n  setQueryToAppSearch() {\n    this.storedQueryForm.load();\n  }\n\n  executeQuery() {\n    this.storedQueryForm.execute();\n  }\n\n  // Save the current stored query\n  updateStoredQuery() {\n\n    const formData = this.getFormData();\n    this.storedQuery.filters = this.storedQuery.filters.filter(f => ~this.BASE_PARAMS_FIELDS.indexOf(f.property));\n    Object.keys(formData)\n      .forEach(k => {\n        if (k === this.FORM_INPUT_TITLE) {\n          this.storedQuery.name = formData[k];\n        } else if (k === this.FORM_INPUT_FULLTEXT) {\n          this.storedQuery.term = formData[k];\n        } else {\n          let filters: SearchFilter[] = this.searchService.getSearchFilter(this.storedQuery.types, k, formData[k]);\n          filters.forEach(f => this.storedQuery.addFilter(f));\n        }\n      });\n\n    this.storedQueriesService\n      .saveStoredQuery(this.storedQuery)\n      .subscribe(updatedStoredQuery => {\n        this.query = updatedStoredQuery;\n        this.resetEditForm();\n        this.finishPending();\n        this.notifyList.emit({unselect: false, update: false, payload: updatedStoredQuery});\n      }, Utils.throw(null, this.translate.instant('eo.search.storedquery.save.error')));\n  }\n\n  /**\n   * Toggle form elements to be a dynamic parameter or not\n   * @param event\n   */\n  parameterChanged(event: {control: string, value: boolean}) {\n\n    let m = this.storedQuery.parameter.find(p => p.qname === event.control);\n    if (m && !event.value) {\n      // remove existing parameter\n      this.storedQuery.parameter = this.storedQuery.parameter.filter(p => p.qname !== event.control);\n    } else if (!m && event.value) {\n      // add parameter element\n      let param = this.formFieldToParameter(event.control);\n      if (param) {\n        this.storedQuery.parameter.push(param);\n      }\n    }\n  }\n\n  private getFormData() {\n\n    const properties = Object.keys(this.editForm.form.value);\n    let data = {};\n\n\n    properties.forEach(property => {\n\n      const fc: ObjectFormControlWrapper = this.editForm.form.controls[property] as ObjectFormControlWrapper;\n      let formElement;\n      if (fc.controls && fc.controls[property]) {\n        const fe: ObjectFormControl = fc.controls[property] as ObjectFormControl;\n        formElement = fe._eoFormElement;\n      }\n      if (formElement && formElement.isNotSetValue) {\n        data[property] = null;\n      } else {\n\n        switch (property) {\n          case this.FORM_INPUT_TITLE: {\n            data[property] = this.editForm.form.value[property] || '';\n            break;\n          }\n          case this.FORM_INPUT_FULLTEXT: {\n            data[property] = this.editForm.form.value[property][StoredQueriesService.FULLTEXT] || '';\n            break;\n          }\n          default: {\n            const v = this.editForm.form.value[property][property];\n            if (!UtilitiesService.isEmpty(v)) {\n              data[property] = v;\n            }\n          }\n        }\n      }\n    });\n    return data;\n  }\n\n  /**\n   * Create a dynamic stored query parameter for a form element\n   * @param qname The form elements qname\n   * @returns\n   */\n  private formFieldToParameter(qname: string): IStoredQueryParam {\n\n    try {\n      let param: IStoredQueryParam;\n      // special handling for fulltext fields\n      if (qname === StoredQueriesService.FULLTEXT) {\n        param = {\n          qname: qname,\n          type: qname,\n        };\n      } else {\n        const fc = ((this.editForm.form.controls[qname] as ObjectFormControlWrapper).controls[qname] as ObjectFormControl);\n        const fe = fc._eoFormElement;\n        param = {\n          qname: fe.qname,\n          type: fe.type\n        };\n      }\n      return param;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  private resetEditForm() {\n    this.editForm = {\n      form: null,\n      fulltextFormControl: null,\n      controls: [],\n      contextControls: []\n    };\n  }\n\n  onFormChanges(): void {\n    this.editForm\n      .form\n      .valueChanges\n      .subscribe(() => this.onFormStatusChanged(this.editForm.form));\n  }\n\n  private createEditForm() {\n\n    this.resetEditForm();\n    this.setupFormControls().subscribe(_ => {\n\n      let form = new ObjectFormGroup({});\n      let fcTitle = new UntypedFormControl('', Validators.required);\n      fcTitle.setValue(this.storedQuery.name);\n\n      let fcFulltext = this.toFormControl(this.storedQueriesService.getFulltextFormElement(\n        this.translate.instant('eo.storedquery.search.term'),\n        this.storedQuery.term\n      ));\n      this.editForm.fulltextFormControl = fcFulltext;\n\n      // add title and fulltext field\n      form.addControl(this.FORM_INPUT_TITLE, fcTitle);\n      form.addControl(this.FORM_INPUT_FULLTEXT, fcFulltext);\n\n      if (this.editForm.controls.length || this.editForm.contextControls.length) {\n        this.editForm.controls\n          .forEach((c) => form.addControl(c._eoFormControlWrapper.controlName, c));\n        this.editForm.contextControls\n          .forEach((c) => form.addControl(c._eoFormControlWrapper.controlName, c));\n      }\n\n      this.editForm.form = form;\n      this.onFormChanges();\n    })\n  }\n\n  private setupFormControls(): Observable<any> {\n    const tasks = [];\n    // setting up object type form only makes sense with one target type\n    if (this.storedQuery.types.length === 1) {\n      tasks.push(this.systemService.getFormElementsFromFormModel(this.storedQuery.types[0].qname, 'SEARCH').pipe(\n        tap((elements: any[]) => {\n          elements.forEach(e => {\n            // prevent tables and binary types from being rendered in the stored query form\n            if (e.type !== 'BINARY') {\n              if (e.required) {\n                e.required = false;\n              }\n              if (e.readonly) {\n                e.readonly = false;\n              }\n              const fc = this.toFormControl(e);\n              if (fc) {\n                this.editForm.controls.push(fc);\n              }\n            }\n          })\n        })\n      ))\n    }\n    // add context form controls as well\n    if (this.storedQuery.contextFolderTypes.length) {\n      tasks.push(this.systemService.getFormElementsFromFormModel(this.storedQuery.contextFolderTypes[0].qname, 'SEARCH', true).pipe(\n        tap((elements: any[]) => {\n          elements.forEach(e => {\n            const fc = this.toFormControl(e);\n            if (fc) {\n              this.editForm.contextControls.push(fc);\n            }\n          })\n        })\n      ))\n    }\n\n    return tasks.length ? forkJoin(tasks) : of(tasks);\n  }\n\n  private fetchRoles() {\n    if (!this.systemRoles || this.systemRoles.length === 0) {\n      this.systemService\n        .getRoles()\n        .subscribe(res => {\n          this.systemRoles = res;\n          this.rolesPicker.codesystem = {\n            entries: this.systemRoles.map(role => ({\n              id: role.id,\n              label: role.name,\n              defaultrepresentation: role.name,\n              data: role.name\n            })).sort(Utils.sortValues('label'))\n          }\n        }\n        )\n    }\n  }\n\n  getRestrictions(): Restriction[] {\n    let restrictions: Restriction[] = [];\n\n    // type restriction\n    if (this.storedQuery.types && this.storedQuery.types.length) {\n      restrictions.push({\n        field: SearchQuery.BASE_PARAMS.TYPE,\n        label: this.translate.instant('eo.storedquery.restriction.type'),\n        items: this.storedQuery.types.map(t => t.label)\n      });\n    }\n\n    // add base params restrictions\n    (this.storedQuery.filters || []).forEach(filter => {\n      if (filter && ~this.BASE_PARAMS_FIELDS.indexOf(filter.property)) {\n\n        const field = filter.property;\n        const label = this.translate.instant('eo.storedquery.restriction.' + field);\n\n        switch (field) {\n          case SearchQuery.BASE_PARAMS.MIMETYPEGROUP:\n            restrictions.push({\n              field, label, items: Array.isArray(filter.firstValue) ? filter.firstValue : [filter.firstValue]\n            });\n            break;\n          case SearchQuery.BASE_PARAMS.FILENAME:\n            restrictions.push({\n              field, label, items: [filter.firstValue]\n            });\n            break;\n          case SearchQuery.BASE_PARAMS.FILESIZE:\n            restrictions.push({\n              field, label, items: [this.translate.instant('eo.search.agg.filesize.' + filter.firstValue)]\n            });\n            break;\n          case SearchQuery.BASE_PARAMS.CREATED:\n          case SearchQuery.BASE_PARAMS.MODIFIED:\n            restrictions.push({\n              field, label, items: [this.createDateRestriction(filter)]\n            });\n            break;\n          case SearchQuery.BASE_PARAMS.CREATOR:\n          case SearchQuery.BASE_PARAMS.MODIFIER:\n            this.systemService.getOrganizationObjects(filter.firstValue)\n              .subscribe(orgUsers => restrictions.push({\n                field, label, items: orgUsers.map(u => u.title)\n              }));\n            break;\n        }\n      }\n\n    });\n\n    return restrictions;\n  }\n\n  createDateRestriction(filter: SearchFilter) {\n    switch (filter.operator) {\n      case SearchFilter.OPERATOR.RANGE:\n        return this.translate.instant(`eo.search.agg.time.${filter.firstValue}`);\n      case SearchFilter.OPERATOR.EQUAL:\n        return `= ${this.datePipe.transform(filter.firstValue, 'eoShortDate')}`;\n      case SearchFilter.OPERATOR.INTERVAL_INCLUDE_BOTH:\n        return `${this.datePipe.transform(filter.firstValue, 'eoShortDate')} - ${this.datePipe.transform(filter.secondValue, 'eoShortDate')}`;\n      case SearchFilter.OPERATOR.GREATER_OR_EQUAL:\n        return `${this.translate.instant('eo.search.agg.time.span.since')} ${this.datePipe.transform(filter.firstValue, 'eoShortDate')}`;\n      case SearchFilter.OPERATOR.LESS_OR_EQUAL:\n        return `${this.translate.instant('eo.search.agg.time.span.until')} ${this.datePipe.transform(filter.firstValue, 'eoShortDate')}`;\n      default:\n        return `(${filter.operator}) ${this.datePipe.transform(filter.firstValue, 'eoShortDate')}`;\n    }\n  }\n\n  /**\n   * Creates a form control from a given form element\n   * @param formElement\n   * @returns\n   */\n  private toFormControl(formElement): ObjectFormControlWrapper {\n\n    // the `name` property of stored query form element has to be `qname` of form element,\n    // because we may combine multiple forms (context form) and in this case there may\n    // be conflicts in namings\n    formElement.name = formElement.qname;\n\n    if (formElement.type === 'TABLE') {\n      let filters = this.storedQuery.getTableFilters(formElement.qname);\n      if (filters && filters.length) {\n        formElement.value = this.searchService.tableFiltersToElementValue(filters, formElement.elements);\n      } else {\n        formElement.value = [{}];\n        delete formElement.isNotSetValue;\n      }\n    } else {\n      // grab value for the control from corresponding query filters\n      let filter = this.storedQuery.getFilter(formElement.qname);\n      // we may have params that are not part of the queries filters. This may be the\n      // case when we mark form elements as dynamic fields without providing a value\n      if (filter) {\n\n        // filter to have no value\n        if (filter.operator === SearchFilter.OPERATOR.EQUAL && filter.firstValue === null) {\n          formElement.isNotSetValue = true;\n        } else {\n          delete formElement.isNotSetValue;\n        }\n\n        formElement.value = this.searchService.filterToElementValue(\n          this.storedQuery.getFilter(formElement.qname),\n          formElement.type\n        );\n      } else if (formElement.qname !== StoredQueriesService.FULLTEXT) {\n        formElement.value = undefined;\n        delete formElement.isNotSetValue;\n      }\n    }\n    // sync with params\n    const match: any = this.storedQuery.parameter.find(param => {\n      return (param.qname === formElement.qname) || (param.type === StoredQueriesService.FULLTEXT && formElement.qname === StoredQueriesService.FULLTEXT)\n    });\n    // every field that is part of the params is supposed to be dynamic\n    formElement._dynamic = !!match;\n\n    // create actual form control that could be used with\n    // FormElementComponent to then render for elements\n    // wrapper may be null in case of an error\n    return this.formHelperService.elementToFormControl(formElement, 'SEARCH');\n  }\n\n  onStoredQueryLoaded() {\n    this.router.navigate([{outlets: {modal: 'search'}}]);\n  }\n\n  onStoredQueryExecute(evt) {\n    const uriParam = encodeURIComponent(JSON.stringify(evt.queryJson));\n    const uriParamQuery: NavigationExtras = {queryParams: {'query': uriParam}};\n    this.router.navigate(['/result'], uriParamQuery);\n  }\n\n  setIconTitles() {\n    this.iconTitles = {\n      share: this.translate.instant('eo.storedquery.share.title'),\n      shared: this.translate.instant('eo.storedquery.sharedfor.title'),\n      favor: this.translate.instant('eo.storedquery.favor.title'),\n      favored: this.translate.instant('eo.storedquery.favoredfor.title')\n    }\n  }\n\n\n  ngOnInit() {\n    this.selection.focus$\n      .pipe(untilDestroyed(this))\n      .subscribe(q => {\n        this.query = q;\n      });\n    this.setIconTitles();\n  }\n\n  trackByQName(index, item) {\n    return item.qname;\n  }\n\n  trackByIndex(index, item) {\n    return index;\n  }\n}\n","<ng-container *ngIf=\"storedQuery\">\n  <div class=\"eo-head\">\n    <header class=\"eo-header\">\n      <eo-icon class=\"eo-header-icon\"\n               [iconSrc]=\"'assets/_default/svg/ic_search.svg'\"\n               [iconTitle]=\"('eo.view.navigation.storedqueries' | translate)\">\n      </eo-icon>\n      <div class=\"eo-header-info\">\n        <h2 class=\"eo-header-title\">{{storedQuery.name}}</h2>\n        <h3 class=\"eo-header-subtitle\" translate>eo.search.title.storedqueries</h3>\n      </div>\n    </header>\n  </div>\n\n  <div class=\"eo-body\">\n\n    <div class=\"form\">\n\n      <ng-template #queryForm>\n        <eo-stored-query [query]=\"storedQuery\" [formOnly]=\"true\" #storedQueryForm\n                         (onQueryLoaded)=\"onStoredQueryLoaded()\"\n                         (onQueryExecute)=\"onStoredQueryExecute($event)\"></eo-stored-query>\n      </ng-template>\n\n      <form class=\"edit-form\" [formGroup]=\"editForm.form\" *ngIf=\"editForm.form; else queryForm\">\n\n        <div class=\"context dark\">\n\n          <!-- title and fulltext term fields -->\n          <eo-form-input class=\"title\">\n            <input type=\"text\" name=\"storedQueryTitle\" maxlength=\"64\" onfocus=\"this.select()\" [formControlName]=\"'storedQueryTitle'\"/>\n          </eo-form-input>\n\n          <eo-query-scope-select [selection]=\"queryScope\" (select)=\"setQueryScope($event)\"></eo-query-scope-select>\n          <div class=\"form-field\">\n            <eo-form-element [skipToggle]=\"true\" [element]=\"editForm.fulltextFormControl\" [situation]=\"'SEARCH'\"></eo-form-element>\n            <eo-dynamic-property-switch [parentFormControl]=\"editForm.fulltextFormControl\"\n                                        (onPropertyChanged)=\"parameterChanged($event)\"></eo-dynamic-property-switch>\n          </div>\n\n          <!-- context type form controls -->\n          <h3>{{storedQuery.contextFolderTypes[0]?.label}}</h3>\n          <div class=\"form-field\" *ngFor=\"let ctxElement of editForm.contextControls; trackBy: trackByQName\">\n            <eo-form-element [element]=\"ctxElement\" [situation]=\"'SEARCH'\"></eo-form-element>\n            <eo-dynamic-property-switch [parentFormControl]=\"ctxElement\" (onPropertyChanged)=\"parameterChanged($event)\"></eo-dynamic-property-switch>\n          </div>\n        </div>\n\n        <!-- object type form controls -->\n        <div class=\"form-fields\" [ngClass]=\"{empty: !editForm.controls?.length}\">\n          <div class=\"form-field\" *ngFor=\"let element of editForm.controls; trackBy: trackByQName\">\n            <eo-form-element [element]=\"element\" [situation]=\"'SEARCH'\"></eo-form-element>\n            <eo-dynamic-property-switch [parentFormControl]=\"element\" (onPropertyChanged)=\"parameterChanged($event)\"></eo-dynamic-property-switch>\n          </div>\n        </div>\n      </form>\n    </div>\n\n    <aside class=\"aside\">\n\n      <!-- favorite and share -->\n      <div class=\"meta-actions\" *ngIf=\"!isNewQuery\">\n\n        <ng-container *ngIf=\"isOwnQuery; else sharedWithMe\">\n          <eo-icon class=\"button btn-share\" [iconSrc]=\"'assets/_default/svg/ic_share.svg'\" *ngIf=\"enableSharing\"\n                   [ngClass]=\"{active: storedQuery.shared || storedQuery.roles.length, editing: editingShare}\"\n                   (click)=\"toggleShareEdit()\"\n                   [iconTitle]=\"iconTitles.share\"></eo-icon>\n\n          <eo-icon class=\"button btn-fav\" [iconSrc]=\"'assets/_default/svg/ic_favorite.svg'\"\n                   [ngClass]=\"{active: storedQuery.favorite}\"\n                   (click)=\"toggleFavoriteState()\"\n                   [iconTitle]=\"iconTitles.favor\"></eo-icon>\n        </ng-container>\n\n        <ng-template #sharedWithMe>\n          <eo-icon class=\"sharedWithMe\" [iconSrc]=\"'assets/_default/svg/ic_share.svg'\" [iconTitle]=\"iconTitles.shared\"></eo-icon>\n          <eo-icon class=\"sharedWithMe\" [iconSrc]=\"'assets/_default/svg/ic_favorite.svg'\" [iconTitle]=\"iconTitles.favored\"></eo-icon>\n        </ng-template>\n\n      </div>\n\n      <!-- roles that share this query -->\n      <div class=\"meta-roles\" *ngIf=\"!isNewQuery\" [ngClass]=\"{dark: editingShare, empty: !storedQuery.roles?.length}\">\n\n        <div class=\"label\" translate>eo.storedquery.share.sharedwith</div>\n        <div class=\"form-field\" *ngIf=\"rolesPicker?.codesystem?.entries\">\n          <eo-codesystem [pickerTitle]=\"rolesPicker.title\"\n                         [codesystem]=\"rolesPicker.codesystem\"\n                         [multiselect]=\"true\"\n                         [readonly]=\"!editingShare\"\n                         [inputStyleClass]=\"'stored-query__share'\"\n                         [(ngModel)]=\"rolesPicker.value\"></eo-codesystem>\n        </div>\n\n        <div class=\"share-actions\" *ngIf=\"editingShare\">\n          <button class=\"secondary\" (click)=\"cancelShare()\" translate>eo.storedquery.share.cancel</button>\n          <button class=\"primary\" (click)=\"share()\" translate>eo.storedquery.share.ok</button>\n        </div>\n      </div>\n\n      <!-- queries meta info like baseparam settings -->\n      <div class=\"meta-data\" *ngIf=\"restrictions?.length\">\n        <div class=\"restriction\" *ngFor=\"let restriction of restrictions; trackBy: trackByIndex\">\n          <div class=\"label\">{{restriction.label}}</div>\n          <div class=\"items\">\n            <div *ngFor=\"let item of restriction.items; trackBy: trackByIndex\">{{item}}</div>\n          </div>\n        </div>\n      </div>\n\n    </aside>\n\n  </div>\n\n  <div class=\"actions\">\n    <ng-container *ngIf=\"!editForm.form; else actionEdit\">\n      <button class=\"secondary btn-delete\" (click)=\"delete()\" [disabled]=\"!isOwnQuery\" translate>eo.storedquery.action.delete</button>\n      <button class=\"secondary btn-open\" (click)=\"setQueryToAppSearch()\" translate>eo.storedquery.load</button>\n      <button class=\"primary grey btn-edit\" (click)=\"edit()\" [disabled]=\"!isOwnQuery\" translate>eo.storedquery.action.edit</button>\n      <button class=\"primary btn-search\" [disabled]=\"storedQuery.state?.isEmpty\" (click)=\"executeQuery()\" translate>eo.storedquery.run</button>\n    </ng-container>\n\n    <ng-template #actionEdit>\n      <!-- action while editing the query form -->\n      <button class=\"secondary btn-cancel\" (click)=\"cancelEdit()\" translate>eo.storedquery.action.cancel</button>\n      <button class=\"primary btn-save\" (click)=\"updateStoredQuery()\" [disabled]=\"editForm.form.invalid\" translate>eo.storedquery.action.save</button>\n    </ng-template>\n  </div>\n\n</ng-container>\n","export enum TypeFilter {\n  favored = 'favorite',\n  shared = 'roles',\n  others = 'others'\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ReactiveFormsModule, FormsModule} from '@angular/forms';\nimport {StoredQueryComponent} from './stored-query/stored-query.component';\nimport {ObjectFormModule} from '../object-form/object-form.module';\nimport {UiModule} from '../ui/ui.module';\nimport {StoredQueryDetailsComponent} from './stored-query-details/stored-query-details.component';\nimport {FormElementsModule} from '../form-elements/form-elements.module';\nimport {DynamicPropertySwitchComponent} from './stored-query-details/dynamic-property-switch/dynamic-property-switch.component';\nimport {GridModule} from '../grid/grid.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ObjectFormModule,\n    UiModule,\n    GridModule,\n    FormsModule,\n    ReactiveFormsModule,\n    FormElementsModule\n  ],\n  declarations: [\n    StoredQueryComponent,\n    StoredQueryDetailsComponent,\n    DynamicPropertySwitchComponent\n  ],\n  exports: [\n    StoredQueryComponent,\n    StoredQueryDetailsComponent\n  ]\n})\nexport class StoredQueryModule {\n}\n","import {debounceTime, switchMap, map} from \"rxjs/operators\";\nimport {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  HostBinding,\n  ElementRef\n} from \"@angular/core\";\nimport {ObjectFormHelperService} from \"../../object-form/object-form-helper.service\";\nimport {ObjectFormControlWrapper} from \"../../object-form/object-form/object-form-control-wrapper\";\nimport {AppSearchService} from \"../../../eo-framework-core/search/app-search.service\";\nimport {ObjectFormGroup} from \"../../object-form/object-form/object-form-group.model\";\nimport {\n  StoredQueriesService,\n  SearchFilter,\n  SearchState,\n  StoredQuery,\n  SearchService,\n  TranslateService,\n  SystemService,\n  QueryScope\n} from \"@eo-sdk/core\";\nimport {UtilitiesService} from \"../../util/services/utilities.service\";\nimport {forkJoin, Observable, of} from \"rxjs\";\n\n@Component({\n  selector: \"eo-stored-query\",\n  templateUrl: \"./stored-query.component.html\",\n  styleUrls: [\"./stored-query.component.scss\"]\n})\nexport class StoredQueryComponent {\n  queryScope: QueryScope;\n  _storedQuery: StoredQuery;\n  queryFormControls: ObjectFormControlWrapper[];\n  queryForm: ObjectFormGroup;\n  fulltextFormControl: ObjectFormControlWrapper;\n  _formOnly: boolean;\n\n  @Input(\"query\")\n  set query(storedQuery: StoredQuery) {\n    if (storedQuery instanceof StoredQuery) {\n      this._storedQuery = storedQuery;\n      this._storedQuery.state.count = {value : 0};\n      this.queryScope = this._storedQuery.scope;\n\n      this.createQueryForm();\n      this.aggregate();\n    }\n  }\n\n  get query() {\n    return this._storedQuery;\n  }\n\n  // set to true only the stored query form will be rendered, otherwise\n  // we'll get the complete control\n  @Input()\n  set formOnly(b: boolean) {\n    this._formOnly = b;\n  }\n\n  @Output() onQueryLoaded = new EventEmitter();\n  @Output() onQueryExecute = new EventEmitter();\n\n  @HostBinding(\"class.open\") isOpen = this.formOnly;\n\n  constructor(\n    private searchService: SearchService,\n    private elementRef: ElementRef,\n    private translate: TranslateService,\n    private systemService: SystemService,\n    private storedQueriesService: StoredQueriesService,\n    private formHelperService: ObjectFormHelperService,\n    private appSearchService: AppSearchService\n  ) {}\n\n  public setQueryScope(scope: QueryScope) {\n    this._storedQuery.scope = scope;\n    this.queryScope = scope;\n    this.aggregate();\n  }\n\n  // generate the form for the dynamic parts of the stored query\n  createQueryForm() {\n    this.queryFormControls = [];\n    this.fulltextFormControl = null;\n\n    // parameters of a stored query contain the dynamic parts of the query, so\n    // these are the fields to be rendered\n    if (this._storedQuery.parameter && this._storedQuery.parameter.length > 0) {\n      const paramQNames = this._storedQuery.parameter.map(p => p.qname);\n      const fulltextParam = this._storedQuery.parameter.find(\n        p => p.type === StoredQueriesService.FULLTEXT\n      );\n\n      // fulltext param get a special handling\n      if (fulltextParam) {\n        this.fulltextFormControl = this.formHelperService.elementToFormControl(\n          this.storedQueriesService.getFulltextFormElement(\n            this.translate.instant(\"eo.storedquery.search.term\"),\n            this._storedQuery.term\n          ),\n          \"SEARCH\"\n        );\n      }\n\n      this.getFormElements().subscribe(elements => {\n        if (elements.length) {\n          let paramElements = elements.filter(\n            e => paramQNames.indexOf(e.qname) !== -1\n          );\n          // now, create the actual form controls from the param elements\n          paramElements.forEach(paramElement => {\n            if(paramElement.type === 'TABLE'){\n              let filters = this._storedQuery.getTableFilters(paramElement.qname);\n              if(filters && filters.length){\n                paramElement.value = this.searchService.tableFiltersToElementValue(filters, paramElement.elements);\n              } else {\n                paramElement.value = [{}];\n                delete paramElement.isNotSetValue;\n              }\n            }else{\n              // grab value for the control from corresponding query filters\n              let filter = this._storedQuery.getFilter(paramElement.qname);\n              // we may have params that are not part of the queries filters. This may be the\n              // case when we mark form elements as dynamic fields without providing a value\n              if (filter) {\n                // filter to have no value\n                if (\n                  filter.operator === SearchFilter.OPERATOR.EQUAL &&\n                  filter.firstValue === null\n                ) {\n                  paramElement.isNotSetValue = true;\n                } else {\n                  delete paramElement.isNotSetValue;\n                }\n  \n                paramElement.value = this.searchService.filterToElementValue(\n                  this._storedQuery.getFilter(paramElement.qname),\n                  paramElement.type\n                );\n              } else {\n                paramElement.value = undefined;\n              }\n            }\n            // name property of stored query param has to be qname of form element\n            // because we may combine multiple forms (context form) and in this case name could be not unique\n            paramElement.name = paramElement.qname;\n            let wrapper = this.formHelperService.elementToFormControl(\n              paramElement,\n              \"SEARCH\"\n            );\n            if (wrapper) {\n              this.queryFormControls.push(wrapper);\n            }\n          });\n        }\n\n        let form = new ObjectFormGroup({});\n        // add fulltext when available\n        if (this.fulltextFormControl) {\n          form.addControl(\n            this.fulltextFormControl._eoFormControlWrapper.controlName,\n            this.fulltextFormControl\n          );\n        }\n        this.queryFormControls.forEach(c =>\n          form.addControl(c._eoFormControlWrapper.controlName, c)\n        );\n\n        // only setup the form if we actually have controls applied to it\n        if (Object.keys(form.controls).length) {\n          this.queryForm = form;\n          this.queryForm.valueChanges.pipe(debounceTime(500)).subscribe(() => {\n            // update query based on the form values\n            //for (let key of Object.keys(formData)) {\n            for (let key of Object.keys(this.queryForm.controls)) {\n              //let value = formData[key];\n              let value = this.getValue(key);\n\n              if (key === StoredQueriesService.FULLTEXT) {\n                this._storedQuery.term = value || \"\";\n              } else {\n                const wrapper: ObjectFormControlWrapper = this.queryForm\n                  .controls[key] as ObjectFormControlWrapper;\n                const formElementRef: any =\n                  wrapper.controls[wrapper._eoFormControlWrapper.controlName];\n\n                const filters: SearchFilter[] =\n                  UtilitiesService.isEmpty(value) &&\n                    !formElementRef._eoFormElement.isNotSetValue\n                    ? []\n                    : this.searchService.getSearchFilter(\n                      this._storedQuery.types,\n                      key,\n                      formElementRef._eoFormElement.isNotSetValue\n                        ? null\n                        : value\n                    );\n                    \n                if(formElementRef._eoFormElement.type === 'TABLE'){\n                  formElementRef._eoFormElement.elements.forEach(el => {\n                    this._storedQuery.removeFilter(el.qname);\n                  });\n                }\n                filters.forEach(f => this._storedQuery.addFilter(f));\n                if (!filters.length) {\n                  this._storedQuery.removeFilter(key);\n                }\n              }\n            }\n            // fetch aggregations every time the form data changes\n            this.aggregate();\n          });\n          // set focus to the first input, needs Timeout because form may not have been rendered\n          setTimeout(() => {\n            const el = this.elementRef.nativeElement.querySelector(\"input\");\n            if (el) {\n              el.focus();\n            }\n          }, 0);\n        }\n      });\n    }\n  }\n\n  private getFormElements(): Observable<any[]> {\n    // for form fields we use the qname of the parameter to fetch the corresponding form element\n    // from object definition although they may be provided, because they may have\n    // changed since the query was persisted\n    if (this._storedQuery.types.length === 1) {\n      // creating params form only makes sense if we have one single target type ...\n      let formElements = [];\n      const elementFetchTasks = [];\n      elementFetchTasks.push(\n        this.systemService.getFormElementsFromFormModel(\n          this._storedQuery.types[0].qname,\n          \"SEARCH\"\n        )\n      );\n      // ... contextfoldertype may also be provided. They will be set up first to be\n      // on top of the generated form\n      if (this._storedQuery.contextFolderTypes.length === 1) {\n        elementFetchTasks.push(\n          this.systemService.getFormElementsFromFormModel(\n            this._storedQuery.contextFolderTypes[0].qname,\n            \"SEARCH\",\n            true\n          )\n        );\n        // elements = this._storedQuery.contextFolderTypes[0].elements;\n      }\n      return forkJoin(elementFetchTasks).pipe(\n        map((res: any[]) => {\n          formElements = res.length === 2 ? [...res[0], ...res[1]] : res[0];\n          return formElements.map(e => ({...e}));\n        })\n      );\n    } else {\n      return of([]);\n    }\n  }\n\n  private getValue(qname: string): any {\n    const control = this.queryForm.controls[qname];\n    return control.value && control.value[qname];\n  }\n\n  load() {\n    this.appSearchService.setQuery(this._storedQuery);\n    this.onQueryLoaded.emit();\n  }\n\n  execute() {\n    this.onQueryExecute.emit({\n      queryJson: this._storedQuery.getQueryJson()\n    });\n  }\n\n  private aggregate() {\n    this.searchService\n      .getSearchState({aggs: {type: {}}, ...this._storedQuery.getQueryJson()})\n      .subscribe((state: SearchState) => {\n        this._storedQuery.state = state;\n      });\n  }\n}\n","<div *ngIf=\"query\" class=\"eo-stored-query\" [ngClass]=\"{hasForm: queryFormControls?.length > 0}\">\n\n  <div class=\"title\" *ngIf=\"!_formOnly\">{{query.name}}</div>\n  <div class=\"qform\">\n\n    <div class=\"query-form\" [formGroup]=\"queryForm\" *ngIf=\"queryForm\">\n\n      <div class=\"form-field fulltext\" *ngIf=\"fulltextFormControl\">\n        <eo-query-scope-select [selection]=\"queryScope\" (select)=\"setQueryScope($event)\"></eo-query-scope-select>\n        <eo-form-element [element]=\"fulltextFormControl\" [situation]=\"'SEARCH'\"></eo-form-element>\n      </div>\n\n      <div class=\"form-field\" *ngFor=\"let element of queryFormControls\"\n           [ngClass]=\"{sfe: element.controls[element._eoFormControlWrapper.controlName]._eoFormElement.selectedforenrichment}\">\n        <eo-form-element [element]=\"element\" [situation]=\"'SEARCH'\"></eo-form-element>\n      </div>\n    </div>\n\n    <div class=\"actions\">\n      <div class=\"state\">\n        <span class=\"count\">{{query.state?.totalCount | localeDecimal}}</span>\n        <span translate>eo.storedquery.res.count.label</span>\n      </div>\n      <div class=\"buttons\" *ngIf=\"!_formOnly\">\n        <button class=\"secondary\" (click)=\"load()\" translate>eo.storedquery.load</button>\n        <button class=\"primary\" [disabled]=\"(queryForm && queryForm.invalid) || query.state?.isEmpty\"\n                (click)=\"execute()\" translate>eo.storedquery.run</button>\n      </div>\n    </div>\n\n  </div>\n</div>\n","export * from './tree.module';\nexport * from './tree.component';\nexport * from './tree.component.interface';\n","import { Component, ViewEncapsulation, Input, Output, EventEmitter } from '@angular/core';\nimport {TreeNode} from '../tree.component.interface';\n\n@Component({\n  selector: 'eo-tree-node',\n  templateUrl: './tree-node.component.html',\n  styleUrls: ['./tree-node.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class TreeNodeComponent {\n  @Input() node: TreeNode;\n  @Output() onNodeSelected = new EventEmitter();\n  @Output() onNodeExpandedChanged = new EventEmitter();\n\n  constructor() {\n  }\n\n  trackById(index, item) {\n    return item.id;\n  }\n}\n","<div class=\"tree-node\"\n     [ngClass]=\"{selected: node.selected,\n          expanded: node.expanded,\n          notSelectable: !node.selectable && !(node.children?.length),\n          branch: node.children && node.children.length > 0}\">\n  <div class=\"node-line\"></div>\n  <div class=\"node-content\">\n\n    <div class=\"node-item\">\n      <div class=\"spacer\"></div>\n      <div class=\"ico\" (click)=\"node.children?.length ? onNodeExpandedChanged.emit(node) : onNodeSelected.emit(node)\"></div>\n      <div class=\"values\">\n        <div class=\"label\" (click)=\"onNodeSelected.emit(node)\" [ngClass]=\"{focused: node.focused}\">\n          <span>{{node.name}}</span>\n        </div>\n        <div class=\"badge\" *ngIf=\"node.badges && node.badges.length > 0\">\n              <span *ngFor=\"let badge of node.badges\"\n                    class=\"{{badge.cssClass}}\"\n                    [ngClass]=\"{highlighted: node.highlighted}\">\n                    {{badge.value}}\n              </span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"node-children\" *ngIf=\"node.children?.length\">\n      <eo-tree-node [node]=\"_node\" *ngFor=\"let _node of node.children; trackBy: trackById\"\n                    (onNodeExpandedChanged)=\"onNodeExpandedChanged.emit($event)\"\n                    (onNodeSelected)=\"onNodeSelected.emit($event)\"></eo-tree-node>\n    </div>\n  </div>\n</div>\n","import {\n  Component,\n  HostListener,\n  forwardRef,\n  ViewEncapsulation,\n  Input,\n  Output,\n  EventEmitter,\n  HostBinding, ElementRef, OnInit\n} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {TreeNode, TreeOptions} from './tree.component.interface';\n\n\n\n@Component({\n  selector: 'eo-tree',\n  templateUrl: './tree.component.html',\n  styleUrls: ['./tree.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TreeComponent),\n      multi: true\n    }\n  ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class TreeComponent implements ControlValueAccessor, OnInit {\n\n  @HostBinding('attr.tabindex') _tabIndex = 0;\n\n  private _expandedNodes: string[] = [];\n  private _highlightedNodes: string[] = [];\n  private selectedNodes: any[] = [];\n  private visibleNodes: any[] = [];\n  private focusedNode: TreeNode;\n\n  tree: TreeNode[];\n\n  @Input() options: TreeOptions = {};\n  @Input() isDisplayed: boolean;\n  @Input() readonly: boolean;\n\n  @Input() selectionKey = ' '; // default is Space\n\n  // the nodes that are selected. In case of `multiselect` set to true, this will be an\n  @Output() expandedNodesChanged = new EventEmitter();\n  @Output() onSelected = new EventEmitter();\n\n  propagateChange = (_: any) => {\n  }\n\n  constructor(public elementRef: ElementRef) {\n  }\n\n  ngOnInit() {\n  }\n\n  @Input('highlightedNodes')\n  set highlightedNodes(nodes: string[]) {\n    this._highlightedNodes = nodes || [];\n    this.visibleNodes.forEach(n => (n.highlighted = !!this._highlightedNodes.find(id => id === n.id)));\n  }\n\n  @Input('tree')\n  set treeInput(tree: TreeNode[]) {\n    // this.tree = tree;\n    this.selectedNodes = [];\n    this._expandedNodes = [];\n    this.focusedNode = null;\n    this.updateTree(tree);\n  }\n\n  @Input('treeUpdate')\n  set treeUpdate(tree: TreeNode[]) {\n    if (tree) {\n      this.updateTree(tree);\n    }\n  }\n\n\n  @HostListener('focusin', ['$event.target'])\n  onFocusIn(target: any) {\n    if (!this.focusedNode || !this.focusedNode.focused) {\n      let node = this.selectedNodes[0] || this.visibleNodes[0];\n      this.updateFocus(node);\n    }\n  }\n\n    @HostListener('focusout')\n    onFocusOut() {\n      this.updateFocus();\n    }\n\n  onFocus(evt) {\n  }\n\n  onBlur(evt) {\n  }\n\n  onToggle(evt) {\n\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKey(event: KeyboardEvent) {\n    switch (event.key) {\n      case 'ArrowUp': {\n        this.focusNode(false);\n        break;\n      }\n      case 'ArrowDown': {\n        this.focusNode(true);\n        break;\n      }\n      case 'ArrowRight': {\n        this.toggleExpanded(this.focusedNode);\n        break;\n      }\n      case 'ArrowLeft': {\n        this.toggleExpanded(this.focusedNode);\n        break;\n      }\n      case this.selectionKey: {\n        // toggle selection of the focused node\n        if (this.focusedNode.selectable) {\n          // this.focusedNode.selected = !this.focusedNode.selected;\n          this.onNodeSelected(this.focusedNode);\n        }\n        break;\n      }\n    }\n\n    if (['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'].includes(event.key)) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n\n\n  writeValue(selectedNodes: TreeNode[]): void {\n    let _selectedNodes = !selectedNodes || Array.isArray(selectedNodes) ? selectedNodes || [] : [selectedNodes];\n\n    if (this.selectedNodes.length !== _selectedNodes.length || this.selectedNodes.some((n, i) => n.id !== _selectedNodes[i].id)) {\n      this.selectedNodes = _selectedNodes;\n      this.updateTree(this.tree);\n    }\n\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  onNodeSelected(node) {\n    // if the selected node isn't allowed to be selected, we'll instead try to\n    // toggle expanded flag for parent nodes\n    this.onSelected.emit(node);\n    this.updateFocus(node, this.focusedNode);\n\n    if (!node.selectable) {\n      this.toggleExpanded(node);\n    } else {\n      node.selected = !node.selected;\n      if (node.selected) {\n        if (!this.options.multiselect && this.selectedNodes.length) {\n          this.selectedNodes[0].selected = false;\n          this.selectedNodes = [];\n        }\n        this.selectedNodes.push(node);\n      } else {\n        if (!this.options.disableDeselection) {\n          this.selectedNodes = this.selectedNodes.filter(\n            n => n.id !== node.id\n          );\n        } else {\n          node.selected = true;\n        }\n      }\n      this.propagateChange(this.options.multiselect ? this.selectedNodes : this.selectedNodes[0]);\n    }\n  }\n\n\n  public onNodeExpanded(node: TreeNode) {\n    this.collectVisibleNodes(node);\n    this.expandedNodesChanged.emit(this._expandedNodes);\n  }\n\n\n  public toggleExpanded(node: TreeNode) {\n    if (node.children && node.children.length) {\n      node.expanded = !node.expanded;\n      this.onNodeExpanded(node);\n    }\n  }\n\n\n  // Update the tree according to the selected nodes\n  private updateTree(tree?: any) {\n    if (tree || this.tree) {\n      this.tree = (tree || this.tree).map(node => this.updateTreeNode(node, []));\n      this.collectVisibleNodes();\n    }\n  }\n\n\n  // Recursive function walking the tree nodes and setting the nodes `selected` flags\n  private updateTreeNode(node: TreeNode, parents: TreeNode[]) {\n    node.selected = !!this.selectedNodes.find(n => node.id === n.id || (!n.id && node.data?.value === n.value));\n    node.expanded = this._expandedNodes.length ? !!this._expandedNodes.find(id => id === node.id) : node.expanded;\n    node.highlighted = !!this._highlightedNodes.find(id => id === node.id);\n    node.focused = this.focusedNode && this.focusedNode.id === node.id ? this.focusedNode.focused : false;\n    // node.level = parents.length;\n\n    // expand all parent nodes as well\n    if (node.selected && parents.length) {\n      parents.forEach(p => (p.expanded = true));\n    }\n    if (node.children) {\n      node.children.forEach(n => this.updateTreeNode(n, parents.concat([node])));\n    }\n    return node;\n  }\n\n  // Collect all visible nodes in the right order to be used to fetch the previous or\n  // next node using keyboard navigation.\n  private collectVisibleNodes(node?: TreeNode) {\n    this.visibleNodes = this.collectVisibleChildren(this.tree);\n    this.selectedNodes = this.visibleNodes.filter(n => n.selected);\n  }\n\n  // recursive part of collectChildNodes()\n  private collectVisibleChildren(nodes: TreeNode[] = []) {\n    let flat = [];\n    this._expandedNodes = [];\n    nodes.forEach(node => {\n      flat.push(node);\n      if (node.expanded) {\n        this._expandedNodes.push(node.id);\n        flat = flat.concat(this.collectVisibleChildren(node.children));\n      }\n    });\n    return flat;\n  }\n\n  private updateFocus(node?: TreeNode, old?: TreeNode) {\n    if (old) {\n      if (node !== old) {\n        old.focused = false;\n      }\n    } else {\n      this.visibleNodes.forEach(n => (n.focused = false));\n    }\n    if (node) {\n      node.focused = true;\n      this.focusedNode = node;\n    }\n  }\n\n  private focusNode(next?: boolean) {\n    if (this.visibleNodes.length) {\n      let index = 0, shift = next ? 1 : -1;\n      const node = this.visibleNodes.find((n, i) => {\n        index = i;\n        return n.focused;\n      });\n\n      const nextIdx = node ? index + shift : 0;\n      const idx = nextIdx >= this.visibleNodes.length ? 0 : (nextIdx < 0 ? this.visibleNodes.length - 1 : nextIdx);\n      this.updateFocus(this.visibleNodes[idx], node);\n    }\n  }\n}\n","<div class=\"eo-tree\" eoRtlAware *ngIf=\"tree.length; else noTrees\">\n  <eo-tree-node *ngFor=\"let node of tree\" [node]=\"node\"\n                (onNodeExpandedChanged)=\"toggleExpanded($event)\"\n                (onNodeSelected)=\"onNodeSelected($event)\"></eo-tree-node>\n</div>\n\n<ng-template #noTrees>\n  <div class=\"tree tree-panel-error eo-body error\">\n    <eo-icon class=\"error error__icon\" [iconSrc]=\"'ic_error.svg'\"></eo-icon>\n    <p translate>eo.error.structure.tree.not.available</p>\n  </div>\n</ng-template>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {TreeNodeComponent} from './tree-node/tree-node.component';\nimport {TreeComponent} from './tree.component';\nimport {UiModule} from '../ui/ui.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    UiModule\n  ],\n  exports: [TreeComponent],\n  declarations: [TreeComponent, TreeNodeComponent]\n})\nexport class TreeModule {\n}\n","import {trigger, transition, state, style, animate, AnimationTriggerMetadata} from '@angular/animations';\nimport {Observable, Subscription} from 'rxjs';\n\nexport const STATE = {\n  LOADING: 'loading',\n  READY: 'ready',\n  ERROR: 'error'\n};\n\nexport class PanelLoading {\n  state = '';\n\n  private _set(_state: string) {\n    this.state = _state;\n  }\n\n  loading = () => this._set(STATE.LOADING);\n  ready = () => this._set(STATE.READY);\n  error = () => this._set(STATE.ERROR);\n  isLoading = () => this.state === STATE.LOADING;\n  isReady = () => this.state === STATE.READY;\n  isError = () => this.state === STATE.ERROR;\n\n  subscribe(observable: Observable<any>, success?: (res) => void, error?: (err) => void): Subscription {\n    this.loading();\n    return observable.subscribe((res) => {\n      if (success) {\n        success.call(this, res);\n      }\n      this.ready();\n    }, (err) => {\n      if (error) {\n        error.call(this, err);\n      }\n      this.error();\n    });\n  }\n\n}\n\nexport const panelLoadingAnimations: AnimationTriggerMetadata = trigger('panelLoading', [\n  state(STATE.ERROR, style({opacity: 0})),\n  state(STATE.LOADING, style({opacity: 0.5})),\n  state(STATE.READY, style({opacity: 1})),\n  transition(STATE.LOADING + ' <=> ' + STATE.READY, [\n    animate(200)\n  ])\n]);\n","\nimport { forkJoin as observableForkJoin, Observable } from 'rxjs';\n\nimport { catchError } from 'rxjs/operators';\nimport {ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit, ViewEncapsulation} from '@angular/core';\nimport { TranslateService } from '@eo-sdk/core';\nimport { EoLocation, LocationService } from '../../../eo-framework-core/location/location.service';\nimport {\n  Clipboard, ClipboardAction, ClipboardService, DmsObject, PrepareService, DmsService,\n  NotificationsService, EnaioEvent, EventService, Utils\n} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-clipboard',\n  templateUrl: './clipboard.component.html',\n  styleUrls: ['./clipboard.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ClipboardComponent implements OnInit {\n\n  overlayShow: boolean;\n  clipboard: Clipboard;\n  clipboardItems: DmsObject[];\n  type: string;\n  iconSrc: string;\n  iconTitle: string;\n  activeLocation: EoLocation;\n  isPasteAllowed: boolean;\n  isPasteAsContentlinkAllowed: boolean;\n\n  constructor(private translate: TranslateService,\n    private locationService: LocationService,\n    private prepareService: PrepareService,\n    private dmsService: DmsService,\n              private cd: ChangeDetectorRef,\n    private notificationService: NotificationsService,\n    private eventService: EventService,\n    private clipboardService: ClipboardService) {\n  }\n\n  getClipboardContent() {\n    this.clipboardService\n      .clipboard$\n      .subscribe((clipboard) => {\n        this.clipboard = clipboard;\n        this.clipboardItems = clipboard.elements.slice(0, 4);\n        this.type = clipboard.action === ClipboardAction.COPY ? 'copy' : 'cut';\n        this.iconSrc = clipboard.action === ClipboardAction.COPY ?\n          'assets/_default/svg/ic_content-copy.svg' :\n          'assets/_default/svg/ic_content-cut.svg';\n        this.iconTitle = clipboard.action === ClipboardAction.COPY ?\n          this.translate.instant('eo.bar.button.copy.tooltip') :\n          this.translate.instant('eo.bar.button.cut.tooltip');\n        this.checkAllowedActions();\n      });\n  }\n\n  getActiveLocation() {\n    this.locationService.activeLocation$\n      .subscribe(activeLocation => {\n        this.activeLocation = activeLocation;\n        this.checkAllowedActions();\n      });\n  }\n\n  /**\n   * Removes all items from the clipboard\n   */\n  removeAll() {\n    this.hide();\n    this.clipboardService.clear();\n  }\n\n  /**\n   * Removes a single item from the clipboard\n   * @param clipboardItem The item to be removed\n   */\n  removeItem(clipboardItem: DmsObject) {\n    const filtered = this.clipboard.elements.filter(e => e.id !== clipboardItem.id);\n    if (filtered.length === 0) {\n      this.hide();\n    }\n    this.clipboardService.set(filtered, this.clipboard.action);\n  }\n\n  hide() {\n    this.overlayShow = false;\n  }\n\n  paste() {\n    if (this.clipboard.action === ClipboardAction.CUT) {\n      this.move(this.activeLocation, this.clipboard.elements);\n    } else {\n      this.copy(this.activeLocation, this.clipboard.elements, false);\n    }\n  }\n\n  pasteAsContentlink() {\n    this.copy(this.activeLocation, this.clipboard.elements, true);\n  }\n\n  triggerUpdate(elements) {\n    this.eventService.trigger(EnaioEvent.DMS_OBJECT_PASTED, elements);\n  }\n\n  move(activeLocation, elementsToMove: any[]) {\n    this.prepareService.getPrepareChildTypes(activeLocation.id).subscribe((res) => {\n      if (this.allTypesAllowed(res.types, elementsToMove)) {\n        let obs = elementsToMove.map(el => {\n          return this.dmsService.move(el.id, el.typeName, activeLocation.id, activeLocation.type).pipe(\n            catchError(Utils.catch(() => {\n            }, el.title, this.translate.instant('eo.action.clipboard.move.error'))));\n        });\n        observableForkJoin(obs).subscribe(() => {\n          this.clipboardService.clear();\n          this.triggerUpdate(elementsToMove);\n        });\n      } else {\n        this.notificationService.error(this.translate.instant('eo.clipboard.paste.label'), this.translate.instant('eo.clipboard.move.not.allowed'));\n      }\n    });\n    this.hide();\n  }\n\n  copy(activeLocation, elementsToMove: any[], createContentLink) {\n    this.prepareService.getPrepareChildTypes(activeLocation.id).subscribe((res) => {\n      if (this.allTypesAllowed(res.types, elementsToMove)) {\n        if (elementsToMove.length) {\n          let obs = elementsToMove.map(el => {\n            return this.dmsService.copy(el.id, el.typeName, activeLocation.id, activeLocation.type, createContentLink && !this.isContentlink(el)).pipe(\n              catchError(Utils.catch(() => {\n              }, el.title, this.translate.instant('eo.action.clipboard.copy.error'))));\n          });\n          observableForkJoin(obs).subscribe(results => {\n            results.forEach((r, i) => {// replace the old ID with the new one\n              elementsToMove[i].id = r.id;\n            });\n            this.triggerUpdate(elementsToMove);\n          });\n        }\n      } else {\n        this.notificationService.error(this.translate.instant('eo.clipboard.paste.label'), this.translate.instant('eo.clipboard.copy.not.allowed'));\n      }\n    });\n    this.hide();\n  }\n\n  allTypesAllowed(locationTypes, elementsToMove) {\n    let allTypesAllowed = true;\n    elementsToMove.forEach((el) => {\n      let match = locationTypes.find(t => t.name === el.typeName);\n      if (!match) {\n        allTypesAllowed = false;\n      }\n    });\n    return allTypesAllowed;\n  }\n\n  isContentlink(item) {\n    return item.content && item.content.id !== item.id;\n  }\n\n  contentAvailableForAllItems(items: DmsObject[]): boolean {\n    return !items.find(item => !item.content);\n  }\n\n  checkAllowedActions() {\n    const { elements, action } = this.clipboard;\n    const isCopy = (action === ClipboardAction.COPY);\n    const isCut = (action === ClipboardAction.CUT);\n    const cutAction = (isCut && this.activeLocation && elements.length && elements[0].contextFolder ? this.activeLocation.id !== elements[0].contextFolder.id : true);\n    const baseCondition = this.clipboard && this.activeLocation && elements.length && !elements.some(element => element.isFolder);\n\n    this.isPasteAllowed = baseCondition && cutAction;\n    this.isPasteAsContentlinkAllowed = baseCondition && elements[0].contextFolder && isCopy && this.contentAvailableForAllItems(elements);\n    // trigger change detction here because this method is called from all subscriptions\n   this.cd.markForCheck();\n  }\n\n  ngOnInit() {\n    this.getClipboardContent();\n    this.getActiveLocation();\n  }\n}\n","\n<eo-icon class=\"button white\" *ngIf=\"clipboard.elements.length\"\n         [iconTitle]=\"iconTitle\"\n         (click)=\"overlayShow = !overlayShow\"\n         [badge]=\"clipboard.elements.length\" [iconSrc]=\"iconSrc\"></eo-icon>\n\n<div class=\"clipboard-overlay dark\" *ngIf=\"overlayShow && clipboard.elements.length\" (eoOutsideClick)=\"hide()\">\n  <div class=\"title\" *ngIf=\"type === 'cut'; else copy\">\n    <span translate>eo.clipboard.type.cut</span>\n    <eo-icon class=\"button white\" (click)=\"removeAll()\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\"></eo-icon>\n  </div>\n  <ng-template #copy>\n    <div class=\"title\">\n      <span translate>eo.clipboard.type.copy</span>\n      <eo-icon class=\"button white\" (click)=\"removeAll()\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\"></eo-icon>\n    </div>\n  </ng-template>\n\n  <div class=\"cb-item\" *ngFor=\"let i of clipboardItems\">\n    <eo-icon [objectType]=\"i.type\" [iconTitle]=\"i.type.label\"></eo-icon>\n    <div class=\"cb-item-info\">\n      <div class=\"name\">{{i.title}}</div>\n      <div class=\"name context\">{{i.contextFolder?.title}}</div>\n    </div>\n    <eo-icon class=\"button white\" (click)=\"removeItem(i)\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\"></eo-icon>\n  </div>\n\n  <div class=\"more\" *ngIf=\"clipboardItems.length < clipboard.elements.length\"\n       translate [translateParams]=\"{moreCount: clipboard.elements.length - clipboardItems.length}\">eo.clipboard.more</div>\n\n  <div class=\"actions\">\n    <button (click)=\"pasteAsContentlink()\" [disabled]=\"!isPasteAsContentlinkAllowed\" *ngIf=\"this.clipboard.action === 0\" translate>eo.clipboard.paste.as.contentlink.label</button>\n    <button class=\"primary\" (click)=\"paste()\" [disabled]=\"!isPasteAllowed\" translate>eo.clipboard.paste.label</button>\n  </div>\n</div>\n","import {Overlay, OverlayRef} from '@angular/cdk/overlay';\nimport {CdkPortalOutlet, TemplatePortal} from '@angular/cdk/portal';\nimport {\n  AfterViewInit,\n  Component,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnDestroy,\n  Output,\n  Renderer2,\n  TemplateRef,\n  ViewChild,\n  ViewContainerRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport {EnaioEvent, EventService, Utils} from '@eo-sdk/core';\nimport {filter} from 'rxjs/operators';\nimport {PendingChangesService} from '../../../eo-framework-core/pending-changes/pending-changes.service';\n\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-dialog',\n  templateUrl: './eo-dialog.component.html',\n  styleUrls: ['./eo-dialog.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class EoDialogComponent\n  implements OnDestroy, AfterViewInit {\n\n  @ViewChild(CdkPortalOutlet) portalOutlet: CdkPortalOutlet;\n  @ViewChild('dialogContent') dialogContent: TemplateRef<any>;\n\n  private overlayRef: OverlayRef;\n  private ready: boolean;\n\n  private _visible = false;\n  private _lastFocused;\n  private active: boolean;\n  private id = Utils.uuid();\n  private parentId = '';\n  @Input() hasPreviewFile = false;\n  @Input() title: string;\n  @Input() subtitle: string;\n  @Input() styleClass = '';\n\n  // array of pendingTask IDs to be checked before the dialog closes\n  @Input() dirtyCheck: string | string[] = [];\n\n  @Input() minWidth: number | string = 200;\n  @Input() minHeight = 'auto';\n  @Input() height: string;\n  @Input() width: string;\n  @Input() focusOnShow = true;\n  @Input() align: 'center' | 'start' = 'center';\n  @Input() isFormTable = false;\n  @Input() showPreview = false;\n\n  @Output() onTogglePreview: EventEmitter<any> = new EventEmitter();\n  @Output() visibleChange: EventEmitter<any> = new EventEmitter();\n  @Output() hide: EventEmitter<any> = new EventEmitter();\n  @Output() show: EventEmitter<any> = new EventEmitter();\n\n  @Input()\n  get visible(): boolean {\n    return this._visible;\n  }\n\n  set visible(val) {\n    this._visible = !!val;\n    this.visibleChange.emit(this._visible);\n    this._visible ? this.show.emit(val) : this.hide.emit(val);\n    this.toggleActive(this._visible);\n  }\n\n  @HostListener('document:keydown.escape', ['$event'])\n  onKeydownHandler(event: KeyboardEvent) {\n    // close active dialog on Escape event\n    if (this.active) {\n      this.closeDialog();\n    }\n  }\n\n  @HostListener('document:mousedown', ['$event.target'])\n  onMousedown(targetElement: HTMLElement) {\n    // close active dialog on background/mask click\n    if (this.active && targetElement.classList.contains('ui-dialog-mask')) {\n      this.closeDialog();\n    }\n  }\n\n  constructor(\n    private eventService: EventService,\n    private pendingChanges: PendingChangesService,\n    private renderer: Renderer2,\n    private overlay: Overlay,\n    private viewContainerRef: ViewContainerRef\n  ) {\n    this._lastFocused = document.activeElement;\n    this.eventService\n      .on(EnaioEvent.EO_DIALOG_STACK_CHANGED)\n      .pipe(\n        untilDestroyed(this),\n        filter(\n          evt =>\n            (this.active || evt.data.id === this.parentId) &&\n            evt.data.id !== this.id\n        )\n      )\n      .subscribe((event: any) => {\n        this.parentId = event.data.active ? event.data.id : '';\n      });\n  }\n\n  private open() {\n    // We create the overlay\n    this.overlayRef = this.overlay.create({\n      hasBackdrop: true,\n      scrollStrategy: this.overlay.scrollStrategies.reposition(),\n      positionStrategy: this.getPositionStrategy(),\n      minHeight: this.minHeight,\n      minWidth: this.minWidth,\n      height: this.height,\n      width: this.width\n    });\n    //Then we create a portal to render a component\n    const portal = new TemplatePortal(this.dialogContent, this.viewContainerRef);\n    // We add a custom CSS class to our overlay\n    // this.overlayRef.addPanelClass(\"example-overlay\");\n    this.overlayRef.attach(portal);\n    this.overlayRef.backdropClick().subscribe((_) => {\n      this.closeDialog();\n    });\n  }\n\n  private getPositionStrategy() {\n    let positionStrategy;\n    if (this.align === 'center') {\n      positionStrategy = this.overlay\n        .position()\n        .global()\n        .centerHorizontally()\n        .centerVertically();\n    } else if (this.align === 'start') {\n      positionStrategy = this.overlay\n        .position()\n        .global()\n        .left()\n        .top();\n    }\n    return positionStrategy;\n  }\n\n  toggleActive(active: boolean, trigger = true) {\n    this.active = !!active;\n\n    if (active && this.ready && !this.overlayRef) {\n      this.open();\n    }\n    if (this.overlayRef && !active) {\n      this.overlayRef.dispose();\n      this.overlayRef = undefined;\n    }\n\n    if (trigger) {\n      this.eventService.trigger(EnaioEvent.EO_DIALOG_STACK_CHANGED, {\n        id: this.id,\n        active: this.active\n      });\n    }\n  }\n\n  closeDialog() {\n    if (this.dirtyCheck) {\n      if (!this.pendingChanges.checkForPendingTasks(this.dirtyCheck)) {\n        this.visible = false;\n      }\n    } else {\n      this.visible = false;\n    }\n  }\n\n  togglePreview() {\n    this.showPreview = !this.showPreview;\n    this.onTogglePreview.emit();\n  }\n\n  ngOnDestroy() {\n    if (this.active) {\n      this.toggleActive(false);\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.ready = true;\n    if (this._visible) {this.open();}\n  }\n}\n","<ng-template #dialogContent>\n  <div class=\"eo-dialog\" [ngClass]=\"styleClass || ''\" eoRtlAware=\"dir\">\n    <header class=\"eo-dialog-header\" [ngClass]=\"styleClass ? styleClass + '--header ' : ''\">\n      <h5 class=\"headline\">{{title}}</h5>\n      <h6 *ngIf=\"subtitle\" class=\"subtitle\">{{subtitle}}</h6>\n      <eo-icon [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" (click)=\"closeDialog()\"\n        class=\"button white eo-dialog-close\"></eo-icon>\n      <ng-container *ngIf=\"isFormTable && hasPreviewFile\">\n        <button *ngIf=\"showPreview\" (click)=\"togglePreview()\" class=\"button-preview-toggle\">\n          <div>\n            <eo-icon [iconSrc]=\"'assets/_default/svg/ic_preview_close.svg'\">\n            </eo-icon>\n            <span class=\"title-preview-toggle\" translate>\n              eo.form.table.dialog.preview.hide\n            </span>\n          </div>\n        </button>\n        <button *ngIf=\"!showPreview\" (click)=\"togglePreview()\" class=\"button-preview-toggle\">\n          <div>\n            <eo-icon [iconSrc]=\"'assets/_default/svg/ic_preview_show.svg'\"></eo-icon>\n            <span class=\"title-preview-toggle\" translate>\n              eo.form.table.dialog.preview.show\n            </span>\n          </div>\n        </button>\n      </ng-container>\n    </header>\n    <div class=\"eo-dialog-content\" [ngClass]=\"styleClass ? styleClass + '--content ' : ''\" cdkTrapFocus [cdkTrapFocusAutoCapture]=\"true\">\n      <ng-content></ng-content>\n    </div>\n  </div>\n</ng-template>\n","import {Component, ElementRef, Input, Renderer2, ViewEncapsulation} from '@angular/core';\nimport {Logger, ObjectType, BackendService} from '@eo-sdk/core';\n\n/**\n * Component to display an icon.\n *\n * Specify `iconSrc` attribute to set the src of the icon to be displayed:\n *   <eo-icon [iconSrc]=\"'assets/_default/svg/ic_favorite.svg'\"></eo-icon>\n *\n * Adding the `badge` property will show a tiny badge on top of the icon:\n *   <eo-icon [iconSrc]=\"{{src}}\" [badge]=\"15\"></eo-icon>\n *\n * Adding a `button` class to the component, will style the svg icon more like a button:\n *   <eo-icon class=\"button\" [iconSrc]=\"{{src}}\"></eo-icon>\n *\n * By default all svg-icons will be rendered as kind of black on white. If you like them\n * to be placed on a dark background (and colored white) then add the class `white` to the\n * component:\n *   <eo-icon class=\"white\" [iconSrc]=\"{{src}}\"></eo-icon>\n *\n * You may also provide the component with an `objectType` attribute which expects an\n * `ObjectType` as input. This will then display the svg icon of this ObjectType.\n *\n */\n@Component({\n  selector: 'eo-icon',\n  template: '',\n  styleUrls: ['./eo-icon.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class EoIconComponent {\n\n  // an ObjectType to display its icon for\n  @Input('objectType')\n  set objectType(objectType: ObjectType) {\n    if (objectType) {\n      this.backend\n        .getViaCache(this.backend.getIconBase(objectType.iconId))\n        .subscribe((svg) => this.render(svg));\n    }\n  }\n\n  // id of the icon\n  @Input('iconId')\n  set iconId(iconId: string) {\n    if (iconId) {\n      this.backend\n        .getViaCache(this.backend.getIconBase(iconId))\n        .subscribe((svg) => this.render(svg));\n    }\n  }\n\n  // path to the icon\n  @Input('iconSrc')\n  set iconSrc(iconSrc: string) {\n    if (iconSrc) {\n      const icon = iconSrc.includes('/') ? iconSrc : `assets/_default/svg/${iconSrc}`;\n\n      this.backend\n        .getViaCache(icon)\n        .subscribe((svg) => this.render(svg));\n    }\n  }\n\n  // badge content\n  @Input('badge')\n  set badge(badge: string) {\n    if (badge) {\n      this._renderer\n        .setAttribute(\n          this.elementRef.nativeElement,\n          'data-badge',\n          badge\n        );\n      this._renderer\n        .addClass(\n          this.elementRef.nativeElement,\n          'badged'\n        );\n    } else {\n      this._renderer\n        .removeClass(\n          this.elementRef.nativeElement,\n          'badged'\n        );\n    }\n  }\n\n  @Input('iconTitle')\n  set title(title: string) {\n    if (title) {\n      this._renderer\n        .setAttribute(\n          this.elementRef.nativeElement,\n          'title',\n          title\n        );\n    }\n  }\n\n  constructor(private backend: BackendService,\n              private elementRef: ElementRef,\n              private _renderer: Renderer2,\n              private logger: Logger) {\n  }\n\n  // renders the actual svg string by adding it to the DOM\n  private render(svg: string) {\n    const svgElement: SVGElement = this.svgElementFromString(svg);\n    if (svgElement && svgElement instanceof SVGElement) {\n      this.elementRef.nativeElement.innerHTML = '';\n      this.elementRef.nativeElement.appendChild(svgElement);\n    } else {\n      this.logger.error('Icon is not a valid SVGElement: ' + svg);\n    }\n  }\n\n  /**\n   * Transforms a string to an SVGElement.\n   * @param str - the string to be converted\n   * @return the SVGElement created from the input or NULL if conversion failed\n   */\n  private svgElementFromString(str: string): SVGElement {\n    const div = document.createElement('DIV');\n    div.innerHTML = str;\n    return div.querySelector('svg') as SVGElement;\n  }\n}\n","<div class=\"eo-body error\" [ngClass]=\"emptyState.className\" *ngIf=\"emptyState\">\n  <eo-icon class=\"error__icon\" [iconSrc]=\"iconUri\"></eo-icon>\n  <div class=\"error__message\">{{ emptyState.text | translate }}</div>\n  <ng-content selector=\".error\"></ng-content>\n</div>\n","import {Component, Input} from '@angular/core';\nimport {EmptyState} from '../../../eo-framework-core/empty-state/empty-state.interface';\n\n@Component({\n  selector: 'eo-error-message',\n  templateUrl: './error-message.component.html',\n  styleUrls: ['./error-message.component.scss']\n})\nexport class ErrorMessageComponent {\n\n  iconUri = 'assets/_default/svg/ic_error.svg';\n  _emptyState: EmptyState;\n\n  @Input()\n  set emptyState(es: EmptyState) {\n    this._emptyState = es;\n    if (es.icon && es.icon.length) {\n      if (es.icon.startsWith('assets/_default/svg/')) {\n        this.iconUri = es.icon;\n      } else {\n        this.iconUri = `assets/_default/svg/${es.icon}`;\n      }\n    }\n  }\n\n  get emptyState() {\n    return this._emptyState;\n  }\n}\n\n","export * from './ui.module';\nexport * from './animations/panel-loading.animation';\nexport * from './clipboard/clipboard.component';\nexport * from './eo-dialog/eo-dialog.component';\nexport * from './eo-icon/eo-icon.component';\nexport * from './query-scope-select/query-scope-select.component';\nexport * from './error-message/error-message.component';\nexport * from './indexdata-summary/indexdata-summary.component';\nexport * from './loading-spinner/loading-spinner.component';\nexport * from './signature-tab/signature-tab.component';\nexport * from './outside-click/outside-click.directive';\nexport * from './router-link/router-link.directive';\nexport * from './overlay/overlay.component';\nexport * from './rtl-aware/rtl-aware.directive';\nexport * from './user-avatar/user-avatar.component';\n","import {UtilitiesService} from './../../../util/services/utilities.service';\nimport {Component, Input, EventEmitter, Output} from '@angular/core';\nimport {ISummaryEntryDiffValue} from '../indexdata-summary-entry.interface';\n\n@Component({\n  selector: 'eo-indexdata-summary-entry',\n  templateUrl: './indexdata-summary-entry.component.html',\n  styleUrls: ['./indexdata-summary-entry.component.scss']\n})\nexport class IndexdataSummaryEntryComponent {\n\n  value1: string;\n  value2: string;\n  showDiff = false;\n\n  @Input() label: string;\n  @Input() item: any;\n\n  @Input() set value(v: any | ISummaryEntryDiffValue) {\n    this.showDiff = v && typeof v === 'object' && v.hasOwnProperty('val1');\n    this.value1 = this.showDiff ? v.val1 : v;\n    this.value2 = this.showDiff && v.val2;\n  }\n\n  @Input() className: string;\n  @Output() onValueClicked = new EventEmitter();\n\n  isEmpty = v => UtilitiesService.isEmpty(v);\n\n  classes = (v1, v2) => ({\n    entry: true,\n    diffActive: this.showDiff,\n    new: this.showDiff && this.isEmpty(v1) && !this.isEmpty(v2),\n    removed: this.showDiff && !this.isEmpty(v1) && this.isEmpty(v2),\n    modified: this.showDiff && !this.isEmpty(v1) && !this.isEmpty(v2)\n  })\n\n}\n","<div [class]=\"className || ''\"  [ngClass]=\"classes(value1, value2)\" *ngIf=\"showDiff || !isEmpty(value1)\">\n  <span class=\"label\">{{label}}</span>\n  <span class=\"value inner first\" [innerHTML]=\"value1 | safeHtml\" (click)=\"onValueClicked.emit($event)\"></span>\n  <span class=\"value inner second\" [innerHTML]=\"value2 | safeHtml\" (click)=\"onValueClicked.emit($event)\" *ngIf=\"showDiff\"></span>\n</div>","import {UtilitiesService} from './../../util/services/utilities.service';\nimport {Component, ChangeDetectionStrategy, Input, ViewChild, OnInit, ChangeDetectorRef} from '@angular/core';\nimport {BaseParams, DmsObject, Utils, UserService, DmsService} from '@eo-sdk/core';\nimport {TranslateService} from '@eo-sdk/core';\nimport {GridService} from '../../../eo-framework-core/api/grid.service';\nimport {catchError} from 'rxjs/operators';\nimport {SimpleAccordionComponent} from '../../accordion/simple-accordion/simple-accordion.component';\nimport {ISummaryEntryDiffValue} from './indexdata-summary-entry.interface';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\n\n@UntilDestroy()\n@Component({\n  selector: 'eo-indexdata-summary',\n  templateUrl: './indexdata-summary.component.html',\n  styleUrls: ['./indexdata-summary.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IndexdataSummaryComponent implements OnInit {\n\n  isUserAllowedToShowStorageSection: boolean;\n  private _indexData: IndexData;\n\n  coreValues: any[];\n  dataValues: any[];\n  storageInfos: any[];\n  item: DmsObject;\n  moreInfoAcc = false;\n  dataInfoAcc = false;\n  diffActive = false;\n  emptyState = false;\n\n  // @ViewChild('dataAccordion') dataAccordion: SimpleAccordionComponent;\n  @ViewChild('storageAccordion') storageAccordion: SimpleAccordionComponent;\n\n  @Input()\n  set indexdata(id: IndexData) {\n    this._indexData = id;\n    this.coreValues = this.processIndexData(id, 0).filter(value => !value.name.startsWith('yuv'));\n    this.dataValues = this.processIndexData(id, 1);\n  }\n\n  @Input()\n  set dmsObject(item: DmsObject) {\n    this.item = item;\n    this.storageInfos = null;\n    if(item)\n    this.getStorageInfos();\n    if (this.storageAccordion) {\n      this.storageAccordion.selected = false;\n    }\n  }\n\n  @Input() baseparams: BaseParams;\n  @Input() enableVersions = true;\n\n  @Input() set diff({indexdata, indexdata2, baseparams, baseparams2}) {\n    this.diffActive = true;\n\n    const diffValue = (val1, val2): ISummaryEntryDiffValue => !(UtilitiesService.isEmpty(val1) && UtilitiesService.isEmpty(val2)) && val1 !== val2 ? {val1, val2} : null;\n\n    if (baseparams && baseparams2) {\n      this.baseparams = {} as BaseParams;\n      ['contentFileName', 'contentFileSize', 'mimeGroup']\n        .forEach(k => diffValue(baseparams[k], baseparams2[k]) && (this.baseparams[k] = diffValue(baseparams[k], baseparams2[k])));\n    }\n\n    if (indexdata && indexdata2) {\n      const coreValues2 = this.processIndexData(indexdata2, 0, true).reduce((acc, cur) => (acc[cur.qname] = cur, acc), {});\n      const coreValues = this.processIndexData(indexdata, 0, true)\n        .map(({label, _value, qname, reference}) => ({label, reference, _value: diffValue(_value, coreValues2[qname]._value)}))\n        .filter(v => v._value);\n\n      const dataValues2 = this.processIndexData(indexdata2, 1, true).reduce((acc, cur) => (acc[cur.qname] = cur, acc), {});\n      const dataValues = this.processIndexData(indexdata, 1, true)\n        .map(({label, _value, qname, reference}) => ({label, reference, _value: diffValue(_value, dataValues2[qname]._value)}))\n        .filter(v => v._value);\n\n      this.coreValues = coreValues;\n      this.dataValues = dataValues;\n      this.moreInfoAcc = !!dataValues.length;\n    }\n\n    this.emptyState = UtilitiesService.isEmpty(this.coreValues) && UtilitiesService.isEmpty(this.dataValues) && UtilitiesService.isEmpty(Object.keys(this.baseparams || {}));\n  }\n\n  static collect(data: {}, elements: any[] = [], collection: any[], force = false) {\n    elements.forEach(el => {\n      if (el.type !== 'TABLE') {\n        if (el.elements) {\n          collection.concat(IndexdataSummaryComponent.collect(data, el.elements, collection, force));\n        } else {\n          let key = el.name;\n          if (force || (data.hasOwnProperty(key) && (Array.isArray(data[key]) ? data[key].length : true))) {\n            // only add arrays when they contain any values\n            collection.push(Object.assign({}, el, {\n              value: data[key],\n              meta: data[key + '_meta']\n            }));\n          }\n        }\n      }\n    });\n    return collection;\n  }\n\n\n  constructor(public translate: TranslateService,\n    public gridApi: GridService,\n    private dmsService: DmsService,\n    private userService: UserService,\n    private cd: ChangeDetectorRef) {\n  }\n\n  onValueClick(event: any, item: any = {}) {\n    if (item.reference || item.version) {\n      this.gridApi.openRouterLink(event, 'entry');\n    }\n  }\n\n  getVersionLink(version: number) {\n    const link = `versions/${this.item.id}?type=${this.item.typeName}&version=${version}`;\n    return `<a class=\"link router-link\" href=\"${link}\" target=\"_blank\" onclick=\"return false;\">${version}</a>`;\n  }\n\n  getLink(label: string) {\n    const link = `object/${this.item.id}?type=${this.item.typeName}`;\n    return `<a class=\"link router-link\" href=\"${link}\" target=\"_blank\" onclick=\"return false;\">${label}</a>`;\n  }\n\n  processIndexData(id: IndexData, index = 0, force = false) {\n    return id && id.form && id.data ? this.gridApi.getResolvedDefs(IndexdataSummaryComponent.collect(id.data, id.form.elements[index].elements, [], force)) : [];\n  }\n\n  onMoreInfoToggle(info: boolean) {\n    this.moreInfoAcc = info;\n  }\n\n  onStorageInfoToggle(info: boolean) {\n    this.dataInfoAcc = info;\n  }\n\n  trackByIndex(index, item) {\n    return index;\n  }\n\n  getStorageInfos() {\n    this.dmsService.getDmsObjectByParams({id: this.item.id, type: this.item.typeName, version: this.item.version, recyclebin: true, withStorageInfo: true})\n      .pipe(\n        untilDestroyed(this),\n        catchError(Utils.catchSkip(err => err.status === 404))\n      ).subscribe(res => {\n      this.storageInfos = res.storageInfo;\n      this.cd.markForCheck();\n    });\n  }\n\n  ngOnInit() {\n    this.isUserAllowedToShowStorageSection = this.userService.getCurrentUser().hasPrivilege('MANAGE_STORAGES');\n  }\n}\n\nexport interface IndexData {\n  form: any;\n  data: any;\n}\n","<div class=\"empty-container\" *ngIf=\"emptyState\">{{'eo.indexdata.summary.no.change' | translate}}</div>\n<div class=\"indexdata-summary\">\n\n  <div class=\"core-section\" *ngIf=\"coreValues?.length\">\n\n    <eo-indexdata-summary-entry *ngFor=\"let item of coreValues\"\n                                [label]=\"item.label\"\n                                [value]=\"item._value\"\n                                (onValueClicked)=\"onValueClick($event, item)\">\n    </eo-indexdata-summary-entry>\n\n     <eo-indexdata-summary-entry *ngIf=\"item && item.contextFolder\"\n                                [label]=\"'eo.indexdata.summary.folder' | translate\"\n                                [className]=\"'baseparams-section'\"\n                                [value]=\"getLink(item.contextFolder.title ? item.contextFolder.title : item.contextFolder.id)\"\n                                (onValueClicked)=\"onValueClick($event, item)\">\n    </eo-indexdata-summary-entry>\n  </div>\n  <div class=\"data-section\" *ngIf=\"dataValues && dataValues.length\">\n    <eo-simple-accordion #dataAccordion\n                         [header]=\"('eo.indexdata.summary.more' | translate)\"\n                         [selected]=\"moreInfoAcc\"\n                         (selectChange)=\"onMoreInfoToggle($event)\">\n      <div class=\"data\">\n\n        <eo-indexdata-summary-entry *ngFor=\"let item of dataValues\"\n                                    [label]=\"item.label\"\n                                    [value]=\"item._value\"\n                                    (onValueClicked)=\"onValueClick($event, item)\">\n        </eo-indexdata-summary-entry>\n      </div>\n    </eo-simple-accordion>\n  </div>\n\n  <div class=\"baseparams-section\" *ngIf=\"baseparams\">\n\n    <eo-indexdata-summary-entry *ngIf=\"baseparams.modifiedOn && !diffActive\"\n                                [className]=\"'baseparams-section'\"\n                                [label]=\"'eo.global.baseparam.modified' | translate\"\n                                [value]=\"baseparams.modifiedOn | localeDate\">\n    </eo-indexdata-summary-entry>\n\n    <eo-indexdata-summary-entry *ngIf=\"!diffActive\"\n                                [className]=\"'baseparams-section'\"\n                                [label]=\"'eo.global.baseparam.modifier' | translate\"\n                                [value]=\"baseparams.modifiedBy\">\n    </eo-indexdata-summary-entry>\n\n    <eo-indexdata-summary-entry *ngIf=\"baseparams.createdOn && !diffActive\"\n                                [className]=\"'baseparams-section'\"\n                                [label]=\"'eo.global.baseparam.created' | translate\"\n                                [value]=\"baseparams.createdOn | localeDate\">\n    </eo-indexdata-summary-entry>\n\n    <eo-indexdata-summary-entry *ngIf=\"!diffActive\"\n                                [className]=\"'baseparams-section'\"\n                                [label]=\"'eo.global.baseparam.creator' | translate\"\n                                [value]=\"baseparams.createdBy\">\n    </eo-indexdata-summary-entry>\n\n    <eo-indexdata-summary-entry *ngIf=\"!diffActive\"\n                                [className]=\"'baseparams-section'\"\n                                [label]=\"'eo.object.summary.version' | translate\"\n                                [value]=\"getVersionLink(baseparams.version)\"\n                                (onValueClicked)=\"onValueClick($event, {version: baseparams.version})\">\n    </eo-indexdata-summary-entry>\n\n\n    <eo-indexdata-summary-entry [className]=\"'baseparams-section'\"\n                                [label]=\"'eo.global.baseparam.filename' | translate\"\n                                [value]=\"baseparams.contentFileName\">\n    </eo-indexdata-summary-entry>\n\n    <eo-indexdata-summary-entry *ngIf=\"baseparams.contentFileSize\"\n                                [className]=\"'baseparams-section'\"\n                                [label]=\"'eo.global.baseparam.filesize' | translate\"\n                                [value]=\"diffActive ? {val1: baseparams.contentFileSize['val1'] | fileSize, val2: baseparams.contentFileSize['val2'] | fileSize} : (baseparams.contentFileSize | fileSize)\">\n    </eo-indexdata-summary-entry>\n\n    <eo-indexdata-summary-entry [className]=\"'baseparams-section'\"\n                                [label]=\"'eo.global.baseparam.mimegroup' | translate\"\n                                [value]=\"baseparams.mimeGroup\">\n    </eo-indexdata-summary-entry>\n\n    <eo-indexdata-summary-entry [className]=\"'baseparams-section'\"\n                                [label]=\"'eo.global.baseparam.mimetype' | translate\"\n                                [value]=\"baseparams.mimeType\">\n    </eo-indexdata-summary-entry>\n\n    <eo-indexdata-summary-entry *ngIf=\"!diffActive\"\n                                [className]=\"'baseparams-section'\"\n                                [label]=\"'eo.global.baseparam.id' | translate\"\n                                [value]=\"baseparams.id\">\n    </eo-indexdata-summary-entry>\n\n    <eo-indexdata-summary-entry *ngIf=\"baseparams.contentId !== baseparams.id && !diffActive\"\n                                [className]=\"'baseparams-section'\"\n                                [label]=\"'eo.global.baseparam.contentId' | translate\"\n                                [value]=\"baseparams.contentId\">\n    </eo-indexdata-summary-entry>\n  </div>\n\n  <div class=\"storageinfo\" *ngIf=\"storageInfos?.length\">\n    <eo-simple-accordion #storageAccordion\n                         [header]=\"('eo.state.settings.storageinfo' | translate)\"\n                         [selected]=\"dataInfoAcc\"\n                         (selectChange)=\"onStorageInfoToggle($event)\">\n\n      <div class=\"storageinfo-entry baseparams-section\">\n        <eo-indexdata-summary-entry [className]=\"'storageinfo-subentry'\"\n                                    [label]=\"'eo.global.baseparam.digest' | translate\"\n                                    [value]=\"baseparams.digest\">\n        </eo-indexdata-summary-entry>\n      </div>\n\n      <div class=\"storageinfo-entry baseparams-section\" *ngFor=\"let stInfo of storageInfos; trackBy: trackByIndex\">\n        <eo-indexdata-summary-entry [className]=\"'storageinfo-subentry'\"\n                                    [label]=\"'eo.object.storageinfo.retention' | translate\"\n                                    [value]=\"stInfo.retention | localeDate : 'eoShortDate'\">\n        </eo-indexdata-summary-entry>\n\n        <eo-indexdata-summary-entry [className]=\"'storageinfo-subentry'\"\n                                    [label]=\"'eo.object.storageinfo.permanence' | translate\"\n                                    [value]=\"stInfo.permanence\">\n        </eo-indexdata-summary-entry>\n\n        <eo-indexdata-summary-entry [className]=\"'storageinfo-subentry'\"\n                                    [label]=\"'eo.object.storageinfo.setname' | translate\"\n                                    [value]=\"stInfo.setname\">\n        </eo-indexdata-summary-entry>\n\n        <eo-indexdata-summary-entry [className]=\"'storageinfo-subentry'\"\n                                    [label]=\"'eo.object.storageinfo.storagename' | translate\"\n                                    [value]=\"stInfo.storagename\">\n        </eo-indexdata-summary-entry>\n\n        <eo-indexdata-summary-entry [className]=\"'storageinfo-subentry'\"\n                                    [label]=\"'eo.object.storageinfo.location' | translate\"\n                                    [value]=\"stInfo.location\">\n        </eo-indexdata-summary-entry>\n      </div>\n    </eo-simple-accordion>\n  </div>\n\n</div>\n","import {Component, OnInit, Input} from '@angular/core';\n\n@Component({\n  selector: 'eo-loading-spinner',\n  template: `\n    <div class=\"eo-loading\">\n      <div class=\"eo-loader\" [ngClass]=\"{small: size === 'small', medium: size === 'medium', large: size === 'large', dark: mode === 'dark'}\"></div>\n    </div>`,\n  styleUrls: ['./loading-spinner.component.scss']\n})\nexport class LoadingSpinnerComponent implements OnInit {\n\n  @Input() size: string;\n  @Input() mode: string;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","\nimport {Directive, ElementRef, EventEmitter, HostListener, Output} from '@angular/core';\nimport {EnaioEvent, EventService} from '@eo-sdk/core';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\n\n/**\n * This directive adds an outside click listener to each element it is applied to.\n * The directive will also execute the provided handler function, when the user hits ESC.\n *   <... (eoOutSideClick)=\"doSomethingOnOutsideClick($event)\"></...>\n */\n\n@UntilDestroy()\n@Directive({\n  selector: '[eoOutsideClick]'\n})\nexport class OutsideClickDirective {\n\n  active = true;\n\n  @Output()\n  public eoOutsideClick = new EventEmitter<any>();\n\n  constructor(private _elementRef: ElementRef, private eventService: EventService) {\n\n    this.eventService\n      .on(EnaioEvent.EO_DIALOG_STACK_CHANGED).pipe(\n        untilDestroyed(this))\n      .subscribe((event: any) => {\n        this.active = !event.data.active;\n      });\n  }\n\n  @HostListener('document:keydown', ['$event', '$event.target'])\n  public keyboardInput(event: KeyboardEvent, targetElement: HTMLElement) {\n    if (this.active && !event.defaultPrevented && event.key === 'Escape') {\n      this.onOutsideEvent(event);\n    }\n  }\n\n  @HostListener('document:mousedown', ['$event', '$event.target'])\n  public onClick(event: MouseEvent, targetElement: HTMLElement) {\n    const overlayContainer = document.querySelector('.cdk-overlay-container');\n    if (this.active && !this._elementRef.nativeElement.contains(targetElement)\n      && (overlayContainer && overlayContainer.hasChildNodes() ? !overlayContainer.contains(targetElement) : true)) {\n      this.onOutsideEvent(event);\n    }\n  }\n\n  private onOutsideEvent(event: Event) {\n    this.eoOutsideClick.emit(event);\n  }\n}\n","<ng-container *ngIf=\"iconSrc;else btn\">\n  <eo-icon class=\"overlayIcon button {{iconClass}}\"\n           (click)=\"toggle($event)\"\n           (keyup.enter)=\"toggle($event)\"\n           [iconSrc]=\"iconSrc\"\n           [badge]=\"badge\"\n           [ngClass]=\"{active: active}\"\n           tabindex=\"0\"\n           [iconTitle]=\"iconTitle\"></eo-icon>\n</ng-container>\n<ng-template #btn>\n  <div (click)=\"toggle($event)\" (keyup.enter)=\"toggle($event)\">\n    <ng-content select=\".btn\"></ng-content>\n  </div>\n</ng-template>\n<yvc-dialog #op [options]=\"{attachedTo: hostEl, lightDismiss: true}\"\n(opened)=\"dialogIsOpen = true\" (closed)=\"dialogIsOpen = false\">\n  <ng-content></ng-content>\n</yvc-dialog>\n","import {Component, ElementRef, Input, ViewChild} from '@angular/core';\nimport {Dialog} from '@yuuvis/components/dialog';\n\n@Component({\n  selector: 'eo-overlay',\n  templateUrl: './overlay.component.html',\n  styleUrls: ['./overlay.component.scss']\n})\nexport class OverlayComponent {\n\n  @ViewChild('op') op: Dialog;\n  @Input() iconSrc: string;\n  @Input() badge: string;\n  @Input() iconClass = '';\n  @Input() styleClass = '';\n  @Input() active = false;\n  @Input() iconTitle: string;\n  hostEl?: HTMLElement;\n  dialogIsOpen = false;\n\n  constructor(private elRef: ElementRef) {\n    this.hostEl = this.elRef.nativeElement;\n  }\n\n  public onActiveChanged(event) {\n    this.active = event;\n  }\n\n  toggle(e: any) {\n    if (this.dialogIsOpen) this.op.close();\n    else this.op.open();\n  }\n\n  close() {\n    if (this.op) {\n      this.op.close();\n    }\n  }\n}\n","import {Component, Input, EventEmitter, Output} from '@angular/core';\nimport {QueryScope} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-query-scope-select',\n  templateUrl: './query-scope-select.component.html',\n  styleUrls: ['./query-scope-select.component.scss']\n})\nexport class QueryScopeSelectComponent {\n  QueryScope = QueryScope;\n  \n  private _selectedQueryScope: QueryScope;\n\n  @Input('selection')\n  set selectedQueryScope(scope: QueryScope) {\n    this._selectedQueryScope = scope;\n  }\n\n  get selectedQueryScope() {\n    return this._selectedQueryScope;\n  }\n\n  @Output()\n  select: EventEmitter<QueryScope> = new EventEmitter<QueryScope>();\n\n  constructor() { }\n\n  selectQueryScope(scope: QueryScope) {\n    this.selectedQueryScope = scope;\n    this.select.emit(this.selectedQueryScope);\n  }\n\n}\n","<div class=\"query-scope\">\n    <button type=\"button\" class=\"query-scope__button\" (click)=\"selectQueryScope(QueryScope.ALL)\" \n        [ngClass]=\"{'query-scope__button--active': !selectedQueryScope || (selectedQueryScope === QueryScope.ALL)}\"\n        translate>eo.search.scope.all.label</button>\n    <button type=\"button\" class=\"query-scope__button\" (click)=\"selectQueryScope(QueryScope.CONTENT)\" \n        [ngClass]=\"{'query-scope__button--active': selectedQueryScope === QueryScope.CONTENT}\"\n        translate>eo.search.scope.content.label</button>\n    <button type=\"button\" class=\"query-scope__button\" (click)=\"selectQueryScope(QueryScope.INDEX_DATA)\" \n        [ngClass]=\"{'query-scope__button--active': selectedQueryScope === QueryScope.INDEX_DATA}\" \n        translate>eo.search.scope.indexdata.label</button>\n</div>","import { Directive, ElementRef, HostListener } from '@angular/core';\n\n@Directive({\n  // tslint:disable-next-line: directive-selector\n  selector: 'a[routerLink]'\n})\nexport class RouterLinkDirective {\n  constructor(private hostElement: ElementRef) {}\n\n  @HostListener('click', ['$event.ctrlKey'])\n  onClick(ctrlKey: boolean): boolean {\n    if (ctrlKey) {\n      window.open(this.hostElement.nativeElement.href); // open Window via javascript to ensure undockWindow connection\n      return false;\n    }\n  }\n}\n","import {AfterViewInit, Directive, ElementRef, Renderer2, Input} from '@angular/core';\nimport {UserService, EoUser} from '@eo-sdk/core';\n\n/**\n * Apply this directive to elements or components that should be aware of the apps direction.\n * This can be either 'ltr' or 'rtl'. Using this directive will add a class of 'ltr' or 'rtl'\n * to the host element, which then can be used to apply special stylings for each direction.\n */\n\n@Directive({\n  selector: '[eoRtlAware]'\n})\nexport class RtlAwareDirective implements AfterViewInit {\n\n  // define what to do: Choose from `class`, `dir` or `full`\n  // `class` (default): set the direction as a css class\n  // `dir`: set the direction as dir attribute\n  // `full`: set dir attribute as well as class\n  @Input() eoRtlAware: string;\n\n  constructor(private _elementRef: ElementRef,\n              private _renderer: Renderer2,\n              private userService: UserService) {\n  }\n\n  // set direction as dir attribute on the html element\n  private setDir(dir: string) {\n    this._renderer.setAttribute(this._elementRef.nativeElement, 'dir', dir);\n  }\n\n  // add direction as a css class on the html element\n  private setClass(dir: string) {\n    if (dir === 'rtl') {\n      this._renderer.addClass(this._elementRef.nativeElement, 'rtl');\n    } else {\n      this._renderer.removeClass(this._elementRef.nativeElement, 'rtl');\n    }\n  }\n\n  ngAfterViewInit() {\n    this.userService.user$.subscribe((user: EoUser) => {\n\n      switch (this.eoRtlAware) {\n        case 'dir': {\n          this.setDir(user.uiDirection);\n          break;\n        }\n        case 'full': {\n          this.setDir(user.uiDirection);\n          this.setClass(user.uiDirection);\n          break;\n        }\n        default: {\n          this.setClass(user.uiDirection);\n        }\n      }\n\n    });\n  }\n\n}\n","<ng-container *ngIf=\"dmsObject.data.yuvsigstatus_meta; else tplNoSignature\">\n\n  <section class=\"info\">\n    <div class=\"row\">\n      <div class=\"label\">{{'eo.object.signature-tab.label.status'|translate}}</div>\n      <div class=\"value\">\n        {{dmsObject.data.yuvsigstatus_meta.label}}</div>\n    </div>\n    <div class=\"row\">\n      <div class=\"label\">{{'eo.object.signature-tab.label.type'|translate}}</div>\n      <div class=\"value\">\n        {{dmsObject.data.yuvsigtype}}</div>\n    </div>\n    <div class=\"row\" *ngIf=\"dmsObject.data.yuvsigerror\">\n      <div class=\"label\">{{'eo.object.signature-tab.label.error'|translate}}</div>\n      <div class=\"value\">{{dmsObject.data.yuvsigerror}}</div>\n    </div>\n    <div class=\"row\">\n      <div class=\"label\">{{'eo.object.signature-tab.label.date'|translate}}</div>\n      <div class=\"value\">{{dmsObject.data.yuvsigdate | localeDate: 'eoShortDate'}}</div>\n    </div>\n    <div class=\"row\">\n      <div class=\"label\">{{'eo.object.signature-tab.label.requestdate'|translate}}</div>\n      <div class=\"value\">{{dmsObject.data.yuvsigreqdate | localeDate:'eoShortDate'}}</div>\n    </div>\n    <div class=\"row\" *ngIf=\"dmsObject.data.yuvsigrequester_meta?.title\">\n      <div class=\"label\">{{'eo.object.signature-tab.label.requester'|translate}}</div>\n      <div class=\"value\">\n        {{dmsObject.data.yuvsigrequester_meta.title}} </div>\n    </div>\n    <div class=\"row\" *ngIf=\"dmsObject.data.yuvsigemailsubject\">\n      <div class=\"label\">{{'eo.object.signature-tab.label.subject'|translate}}</div>\n      <div class=\"value\">{{dmsObject.data.yuvsigemailsubject}}</div>\n    </div>\n    <div class=\"row\" *ngIf=\"dmsObject.data.yuvsigemailbody\">\n      <div class=\"label\">{{'eo.object.signature-tab.label.body'|translate}}</div>\n      <div class=\"value\">{{dmsObject.data.yuvsigemailbody}}</div>\n    </div>\n    <div class=\"row\" *ngIf=\"dmsObject.data.yuvsigcanceledby\">\n      <div class=\"label\">{{'eo.object.signature-tab.label.canceledby'|translate}}</div>\n      <div class=\"value\">{{dmsObject.data.yuvsigcanceledby_meta.title}}</div>\n    </div>\n    <div class=\"row\" *ngIf=\"dmsObject.data.yuvsigreason\">\n      <div class=\"label\">{{'eo.object.signature-tab.label.reason'|translate}}</div>\n      <div class=\"value\">{{dmsObject.data.yuvsigreason}}</div>\n    </div>\n    <div class=\"row\" *ngIf=\"dmsObject.data.yuvsigplatform\">\n      <div class=\"label\">{{'eo.object.signature-tab.label.signingPlatform'|translate}}</div>\n      <div class=\"value\">{{dmsObject.data.yuvsigplatform}}</div>\n    </div>\n    <div class=\"row\" *ngIf=\"dmsObject.data.yuvsigplatformid\">\n      <div class=\"label\">{{'eo.object.signature-tab.label.signingPlatformId'|translate}}</div>\n      <div class=\"value\">{{dmsObject.data.yuvsigplatformid}}</div>\n    </div>\n    <div class=\"row\">\n      <div class=\"label\">{{'eo.object.signature-tab.label.signers'|translate}}</div>\n      <div class=\"value\">\n        <div class=\"signer-container\" *ngFor=\"let s of dmsObject.data.yuvsigners\">\n          <span class=\"circle\" [title]=\"'eo.object.signature-tab.order.tooltip' | translate\">{{s.yuvsignerorder}}</span>\n          <div class=\"signer\">\n            <div class=\"date\" *ngIf=\"s.yuvsignerdate\">{{s.yuvsignerdate | localeDate: 'eoShort'}}</div>\n            <div class=\"name\" *ngIf=\"s.yuvsignername\">{{s.yuvsignername}}</div>\n            <div class=\"email\" *ngIf=\"s.yuvsigneremail\">{{s.yuvsigneremail}}</div>\n            <div class=\"phone\" *ngIf=\"s.yuvsignerphone\">{{s.yuvsignerphone}}</div>\n            <div class=\"state {{s.yuvsignerstatus}}\"><span *ngIf=\"s.yuvsignerstatus_meta?.label\">{{s.yuvsignerstatus_meta.label}}</span></div>\n            <div class=\"reason\" *ngIf=\"s.yuvsignercomment\">{{s.yuvsignercomment}}</div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </section>\n</ng-container>\n<ng-template #tplNoSignature>\n  <div class=\"signature-not-found\">\n    <eo-error-message\n      [emptyState]=\"{icon: 'ic_signature.svg', text:'eo.object.signature-tab.no-signatures'}\"></eo-error-message>\n  </div>\n</ng-template>\n","import {Component, Input} from '@angular/core';\nimport {DmsObject, EoUser, UserService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-signature-tab',\n  templateUrl: './signature-tab.component.html',\n  styleUrls: ['./signature-tab.component.scss']\n})\nexport class SignatureTabComponent {\n\n  private _dmsObject: DmsObject;\n  user: EoUser;\n\n  @Input()\n  set dmsObject(item: DmsObject) {\n    if (this._dmsObject !== item) {\n      this._dmsObject = item;\n    }\n  }\n\n  get dmsObject(): DmsObject {\n    return this._dmsObject;\n  }\n\n  constructor(private userService: UserService) {\n    this.userService.user$.subscribe((user) => {\n      this.user = user;\n    });\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {HttpClientModule} from '@angular/common/http';\nimport {EoSharedModule} from '@eo-sdk/core';\nimport {EoIconComponent} from './eo-icon/eo-icon.component';\nimport {OutsideClickDirective} from './outside-click/outside-click.directive';\nimport {RtlAwareDirective} from './rtl-aware/rtl-aware.directive';\nimport {PipesModule} from '../../eo-framework-core/pipes/pipes.module';\nimport {LoadingSpinnerComponent} from './loading-spinner/loading-spinner.component';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {ClipboardComponent} from './clipboard/clipboard.component';\nimport {IndexdataSummaryComponent} from './indexdata-summary/indexdata-summary.component';\nimport {UserAvatarComponent} from './user-avatar/user-avatar.component';\nimport {OverlayComponent} from './overlay/overlay.component';\nimport {ErrorMessageComponent} from './error-message/error-message.component';\nimport {EoDialogComponent} from './eo-dialog/eo-dialog.component';\nimport {RouterModule} from '@angular/router';\nimport {OverlayModule} from '@angular/cdk/overlay';\nimport {AccordionModule} from '../accordion/accordion.module';\nimport {IndexdataSummaryEntryComponent} from './indexdata-summary/indexdata-summary-entry/indexdata-summary-entry.component';\nimport {RouterLinkDirective} from './router-link/router-link.directive';\nimport { QueryScopeSelectComponent } from './query-scope-select/query-scope-select.component';\nimport {YvcDialogModule} from '@yuuvis/components/dialog';\nimport {A11yModule} from '@angular/cdk/a11y';\nimport {TrapFocusDirective} from '../util/directive/trap-focus.directive';\nimport { SignatureTabComponent } from './signature-tab/signature-tab.component';\n\n/**\n * Shared module for all ui components that are used across the whole app\n * and in other components.\n */\n\n@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule,\n    EoSharedModule,\n    PipesModule,\n    BrowserAnimationsModule,\n    RouterModule,\n    AccordionModule,\n    OverlayModule,\n    YvcDialogModule,\n    A11yModule\n  ],\n  exports: [\n    CommonModule,\n    HttpClientModule,\n    EoSharedModule,\n    PipesModule,\n    EoIconComponent,\n    OutsideClickDirective,\n    RouterLinkDirective,\n    RtlAwareDirective,\n    LoadingSpinnerComponent,\n    ClipboardComponent,\n    IndexdataSummaryComponent,\n    UserAvatarComponent,\n    OverlayComponent,\n    ErrorMessageComponent,\n    EoDialogComponent,\n    QueryScopeSelectComponent,\n    TrapFocusDirective,\n    SignatureTabComponent\n  ],\n  declarations: [\n    EoIconComponent,\n    OutsideClickDirective,\n    RouterLinkDirective,\n    RtlAwareDirective,\n    LoadingSpinnerComponent,\n    ClipboardComponent,\n    IndexdataSummaryComponent,\n    UserAvatarComponent,\n    OverlayComponent,\n    ErrorMessageComponent,\n    EoDialogComponent,\n    IndexdataSummaryEntryComponent,\n    QueryScopeSelectComponent,\n    TrapFocusDirective,\n    SignatureTabComponent\n  ]\n})\nexport class UiModule {\n}\n","import {Component, OnDestroy, Input, HostBinding, OnInit} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {EnaioEvent, EventService, UserService} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-user-avatar',\n  template: `<span class=\"presence\" *ngIf=\"showPresence && !present\">X</span>`,\n  styleUrls: ['./user-avatar.component.scss']\n})\nexport class UserAvatarComponent implements OnDestroy, OnInit {\n\n  private subscription: Subscription;\n  // tslint:disable-next-line:max-line-length\n  private defImg = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAYAAAA9zQYyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkZDQTZDQkFFMDRERDExRTg4OUIxQzk4OTI4N0QzREVCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkZDQTZDQkFGMDRERDExRTg4OUIxQzk4OTI4N0QzREVCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RkNBNkNCQUMwNEREMTFFODg5QjFDOTg5Mjg3RDNERUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RkNBNkNCQUQwNEREMTFFODg5QjFDOTg5Mjg3RDNERUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7oRrTHAAAINklEQVR42uyd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';\n\n  present: boolean;\n  userId: string;\n  @HostBinding('style.background-image') backgroundImage = 'initial';\n  @Input() showPresence: boolean;\n  @Input() previewUri: string;\n\n  constructor(private userService: UserService,\n    private eventService: EventService,) {\n    this.subscription = this.userService.user$\n      .subscribe(u => {\n        this.userId = u.id;\n        this.present = u.present;\n        this.refreshUserImage();\n      });\n    this.eventService.on(EnaioEvent.SYSTEM_STATUS_IMAGE_CHANGE).subscribe(() => {\n      this.refreshUserImage();\n    });\n  }\n\n  ngOnInit(): void {\n    if (this.previewUri) {\n      this.refreshUserImage();\n    }\n  }\n\n  refreshUserImage() {\n    if (this.previewUri) {\n      this.backgroundImage = `url(${this.previewUri})`;\n    } else {\n      const timestamp = new Date().getTime().toString();\n      this.backgroundImage = `url(${this.userService.getUserImageUri(this.userId) + '&t=' + timestamp}), url(${this.defImg})`;\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, CanActivate, RouterStateSnapshot} from '@angular/router';\nimport {UploadRegistryService} from '@eo-sdk/core';\nimport {Observable} from 'rxjs';\n\n@Injectable()\nexport class UploadOverlayGuard implements CanActivate {\n\n  constructor(private uploadRegistry: UploadRegistryService) {\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    return !this.uploadRegistry.isOverlayActive()\n  }\n}\n","import {of as observableOf, forkJoin as observableForkJoin, Observable} from 'rxjs';\nimport {Component, OnInit, Renderer2, ViewChild, ElementRef, OnDestroy, HostListener} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {\n  ObjectType,\n  EventService,\n  EnaioEvent,\n  UploadRegistryService,\n  UploadTarget,\n  UploadFileItem,\n  PrepareService,\n  Utils,\n  TranslateService,\n  EnvironmentEnaio, SystemService\n} from '@eo-sdk/core';\n\n@Component({\n  selector: 'eo-upload-overlay',\n  templateUrl: './upload-overlay.component.html',\n  styleUrls: ['./upload-overlay.component.scss']\n})\nexport class UploadOverlayComponent implements OnInit, OnDestroy {\n\n  @ViewChild('overlay') overlayEl: ElementRef;\n\n  queue: UploadFileItem[] = [];\n  fileOver: boolean;\n  isUploading: boolean;\n  hasValidUploadTargets: boolean;\n  invalidInput: boolean;\n  queueSize: number;\n  validUploadTargets: UploadTarget[] = [];\n  selectedUploadTarget: UploadTarget;\n\n  private uploadTargets: UploadTarget[] = [];\n  private dragLeaveListener: Function;\n  private dropListener: Function;\n  private dragOverListener: Function;\n  private escKeyListener: Function;\n  private dragEnterListener: Function;\n  private pasteListener: Function;\n  private dragEventCount = 0;\n\n  constructor(private router: Router,\n              private renderer: Renderer2,\n              private prepareService: PrepareService,\n              private translate: TranslateService,\n              private systemService: SystemService,\n              private eventService: EventService,\n              private uploadRegistry: UploadRegistryService) {\n  }\n\n  private init() {\n\n    // global drag&drop upload will only be available on desktop (web or electron)\n    if (EnvironmentEnaio.isMobileEnvironment()) {\n      return false;\n    }\n\n    // subscribe for the list of registered upload targets\n    this.uploadRegistry.uploadTargets$.subscribe((uploadTargets: UploadTarget[]) => {\n      this.uploadTargets = uploadTargets;\n    });\n\n    this.pasteListener = this.renderer.listen('document', 'paste', (e: ClipboardEvent) => {\n      this.onPaste(e);\n    });\n\n    this.dragEnterListener = this.renderer.listen('document', 'dragenter', (e: DragEvent) => {\n      this.onDragEnter(e);\n    });\n  }\n\n  private onPaste(e: ClipboardEvent) {\n    if (this.isUploading) {\n      return false;\n    }\n    this.hasValidUploadTargets = true;\n    this.invalidInput = false;\n    if (!this.fileOver && this.pasteContainsFiles(e)) {\n      let transfer = e.clipboardData;\n      if (!transfer) {\n        return;\n      }\n\n      // check for directories\n      for (let i = 0; i < transfer.items.length; i++) {\n        if (transfer.items[i].kind === 'string') {\n          this.invalidInput = true;\n          return;\n        }\n        const fe = transfer.items[i].webkitGetAsEntry();\n        if (fe && fe.isDirectory) {\n            this.invalidInput = true;\n            return;\n        }\n      }\n      if (!this.invalidInput) {\n        this._preventAndStop(e);\n        this.setFileOver(true);\n        this.onFilesDropped(Array.from(transfer.files));\n      }\n    }\n  }\n\n  private onDragEnter(e: DragEvent) {\n    if (this.isUploading) {\n      return false;\n    }\n    this.hasValidUploadTargets = true;\n    if (!this.fileOver && this.dragContainsFiles(e)) {\n      this.dragEventCount = 0;\n      this.setFileOver(true);\n\n\n      // use timeout here to force angular digest cycle before continuing, because we are accessing dom elements\n      // that are not there (*ngIf) until fileOver is set to true.\n      setTimeout(() => {\n        // todo: replace by renderer solution when available (https://github.com/angular/angular/issues/15674)\n        this.overlayEl.nativeElement.focus();\n        // bind late (only, when needed) to dragleave event to avoid heavy processing on every drag event\n        this.dragLeaveListener = this.renderer.listen(this.overlayEl.nativeElement, 'dragleave', (evt) => {\n          this.dragEventCount--;\n          if (this.dragEventCount === 0) {\n            this.close();\n          }\n        });\n\n        this.dropListener = this.renderer.listen(this.overlayEl.nativeElement, 'drop', (evt) => {\n          let transfer = this._getTransfer(evt);\n          if (!transfer) {\n            return;\n          }\n          this._preventAndStop(evt);\n\n          // check for directories\n          for (let i = 0; i < transfer.items.length; i++) {\n            const fe = transfer.items[i].webkitGetAsEntry();\n            if (fe && fe.isDirectory) {\n              this.invalidInput = true;\n            }\n          }\n          if (!this.invalidInput) {\n            this.onFilesDropped(transfer.files);\n          }\n        });\n\n        this.dragOverListener = this.renderer.listen(this.overlayEl.nativeElement, 'dragover', (evt) => {\n          let transfer = this._getTransfer(evt);\n          if (!transfer) {\n            return;\n          }\n          transfer.dropEffect = 'copy';\n          this._preventAndStop(evt);\n        });\n      }, 0);\n    } else {\n      this.dragEventCount++;\n    }\n  }\n\n  private _getTransfer(event: any): any {\n    return event.dataTransfer ? event.dataTransfer : event.originalEvent.dataTransfer; // jQuery fix;\n  }\n\n  private _preventAndStop(event: any): any {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  private onFilesDropped(fileItems: File[]) {\n    // clear queue when new files are added\n    // todo: remove in future releases to support collective file adding\n    this.queue = [];\n    for (let file of fileItems) {\n      this.queue.push(new UploadFileItem(file));\n    }\n\n    // bind ESC key listener for closing the dialog as late as possible\n    if (!this.escKeyListener) {\n      this.escKeyListener = this.renderer.listen('document', 'keyup', (e) => {\n        e.stopPropagation();\n        if (e.keyCode === 27) {\n          this.close();\n        }\n      });\n    }\n    // calculate total size of queue\n    this.setQueueSize();\n    // filter available targets\n    this.validateUploadTargets();\n  }\n\n  /**\n   * Filter list of registered upload targets, so only valid targets will be shown.\n   */\n  private validateUploadTargets() {\n    this.hasValidUploadTargets = true;\n    observableForkJoin(this.uploadTargets.map(t => this.validateUploadTarget(t)))\n      .subscribe(\n        (res: { target: UploadTarget, valid: boolean }[]) => {\n          this.validUploadTargets = res.filter(r => r.valid).map(filtered => filtered.target).reverse().sort((a, b) => {\n            return a.type === 'context' ? -1 : b.type === 'context' ? 1 : 0; // Context should be on top\n          });\n        }, err => {\n          this.validUploadTargets = [];\n        }, () => {\n          this.hasValidUploadTargets = this.validUploadTargets.length > 0;\n        }\n      );\n  }\n\n  private validateUploadTarget(target: UploadTarget): Observable<{ target: UploadTarget, valid: boolean }> {\n\n    if (!this.queue) {\n      return observableOf({target: target, valid: false});\n    }\n\n    return Observable.create(o => {\n      let valid = false;\n\n      if (target.type === UploadTarget.ROOT) {\n\n        // todo: are there other restrictions on root target?\n        this.prepareService.getPrepareChildTypes(null, true)\n          .subscribe(\n            (res: { parent: string, types: ObjectType[] }) => {\n              valid = this.queue.length > 0 && res.types.length > 0;\n              o.next({target: target, valid: valid});\n              o.complete();\n            }, err => {\n              o.next({target: target, valid: false});\n              o.complete();\n            }\n          );\n      } else if (target.type === UploadTarget.OBJECT) {\n\n        // todo: check if the reference object supports the given file type\n        valid = target.referenceObject &&\n          target.referenceObject.type.maxFiles > 0 &&\n          !target.referenceObject.lock &&\n          !target.referenceObject.isFinalized &&\n          (target.referenceObject.rights && target.referenceObject.rights.edit) &&\n          this.queue.length === 1;\n        o.next({target: target, valid: valid});\n        o.complete();\n      } else if (target.type === UploadTarget.CONTEXT || target.type === UploadTarget.CONTEXT_TREE) {\n\n        // todo: add checks related to the reference object (e.g. allowed file types)\n        this.prepareService.getPrepareChildTypes(target.referenceObject.id, true)\n          .subscribe(\n            (res: { parent: string, types: ObjectType[] }) => {\n              valid = target.referenceObject && this.queue.length > 0 && res.types.length > 0;\n\n              // for CONTEXT_TREE targets also check if the desired node\n              // type is part of the prepare child types\n              if (target.type === UploadTarget.CONTEXT_TREE && target.subFolder) {\n                const subFolder: any = target.subFolder;\n                valid = !!res.types.find(t => this.systemService.implementsType(t, subFolder.data.type));\n              }\n\n              o.next({target: target, valid: valid});\n              o.complete();\n            }, err => {\n              o.next({target: target, valid: false});\n              o.complete();\n            }\n          );\n      } else {\n        o.next({target: target, valid: false});\n        o.complete();\n      }\n    });\n  }\n\n  /**\n   * Removes a file from the list of files to be uploaded.\n   * @param fileItem - the file item to be removed\n   */\n  public removeFileItem(fileItem: UploadFileItem) {\n\n    this.queue = this.queue.filter((f) => f.id !== fileItem.id);\n    if (!this.queue.length) {\n      this.close();\n    } else {\n      // update available upload targets because their validity\n      // may be based on the queue size\n      this.validateUploadTargets();\n      this.setQueueSize();\n    }\n  }\n\n  /**\n   * Proceed upload with a selected upload target.\n   * @param uploadTarget - the target to upload files to\n   */\n  public proceedWithUpload(uploadTarget: UploadTarget) {\n\n    if (uploadTarget.type !== UploadTarget.CUSTOM && this.queue.length > 1) {\n      // For more than one file to be uploaded to a none custom target, we let the user decide if\n      // batch upload should be used or not ...\n\n\n      this.selectedUploadTarget = uploadTarget;\n    } else if (uploadTarget.type === UploadTarget.OBJECT) {\n      // ... otherwise upload is started immediately\n      this.startUpload(uploadTarget, [null, this.getStateRoute()]);\n    } else {\n      this.startUpload(uploadTarget, [null, '/prepare']);\n    }\n  }\n\n  /**\n   * Proceed upload using the selected upload target.\n   * @param useBatchUpload - flag indicating whether or not to use batch upload\n   */\n  public proceedWithSelectedTarget(useBatchUpload: boolean) {\n    this.startUpload(this.selectedUploadTarget, [useBatchUpload, '/prepare']);\n  }\n\n  /**\n   * Resets the selected upload target.\n   */\n  public resetSelectedUploadTarget() {\n    this.selectedUploadTarget = null;\n  }\n\n  getStateRoute() {\n    return this.router.url;\n  }\n\n\n  private successfulUpload(target, uploadTarget) {\n    this.eventService.trigger(EnaioEvent.DMS_OBJECT_UPDATED, uploadTarget.referenceObject);\n    uploadTarget.onUploadSuccess(target);\n  }\n\n  /**\n   * Start the actual upload.\n   * @param uploadTarget - target to upload the files to\n   * @param useBatchUpload - flag indicating whether or not to use batch upload\n   */\n  private startUpload(uploadTarget: UploadTarget, [...args]) {\n\n    const [useBatchUpload, target] = args;\n\n    this.isUploading = true;\n    this.unbindListeners();\n    this.prepareService\n      .uploadToTarget(uploadTarget, this.queue, useBatchUpload)\n      .subscribe((res) => {\n          this.isUploading = false;\n          if (uploadTarget.subFolder && uploadTarget.subFolder.data.data) {\n            if (Array.isArray(res)) {\n              let obs = [];\n              res.forEach(r => {\n                obs.push(this.prepareService.updatePreparedItemIndexData(r.id, uploadTarget.subFolder.data.data));\n              });\n              observableForkJoin(obs).subscribe(() => this.successfulUpload(target, uploadTarget));\n            } else {\n              this.prepareService\n                .updatePreparedItemIndexData(res.id, uploadTarget.subFolder.data.data)\n                .subscribe(() => this.successfulUpload(target, uploadTarget));\n            }\n          } else {\n            this.successfulUpload(target, uploadTarget);\n          }\n          this.close();\n        }, Utils.throw(() => {\n          this.isUploading = false;\n          uploadTarget.onUploadFail();\n          this.close();\n        },\n        this.translate.instant('eo.upload.global.error.title'),\n        this.translate.instant('eo.upload.global.error.description'))\n      );\n    this.resetSelectedUploadTarget();\n  }\n\n  private setQueueSize() {\n    let s = 0;\n    for (let f of this.queue) {\n      s += f.size;\n    }\n    this.queueSize = s;\n  }\n\n  /**\n   * Close the upload overlay and release all bound resources.\n   */\n  close() {\n    // unbind bound event listener, when they are not needed anymore\n    this.unbindListeners();\n    // clear upload queue\n    this.queue = [];\n    // hide the overlay\n    this.setFileOver(false);\n    this.invalidInput = false;\n  }\n\n  private setFileOver(value: boolean) {\n    this.fileOver = value;\n    this.uploadRegistry.setOverlayActive(value);\n  }\n\n  private unbindListeners() {\n    if (this.dragLeaveListener) {\n      this.dragLeaveListener();\n      this.dragLeaveListener = null;\n    }\n    if (this.dragOverListener) {\n      this.dragOverListener();\n      this.dragOverListener = null;\n    }\n    if (this.dropListener) {\n      this.dropListener();\n      this.dropListener = null;\n    }\n    if (this.escKeyListener) {\n      this.escKeyListener();\n      this.escKeyListener = null;\n    }\n  }\n\n  /**\n   * Indicates whether or not the current drag event contains one or more files.\n   * @param event - the drag event to be checked\n   * @returns number of files\n   */\n   private dragContainsFiles(event: DragEvent): number {\n    return Array.from(event.dataTransfer.items || []).filter(i => i.kind === 'file').length;\n  }\n\n  /**\n   * Indicates whether or not the current paste event contains one or more files.\n   * @param event - the paste event to be checked\n   * @returns number of files\n   */\n  private pasteContainsFiles(event: ClipboardEvent): number {\n    return Array.from(event.clipboardData.items || []).filter(i => i.kind === 'file').length;\n  }\n\n  // ngFor tracking function for upload targets\n  targetTrackByFn(index, item) {\n    return item.id;\n  }\n\n  // ngFor tracking function for file items\n  trackByFn(index, item) {\n    return index;\n  }\n\n  ngOnInit() {\n    this.init();\n  }\n\n  ngOnDestroy() {\n    if (this.dragEnterListener) {\n      this.dragEnterListener();\n    }\n  }\n}\n","<div id=\"eo-upload-overlay\" #overlay class=\"dark\" *ngIf=\"fileOver\" tabindex=\"1\"\n     [ngClass]=\"{hasFiles: queue.length, invalid: invalidInput, singleFile: queue.length === 1, uploading: isUploading}\">\n\n  <eo-icon class=\"button white close\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\" (click)=\"close()\"></eo-icon>\n\n  <div class=\"count\">\n    <div>{{queue.length}}</div>\n    <div class=\"queueSize\">{{queueSize | fileSize}}</div>\n  </div>\n\n  <h1 translate>eo.upload.global.headline</h1>\n  <eo-icon class=\"uploady\" [iconSrc]=\"'assets/_default/svg/ic_upload.svg'\"></eo-icon>\n\n  <!-- batch upload dialog -->\n  <div class=\"batch-dialog\" *ngIf=\"!invalidInput && selectedUploadTarget && !isUploading\">\n\n    <h2 translate>eo.upload.global.choose.title</h2>\n    <p translate>eo.upload.global.choose.message</p>\n    <div class=\"actions\">\n      <button (click)=\"resetSelectedUploadTarget()\" translate>eo.upload.global.cancel</button>\n      <button (click)=\"proceedWithSelectedTarget(false)\" class=\"primary\" translate>eo.upload.global.choose.single</button>\n      <button (click)=\"proceedWithSelectedTarget(true)\" class=\"primary\" translate>eo.upload.global.choose.multi</button>\n    </div>\n  </div>\n\n  <!-- invalid input dialog -->\n  <div class=\"batch-dialog\" *ngIf=\"hasValidUploadTargets && invalidInput\">\n\n    <h2 translate>eo.upload.global.invalid.title</h2>\n    <p translate>eo.upload.global.invalid.message</p>\n    <div class=\"actions\">\n      <button (click)=\"close()\" translate>eo.upload.global.close</button>\n    </div>\n  </div>\n\n  <!-- no upload targets available -->\n  <div class=\"batch-dialog\" *ngIf=\"!hasValidUploadTargets\">\n\n    <h2 translate>eo.upload.global.notarget.title</h2>\n    <p translate>eo.upload.global.notarget.message</p>\n    <div class=\"actions\">\n      <button (click)=\"close()\" translate>eo.upload.global.close</button>\n    </div>\n  </div>\n\n  <div class=\"contents\" *ngIf=\"hasValidUploadTargets && !invalidInput && !selectedUploadTarget && !isUploading\">\n\n    <!-- list of available upload targets -->\n    <div class=\"targets\">\n\n      <div class=\"target-list\">\n\n        <h2 translate>eo.upload.global.target</h2>\n\n        <div class=\"upload-target\" *ngFor=\"let t of validUploadTargets; trackBy: targetTrackByFn\"\n             (click)=\"proceedWithUpload(t)\"\n             [ngSwitch]=\"t.type\">\n\n          <!-- upload to root -->\n          <ng-container *ngSwitchCase=\"'root'\" >\n            <eo-icon [iconSrc]=\"'assets/_default/svg/ic_create_document.svg'\"></eo-icon>\n            <div class=\"upload-target-general\">\n              <div class=\"name\" translate>eo.upload.global.root.title</div>\n              <div class=\"description\" translate>eo.upload.global.root.description</div>\n            </div>\n          </ng-container>\n\n          <!-- replace file of a specific dms object -->\n          <ng-container *ngSwitchCase=\"'object'\">\n            <eo-icon [iconSrc]=\"'assets/_default/svg/ic_add_document_file_as_new_version.svg'\"></eo-icon>\n            <div class=\"upload-target-replace\">\n              <div class=\"name\" *ngIf=\"t.referenceObject.content;else nocontent\" translate>eo.upload.global.object.title</div>\n              <ng-template #nocontent>\n                <div class=\"name\" translate>eo.upload.global.object.title.nocontent</div>\n              </ng-template>\n              <div class=\"description\">{{t.description}}</div>\n            </div>\n          </ng-container>\n\n          <!-- add new files to a context folder -->\n          <ng-container *ngSwitchCase=\"'context'\">\n            <eo-icon [iconSrc]=\"'assets/_default/svg/ic_create_document_in_folder.svg'\"></eo-icon>\n            <div class=\"upload-target-context\">\n              <div class=\"name\">{{'eo.upload.global.context.title'|translate:({context:t.referenceObject.type.label})}}</div>\n              <div class=\"description\">{{t.description}}</div>\n            </div>\n          </ng-container>\n\n          <!-- add new files to a context folder structure tree entry -->\n          <ng-container *ngSwitchCase=\"'contexttree'\">\n            <eo-icon [iconSrc]=\"'assets/_default/svg/ic_create_document_in_folder.svg'\"></eo-icon>\n            <div class=\"upload-target-contexttree\">\n              <div class=\"name\">{{'eo.add.title.location.subfolder'|translate: ({folder: t.subFolder.name})}}</div>\n            </div>\n          </ng-container>\n\n          <!-- custom upload target (e.g. from plugin component) -->\n          <ng-container *ngSwitchCase=\"'custom'\">\n            <eo-icon [iconSrc]=\"'assets/_default/svg/ic_upload.svg'\"></eo-icon>\n            <div class=\"upload-target-custom\">\n              <div class=\"name\">{{t.name}}</div>\n              <div class=\"description\">{{t.description}}</div>\n            </div>\n          </ng-container>\n        </div>\n\n      </div>\n\n    </div>\n\n    <!-- list of files dragged to the component -->\n    <div class=\"files\">\n      <div class=\"files-list\">\n        <div class=\"file-item\" *ngFor=\"let i of queue; trackBy: trackByFn\">\n          <div>\n            <div class=\"name\">{{i.name}}</div>\n            <div class=\"desc\"><span class=\"size\">{{i.size | fileSize}}</span><span class=\"desc-text\">&nbsp;{{i.type}}</span></div>\n          </div>\n          <eo-icon class=\"button white\" (click)=\"removeFileItem(i)\" [iconSrc]=\"'assets/_default/svg/ic_clear.svg'\"></eo-icon>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n  <div class=\"loading\" *ngIf=\"isUploading\"><eo-loading-spinner [size]=\"'large'\"></eo-loading-spinner></div>\n\n\n</div>\n","import {Directive, EventEmitter, HostListener, OnInit, Output, Input, OnDestroy} from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { throttleTime } from 'rxjs/operators';\nimport {Subscription} from 'rxjs';\n\n@Directive({\n  selector: '[eoPreventDoubleClick]'\n})\nexport class PreventDoubleClickDirective implements OnInit, OnDestroy {\n  @Input() debounceTime = 500;\n  @Output() debounceClick = new EventEmitter();\n  private clicks = new Subject();\n  private subscription: Subscription;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.subscription = this.clicks.pipe(throttleTime(this.debounceTime)).subscribe(e => this.debounceClick.emit(e));\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  @HostListener('click', ['$event'])\n  clickEvent(event) {\n    //TODO: does not support LinkAction (ctrl + click)\n    event.preventDefault();\n    event.stopPropagation();\n    this.clicks.next(event);\n  }\n\n  @HostListener('keydown.enter', ['$event'])\n  onkeyDown(event: KeyboardEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.clicks.next(event);\n  }\n}\n\n","import {Directive, ElementRef, HostListener, Renderer2} from '@angular/core';\n\n/**\n * This directive traps the focus inside the element it is applied to.\n * When applied, a users can't \"tab out\" of the element.\n * You need at least two focusable children in the element for it to work properly.\n * See the querySelector in the trapFocus method to know which elements count as focusable.\n * Additionally you can add the attribute \"focusable\" to an element if you are unsure.\n */\n\n@Directive({\n  selector: '[eoTrapFocus]'\n})\nexport class TrapFocusDirective {\n\n  focusableSelectors = 'a[href], a, button, textarea, input[type=\"text\"],' +\n  'input[type=\"radio\"], input[type=\"checkbox\"], select, [focusable]';\n\n  constructor(private el: ElementRef) { }\n\n  ngAfterViewInit() {\n    this.trapFocus(this.el.nativeElement);\n  }\n\n  trapFocus(element: any) {\n    let focusableElements = element.querySelectorAll(\n      this.focusableSelectors\n    );\n    focusableElements = Array.from(focusableElements)\n      .filter((el: any) => !el.disabled && !el.classList.contains('disabled'));\n    const firstFocusableElement: any = focusableElements[0];\n    const lastFocusableElement: any = focusableElements[focusableElements.length - 1];\n\n    element.addEventListener('keydown', ((event: any) => {\n      const isTabPressed = event.keyCode === 9; // tab key code\n      if (!isTabPressed) return;\n\n      if (event.shiftKey) /* shift + tab */ {\n        if (document.activeElement === firstFocusableElement) {\n          lastFocusableElement.focus();\n          event.preventDefault();\n        }\n      } else /* tab */ {\n        if (document.activeElement === lastFocusableElement) {\n          firstFocusableElement.focus();\n          event.preventDefault();\n        }\n      }\n    }));\n  }\n\n  @HostListener('keydown', ['$event'])\n  isArrowUpOrDownPressed(event: KeyboardEvent) {\n\n    const key = event.key\n    if (key === 'ArrowUp' || key === 'ArrowDown') {\n\n      event.preventDefault();\n      let focusableElements = this.el.nativeElement.parentElement.querySelectorAll(\n        this.focusableSelectors\n      );\n      const currentIndex = Array.from(focusableElements).indexOf(document.activeElement)\n      if (key === 'ArrowDown' && currentIndex < focusableElements.length - 1) {\n        focusableElements[currentIndex + 1].focus();\n      }\n      else if (key === 'ArrowUp' && currentIndex > 0) {\n        focusableElements[currentIndex - 1].focus();\n\n      }\n    }\n  }\n}\n","export * from './util.module';\nexport * from './services/utilities.service';\nexport * from './directive/trap-focus.directive';\nexport * from './directive/prevent-double-click.directive';\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class UtilitiesService {\n  public static isEdge(): boolean {\n    return !!navigator.userAgent && navigator.userAgent.indexOf('Edge') > -1;\n  }\n\n  public static isEmpty(obj) {\n    if (obj == null || obj === '') {\n      return true;\n    }\n\n    if (typeof obj === 'number') {\n      return isNaN(obj);\n    }\n\n    return typeof obj === 'boolean' ? false : !Object.keys(obj).length;\n  }\n\n  public static isEmptyOrFalse(val) {\n    return typeof val === 'boolean' ? !val : UtilitiesService.isEmpty(val);\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'orderBy'\n})\nexport class OrderByPipe implements PipeTransform {\n\n  transform(values: number[]|string[]|object[], key?: string, isDesc = false) {\n    if (!Array.isArray(values) || values.length <= 0) {\n      return null;\n    }\n    return this.sort(values, key, isDesc);\n  }\n\n  private sort(value: any[], key?: any, isDesc?): any[] {\n    const isInside = key && key.indexOf('.') !== -1;\n\n    if (isInside) {\n      key = key.split('.');\n    }\n\n    const array: any[] = value.sort((a: any, b: any): number => {\n      if (!key) {\n        return a > b ? 1 : -1;\n      }\n\n      if (!isInside) {\n        return a[key] > b[key] ? 1 : -1;\n      }\n\n      return this.getValue(a, key) > this.getValue(b, key) ? 1 : -1;\n    });\n\n    if (isDesc) {\n      return array.reverse();\n    }\n\n    return array;\n  }\n\n  private getValue(object: any, key: string[]) {\n    for (let i = 0, n = key.length; i < n; ++i) {\n      const k = key[i];\n      if (!(k in object)) {\n        return;\n      }\n      object = object[k];\n    }\n\n    return object;\n  }\n\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {UtilitiesService} from './services/utilities.service';\nimport {OrderByPipe} from './sortable/order-by.pipe';\n\n@NgModule({\n  imports: [\n    CommonModule,\n  ],\n  declarations: [OrderByPipe],\n  providers: [UtilitiesService],\n  exports: [OrderByPipe]\n})\nexport class UtilModule {\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n","import {enableProdMode} from '@angular/core';\nimport {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\n\nimport {AppModule} from './app/app.module';\nimport {environment} from './environments/environment';\n\n\nif (environment.production) {\n  enableProdMode();\n}\n\nconst detectIE = () => {\n  const ua = window.navigator.userAgent;\n  const msie = ua.indexOf('MSIE ');\n  if (msie > 0) {\n    // IE 10 or older => return version number\n    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n  }\n  const trident = ua.indexOf('Trident/');\n  if (trident > 0) {\n    // IE 11 => return version number\n    const rv = ua.indexOf('rv:');\n    return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n  }\n  // other browser\n  return -1;\n};\n\nconst version = detectIE();\nif (version > 0 && version <= 11) {\n  alert(\n    'Internet Explorer 11 and below is not supported. Please use a current version of Google Chrome, Firefox or Microsoft Edge instead.'\n  );\n} else {\n  platformBrowserDynamic()\n    .bootstrapModule(AppModule)\n    .catch(err => console.log(err));\n}\n\n","var map = {\n\t\"./af\": 58685,\n\t\"./af.js\": 58685,\n\t\"./ar\": 254,\n\t\"./ar-dz\": 4312,\n\t\"./ar-dz.js\": 4312,\n\t\"./ar-kw\": 32614,\n\t\"./ar-kw.js\": 32614,\n\t\"./ar-ly\": 18630,\n\t\"./ar-ly.js\": 18630,\n\t\"./ar-ma\": 28674,\n\t\"./ar-ma.js\": 28674,\n\t\"./ar-sa\": 49032,\n\t\"./ar-sa.js\": 49032,\n\t\"./ar-tn\": 24730,\n\t\"./ar-tn.js\": 24730,\n\t\"./ar.js\": 254,\n\t\"./az\": 53052,\n\t\"./az.js\": 53052,\n\t\"./be\": 60150,\n\t\"./be.js\": 60150,\n\t\"./bg\": 63069,\n\t\"./bg.js\": 63069,\n\t\"./bm\": 13466,\n\t\"./bm.js\": 13466,\n\t\"./bn\": 18516,\n\t\"./bn-bd\": 90557,\n\t\"./bn-bd.js\": 90557,\n\t\"./bn.js\": 18516,\n\t\"./bo\": 26273,\n\t\"./bo.js\": 26273,\n\t\"./br\": 9588,\n\t\"./br.js\": 9588,\n\t\"./bs\": 19815,\n\t\"./bs.js\": 19815,\n\t\"./ca\": 83331,\n\t\"./ca.js\": 83331,\n\t\"./cs\": 21320,\n\t\"./cs.js\": 21320,\n\t\"./cv\": 72219,\n\t\"./cv.js\": 72219,\n\t\"./cy\": 68266,\n\t\"./cy.js\": 68266,\n\t\"./da\": 66427,\n\t\"./da.js\": 66427,\n\t\"./de\": 67435,\n\t\"./de-at\": 52871,\n\t\"./de-at.js\": 52871,\n\t\"./de-ch\": 12994,\n\t\"./de-ch.js\": 12994,\n\t\"./de.js\": 67435,\n\t\"./dv\": 82357,\n\t\"./dv.js\": 82357,\n\t\"./el\": 95649,\n\t\"./el.js\": 95649,\n\t\"./en-au\": 59961,\n\t\"./en-au.js\": 59961,\n\t\"./en-ca\": 19878,\n\t\"./en-ca.js\": 19878,\n\t\"./en-gb\": 3924,\n\t\"./en-gb.js\": 3924,\n\t\"./en-ie\": 70864,\n\t\"./en-ie.js\": 70864,\n\t\"./en-il\": 91579,\n\t\"./en-il.js\": 91579,\n\t\"./en-in\": 30940,\n\t\"./en-in.js\": 30940,\n\t\"./en-nz\": 16181,\n\t\"./en-nz.js\": 16181,\n\t\"./en-sg\": 44301,\n\t\"./en-sg.js\": 44301,\n\t\"./eo\": 85291,\n\t\"./eo.js\": 85291,\n\t\"./es\": 54529,\n\t\"./es-do\": 53764,\n\t\"./es-do.js\": 53764,\n\t\"./es-mx\": 12584,\n\t\"./es-mx.js\": 12584,\n\t\"./es-us\": 63425,\n\t\"./es-us.js\": 63425,\n\t\"./es.js\": 54529,\n\t\"./et\": 35203,\n\t\"./et.js\": 35203,\n\t\"./eu\": 70678,\n\t\"./eu.js\": 70678,\n\t\"./fa\": 83483,\n\t\"./fa.js\": 83483,\n\t\"./fi\": 96262,\n\t\"./fi.js\": 96262,\n\t\"./fil\": 52521,\n\t\"./fil.js\": 52521,\n\t\"./fo\": 34555,\n\t\"./fo.js\": 34555,\n\t\"./fr\": 63131,\n\t\"./fr-ca\": 88239,\n\t\"./fr-ca.js\": 88239,\n\t\"./fr-ch\": 21702,\n\t\"./fr-ch.js\": 21702,\n\t\"./fr.js\": 63131,\n\t\"./fy\": 267,\n\t\"./fy.js\": 267,\n\t\"./ga\": 23821,\n\t\"./ga.js\": 23821,\n\t\"./gd\": 71753,\n\t\"./gd.js\": 71753,\n\t\"./gl\": 4074,\n\t\"./gl.js\": 4074,\n\t\"./gom-deva\": 92762,\n\t\"./gom-deva.js\": 92762,\n\t\"./gom-latn\": 5969,\n\t\"./gom-latn.js\": 5969,\n\t\"./gu\": 82809,\n\t\"./gu.js\": 82809,\n\t\"./he\": 45402,\n\t\"./he.js\": 45402,\n\t\"./hi\": 315,\n\t\"./hi.js\": 315,\n\t\"./hr\": 10410,\n\t\"./hr.js\": 10410,\n\t\"./hu\": 38288,\n\t\"./hu.js\": 38288,\n\t\"./hy-am\": 67928,\n\t\"./hy-am.js\": 67928,\n\t\"./id\": 71334,\n\t\"./id.js\": 71334,\n\t\"./is\": 86959,\n\t\"./is.js\": 86959,\n\t\"./it\": 34864,\n\t\"./it-ch\": 51124,\n\t\"./it-ch.js\": 51124,\n\t\"./it.js\": 34864,\n\t\"./ja\": 36141,\n\t\"./ja.js\": 36141,\n\t\"./jv\": 29187,\n\t\"./jv.js\": 29187,\n\t\"./ka\": 42136,\n\t\"./ka.js\": 42136,\n\t\"./kk\": 94332,\n\t\"./kk.js\": 94332,\n\t\"./km\": 18607,\n\t\"./km.js\": 18607,\n\t\"./kn\": 84305,\n\t\"./kn.js\": 84305,\n\t\"./ko\": 70234,\n\t\"./ko.js\": 70234,\n\t\"./ku\": 16003,\n\t\"./ku.js\": 16003,\n\t\"./ky\": 75061,\n\t\"./ky.js\": 75061,\n\t\"./lb\": 32786,\n\t\"./lb.js\": 32786,\n\t\"./lo\": 66183,\n\t\"./lo.js\": 66183,\n\t\"./lt\": 50029,\n\t\"./lt.js\": 50029,\n\t\"./lv\": 24169,\n\t\"./lv.js\": 24169,\n\t\"./me\": 68577,\n\t\"./me.js\": 68577,\n\t\"./mi\": 68177,\n\t\"./mi.js\": 68177,\n\t\"./mk\": 50337,\n\t\"./mk.js\": 50337,\n\t\"./ml\": 65260,\n\t\"./ml.js\": 65260,\n\t\"./mn\": 52325,\n\t\"./mn.js\": 52325,\n\t\"./mr\": 14695,\n\t\"./mr.js\": 14695,\n\t\"./ms\": 75334,\n\t\"./ms-my\": 37151,\n\t\"./ms-my.js\": 37151,\n\t\"./ms.js\": 75334,\n\t\"./mt\": 63570,\n\t\"./mt.js\": 63570,\n\t\"./my\": 97963,\n\t\"./my.js\": 97963,\n\t\"./nb\": 88028,\n\t\"./nb.js\": 88028,\n\t\"./ne\": 86638,\n\t\"./ne.js\": 86638,\n\t\"./nl\": 50302,\n\t\"./nl-be\": 66782,\n\t\"./nl-be.js\": 66782,\n\t\"./nl.js\": 50302,\n\t\"./nn\": 33501,\n\t\"./nn.js\": 33501,\n\t\"./oc-lnc\": 50563,\n\t\"./oc-lnc.js\": 50563,\n\t\"./pa-in\": 50869,\n\t\"./pa-in.js\": 50869,\n\t\"./pl\": 65302,\n\t\"./pl.js\": 65302,\n\t\"./pt\": 49687,\n\t\"./pt-br\": 74884,\n\t\"./pt-br.js\": 74884,\n\t\"./pt.js\": 49687,\n\t\"./ro\": 79107,\n\t\"./ro.js\": 79107,\n\t\"./ru\": 33627,\n\t\"./ru.js\": 33627,\n\t\"./sd\": 30355,\n\t\"./sd.js\": 30355,\n\t\"./se\": 83427,\n\t\"./se.js\": 83427,\n\t\"./si\": 11848,\n\t\"./si.js\": 11848,\n\t\"./sk\": 54590,\n\t\"./sk.js\": 54590,\n\t\"./sl\": 20184,\n\t\"./sl.js\": 20184,\n\t\"./sq\": 56361,\n\t\"./sq.js\": 56361,\n\t\"./sr\": 78965,\n\t\"./sr-cyrl\": 81287,\n\t\"./sr-cyrl.js\": 81287,\n\t\"./sr.js\": 78965,\n\t\"./ss\": 25456,\n\t\"./ss.js\": 25456,\n\t\"./sv\": 70451,\n\t\"./sv.js\": 70451,\n\t\"./sw\": 77558,\n\t\"./sw.js\": 77558,\n\t\"./ta\": 51356,\n\t\"./ta.js\": 51356,\n\t\"./te\": 73693,\n\t\"./te.js\": 73693,\n\t\"./tet\": 21243,\n\t\"./tet.js\": 21243,\n\t\"./tg\": 42500,\n\t\"./tg.js\": 42500,\n\t\"./th\": 55768,\n\t\"./th.js\": 55768,\n\t\"./tk\": 77761,\n\t\"./tk.js\": 77761,\n\t\"./tl-ph\": 35780,\n\t\"./tl-ph.js\": 35780,\n\t\"./tlh\": 29590,\n\t\"./tlh.js\": 29590,\n\t\"./tr\": 33807,\n\t\"./tr.js\": 33807,\n\t\"./tzl\": 93857,\n\t\"./tzl.js\": 93857,\n\t\"./tzm\": 60654,\n\t\"./tzm-latn\": 8806,\n\t\"./tzm-latn.js\": 8806,\n\t\"./tzm.js\": 60654,\n\t\"./ug-cn\": 30845,\n\t\"./ug-cn.js\": 30845,\n\t\"./uk\": 19232,\n\t\"./uk.js\": 19232,\n\t\"./ur\": 47052,\n\t\"./ur.js\": 47052,\n\t\"./uz\": 77967,\n\t\"./uz-latn\": 32233,\n\t\"./uz-latn.js\": 32233,\n\t\"./uz.js\": 77967,\n\t\"./vi\": 98615,\n\t\"./vi.js\": 98615,\n\t\"./x-pseudo\": 12320,\n\t\"./x-pseudo.js\": 12320,\n\t\"./yo\": 31313,\n\t\"./yo.js\": 31313,\n\t\"./zh-cn\": 64490,\n\t\"./zh-cn.js\": 64490,\n\t\"./zh-hk\": 55910,\n\t\"./zh-hk.js\": 55910,\n\t\"./zh-mo\": 98262,\n\t\"./zh-mo.js\": 98262,\n\t\"./zh-tw\": 44223,\n\t\"./zh-tw.js\": 44223\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;"],"names":["AppComponent","constructor","config","ngAfterViewInit","favIcon","document","querySelector","href","getRaw","selectors","decls","vars","template","i0","BrowserModule","NoopAnimationsModule","EoCoreModule","EoClientModule","EoFrameworkCoreModule","ToastrModule","environment","AppModule","bootstrap","forRoot","declarations","imports","AboutStateComponent","backend","userService","componentName","componentVersion","productName","productVersion","getUserLang","backgroundImage","getDashboardBackgroundImage","headerLogo","getJson","subscribe","info","ctrl","product","name","productversion","user$","data","userLang","userSettings","clientlocale","trackByFn","index","item","consts","Utils","PictureWidgetComponent","PictureWidgetSetupComponent","TodoWidgetComponent","TodoWidgetSetupComponent","switchMap","listAnimation","SearchWidgetComponent","IframeSetupComponent","LastEditedAndCreatedComponent","IframeWidgetComponent","InfoIntrayWidgetComponent","InfoIntraySetupComponent","InfoInboxWidgetComponent","InfoInboxSetupComponent","UntilDestroy","untilDestroyed","DashboardComponent","onKey","event","which","selectStoredQuery","widgetGridRegistry","titleService","router","http","storageService","translate","capabilityService","storedQueriesService","gridConfig","rows","newItemWidth","newItemHeight","setDefaultTitle","setWidgetGridLabels","onWorkspacesConfigChange","c","saveWorkspacesConfig","updateWidgetGridLabels","widgetPickerTitle","instant","addWorkspaceTooltip","noopWidgetLabel","workspacesEmptyMessage","newWorkspaceDefaultLabel","workspaceRemoveConfirmMessage","workspaceEditDone","workspaceEditCancel","save","cancel","confirm","widgetTodoHeadlineLabel","widgetTodoTaskTitleLabel","registerWidgets","registerGridWidgets","label","setupComponent","widgetComponent","q","selectedQuery","onQuickSearchInputChange","term","quickSearchResult","onQuickSearchResult","result","Object","keys","groups","map","key","tree","getTreeNodes","onStoredQueryLoaded","navigate","outlets","modal","onStoredQueryExecute","evt","uriParam","encodeURIComponent","JSON","stringify","queryJson","uriParamQuery","queryParams","group","id","selectable","badges","value","count","ngOnInit","loadWorkspacesConfig","capabilities","getCapabilities","storedqueries","getStoredQueries$","pipe","queriesSubscription","storedQueries","queries","filter","favorite","sort","sortValues","setTimeout","toolbarVisible","getCurrentUser","toolbarVisibility","toolbar","hideToolbar","showToolbar","showDashboardButton","getElementById","addEventListener","hideOrShowOnClick","toolbarIconSrc","toolbarIconTooltip","style","display","saveToolbarState","workspaceOptions","workspaces","length","get","next","res","workspaceConfig","grid","forEach","widgetConfig","title","error","currentWorkspace","getItem","STORAGE_KEY","w","includes","saveChangeWorkspace","setItem","viewQuery","ctx","EventEmitter","Validators","wc","_widgetConfig","setupForm","patchValue","url","fb","maxLength","required","pattern","valueChanges","_","setWidgetConfig","valid","widgetConfigChange","emit","inputs","outputs","SafeUrlPipe","sanitized","transform","bypassSecurityTrustResourceUrl","pure","styles","inboxService","inbox","inboxState$","inboxState","prepareService","intray","preparedItemCount$","preparedItemsCount","searchService","systemService","size","total","lately","user","getLastModified","getLastCreated","filters","modifier","o","v1","fields","options","modified","order","executeQuery","modifiedByMe","hits","description","type","_source","getObjectType","creator","created","createdByMe","executeSearch","objectType","quickSearchEl","CommonModule","RouterModule","NotFoundComponent","SettingsComponent","LoginComponent","ResultStateComponent","FavoriteStateComponent","StoredQueriesStateComponent","ProcessStateComponent","NotificationsStateComponent","VersionStateComponent","PendingChangesGuard","AuthGuard","CapabilitiesGuard","UploadOverlayGuard","RecyclebinStateComponent","routes","path","component","canActivate","canDeactivate","redirectTo","pathMatch","EoClientRoutingModule","exports","FormsModule","ReactiveFormsModule","YvcMasterDetailsModule","YvcSplitViewModule","EoFrameworkModule","GridModule","InboxStateModule","ObjectStateModule","PrepareStateModule","YvcDropdownModule","YuvWidgetGridModule","HttpClientModule","YvcTabsModule","ngModule","parentModule","Error","CustomSortComponent","SetFilterComponent","_r4","_r6","_r2","selection","system","empty","pendingChanges","icon","text","className","setBaseTitle","hasContent","showActionsMenu","hasPendingChanges","hasPendingTask","refreshGrid","getFavorites","parseDmsParams","target","typeFilters","gridData","uniqueByType","uniqBy","getObjectTypes","typeFilterFields","t","assign","node","qname","resetFilters","updateGrid","emptyState","getEmptyState","eoGrid","isReady","updateRowData","colDefs","headerName","field","cellRenderer","textFilterParams","context","defaultValue","sortFields","sortColDefs","gridOptions","rowData","columnDefs","concat","rowBuffer","rowHeight","params","cr","render","createdTime","folder","remove","focused","getFocus","removeFavorite","favoritesGridData$","ngOnDestroy","clear","InboxStateComponent","InboxStateRoutingModule","forChild","InboxTypes","InboxTypesFilter","_r3","_r5","_r7","eventService","route","inboxSelection","createNew","inboxSelectionId","inboxDmsObjectSelectionId","defaultFilterParams","state","onCountChanged","rowCount","idMatch","disable","inboxChanged","getItems","refreshInboxState","itemFilterFields","acceptedAndUnacceptedCombined","inboxFilterFields","find","overdue","isOverdue","absent","acceptedTasks","accepted","unacceptedTasks","fieldFilters","undefined","valueGetter","p","colDef","match","Date","toISOString","rowSelection","shortDate","received","shortTime","duetime","titleClass","isdeputy","inboxItemsGridData$","lastInboxItemID","storageKeyLastItemID","i","selectFirst","selectRow","finalize","of","observableOf","EnvironmentEnaio","envService","sanitizer","cd","authService","cloudEnvironment","isCloud","bypassSecurityTrustStyle","native","isWebEnvironment","profiles","hosts","host","appLogo","snapshot","logout","returnUrl","currentLoc","location","substr","origin","prefix","substring","indexOf","replace","isLoggedIn","browserLang","getBrowserLang","use","login","loading","invalid","cloudLogin","form","tenant","username","password","urlToNavigate","present","showAbsentDialog","setAsPresentButton","nativeElement","focus","navigateByUrl","then","markForCheck","throw","closeShowAbsentDialog","setAsPresent","setPresence","EnaioEvent","catchError","EmptyStateService","dmsService","defaultEmptyState","getNotificationData","getNotifications","sub","reSub","removeNotifications","messagetype","val","trigger","DMS_OBJECT_DELETED","removeSubscriptionAndResubmissions","getDmsObject","dmsObject","removeResubmissionsById","catchSkip","err","status","removeSubscriptionById","subscriptions","typeFilter","objectTypeFilter","uniqueByMessageType","uniqByProperty","objectTypeFilterFields","toLowerCase","isfolder","due","on","DMS_OBJECT_UPDATED","removedEntries","entry","subscribedactions","s","push","resubmissions","gD","typeName","rEntry","updateRows","update","ObjectStateComponent","ObjectStateRoutingModule","tap","ReplaySubject","FieldDefinition","SearchResult","ObjectStateService","treeDataSource","asObservable","treeRefDataSource","listSource","selectFrontPage","_list","metaDataQuery","buildQuery","addSortOption","search","lastModified","a","filesize","reduce","acc","cur","slice","documentCount","totalFilesize","lastModifications","catch","updateTreeByQuery","objId","uri","loadTreeByQuery","treeRefData","treeData","_uri","postData","contextid","contexttype","targetid","targettype","mode","timezone","getTimezoneOffset","post","getContextBase","selectTreeNode","treeNode","sortorder","direction","toUpperCase","grouporder","pinned","dms","factory","forkJoin","debounceTime","PanelLoading","panelLoadingAnimations","objectState","actionService","gridService","layoutService","treeRef","list","details","onTermFilterChange","v","setupFrontPage","list$","frontPage","emptyGrid","gridTitle","configType","searchResult","tree$","buildContextTree","treeRef$","buildContextTreeRef","focus$","highlight","selectedItem","updateContextTree","DMS_OBJECT_PASTED","d","onExpandedNodesChanged","expandedNodes","expandedNodeIds","onTreeSelectionChanged","leave","selectedNode","enter","updateContext","isReference","allTypes","loadingState","termFilter","onContextMenuClicked","doc","preventDefault","stopPropagation","showActions","refreshList","process","selectedId","isContextFolder","cacheLayout","definition","types","fetchTreeData","contextFolder","updateSelection","updateTree","frontPageData","highlightedNodes","highlightNodes","isReferenceActive","contextTreeUpdate","f","addTreeNode","contextTreeRefUpdate","nodes","contextTree","contextTreeRef","nodeData","expanded","stats","children","selected","stat","cssClass","PrepareStateComponent","PrepareStateRoutingModule","ListContainerModule","removeItem","preparedItem","deletePreparedItem","updateList","changedItem","getPreparedItems$","selectedtype","parent","file","contentstate","contentcount","contents","preparedItems$","Process","RangeValue","SearchFilter","bpmService","appCache","modelFCN","runningFCN","pausedFCN","createdFCN","canceledFCN","failedFCN","completedFCN","startTimeFCN","startTime","modelName","entries","valueField","subEntriesField","processSelection","processSelectionId","fetchProcessModels","processModels","processModelsListObject","filterCacheKey","filterValue","initFilter","defaultFilterFormValue","sortCacheKey","sortParams","filterForm","operator","firstValue","secondValue","onPageChanged","initGrid","settings","VIRTUAL_LIST_CHUNK_SIZE","setValue","page","fetchRowData","startRow","successCallback","api","setRowData","Math","floor","getProcesses","processes","emptyState1","content","emptyState2","totalElements","buildUri","addFilterParamsToUrl","addSortParamsToUrl","getBpmBase","response","addIconUrl","getModelIdFromName","query","time","toDateTimeQuery","OPERATOR","EQUAL","GREATER_OR_EQUAL","LESS_OR_EQUAL","INTERVAL_INCLUDE_BOTH","v2","model","models","submodel","iconid","iconurl","iconId","modelname","starttime","endTime","endtime","hasError","hasNotYetBeenStarted","endTimeMarkup","startTimeMarkup","hasChanged","oV","nV","DMS_OBJECT_RESTORED_OR_DELETED","getRecycleBin","recyclebin","recycledTime","recycled","recyclesGridData$","notify","check","formDataParse","decodeURIComponent","clearAfterExecute","silent","searchTerm","open","openImmediately","onResult","onQueryInvalid","warning","LockSettings","NgForm","take","withLatestFrom","agentConfigKeys","ResultListComponent","renderer","capabilitiesService","agentService","cacheService","listSettingsService","elemRef","notification","history","layout","clientLocales","getClientLocales","getSchemaLocales","getUserData","agentLockSettings","alwayslock","isConnected$","agentConfig$","isConnected","useAgentControl","control","hasOwnProperty","AUTOCONNECT","showAgentConfig","LOCKSETTINGS","values","defaultLockSetting","isSSO","sso","agentStatus","activeSchema","getSchemaLocale","hasPrivilege","privilege","changeLockSettings","lockSettings","changeLockSetting","system$","systemDefinition","schemaLocales","locales","saveDeputies","setDeputies","deputies","deputiesForm","resetForm","resetDeputies","dataMeta","showChangePasswordForm","changeClientLocale","iso","getSupportedClientLocales","changeSchemaLocale","schemaLocale","userId","userImageUri","getUserImageUri","refreshUserImageHeaderBackground","showDeleteIconTrash","imageUri","b","closePreviewDialog","showPreviewDialog","profileImageOverlay","deleteUserImage","setUserImage","SYSTEM_STATUS_IMAGE_CHANGE","showDeleteDialog","cause","messages","selectImage","files","fileName","viewMode","showErrorDialog","MAX_FILE_SIZE","preview","reader","FileReader","onload","e","readAsDataURL","uploadNewUserImage","tabAction","input","blur","hoverSelector","mouseEnter","mouseLeave","trashIconClick","timestamp","getTime","toString","setStyle","headerBg","clearCache","actions","cache","clearSettings","COLUMNS_DEFINITION","fetchSystemDefinition","success","NavigationEnd","StoredQuery","first","TypeFilter","UtilitiesService","appSearch","select","deselectAll","clearFocusedCell","getStoredQuerys","storedQueries$","refreshStoredQueries","getRowIndex","rowNodeId","getRowNodeId","rowNode","getRowNode","rowIndex","notifyList","unselect","payload","favored","shared","isEmptyOrFalse","others","currentUser","own","favIconTitle","shareIconTitle","shareIcon","removeStoredQuery","createNewStoredQuery","query$","sq","setQuery","replaceUrl","events","urlAfterRedirects","DMS_OBJECT_VERSION_RESTORED","dmsItem","version","version2","_type","getVersions","versionItem","versions","findIndex","rowIndex2","userFilters","userFilterFields","CORE_CONFIG","BehaviorSubject","AgentService","coreConfig","logger","backendService","notifications","appCacheService","CONNECTED","AVAILABLE","UNAVAILABLE","isConnectedSource","agentConfig","getAgentConnectionStatus","getAgentConfig","storage","autoconnect","withCredentials","agent","_isConnected","setAgentStatus","connectagent","updateUserLocation","targetType","maxFiles","join","childType","getAgentBase","r","debug","openDocument","lock","put","by","me","other","sendMessage","downloadContent","documents","docs","copyToClipboard","call","sendAsMail","attachments","message","sendExternalAction","executable","args","action","getHost","window","ENAIO_PROTOCOL","SimpleFilter","AgUtils","SearchQuery","FileSizePipe","LocaleNumberPipe","LocaleDatePipe","FilesizeFilter","GridService","csvExportParams","columnSeparator","numberPipe","decimalSeparator","processCellCallback","column","getColDef","cellClass","RegExp","separator","escapeHtml","str","entityMap","String","qnameFormatter","qnameMatch","qname2","appSearchService","fileSizePipe","datePipe","CellRenderer","baseHref","mimetypegroupOpts","MIMETYPEGROUP_BUCKETS","k","typeOpts","defaultPosition","uiDirection","queryState$","Array","from","aggregations","viewport","eCenterViewport","scrollLeft","focusedCell","getFocusedCell","shiftKey","getSelectedNodes","getDisplayedRowAtIndex","cols","columnApi","getAllDisplayedColumns","colId","getCell","col","row","eGui","ensureColumnVisible","cell","chips","querySelectorAll","textContent","trim","getValue","isEmpty","altKey","classList","add","textArea","createElement","body","appendChild","copySuccess","execCommand","removeChild","openLink","newTab","windowURI","extras","el","parentClass","contains","getAttribute","parseInt","parentElement","getRouterLink","localName","openRouterLink","link","ctrlKey","getContext","getColumnDefs","elements","alignmentx","enableRowGroup","cachedColumns","getColumnDefinition","getResolvedDefs","meta","_value","resultField","groupFields","pinnedFields","alignmentFields","hitname","sortable","resizable","refData","selectedforenrichment","headerClass","addColDefAttrsByType","addColDefAttrsByField","filterParams","debounceMs","clearButton","newRowsAction","filterOptions","defaultOption","searchable","suppressMenu","sortField","groupFieldIndex","rowGroupIndex","pinnedField","position","cachedColumn","width","alignmentField","cellStyle","customContext","referenceCellRenderer","reference","param","refMeta","_references","metaValueGetter","stringCellrenderer","multiselect","multiSelectCellRenderer","addColDefAttrsByClassification","classification","linkCellRenderer","comparator","defaultComparator","dateTimeCellRenderer","withtime","getQuickFilterText","dateComparator","dateFilterValueGetter","withTime","inRangeInclusive","multi","defaultrepresentation","scale","grouping","numberCellRenderer","booleanCellRenderer","cellHeight","suppressMiniFilter","emailCellRenderer","urlCellRenderer","resultFieldName","typeCellRenderer","filesizeCellRenderer","fnc","mixin","titleFnc","mapFnc","fieldMeta","isArray","_date","activeRange","dateFrom","dateTo","IN_RANGE","date","_filter","gridOptionsWrapper","getFilterInstance","newParam","situation","noValueRenderer","numberCellRendererTemplate","getOperatorLabel","iconCellRenderer","iconUrl","getBaseWithContext","getServiceBase","dateTimeCellRendererTemplate","element","DmsObject","UNDOCK_WINDOW_NAME","PluginsService","currentUrl","getApi","applyFunction","startsWith","Function","split","apply","console","clipboard","appRef","ngZone","OPEN","MAIL","MAIL_AS_PDF","CLIPBOARD","CLIPBOARD_AS_PDF","EXTERNAL","detectChanges","tick","enaioEventType","run","session","getUser","getObject","getResult","dmsObjects","rendition","base","del","getConfig","viewer","triggerError","win","parameters","util","$","$$","head","setAttribute","innerHTML","encodeFileName","filename","notifier","set","getAvailability","getAgentAvailability","executeAction","executeAgentAction","agentAction","Promise","resolve","reject","agentAvailability","observe","toPromise","serviceBase","resObjects","handleError","intent","listSize","ErrorHandler","HTTP_INTERCEPTORS","AppSearchService","LocationService","SelectionService","LayoutService","ReferenceService","PendingChangesService","ErrorHandlerService","PageTitleService","providers","provide","useClass","HttpErrorResponse","HttpResponse","Router","TranslateService","AuthService","Logger","NotificationsService","EoError","injector","intercept","req","auth","currentRouteUrl","handle","isHttpErrorResponse","queryParamsHandling","notificationsService","warn","skipNotification","TypeError","EnaioErrorKeys","FAVORITE_TITLE_TOO_LONG","NavigationStart","disableCache","_disableCache","clearHistory","_history","CACHE_DISABLED_KEY","getLayout","UploadTarget","uploadRegistry","locationSource","LOCATION_HISTORY","h","locationHistory","loc","currentUploadTargets","contextTarget","uuid","CONTEXT","referenceObject","onUploadSuccess","treeNodeTarget","CONTEXT_TREE","subFolder","ut","register","activeLocation","addHistoryEntry","unregister","getHistory","reverse","getActiveLocation","isSameAsPrevious","HISTORY_SIZE","pop","lastEntry","treeLeaf","tasksSource","startTask","taskId","tasks","finishTask","some","confirmed","checkForPendingTasks","taskIds","removeTasks","task","bytes","log","parseFloat","pow","toFixed","sizes","stringToNumber","number","isNaN","KeysPipe","DatePipe","FormatWidth","getLocaleDateFormat","getLocaleDateTimeFormat","getLocaleTimeFormat","currentLang","lang","format","locale","diff","setHours","formatValue","Short","CurrencyPipe","DecimalPipe","PercentPipe","LocaleDecimalPipe","digits","LocalePercentPipe","LocaleCurrencyPipe","currencyCode","decimalPipe","updateSeparators","onLangChange","currLang","Number","NaN","numberToString","SafeHtmlPipe","PipesModule","bypassSecurityTrustHtml","mergeMap","getQueries","getOutReferenceQueries","getInReferenceQueries","outReferenceQueries","inReferenceQueries","getOutReferenceMetaDatas","metaData","createOutReferenceQuery","getInReferenceMetaDatas","refTypes","referencedType","createInReferenceQuery","getOutReferences","obs","outReferenceMetaDatas","promise","results","mergeQueryResults","metaDatas","mergedResult","hit","mR","outReferenceMetaData","remoteElement","suggest","searchmode","expertmode","arr","formElements","outReferenceFields","getOutReferenceFields","isAbstract","subTypes","getSubTypes","subType","groupField","elem","getInReferences","inReferenceMetaDatas","ob","superTypes","getSuperTypes","isReferenceOnSuperType","superType","typeDefinition","supertypes","sType","sT","fetchIDReferenceMetaData","authenticated$","authenticated","notFoundRoute","hasCapability","observableFrom","groupBy","SearchState","queryState","querySource","queryStateSource","setDefaultAggs","LOGOUT","reset","typesAllowedUnderSysroot","parenttypes","g","curr","otg","sortObjectTypeGroup","objectTypeGroups","resetAggs","lastAggCallComparator","aggs","isFolder","buildTypeGroupTree","gTree","isNewQuery","clearQuery","getQueryJson","toggleExpertMode","expertMode","lastQuery","__updateCause","UPDATE_CAUSE","TOGGLED_EXPERTMODE","aggregate","setTerm","TERM_SET","setQueryScope","scope","setAggs","extend","toggleQueryType","toggleType","TOGGLED_TYPE","BASE_PARAMS","TYPE","setQueryTypes","contextfoldertype","TYPES_SET","setContextType","contextFolderTypes","emitNewContextFolderType","CONTEXT_FOLDER_SET","toggleQueryFilter","override","toggleFilter","TOGGLED_FILTER","property","toggleQueryFilters","baseParam","addQueryFilter","addFilter","ADDED_FILTER","removeQueryFilter","removeFilter","REMOVED_FILTER","setIndexSearchQueryFilters","isBaseParamFilter","getIndexSearchQueryFilters","bpKey","aggQuery","getSearchState","lastChange","exitIndexdataSearch","autocomplete","getTargetTypeElementByName","formElementName","selectionSource","focusSource","_disabled","_focus","DEFAULT_TITLE","baseTitle","setTitle","providedIn","SimpleAccordionComponent","AccordionModule","_selected","toggleOpen","selectChange","hostVars","hostBindings","ActionComponentAnchorDirective","viewContainerRef","ActionMenuComponent","componentFactoryResolver","common","further","actionsShowing$","cmd","showMenu","show","showActionMenu","hideActionMenu","hide","getActions","getActionsList","actionsList","actionLists","actionListEntry","getMoreActions","actionList","hideActions","showActionDescription","actionDescription","catchFocus","isArrowUpOrDownPressed","activeActionIndex","clickedListEntry","onClick","subSelection","availableSelection","isSimpleAction","isListAction","isComponentAction","isExternalComponentAction","isWorkFlowAction","isSimpleActionOnly","simpleAction","listAction","subActionsListHeader","header","getExecutableActionsListFromGivenActions","subActionComponents","subActionsList","componentAction","showActionComponent","eoActionComponentAnchor","extComponentAction","extComponents","externalDialog","executableProcess","viewContRef","factoryResolver","showComponent","componentFactory","resolveComponentFactory","anchorViewContainerRef","componentRef","createComponent","instance","canceled","onCancel","finished","onFinish","isLinkAction","getLink","getParams","observableForkJoin","InjectionToken","SelectionRange","WorkflowActionComponent","CustomActionsComponent","SimpleWorkflowActionComponent","WorkflowComponent","ACTIONS","CUSTOM_ACTIONS","ActionService","custom_actions","_componentFactoryResolver","actionsShowingSource","allActionComponents","isSubAction","disabled","workflowActionClass","customActionClass","simpleWorkflowActionClass","ac","isAllowedType","collectProcessActions","collectCustomActions","enableWorkflow","getExecutableProcessesForDmsObjects","all","actionComponent","createExecutableActionListEntry","getCustomActions","customActions","customAction","actionsRef","targetActionsList","observables","isExecutable","available","actionListEntrys","isRangeAllowed","allActionsList","itemsCount","range","SINGLE_SELECT","MULTI_SELECT","MULTI_SELECT_ONLY","items","rejectedType","disabledType","WorkItem","InboxItem","PreparedItem","ActionTarget","DMS_OBJECT","INBOX_ITEM","PROCESS_ITEM","PREPARED_ITEM","WORK_ITEM","STORED_QUERY","DmsObjectTarget","InboxItemTarget","ProcessItemTarget","PreparedItemTarget","WorkItemTarget","StoredQueryTarget","ANALYZE_FOR_ENTRY_COMPONENTS","PreventDoubleClickDirective","UiModule","CopyActionComponent","OpenContextActionComponent","DownloadActionComponent","OpenDocumentComponent","OpenDocumentActionComponent","ObjectFormModule","EmailActionComponent","ClipboardActionComponent","FavoriteActionComponent","DeleteActionComponent","DeleteComponent","OpenVersionsActionComponent","RestoreVersionActionComponent","DeletePreparedActionComponent","AddSubscriptionComponent","AddSubscriptionActionComponent","FormElementsModule","RemoveSubscriptionActionComponent","CtaModule","AddResubmissionActionComponent","AddResubmissionComponent","UpdateResubmissionActionComponent","ShareObjectActionComponent","ShareObjectComponent","CutActionComponent","FinalizeActionComponent","DefinalizeActionComponent","DeleteContentActionComponent","UnlockActionComponent","ProcessFormModule","FinalizeObjectActionComponent","DeleteContentComponent","SignatureActionComponent","SignatureComponent","CancelSigningActionComponent","CancelSigningComponent","YvcDatepickerModule","YvcAutofocusChild","DownloadObjectActionComponent","ClipboardObjectActionComponent","EmailComponent","entryComponents","ActionModule","components","useValue","isAllowedState","isFinalized","disabledStates","features","encapsulation","hasEmail","email","createResubmissionForm","addResubmissionForm","titleFieldFCN","createTitle","dueFieldFCN","inboxCbFCN","emailCbFCN","validator","compose","notificationMethodValidator","dueDateValidator","controls","setValidators","setFormValues","onlyemail","patchForm","titleValidity","dueDate","now","dateValidation","errors","dateValidationError","touched","dirty","notificationMethodValidation","notificationMethodValidationError","notificationMethod","createResubmission","sendEmail","onlyEmail","processing","createTasks","updateResubmission","updateTasks","removeResubmission","dueFieldLabel","titleFieldLabel","inboxCbLabel","emailCbLabel","titleField","getElementsByTagName","SubscriptionMode","includesFolders","includesDocuments","addSubscriptionForm","modeFieldFCN","ONLY_INDEX_DATA_CHANGED","DMS_OBJECT_CHANGED","titleFieldControl","subscriptionModeCodesystem","ONLY_DOCUMENT_CONTENT_CHANGED","createSubscription","signingService","signingInProcess","hasEditRights","rights","edit","FormControl","FormGroup","toast","commentLabel","cancelSigningForm","commentField","addControl","commentValidity","cancelSigning","comment","cancelling","linked","runLink","urlPrefix","clipboardText","runOriginal","runPdf","showDescription","showDescriptionOrginal","showDescriptionPdf","showDescriptionLink","ClipboardAction","COPY","lodash","moment","act","_action","pluginService","objects","isexecutable","executableFkt","runCustomActions","script","CUT","isLocked","recycle","delete","enabledStates","deleteDmsObject","force","hardDelete","showForceDeleteDialog","successMessage","deleting","isExpired","dateString","getDmsObjectByParams","withStorageInfo","latestRetentionTime","storageInfo","retention","localeCompare","retentionTime","minFiles","removeContent","isVersionState","allowedItemType","mimegroup","subject","endsWith","suffix","favorites","isFavorite","createFavorite","DMS_OBJECT_FAVORITE_ON","removeFavoritesForTarget","DMS_OBJECT_FAVORITE_OFF","definalize","isNotAlreadyOpened","isNotInObjectState","objectFormHelperService","checkoutLabel","checkout","elementToFormControl","classic","agentAlwayslock","checkbox","itemConditions","oneVersion","isActiveVersion","restoreVersion","shareable","orgaFieldFCN","includeChildren","orgaLabel","orgaValue","shareChildren","shares","avObject","sharechildren","shareForm","_shareMessage","_getShareWith","share","unshare","signatureRequested","isAllowedMimeType","isAllowedObjectType","mimetype","toaster","defaultSignatureType","signatureTypeStorageKey","signingForm","yuvsigemailsubject","yuvsigemailbody","yuvsigtype","yuvsigners","headerTitle","headerDescription","signingFormListener","onIndexDataChanged","getInfo","signatureTypesEnabled","yuvsigtypeCodesystem","getCodesystem","maxSigners","defaultEmailSubject","defaultEmailBody","saveForm","processingRequest","signers","signerName","yuvsignername","signerEmail","yuvsigneremail","signerOrder","yuvsignerorder","signerPhone","yuvsignerphone","signingData","emailSubject","emailBody","signatureType","signDocument","finish","finishPending","dialog","visible","pendingTaskIds","startPending","getLocalizedForm","phoneRequired","getLocalizedSigningForm","unsubscribe","_executableProcess","startProcess","formOptions","formModel","obj","formData","bpmForm","getFormData","processName","transition","animate","stagger","opacity","optional","AppAddDialogComponent","locationService","prepare","isRootType","pid","locationParent","createPreparedItem","onClose","autocompleteFn","autocompleteRes","autocompleteList","onSelect","isSubfolder","addToSubfolder","preparedItemData","typeElement","subfolder","updatePreparedItemIndexData","fetchRootTypes","getPrepareRootTypes","rootTypes","sortTypes","createAutocompleteList","locationTypes","fetchAllowedChildTypes","getPrepareChildTypes","truncateString","isSubFolderAllowed","subFolderDescription","lt","implementsType","activeLocationSubscription","activeLocation$","AppAddComponent","close","UserAvatarComponent","AppBarComponent","logo","getNavigationBarImage","sidebarShow","unreadmessages","sendNotification","SYSTEM_STATUS_INBOX_CHANGED","setIconTitles","openDashboard","openInNewWindow","getDocumentation","docu","updateOnSchemaChange","SCHEMA_LOCALE_CHANGED","getExecutableProcesses","exeActions","hasMainExecutableProcesses","onToggleProfileOverlay","iconTitles","exeactions","profile","about","Notification","permission","initNotification","requestPermission","initNotificationClickListener","pageVisible","fullPath","currentRoute","pathToNavigate","initVisibilityChangeListener","AppProcessComponent","selectProcess","selectedProcess","parse","processForm","executeProcess","startProcessWithFormData","cancelDialog","formReset","Subject","pluck","TemplateRef","ContextType","ctx_r106","AppSearchComponent","storedQuery","overlay","baseParams","selectedGroup","selectedType","sysroot","contextFormOptions","expertModeSupport","aggregationsModel","CREATED","TIME_PERIOD_BUCKETS","MODIFIED","MIMETYPEGROUP","FILESIZE","FILE_SIZE_BUCKETS","onTabChange","tabId","activeTabId","mimetypegroup","processQuery","currentContextFolderName","isStoredQuery","isOwnQuery","processFilters","idxSearch","contextFolderType","updateSearchFilterFromFormData","updateCausedByTypeToggle","indexdataSearch","typeGroupTree","queryScope","selectObjectType","queryTypesLength","queryTypesLengthAndName","rT","contextModels","sysRootContext","allowedcontexttypes","toFetch","contextType","getObjectTypeForm","formModels","addContextModel","m","selectContext","idxFilters","processQueryState","contextAggregations","buildContextAggregations","Map","syncAggregations","RANGE","IN","ff","filtersModel","multiValue","innerValue","CREATOR","MODIFIER","renderFilter","agg","aa","isFilterActive","saved","createDateRestriction","resolveLabel","l","resolveSelection","resetExpertModeInput","changeSearchInputFocus","xpSelectGroup","xpSelectType","xpAddToTerm","expertInput","isTypeActive","isTypeSaved","getAggregationCount","buildFilter","filterType","setFilter","activeFilter","duplicate","PARAMS","folderFilter","resetFilter","autocompleteSuggest","autocompleteSelect","autocompleteResults","expertTermChanged","expertModeQueryEmpty","autocompletePaste","triggerSearch","resolveReference","formDataStringify","_overlayRef","removeTerm","removeType","removeContextType","indexdataForm","setFormData","setContext","contextFolderName","indexdataChanged","contextForm","getSearchFilter","getObjectTypeElementLabel","ot","saveQuery","create","updateStoredQuery","saveStoredQuery","resetQuery","closeSearchMenu","focusSearchInput","searchInput","selectRootElement","querySubscription","queryStateSubscription","focusInput","tplSearch","centered","afterClosed$","ContextSearchComponent","isSelected","isDisabled","noResults","settingContext","SideBarComponent","setBackgroundImage","getSideBarHeaderImage","eoOutsideClick","ngContentSelectors","outlet","AppShellRoutingModule","EoSharedModule","ShortcutsModule","UtilModule","YvcAutocompleteModule","YvcDialogModule","EoAppShellModule","CtaComponent","active","ErrorModule","FrameComponent","DuetimeInfoComponent","InboxDetailsComponent","MediaModule","ObjectDetailsModule","ObjectStateDetailsComponent","PluginsModule","PrepareContentExistsInfoComponent","PrepareDetailsComponent","ProcessDetailsComponent","ProcessHistoryComponent","ProcessFileComponent","QuickSearchModule","ResultListModule","SettingsModule","StoredQueryModule","TreeModule","UploadOverlayComponent","Error404Component","forwardRef","NG_VALUE_ACCESSOR","CheckboxComponent","propagateChange","writeValue","registerOnChange","fn","registerOnTouched","onChange","tristate","readonly","useExisting","NG_VALIDATORS","CodesystemComponent","selectedNodes","n","_selectedNodes","structuredClone","filterFunction","func","_filterFunc","buildTree","disablingFilterFunction","_disablingFilterFunc","_getCodesystemByQname","cs","codesystem","onAutoCompleteSelect","wasInvalid","isValid","setFormControlValue","onAutocompleteValueChange","onAutoCompleteUnselect","sNode","onClear","forcePropagation","changed","every","curVal","autocompleteValues","parentNode","codesystemEntry","csEntryToTreeNode","subentries","checkSelected","isHidden","allowedonnew","allowedonupdate","acNode","allelementsselectable","showDialog","detail","validate","DateComponent","_setLabels","_sub","registerOnValidatorChange","validationChange","onValueChange","formatDate","labels","calendarApply","calendarCancel","shortcut","today","YearRangeDirective","onKeyDown","year","rangeMin","rangeMax","selectedYear","_selectedYear","DatetimeRangeComponent","createForm","rangeForm","dateValue","dateValueFrom","onFormValueChange","_setValue","searchOption","swapInputs","emitEvent","availableSearchOptions","fV","sV","datecontrol","daterange","hostAttrs","DynamicListComponent","listObject","lo","sn","descriptionField","listEntry","listEntryToTreeNode","isTreeNodeValueInValue","selectedNodeThatHasValue","sN","dynamiclist","YvcCheckboxModule","YvcChipsModule","YvcIconModule","FormInputComponent","InputFocusDirective","IdReferenceComponent","ReferenceFinderEntryComponent","ReferenceFinderComponent","NumberRangeComponent","NumberComponent","OrganizationComponent","PasswordComponent","ReferenceComponent","StringComponent","_label","isNull","toggled","iv","isInvalid","isRequired","toggle","skipToggle","onToggleLabel","onFocusIn","addClass","formInput","onFocusOut","removeClass","fadeInOut","innerValues","_innerValues","dataToRender","ref","referenceType","tooltipTypeHint","createTooltipTypeHint","clipboardService","referenceService","clipboard$","visibleDialog","selectionDisabled","containsIncorrectTypes","containsIncorrectContext","contextId","clipboardElements","refType","cbEl","paste","linkDmsObject","updateInnerValues","iV","newValues","newInnerValues","queryFilters","withcontext","highlighting","objectTypesFilter","contextfolderid","createResultFromResponse","onAutoCompleteBlur","autoCompleteInput","clearInput","selectedAble","selectReference","marked","ElementRef","markedItem","_markedItem","scrollItemIntoView","currentSelection","_currentSelection","clipboardItems","referenceFinderService","generateReferenceItemsFromDmsObjects","resultList","clipboardOpen","searching","searchTerm$","findReferences","exceptionIDs","generateResults","loadingReferences","disableAdd","selectedItems","copyOnly","searchOnly","selectAllEntries","selectOnMultisSelect","selectOnSingleSelect","generateSeletecItems","addItems","addDmsObjects","toArray","scrollIntoView","ReferenceFinderService","referencesLoader","searchReferences","searchText","createResultList","generateResultElement","getReferenceUrl","createUrlTree","selCB","cS","searchRes","UntypedFormGroup","UntypedFormControl","numberValue","numberValueFrom","fromVal","toVal","numberrange","_scale","min","precision","_precision","_grouping","_pattern","validationErrors","prePointDigits","translateKey","translateValues","prepointdigits","unformat","ret","_readonly","dM","currentUserId","buildAutocompleteUri","activeonly","filterObject","roles","resolveFn","propagate","onDataMetaChanged","minLength","wildCard","exceptions","removeCurrentUser","getOrganizationObject","onValueResolved","onUnselect","clearInnerInput","ngAfterContentChecked","passwordVisible","showPassword","placeholder","canChangepasswordVisiblety","tranformValue","valueIsArray","Set","autocompleteResult","onKeyUpEnter","getItemLinkParams","autoCom","_autocomplete","formatedValue","formatMailTo","_validate","onBlur","trimValue","lengthBefore","getSearchBase","validateClassification","string","test","regex","multiline","autofocus","unloadNotification","$event","isMobileEnvironment","labelKey","nameKey","onExecuteAction","primary","adjustView","transparentBar","dir","rootTarget","ROOT","isObjectState","noBar","noHeader","transferArrayItem","combineLatest","ctx_r14","ColumnConfiguratorComponent","resetDefault","removeResultFieldDefinition","configContext","toggleConfigMode","saveConfig","asDefault","currentFields","confmeta","saveResultFieldDefinition","initConfig","loadDefaults","createConfigInfo","fetchResultFieldDefinition","current","sortEntry","pinnedEntry","alignmentEntry","isDefaultConfig","originalFields","columns","isVisible","availableFields","markItem","drop","previousContainer","container","previousIndex","currentIndex","refresh","onConfigChanged","togglePrevent","toggleSort","toggleAlignment","togglePinned","ngOnChanges","changes","AsyncSubject","opts","_sortFields","settingsService","setupSettings","isActive","CustomEvent","change","saveSettings","setSortModel","EmptyComponent","AbstractFilterComponent","newValue","oldValue","filterChangedCallback","agInit","doesExternalFilterPass","doesFilterPass","getModel","setModel","afterGuiAttached","TextFilterComponent","CustomFilterComponent","allFilters","bind","isExternalFilterPresent","onFilterChanged","setupFilter","textFilters","setFilters","contentQueries","_options","prop","u","getProperty","array","opt","onSearchChange","html","DOMParser","parseFromString","documentElement","hidden","searchLimit","matchFields","getSavedFilters","filterTerms","rowValue","everyTermFound","focusout","savedInboxFilter","savedFilters","saveFilter","changeSavedInboxFilters","enableSave","PaginationComponent","pagination","pages","ceil","relation","pagingForm","max","isGreater","onPagingFormSubmit","goToPage","pageChanged","QuickFilterComponent","ResetFilterComponent","ListSettingsService","idKey","valueKey","storedSettings","TotalCountComponent","ngAfterContentInit","eoGridCountChanged","gridCount","EoDialogComponent","CodesystemFilterComponent","applyButton","pickerTitle","EO_DIALOG_STACK_CHANGED","isMenuVisible","popupService","popupList","DateFilter","createCondition","prototype","dateCompFrom1","dateComp","_frameworkComponentInstance","serialize","DatetimeFilterComponent","filterInstance","getDate","getCondition1Type","onDateChanged","setDate","DynamicListFilterComponent","columnController","gridColumns","menuVisible","NumberFilter","simpleFilterParams","ListFilterComponent","gridApi","OrganizationFilterComponent","GridFilter","filterTo","op","GREATER_THAN","GREATER_THAN_OR_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","CONTAINS","STARTS_WITH","ENDS_WITH","ClientSideRowModelModule","RowGroupingModule","GridComponent","_gridOptions","pinnedColumn","contextCount","contextRelation","copyCellHandler","agDateInput","suppressMovable","suppressNavigable","suppressPaste","suppressSizeToFit","image","animateRows","headerHeight","rowDeselection","multiSortKey","accentedSort","suppressContextMenu","overlayLoadingTemplate","overlayNoRowsTemplate","localeTextFunc","gridKey","loadingMessage","tasks$","suppressCellSelection","colResizeDebouncer","eoGridColumnResized","calculateDebouncer","calculateRowCount","loaderContent","enableRtl","totalCount","forEachNodeAfterFilter","focusedRowID","updateFocus","_gridCount","filterActive","setFocusedCell","onCellClicked","eoGridCellClick","onCellDoubleClicked","eoGridDoubleClick","onMouseDown","button","getRow","stopImmediatePropagation","onCellFocused","focusedNode","eoGridFocusChanged","eoGridContextMenuClick","onSelectionChanged","selectionLimit","eoGridSelectionChanged","onColumnResized","onModelUpdated","onReady","sizeToFit","sizeColumnsToFit","onQuickFilterChanged","setQuickFilter","clearSelection","setSelected","scrollToRow","ensureIndexVisible","selectRowById","setColumnDefs","processSoftData","__removed","__updated","splice","applyUpdate","lastFocusedCell","redrawRows","lastFocusedIndex","getAllGridColumns","getColId","getFilterModel","isEmptyRows","refreshView","AgGridModule","DragDropModule","EO_LICENSE_GRID","withComponents","Autowired","Bean","NumberSequence","PostConstruct","RowNode","GroupStage","postConstruct","usingTreeData","isTreeData","getDataPath","getDataPathFunc","execute","createGroupingDetails","transaction","handleTransaction","afterColsChanged","afterColumnsChanged","shotgunResetEverything","sortGroupsWithComparator","rootNode","selectableService","updateSelectableAfterGrouping","changedPath","rowNodeTransaction","rowNodeOrder","groupedCols","getRowGroupColumns","isGrouping","usingTransaction","exists","includeParents","isSuppressParentsInRowNodes","expandByDefault","isGroupSuppressRow","getGroupDefaultExpanded","pivotMode","isPivotMode","groupedColCount","tran","insertNodes","moveNodesInWrongPath","removeNodes","sortChildren","forEachChangedNodeDepthFirst","sortRowNodesByOrder","childrenAfterGroup","getDefaultGroupSortComparator","recursiveSort","doSort","leafGroup","childNode","getExistingPathForNode","pointer","rowGroupColumn","childNodes","addParentNode","infoToKeyMapper","oldPath","newPath","getGroupInfo","nodeInCorrectPath","compareArrays","moveNode","removeNodesInStages","insertOneNode","setData","newParent","leafRowNodes","removeNodesFromParents","postRemoveCreateFillerNodes","postRemoveRemoveEmptyGroups","forEachParentGroup","child","callback","nodesToRemove","batchRemover","BatchRemover","nodeToRemove","removeFromParent","removeFromAllLeafChildren","flush","replaceWithGroup","hasChildren","newGroupNode","findParentForNode","allLeafChildren","childrenMapped","checkAgain","groupShouldBeRemoved","mapKey","getChildrenMappedKey","parentRowNode","groupAlreadyRemoved","isEmptyRowGroupNode","removeFromChildrenAfterGroup","removeFromArray","setRowTop","addToParent","areGroupColsEqual","d1","d2","skipStage","oldGroupingDetails","newRowNodes","isMove","parentGroup","swapGroupWithUserNode","level","nextNode","groupInfo","getOrCreateNextNode","fillerGroup","userGroup","groupData","createGroup","groupNode","wireBean","groupDisplayCols","getGroupDisplayColumns","displayGroupForCol","isRowGroupDisplayed","getId","groupIdSequence","isExpanded","setAllChildrenCount","getGroupInfoFromCallback","getGroupInfoFromGroupColumns","doOnce","groupInfoMapper","groupCol","valueService","getKeyForNode","keyExists","__decorate","getSet","allSets","allParents","nodeDetails","ModuleNames","moduleName","beans","_item","isOverDue","workItem","locked","applySelection","out","dataType","closed","defaultWorkItemAction","code","TYPE_BPM","createBPMWorkItem","onFormStatusChanged","formState","pendingTaskId","loadError","initializing","TYPE_SUBSCRIPTION","createDMSItem","TYPE_RESUBMISSION","dmsType","actionTitle","openWorkItemContent","getWorkItem","sourceId","addDefaultActionIfEmpty","setupWorkItem","setFormOptions","transformActions","updateInboxSate","transformedActions","feasible","feasibility","lockWorkItem","actionProcessing","unlockWorkItem","executeWorkItemAction","preventClickThrough","bpmFormEl","saveWorkItem","openActionUrl","forwardWorkItem","selectedContentFileId","openWorkItemContentInContext","fileType","addFromClipboard","addFileElementsFromClipboard","removeWorkItemContent","removeFileElement","processId","saveWorkItemData","prepareNewWorkItem","confirmInboxItem","INBOX_ITEM_CONFIRMED","workItemIndexdata","getProcessHistory","editor","trackByCode","trackById","trackByIndex","in","ListContainerComponent","contentGrid","eoGridSubject","complete","onFocusChanged","onDoubleClick","openObject","selectedData","onContextMenu","applyVersion","loadObject","ContentPreviewService","undockWin","src","closeWin","getUndockWin","undockWinActive","mapLang","PopoutTriggerPosition","fromEvent","MediaComponent","setAttachments","attachmentsShown","setSearchTerm","previewUri","_previewUri","toggleViewer","previewFile","getViewer","mediaType","mediaTypeName","popoutWindowConfig","_setPopoutWindowConfig","_dmsObject","dmsObjectTitle","attachmentsLoading","getPreview","useVersion","uriPdf","MediaComponent_1","PDF_VIEWER","slideUri","getSlide","getAttachments","pluginsService","BOTTOM_RIGHT","SIZE_LIMIT","customConfig","defaultViewers","resolveUri","winInset","blockStart","inlineStart","screen","height","selectAttachment","attachment","loadDocument","isVideo","defaultViewer","VIDEO_VIEWER","fileExtension","mimeType","matchMT","matchFE","pathPdf","load","theme","latestUri","iframe","iframeInit","searchPDF","PDFViewerApplication","appConfig","findBar","findField","highlightAllCheckbox","checked","caseSensitiveCheckbox","initializedPromise","dispatchEvent","preventDropEvent","DragEvent","_init","setApi","contentWindow","resolveViewerParams","YvcPopoutModule","ctx_r1","EditIconComponent","editOriginalContent","fetchAgentAlwayslock","FavoriteIconComponent","tooltip","toasty","onSave","onRemove","generateSuggestedName","favNameInputElement","pre","onError","callerinput","val1","Shortcut","Tabs","ObjectDetailsComponent","panelOrder","po","_panelOrder","_checkCapabilities","isRef","_emptyState","dmsParams","showLoader","loadDmsObject","onHasError","dmsParams2","dmsObject2","isDifferent","onIndexDataSaved","DMS_OBJECT_LOADED","enableCompare","uploadTarget","lockTooltip","subscriptionIconTooltip","createSubscriptionIconTooltip","item2","configService","OBJECT","getDmsParams","hasStatus","updateContent","selection$","refreshContent","prepareIndexDataPreview","contentFileName","contentFileSize","indexDataPreview","baseparams","createdOn","modifiedOn","createdBy","modifiedBy","mimeGroup","digest","contentId","nodmsobject","downloadOriginalContent","indexDataPreview2","baseparams2","onCompareTabChange","enableSync","tabContainers","selectedTab","selectById","referenceTitle","isJournalObject","modes","subscription","subscribedToAllChanges","subscribedToMetaChangesOnly","subscribedToContentChangesOnly","signing","master","slave","splitTabConfig","tabs","secondary","createLocalCopyOfDMSObject","ObjectHistoryComponent","ObjectLinksComponent","HistoryFilterPipe","HistoryFilterComponent","YvcSplitTabsModule","RecyclebinDetailsComponent","performer","lastname","firstname","parameter","activityName","leaf","filterterm","termChange","typeinput","hasFilter","onToggleFilter","visibleFilter","historyObj","_params","fetchHistory","completeHistory","reversedRes","init","prepareGrid","nodeA","nodeB","groupRowInnerRenderer","groupUseEntireRow","groupDefaultExpanded","gridName","gridOptions2","gridCore","generateLinkUrl","searchIcon","linkUrl","createSuperQueryFromQueries","mergedTerm","switchListVisibilityTo","showInReferences","showOutReferences","inReferences","outReferences","gridIn","gridOut","superQuery","superQueryParams","filterName","createSuperQueryTermPart","reservedChars","char","indexName","getIndexNameByQName","indexname","getViaCache","ObjectFormComponent","ObjectFormEditComponent","saving","createObjectForm","notication","formSuccess","formError","objectForm","focusForm","ignoreConflicts","updateObject","updatedObject","object","setFormPristine","indexDataSaved","conflictError","openConflictDialog","showConflictDialog","closeConflictDialog","showConflictChanges","navigationExtras","dmsobject","cancelSaving","addExceptionIDsForIDReferenceFields","objectId","formDisabled","isEditable","SearchService","FormValidation","ObjectFormControl","ObjectFormControlWrapper","ObjectFormGroup","ObjectFormScriptingScope","ObjectFormHelperService","buildReactiveForm","formScriptService","isInnerTableForm","_scope","gCount","initialValidators","formGenResult","formControls","controlValueSubscriptions","scriptingScope","scriptModel","_dataToForm","_getScriptingModelChanged","_addFormControl","_initValidators","_initScriptingScope","formElement","wrapper","formSituation","_eoFormControlWrapper","controlName","controlDisabled","formControl","getValidators","isNotSetValue","_eoFormElement","extractFormData","initialData","isTableRowEditForm","extractedData","getElementValues","fc","setDataValue","controlKey","formControlKeyed","useName","_eoFormGroup","applyFilter","applyDisablingFilter","setList","setQueryFilters","queryFiltersObject","objectTypes","desc","controlWatch","_getDataMeta","modelChanged","_setElementValues","_hasValue","_getValue","_fetchMetaData","toRangeValue","tableFiltersToElementValue","_getTableFilters","filterToElementValue","propertyName","_getValidators","updateValueAndValidity","elmValidators","customScriptingValidation","scriptName","runFormScript","formControlName","_processArrayValueChange","markAsDirty","markAsTouched","enable","onrowedit","onchange","newVal","dataToBeProcessed","_updateArrayValue","FormElementTableComponent","RowEditComponent","FormElementComponent","ObjectFormGroupComponent","FormElementTemplate","CsvExportModule","ctx_r30","cacheLayoutKey","BASE_CACHE_LAYOUT_KEY","_cachedColumns","_cachedColumnsOverlay","showPreview","gridReady","_elements","createColumnDefinition","minWidth","actionsCellRenderer","overlayGridOptions","suppressMovableColumns","enableFilter","suppressNoRowsOverlay","suppressLoadingOverlay","tableComponent","rowClassRules","isNewRow","suppressRowClickSelection","rowEdit","div","clearIcon","clearRow","deleteIcon","deleteRow","selectEditRow","_situation","addRow","asyncFetches","defaultvalue","defaultvaluefunction","getDefaultValue","resolveOrgDataMeta","setEditRow","elementName","editRow","onEditComplete","editingRow","tableElement","ensureNodeVisible","updateTableValue","cancelRowEdit","updateRow","rowResult","createNewRow","copyRow","nextIndex","exportCSV","exportDataAsCsv","openDialog","validateTableData","table","click","onSortChanged","columnsDefinition","actualWidth","togglePreview","hasPreviewFile","FormElementTableComponent_1","ObjectFormScriptService","_showDeleteDialog","confirmDeleteButton","_row","queryEnabled","copyEnabled","saveEnabled","deleteEnabled","unsubscribeAll","_buildRowEditForm","formHelperService","createNewCheckbox","_getObservedScriptModel","_getFormData","editForm","onFormReady","persisted","currentFormData","idxChange","formGenRes","ctrls","core","editFormControls","formStateWatch","statusChanges","saveCopy","onSaveCopy","onDelete","propertyType","elementSetter","formElementRef","labelToggled","addDataToRender","minlen","maxlen","fetchTags","toggleClass","organizationDataMetaResolved","tag","tpls","elementTemplates","contentElementTemplates","tpl","elementTemplate","eoformScript","__eoFormElement","STACK","GROUP","FIELDSET","groupd","isCore","isData","groupType","getGroupType","getObjectFormGroup","getObjectFormControlWrapper","noGroupLabels","parentIsStack","parentFormElement","HttpHeaders","formScriptFunction","defineFunction","formScriptReturn","importGlobalScriptsAndCallInit","SyntaxError","alert","uses","globals","resolveGlobalScript","globalReturns","scriptReturn","requestOptions","headers","responseType","globalScript","onScriptingModelChange","isTableRowScope","ScopeElement","originalElement","cloneDeep","isProxyable","createProxy","isProxy","handler","previousValue","hasValueChanged","Proxy","value1","value2","createEntryWithoutMetadata","entryWithoutMetadata","aliases","defaultFormOptions","elementRef","cdRef","initOptions","formToData","markAsPristine","emitFormChangedEvent","getObservedScriptModel","formWatch","compare","statusChanged","_visible","dataId","visibility","onFocus","onRemoveModification","notSeenTab","notModified","seenItems","seen","ObjectStateDetailsComponent_1","LAST_SEEN_LIMIT","selectFrontPageDoc","ls","PluginDirective","PluginComponent","loadByType","eoPlugin","loadById","TabPluginComponent","loadTabs","SidebarPluginComponent","_links","loadLinks","ENTRY_COMPONENTS","ENTRY_LINKS","PluginService","links","loadComponent","plugin","matchType","_content","queryParam","ctx_r46","objectToStringifiedValueArray","isProcessingAllowed","_preparedItem","showContentDeleteDialog","_showContentDeleteDialog","confirmContentDeleteButton","capabilites","subtitle","tags","prepareFormContent","selectedTypeObject","commit","openLocationAfterCommit","committing","commitPreparedItem","getSelectedTypeObject","onCommit","uniquefields","onItemRemove","removeItemContent","deletedContentIndex","deletePreparedItemContent","updatedItem","getFileNames","updateChildType","updatedPreparedItem","onItemChanged","addTemplate","selectTemplate","selectedTemplate","selectedTemplateFile","getTemplatePreviewUri","setPreviewUri","preparePhase","getPreviewData","noFile","initPreparePhase","PHASE_INDEXDATA","upload","fileChangeListener","uploadInProgress","uploadContent","getPreparePhase","PHASE_TYPE","PHASE_CONTENT","createTemplate","getTemplates","templates","fileRequired","withoutFile","setupTitle","tagFilterOptions","createTagFilterOptions","phase","chooseTemplate","typeselectedallowed","previewIndex","getPreviewUri","typeObject","parentType","showTemplateSelector","download","hasTemplateCapability","trackByIdFn","trackByIndexFn","ProcessFormComponent","onSaveForm","TranslateModule","getOrganizationObjectById","creatorid","processid","tasksResult","organisation","getProcessFile","openProcessItemContent","setFile","onDmsItemSelected","elementid","addPastedProcessFile","processFile","_processFile","permissions","_permissions","defaultFileEntryPermissions","PROCESS_FILE_CHANGED","onOpenWorkItemContentInContext","onOpenWorkItemContent","onPasteProcessFile","onRemoveWorkItemContent","hasAlreadyAllCopiedFiles","attachmentIds","editable","QuickSearchComponent","Observable","searchForm","onInputChange","resultGroups","resultTypes","resultsAvailable","aggTypes","lastTerm","invalidTerm","showResults","ctrlClicked","URLSearchParams","restoreFile","openLocationAfterRestore","restore","SortOption","ctx_r18","invalidQuery","_query","defaultQuery","getResultFieldDefinitionConfig","getChunkedResult","querySubtitle","_fields","_result","processResults","resolveReferencesCsv","resolveReferencesCsvThreshold","ResultListComponent_1","onRefresh","visibleConfig","totalHits","limitedList","searchMode","hasGridOptions","resultGridOptions","postfixSort","sortModel","getSortModel","filterModel","updateQuery","sortOptions","DEFAULT_SEARCH_MODE","executeSuggestSearch","resultHasReferences","ignoreThreshold","showWarnExportCSVThresholdDialog","csvLoadingSpinnerVisibility","downloadCsvFromQuery","datasource","savedSearchClicked","ChangePasswordFormComponent","amount","generateForm","changePasswordForm","currentPassword","confirmPassword","newPasswordValidator","matchingPasswordsValidator","onChanges","passwordValidation","validatePassword","matchingPasswords","showPasswords","passwordIsVisible","passwordIsNew","passwordIsNewError","SAME_PASSWORD","matchingPasswordsError","changePasswordOnSuccess","markAsUntouched","onFormSumbit","changePasswordOnError","errorTitle","onSubmit","old","new","changePassword","userRegex","PermissionsComponent","GlobalShortcutsSectionComponent","_component","_actions","onActionExecuted","GlobalShortcutsComponent","shortcutsService","components$","boundComponents","_boundComponents","timeOut","hotkeyTick","showShortcutsPanel","clearTimeout","shortcutsVisible","hideShortcutsPanel","focusPrevious","focusNext","focusIn","visibleActions","focusedIndex","targetIndex","focusComponent","fromCharCode","toLocaleLowerCase","charCodeAt","ShortcutsDirective","shortcuts","shortcutComponent","_shortcutCmp","bindComponent","unbindComponent","ShortcutsService","boundComponentsSource","cmp","DynamicPropertySwitchComponent","parentFormControl","_dynamic","toggleValue","onPropertyChanged","StoredQueriesService","StoredQueryDetailsComponent","fetchRoles","editingShare","resetEditForm","isNew","restrictions","getRestrictions","rolesPicker","enableSharing","createEditForm","toggleShareEdit","cancelShare","toggleFavoriteState","cancelEdit","setQueryToAppSearch","storedQueryForm","BASE_PARAMS_FIELDS","FORM_INPUT_TITLE","FORM_INPUT_FULLTEXT","updatedStoredQuery","parameterChanged","formFieldToParameter","properties","fe","FULLTEXT","fulltextFormControl","contextControls","onFormChanges","setupFormControls","fcTitle","fcFulltext","toFormControl","getFulltextFormElement","getFormElementsFromFormModel","systemRoles","getRoles","role","FILENAME","getOrganizationObjects","orgUsers","getTableFilters","getFilter","favor","trackByQName","StoredQueryComponent","_storedQuery","createQueryForm","formOnly","_formOnly","queryFormControls","paramQNames","fulltextParam","getFormElements","paramElements","paramElement","queryForm","elementFetchTasks","onQueryLoaded","onQueryExecute","TreeNodeComponent","onNodeSelected","onNodeExpandedChanged","TreeComponent","_highlightedNodes","visibleNodes","highlighted","treeInput","_expandedNodes","treeUpdate","onToggle","focusNode","toggleExpanded","selectionKey","onSelected","disableDeselection","onNodeExpanded","collectVisibleNodes","expandedNodesChanged","updateTreeNode","parents","collectVisibleChildren","flat","shift","nextIdx","idx","STATE","LOADING","READY","ERROR","_set","_state","observable","ready","ClipboardComponent","notificationService","getClipboardContent","iconSrc","iconTitle","checkAllowedActions","removeAll","clipboardItem","filtered","overlayShow","move","copy","pasteAsContentlink","triggerUpdate","elementsToMove","allTypesAllowed","createContentLink","isContentlink","contentAvailableForAllItems","isCopy","isCut","cutAction","baseCondition","isPasteAllowed","isPasteAsContentlinkAllowed","CdkPortalOutlet","TemplatePortal","visibleChange","toggleActive","onKeydownHandler","closeDialog","onMousedown","targetElement","_lastFocused","activeElement","parentId","overlayRef","hasBackdrop","scrollStrategy","scrollStrategies","reposition","positionStrategy","getPositionStrategy","minHeight","portal","dialogContent","attach","backdropClick","align","global","centerHorizontally","centerVertically","left","top","dispose","dirtyCheck","onTogglePreview","EoIconComponent","getIconBase","svg","badge","_renderer","svgElement","svgElementFromString","SVGElement","ErrorMessageComponent","es","iconUri","IndexdataSummaryEntryComponent","diffActive","showDiff","removed","val2","onValueClicked","IndexdataSummaryComponent","indexdata","_indexData","coreValues","processIndexData","dataValues","storageInfos","getStorageInfos","storageAccordion","indexdata2","diffValue","coreValues2","dataValues2","moreInfoAcc","collect","collection","IndexdataSummaryComponent_1","onValueClick","getVersionLink","onMoreInfoToggle","onStorageInfoToggle","dataInfoAcc","isUserAllowedToShowStorageSection","LoadingSpinnerComponent","OutsideClickDirective","_elementRef","keyboardInput","defaultPrevented","onOutsideEvent","overlayContainer","hasChildNodes","OverlayComponent","elRef","hostEl","onActiveChanged","dialogIsOpen","QueryScope","QueryScopeSelectComponent","selectedQueryScope","_selectedQueryScope","selectQueryScope","RouterLinkDirective","hostElement","RtlAwareDirective","setDir","setClass","eoRtlAware","SignatureTabComponent","BrowserAnimationsModule","OverlayModule","A11yModule","TrapFocusDirective","refreshUserImage","defImg","isOverlayActive","UploadFileItem","uploadTargets$","uploadTargets","pasteListener","listen","onPaste","dragEnterListener","onDragEnter","isUploading","hasValidUploadTargets","invalidInput","fileOver","pasteContainsFiles","transfer","clipboardData","kind","webkitGetAsEntry","isDirectory","_preventAndStop","setFileOver","onFilesDropped","dragContainsFiles","dragEventCount","overlayEl","dragLeaveListener","dropListener","_getTransfer","dragOverListener","dropEffect","dataTransfer","originalEvent","fileItems","queue","escKeyListener","keyCode","setQueueSize","validateUploadTargets","validateUploadTarget","validUploadTargets","removeFileItem","fileItem","proceedWithUpload","CUSTOM","selectedUploadTarget","startUpload","getStateRoute","proceedWithSelectedTarget","useBatchUpload","resetSelectedUploadTarget","successfulUpload","unbindListeners","uploadToTarget","onUploadFail","queueSize","setOverlayActive","targetTrackByFn","throttleTime","clicks","debounceClick","clickEvent","onkeyDown","trapFocus","focusableElements","focusableSelectors","firstFocusableElement","lastFocusableElement","isTabPressed","isEdge","navigator","userAgent","OrderByPipe","isDesc","isInside","production","enableProdMode","detectIE","ua","msie","trident","rv","__NgCli_bootstrap_1","bootstrapModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[395]}